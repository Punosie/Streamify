function MQ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function TA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var y1={exports:{}},Rp={},C1={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sO;function kQ(){if(sO)return vt;sO=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator;function h(H){return H===null||typeof H!="object"?null:(H=d&&H[d]||H["@@iterator"],typeof H=="function"?H:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(H,U,ne){this.props=H,this.context=U,this.refs=m,this.updater=ne||f}y.prototype.isReactComponent={},y.prototype.setState=function(H,U){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,U,"setState")},y.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=y.prototype;function w(H,U,ne){this.props=H,this.context=U,this.refs=m,this.updater=ne||f}var S=w.prototype=new C;S.constructor=w,g(S,y.prototype),S.isPureReactComponent=!0;var x=Array.isArray,R=Object.prototype.hasOwnProperty,T={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function D(H,U,ne){var oe,he={},xe=null,Be=null;if(U!=null)for(oe in U.ref!==void 0&&(Be=U.ref),U.key!==void 0&&(xe=""+U.key),U)R.call(U,oe)&&!P.hasOwnProperty(oe)&&(he[oe]=U[oe]);var ee=arguments.length-2;if(ee===1)he.children=ne;else if(1<ee){for(var Z=Array(ee),fe=0;fe<ee;fe++)Z[fe]=arguments[fe+2];he.children=Z}if(H&&H.defaultProps)for(oe in ee=H.defaultProps,ee)he[oe]===void 0&&(he[oe]=ee[oe]);return{$$typeof:e,type:H,key:xe,ref:Be,props:he,_owner:T.current}}function I(H,U){return{$$typeof:e,type:H.type,key:U,ref:H.ref,props:H.props,_owner:H._owner}}function E(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function k(H){var U={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ne){return U[ne]})}var L=/\/+/g;function N(H,U){return typeof H=="object"&&H!==null&&H.key!=null?k(""+H.key):U.toString(36)}function B(H,U,ne,oe,he){var xe=typeof H;(xe==="undefined"||xe==="boolean")&&(H=null);var Be=!1;if(H===null)Be=!0;else switch(xe){case"string":case"number":Be=!0;break;case"object":switch(H.$$typeof){case e:case t:Be=!0}}if(Be)return Be=H,he=he(Be),H=oe===""?"."+N(Be,0):oe,x(he)?(ne="",H!=null&&(ne=H.replace(L,"$&/")+"/"),B(he,U,ne,"",function(fe){return fe})):he!=null&&(E(he)&&(he=I(he,ne+(!he.key||Be&&Be.key===he.key?"":(""+he.key).replace(L,"$&/")+"/")+H)),U.push(he)),1;if(Be=0,oe=oe===""?".":oe+":",x(H))for(var ee=0;ee<H.length;ee++){xe=H[ee];var Z=oe+N(xe,ee);Be+=B(xe,U,ne,Z,he)}else if(Z=h(H),typeof Z=="function")for(H=Z.call(H),ee=0;!(xe=H.next()).done;)xe=xe.value,Z=oe+N(xe,ee++),Be+=B(xe,U,ne,Z,he);else if(xe==="object")throw U=String(H),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Be}function V(H,U,ne){if(H==null)return H;var oe=[],he=0;return B(H,oe,"","",function(xe){return U.call(ne,xe,he++)}),oe}function W(H){if(H._status===-1){var U=H._result;U=U(),U.then(function(ne){(H._status===0||H._status===-1)&&(H._status=1,H._result=ne)},function(ne){(H._status===0||H._status===-1)&&(H._status=2,H._result=ne)}),H._status===-1&&(H._status=0,H._result=U)}if(H._status===1)return H._result.default;throw H._result}var j={current:null},G={transition:null},$={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:G,ReactCurrentOwner:T};function K(){throw Error("act(...) is not supported in production builds of React.")}return vt.Children={map:V,forEach:function(H,U,ne){V(H,function(){U.apply(this,arguments)},ne)},count:function(H){var U=0;return V(H,function(){U++}),U},toArray:function(H){return V(H,function(U){return U})||[]},only:function(H){if(!E(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},vt.Component=y,vt.Fragment=r,vt.Profiler=i,vt.PureComponent=w,vt.StrictMode=n,vt.Suspense=l,vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,vt.act=K,vt.cloneElement=function(H,U,ne){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var oe=g({},H.props),he=H.key,xe=H.ref,Be=H._owner;if(U!=null){if(U.ref!==void 0&&(xe=U.ref,Be=T.current),U.key!==void 0&&(he=""+U.key),H.type&&H.type.defaultProps)var ee=H.type.defaultProps;for(Z in U)R.call(U,Z)&&!P.hasOwnProperty(Z)&&(oe[Z]=U[Z]===void 0&&ee!==void 0?ee[Z]:U[Z])}var Z=arguments.length-2;if(Z===1)oe.children=ne;else if(1<Z){ee=Array(Z);for(var fe=0;fe<Z;fe++)ee[fe]=arguments[fe+2];oe.children=ee}return{$$typeof:e,type:H.type,key:he,ref:xe,props:oe,_owner:Be}},vt.createContext=function(H){return H={$$typeof:a,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},vt.createElement=D,vt.createFactory=function(H){var U=D.bind(null,H);return U.type=H,U},vt.createRef=function(){return{current:null}},vt.forwardRef=function(H){return{$$typeof:s,render:H}},vt.isValidElement=E,vt.lazy=function(H){return{$$typeof:c,_payload:{_status:-1,_result:H},_init:W}},vt.memo=function(H,U){return{$$typeof:u,type:H,compare:U===void 0?null:U}},vt.startTransition=function(H){var U=G.transition;G.transition={};try{H()}finally{G.transition=U}},vt.unstable_act=K,vt.useCallback=function(H,U){return j.current.useCallback(H,U)},vt.useContext=function(H){return j.current.useContext(H)},vt.useDebugValue=function(){},vt.useDeferredValue=function(H){return j.current.useDeferredValue(H)},vt.useEffect=function(H,U){return j.current.useEffect(H,U)},vt.useId=function(){return j.current.useId()},vt.useImperativeHandle=function(H,U,ne){return j.current.useImperativeHandle(H,U,ne)},vt.useInsertionEffect=function(H,U){return j.current.useInsertionEffect(H,U)},vt.useLayoutEffect=function(H,U){return j.current.useLayoutEffect(H,U)},vt.useMemo=function(H,U){return j.current.useMemo(H,U)},vt.useReducer=function(H,U,ne){return j.current.useReducer(H,U,ne)},vt.useRef=function(H){return j.current.useRef(H)},vt.useState=function(H){return j.current.useState(H)},vt.useSyncExternalStore=function(H,U,ne){return j.current.useSyncExternalStore(H,U,ne)},vt.useTransition=function(){return j.current.useTransition()},vt.version="18.3.1",vt}var lO;function PA(){return lO||(lO=1,C1.exports=kQ()),C1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uO;function FQ(){if(uO)return Rp;uO=1;var e=PA(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(s,l,u){var c,d={},h=null,f=null;u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(f=l.ref);for(c in l)n.call(l,c)&&!o.hasOwnProperty(c)&&(d[c]=l[c]);if(s&&s.defaultProps)for(c in l=s.defaultProps,l)d[c]===void 0&&(d[c]=l[c]);return{$$typeof:t,type:s,key:h,ref:f,props:d,_owner:i.current}}return Rp.Fragment=r,Rp.jsx=a,Rp.jsxs=a,Rp}var cO;function LQ(){return cO||(cO=1,y1.exports=FQ()),y1.exports}var J=LQ(),O=PA();const ge=TA(O),dO=MQ({__proto__:null,default:ge},[O]);var By={},w1={exports:{}},jn={},b1={exports:{}},S1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hO;function OQ(){return hO||(hO=1,function(e){function t(G,$){var K=G.length;G.push($);e:for(;0<K;){var H=K-1>>>1,U=G[H];if(0<i(U,$))G[H]=$,G[K]=U,K=H;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var $=G[0],K=G.pop();if(K!==$){G[0]=K;e:for(var H=0,U=G.length,ne=U>>>1;H<ne;){var oe=2*(H+1)-1,he=G[oe],xe=oe+1,Be=G[xe];if(0>i(he,K))xe<U&&0>i(Be,he)?(G[H]=Be,G[xe]=K,H=xe):(G[H]=he,G[oe]=K,H=oe);else if(xe<U&&0>i(Be,K))G[H]=Be,G[xe]=K,H=xe;else break e}}return $}function i(G,$){var K=G.sortIndex-$.sortIndex;return K!==0?K:G.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,f=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(G){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=G)n(u),$.sortIndex=$.expirationTime,t(l,$);else break;$=r(u)}}function x(G){if(m=!1,S(G),!g)if(r(l)!==null)g=!0,W(R);else{var $=r(u);$!==null&&j(x,$.startTime-G)}}function R(G,$){g=!1,m&&(m=!1,C(D),D=-1),f=!0;var K=h;try{for(S($),d=r(l);d!==null&&(!(d.expirationTime>$)||G&&!k());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var U=H(d.expirationTime<=$);$=e.unstable_now(),typeof U=="function"?d.callback=U:d===r(l)&&n(l),S($)}else n(l);d=r(l)}if(d!==null)var ne=!0;else{var oe=r(u);oe!==null&&j(x,oe.startTime-$),ne=!1}return ne}finally{d=null,h=K,f=!1}}var T=!1,P=null,D=-1,I=5,E=-1;function k(){return!(e.unstable_now()-E<I)}function L(){if(P!==null){var G=e.unstable_now();E=G;var $=!0;try{$=P(!0,G)}finally{$?N():(T=!1,P=null)}}else T=!1}var N;if(typeof w=="function")N=function(){w(L)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,V=B.port2;B.port1.onmessage=L,N=function(){V.postMessage(null)}}else N=function(){y(L,0)};function W(G){P=G,T||(T=!0,N())}function j(G,$){D=y(function(){G(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,W(R))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var K=h;h=$;try{return G()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var K=h;h=G;try{return $()}finally{h=K}},e.unstable_scheduleCallback=function(G,$,K){var H=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?H+K:H):K=H,G){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=K+U,G={id:c++,callback:$,priorityLevel:G,startTime:K,expirationTime:U,sortIndex:-1},K>H?(G.sortIndex=K,t(u,G),r(l)===null&&G===r(u)&&(m?(C(D),D=-1):m=!0,j(x,K-H))):(G.sortIndex=U,t(l,G),g||f||(g=!0,W(R))),G},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(G){var $=h;return function(){var K=h;h=$;try{return G.apply(this,arguments)}finally{h=K}}}}(S1)),S1}var fO;function NQ(){return fO||(fO=1,b1.exports=OQ()),b1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pO;function zQ(){if(pO)return jn;pO=1;var e=PA(),t=NQ();function r(p){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+p,b=1;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(p,v){a(p,v),a(p+"Capture",v)}function a(p,v){for(i[p]=v,p=0;p<v.length;p++)n.add(v[p])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},d={};function h(p){return l.call(d,p)?!0:l.call(c,p)?!1:u.test(p)?d[p]=!0:(c[p]=!0,!1)}function f(p,v,b,_){if(b!==null&&b.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return _?!1:b!==null?!b.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function g(p,v,b,_){if(v===null||typeof v>"u"||f(p,v,b,_))return!0;if(_)return!1;if(b!==null)switch(b.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function m(p,v,b,_,A,M,z){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=_,this.attributeNamespace=A,this.mustUseProperty=b,this.propertyName=p,this.type=v,this.sanitizeURL=M,this.removeEmptyString=z}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){y[p]=new m(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var v=p[0];y[v]=new m(v,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){y[p]=new m(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){y[p]=new m(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){y[p]=new m(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){y[p]=new m(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){y[p]=new m(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){y[p]=new m(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){y[p]=new m(p,5,!1,p.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function w(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var v=p.replace(C,w);y[v]=new m(v,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var v=p.replace(C,w);y[v]=new m(v,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var v=p.replace(C,w);y[v]=new m(v,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){y[p]=new m(p,1,!1,p.toLowerCase(),null,!1,!1)}),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){y[p]=new m(p,1,!1,p.toLowerCase(),null,!0,!0)});function S(p,v,b,_){var A=y.hasOwnProperty(v)?y[v]:null;(A!==null?A.type!==0:_||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(g(v,b,A,_)&&(b=null),_||A===null?h(v)&&(b===null?p.removeAttribute(v):p.setAttribute(v,""+b)):A.mustUseProperty?p[A.propertyName]=b===null?A.type===3?!1:"":b:(v=A.attributeName,_=A.attributeNamespace,b===null?p.removeAttribute(v):(A=A.type,b=A===3||A===4&&b===!0?"":""+b,_?p.setAttributeNS(_,v,b):p.setAttribute(v,b))))}var x=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),T=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),G=Symbol.iterator;function $(p){return p===null||typeof p!="object"?null:(p=G&&p[G]||p["@@iterator"],typeof p=="function"?p:null)}var K=Object.assign,H;function U(p){if(H===void 0)try{throw Error()}catch(b){var v=b.stack.trim().match(/\n( *(at )?)/);H=v&&v[1]||""}return`
`+H+p}var ne=!1;function oe(p,v){if(!p||ne)return"";ne=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(ae){var _=ae}Reflect.construct(p,[],v)}else{try{v.call()}catch(ae){_=ae}p.call(v.prototype)}else{try{throw Error()}catch(ae){_=ae}p()}}catch(ae){if(ae&&_&&typeof ae.stack=="string"){for(var A=ae.stack.split(`
`),M=_.stack.split(`
`),z=A.length-1,Y=M.length-1;1<=z&&0<=Y&&A[z]!==M[Y];)Y--;for(;1<=z&&0<=Y;z--,Y--)if(A[z]!==M[Y]){if(z!==1||Y!==1)do if(z--,Y--,0>Y||A[z]!==M[Y]){var X=`
`+A[z].replace(" at new "," at ");return p.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",p.displayName)),X}while(1<=z&&0<=Y);break}}}finally{ne=!1,Error.prepareStackTrace=b}return(p=p?p.displayName||p.name:"")?U(p):""}function he(p){switch(p.tag){case 5:return U(p.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return p=oe(p.type,!1),p;case 11:return p=oe(p.type.render,!1),p;case 1:return p=oe(p.type,!0),p;default:return""}}function xe(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case P:return"Fragment";case T:return"Portal";case I:return"Profiler";case D:return"StrictMode";case N:return"Suspense";case B:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case k:return(p.displayName||"Context")+".Consumer";case E:return(p._context.displayName||"Context")+".Provider";case L:var v=p.render;return p=p.displayName,p||(p=v.displayName||v.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case V:return v=p.displayName||null,v!==null?v:xe(p.type)||"Memo";case W:v=p._payload,p=p._init;try{return xe(p(v))}catch{}}return null}function Be(p){var v=p.type;switch(p.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=v.render,p=p.displayName||p.name||"",v.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(v);case 8:return v===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function ee(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function Z(p){var v=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function fe(p){var v=Z(p)?"checked":"value",b=Object.getOwnPropertyDescriptor(p.constructor.prototype,v),_=""+p[v];if(!p.hasOwnProperty(v)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var A=b.get,M=b.set;return Object.defineProperty(p,v,{configurable:!0,get:function(){return A.call(this)},set:function(z){_=""+z,M.call(this,z)}}),Object.defineProperty(p,v,{enumerable:b.enumerable}),{getValue:function(){return _},setValue:function(z){_=""+z},stopTracking:function(){p._valueTracker=null,delete p[v]}}}}function de(p){p._valueTracker||(p._valueTracker=fe(p))}function pe(p){if(!p)return!1;var v=p._valueTracker;if(!v)return!0;var b=v.getValue(),_="";return p&&(_=Z(p)?p.checked?"true":"false":p.value),p=_,p!==b?(v.setValue(p),!0):!1}function Ae(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function Oe(p,v){var b=v.checked;return K({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??p._wrapperState.initialChecked})}function Ge(p,v){var b=v.defaultValue==null?"":v.defaultValue,_=v.checked!=null?v.checked:v.defaultChecked;b=ee(v.value!=null?v.value:b),p._wrapperState={initialChecked:_,initialValue:b,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function st(p,v){v=v.checked,v!=null&&S(p,"checked",v,!1)}function Ft(p,v){st(p,v);var b=ee(v.value),_=v.type;if(b!=null)_==="number"?(b===0&&p.value===""||p.value!=b)&&(p.value=""+b):p.value!==""+b&&(p.value=""+b);else if(_==="submit"||_==="reset"){p.removeAttribute("value");return}v.hasOwnProperty("value")?sr(p,v.type,b):v.hasOwnProperty("defaultValue")&&sr(p,v.type,ee(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(p.defaultChecked=!!v.defaultChecked)}function fr(p,v,b){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var _=v.type;if(!(_!=="submit"&&_!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+p._wrapperState.initialValue,b||v===p.value||(p.value=v),p.defaultValue=v}b=p.name,b!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,b!==""&&(p.name=b)}function sr(p,v,b){(v!=="number"||Ae(p.ownerDocument)!==p)&&(b==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+b&&(p.defaultValue=""+b))}var lr=Array.isArray;function Lt(p,v,b,_){if(p=p.options,v){v={};for(var A=0;A<b.length;A++)v["$"+b[A]]=!0;for(b=0;b<p.length;b++)A=v.hasOwnProperty("$"+p[b].value),p[b].selected!==A&&(p[b].selected=A),A&&_&&(p[b].defaultSelected=!0)}else{for(b=""+ee(b),v=null,A=0;A<p.length;A++){if(p[A].value===b){p[A].selected=!0,_&&(p[A].defaultSelected=!0);return}v!==null||p[A].disabled||(v=p[A])}v!==null&&(v.selected=!0)}}function Vn(p,v){if(v.dangerouslySetInnerHTML!=null)throw Error(r(91));return K({},v,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function li(p,v){var b=v.value;if(b==null){if(b=v.children,v=v.defaultValue,b!=null){if(v!=null)throw Error(r(92));if(lr(b)){if(1<b.length)throw Error(r(93));b=b[0]}v=b}v==null&&(v=""),b=v}p._wrapperState={initialValue:ee(b)}}function Ti(p,v){var b=ee(v.value),_=ee(v.defaultValue);b!=null&&(b=""+b,b!==p.value&&(p.value=b),v.defaultValue==null&&p.defaultValue!==b&&(p.defaultValue=b)),_!=null&&(p.defaultValue=""+_)}function Vf(p){var v=p.textContent;v===p._wrapperState.initialValue&&v!==""&&v!==null&&(p.value=v)}function Em(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function id(p,v){return p==null||p==="http://www.w3.org/1999/xhtml"?Em(v):p==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var Bt,tn=function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,b,_,A){MSApp.execUnsafeLocalFunction(function(){return p(v,b,_,A)})}:p}(function(p,v){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=v;else{for(Bt=Bt||document.createElement("div"),Bt.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=Bt.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;v.firstChild;)p.appendChild(v.firstChild)}});function iu(p,v){if(v){var b=p.firstChild;if(b&&b===p.lastChild&&b.nodeType===3){b.nodeValue=v;return}}p.textContent=v}var Gf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oq=["Webkit","ms","Moz","O"];Object.keys(Gf).forEach(function(p){Oq.forEach(function(v){v=v+p.charAt(0).toUpperCase()+p.substring(1),Gf[v]=Gf[p]})});function Sk(p,v,b){return v==null||typeof v=="boolean"||v===""?"":b||typeof v!="number"||v===0||Gf.hasOwnProperty(p)&&Gf[p]?(""+v).trim():v+"px"}function xk(p,v){p=p.style;for(var b in v)if(v.hasOwnProperty(b)){var _=b.indexOf("--")===0,A=Sk(b,v[b],_);b==="float"&&(b="cssFloat"),_?p.setProperty(b,A):p[b]=A}}var Nq=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function AS(p,v){if(v){if(Nq[p]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(r(137,p));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(r(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(r(61))}if(v.style!=null&&typeof v.style!="object")throw Error(r(62))}}function IS(p,v){if(p.indexOf("-")===-1)return typeof v.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ES=null;function MS(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var kS=null,od=null,ad=null;function Rk(p){if(p=up(p)){if(typeof kS!="function")throw Error(r(280));var v=p.stateNode;v&&(v=ey(v),kS(p.stateNode,p.type,v))}}function _k(p){od?ad?ad.push(p):ad=[p]:od=p}function Tk(){if(od){var p=od,v=ad;if(ad=od=null,Rk(p),v)for(p=0;p<v.length;p++)Rk(v[p])}}function Pk(p,v){return p(v)}function Dk(){}var FS=!1;function Ak(p,v,b){if(FS)return p(v,b);FS=!0;try{return Pk(p,v,b)}finally{FS=!1,(od!==null||ad!==null)&&(Dk(),Tk())}}function Hf(p,v){var b=p.stateNode;if(b===null)return null;var _=ey(b);if(_===null)return null;b=_[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(p=p.type,_=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!_;break e;default:p=!1}if(p)return null;if(b&&typeof b!="function")throw Error(r(231,v,typeof b));return b}var LS=!1;if(s)try{var Wf={};Object.defineProperty(Wf,"passive",{get:function(){LS=!0}}),window.addEventListener("test",Wf,Wf),window.removeEventListener("test",Wf,Wf)}catch{LS=!1}function zq(p,v,b,_,A,M,z,Y,X){var ae=Array.prototype.slice.call(arguments,3);try{v.apply(b,ae)}catch(ye){this.onError(ye)}}var $f=!1,Mm=null,km=!1,OS=null,Bq={onError:function(p){$f=!0,Mm=p}};function Vq(p,v,b,_,A,M,z,Y,X){$f=!1,Mm=null,zq.apply(Bq,arguments)}function Gq(p,v,b,_,A,M,z,Y,X){if(Vq.apply(this,arguments),$f){if($f){var ae=Mm;$f=!1,Mm=null}else throw Error(r(198));km||(km=!0,OS=ae)}}function ou(p){var v=p,b=p;if(p.alternate)for(;v.return;)v=v.return;else{p=v;do v=p,v.flags&4098&&(b=v.return),p=v.return;while(p)}return v.tag===3?b:null}function Ik(p){if(p.tag===13){var v=p.memoizedState;if(v===null&&(p=p.alternate,p!==null&&(v=p.memoizedState)),v!==null)return v.dehydrated}return null}function Ek(p){if(ou(p)!==p)throw Error(r(188))}function Hq(p){var v=p.alternate;if(!v){if(v=ou(p),v===null)throw Error(r(188));return v!==p?null:p}for(var b=p,_=v;;){var A=b.return;if(A===null)break;var M=A.alternate;if(M===null){if(_=A.return,_!==null){b=_;continue}break}if(A.child===M.child){for(M=A.child;M;){if(M===b)return Ek(A),p;if(M===_)return Ek(A),v;M=M.sibling}throw Error(r(188))}if(b.return!==_.return)b=A,_=M;else{for(var z=!1,Y=A.child;Y;){if(Y===b){z=!0,b=A,_=M;break}if(Y===_){z=!0,_=A,b=M;break}Y=Y.sibling}if(!z){for(Y=M.child;Y;){if(Y===b){z=!0,b=M,_=A;break}if(Y===_){z=!0,_=M,b=A;break}Y=Y.sibling}if(!z)throw Error(r(189))}}if(b.alternate!==_)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?p:v}function Mk(p){return p=Hq(p),p!==null?kk(p):null}function kk(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var v=kk(p);if(v!==null)return v;p=p.sibling}return null}var Fk=t.unstable_scheduleCallback,Lk=t.unstable_cancelCallback,Wq=t.unstable_shouldYield,$q=t.unstable_requestPaint,pr=t.unstable_now,Uq=t.unstable_getCurrentPriorityLevel,NS=t.unstable_ImmediatePriority,Ok=t.unstable_UserBlockingPriority,Fm=t.unstable_NormalPriority,jq=t.unstable_LowPriority,Nk=t.unstable_IdlePriority,Lm=null,$o=null;function Yq(p){if($o&&typeof $o.onCommitFiberRoot=="function")try{$o.onCommitFiberRoot(Lm,p,void 0,(p.current.flags&128)===128)}catch{}}var co=Math.clz32?Math.clz32:qq,Kq=Math.log,Xq=Math.LN2;function qq(p){return p>>>=0,p===0?32:31-(Kq(p)/Xq|0)|0}var Om=64,Nm=4194304;function Uf(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function zm(p,v){var b=p.pendingLanes;if(b===0)return 0;var _=0,A=p.suspendedLanes,M=p.pingedLanes,z=b&268435455;if(z!==0){var Y=z&~A;Y!==0?_=Uf(Y):(M&=z,M!==0&&(_=Uf(M)))}else z=b&~A,z!==0?_=Uf(z):M!==0&&(_=Uf(M));if(_===0)return 0;if(v!==0&&v!==_&&!(v&A)&&(A=_&-_,M=v&-v,A>=M||A===16&&(M&4194240)!==0))return v;if(_&4&&(_|=b&16),v=p.entangledLanes,v!==0)for(p=p.entanglements,v&=_;0<v;)b=31-co(v),A=1<<b,_|=p[b],v&=~A;return _}function Zq(p,v){switch(p){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qq(p,v){for(var b=p.suspendedLanes,_=p.pingedLanes,A=p.expirationTimes,M=p.pendingLanes;0<M;){var z=31-co(M),Y=1<<z,X=A[z];X===-1?(!(Y&b)||Y&_)&&(A[z]=Zq(Y,v)):X<=v&&(p.expiredLanes|=Y),M&=~Y}}function zS(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function zk(){var p=Om;return Om<<=1,!(Om&4194240)&&(Om=64),p}function BS(p){for(var v=[],b=0;31>b;b++)v.push(p);return v}function jf(p,v,b){p.pendingLanes|=v,v!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,v=31-co(v),p[v]=b}function Jq(p,v){var b=p.pendingLanes&~v;p.pendingLanes=v,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=v,p.mutableReadLanes&=v,p.entangledLanes&=v,v=p.entanglements;var _=p.eventTimes;for(p=p.expirationTimes;0<b;){var A=31-co(b),M=1<<A;v[A]=0,_[A]=-1,p[A]=-1,b&=~M}}function VS(p,v){var b=p.entangledLanes|=v;for(p=p.entanglements;b;){var _=31-co(b),A=1<<_;A&v|p[_]&v&&(p[_]|=v),b&=~A}}var Ot=0;function Bk(p){return p&=-p,1<p?4<p?p&268435455?16:536870912:4:1}var Vk,GS,Gk,Hk,Wk,HS=!1,Bm=[],Ns=null,zs=null,Bs=null,Yf=new Map,Kf=new Map,Vs=[],eZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $k(p,v){switch(p){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Yf.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kf.delete(v.pointerId)}}function Xf(p,v,b,_,A,M){return p===null||p.nativeEvent!==M?(p={blockedOn:v,domEventName:b,eventSystemFlags:_,nativeEvent:M,targetContainers:[A]},v!==null&&(v=up(v),v!==null&&GS(v)),p):(p.eventSystemFlags|=_,v=p.targetContainers,A!==null&&v.indexOf(A)===-1&&v.push(A),p)}function tZ(p,v,b,_,A){switch(v){case"focusin":return Ns=Xf(Ns,p,v,b,_,A),!0;case"dragenter":return zs=Xf(zs,p,v,b,_,A),!0;case"mouseover":return Bs=Xf(Bs,p,v,b,_,A),!0;case"pointerover":var M=A.pointerId;return Yf.set(M,Xf(Yf.get(M)||null,p,v,b,_,A)),!0;case"gotpointercapture":return M=A.pointerId,Kf.set(M,Xf(Kf.get(M)||null,p,v,b,_,A)),!0}return!1}function Uk(p){var v=au(p.target);if(v!==null){var b=ou(v);if(b!==null){if(v=b.tag,v===13){if(v=Ik(b),v!==null){p.blockedOn=v,Wk(p.priority,function(){Gk(b)});return}}else if(v===3&&b.stateNode.current.memoizedState.isDehydrated){p.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}p.blockedOn=null}function Vm(p){if(p.blockedOn!==null)return!1;for(var v=p.targetContainers;0<v.length;){var b=$S(p.domEventName,p.eventSystemFlags,v[0],p.nativeEvent);if(b===null){b=p.nativeEvent;var _=new b.constructor(b.type,b);ES=_,b.target.dispatchEvent(_),ES=null}else return v=up(b),v!==null&&GS(v),p.blockedOn=b,!1;v.shift()}return!0}function jk(p,v,b){Vm(p)&&b.delete(v)}function rZ(){HS=!1,Ns!==null&&Vm(Ns)&&(Ns=null),zs!==null&&Vm(zs)&&(zs=null),Bs!==null&&Vm(Bs)&&(Bs=null),Yf.forEach(jk),Kf.forEach(jk)}function qf(p,v){p.blockedOn===v&&(p.blockedOn=null,HS||(HS=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rZ)))}function Zf(p){function v(A){return qf(A,p)}if(0<Bm.length){qf(Bm[0],p);for(var b=1;b<Bm.length;b++){var _=Bm[b];_.blockedOn===p&&(_.blockedOn=null)}}for(Ns!==null&&qf(Ns,p),zs!==null&&qf(zs,p),Bs!==null&&qf(Bs,p),Yf.forEach(v),Kf.forEach(v),b=0;b<Vs.length;b++)_=Vs[b],_.blockedOn===p&&(_.blockedOn=null);for(;0<Vs.length&&(b=Vs[0],b.blockedOn===null);)Uk(b),b.blockedOn===null&&Vs.shift()}var sd=x.ReactCurrentBatchConfig,Gm=!0;function nZ(p,v,b,_){var A=Ot,M=sd.transition;sd.transition=null;try{Ot=1,WS(p,v,b,_)}finally{Ot=A,sd.transition=M}}function iZ(p,v,b,_){var A=Ot,M=sd.transition;sd.transition=null;try{Ot=4,WS(p,v,b,_)}finally{Ot=A,sd.transition=M}}function WS(p,v,b,_){if(Gm){var A=$S(p,v,b,_);if(A===null)sx(p,v,_,Hm,b),$k(p,_);else if(tZ(A,p,v,b,_))_.stopPropagation();else if($k(p,_),v&4&&-1<eZ.indexOf(p)){for(;A!==null;){var M=up(A);if(M!==null&&Vk(M),M=$S(p,v,b,_),M===null&&sx(p,v,_,Hm,b),M===A)break;A=M}A!==null&&_.stopPropagation()}else sx(p,v,_,null,b)}}var Hm=null;function $S(p,v,b,_){if(Hm=null,p=MS(_),p=au(p),p!==null)if(v=ou(p),v===null)p=null;else if(b=v.tag,b===13){if(p=Ik(v),p!==null)return p;p=null}else if(b===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;p=null}else v!==p&&(p=null);return Hm=p,null}function Yk(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uq()){case NS:return 1;case Ok:return 4;case Fm:case jq:return 16;case Nk:return 536870912;default:return 16}default:return 16}}var Gs=null,US=null,Wm=null;function Kk(){if(Wm)return Wm;var p,v=US,b=v.length,_,A="value"in Gs?Gs.value:Gs.textContent,M=A.length;for(p=0;p<b&&v[p]===A[p];p++);var z=b-p;for(_=1;_<=z&&v[b-_]===A[M-_];_++);return Wm=A.slice(p,1<_?1-_:void 0)}function $m(p){var v=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&v===13&&(p=13)):p=v,p===10&&(p=13),32<=p||p===13?p:0}function Um(){return!0}function Xk(){return!1}function ui(p){function v(b,_,A,M,z){this._reactName=b,this._targetInst=A,this.type=_,this.nativeEvent=M,this.target=z,this.currentTarget=null;for(var Y in p)p.hasOwnProperty(Y)&&(b=p[Y],this[Y]=b?b(M):M[Y]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Um:Xk,this.isPropagationStopped=Xk,this}return K(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=Um)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=Um)},persist:function(){},isPersistent:Um}),v}var ld={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jS=ui(ld),Qf=K({},ld,{view:0,detail:0}),oZ=ui(Qf),YS,KS,Jf,jm=K({},Qf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qS,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==Jf&&(Jf&&p.type==="mousemove"?(YS=p.screenX-Jf.screenX,KS=p.screenY-Jf.screenY):KS=YS=0,Jf=p),YS)},movementY:function(p){return"movementY"in p?p.movementY:KS}}),qk=ui(jm),aZ=K({},jm,{dataTransfer:0}),sZ=ui(aZ),lZ=K({},Qf,{relatedTarget:0}),XS=ui(lZ),uZ=K({},ld,{animationName:0,elapsedTime:0,pseudoElement:0}),cZ=ui(uZ),dZ=K({},ld,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),hZ=ui(dZ),fZ=K({},ld,{data:0}),Zk=ui(fZ),pZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mZ(p){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(p):(p=vZ[p])?!!v[p]:!1}function qS(){return mZ}var yZ=K({},Qf,{key:function(p){if(p.key){var v=pZ[p.key]||p.key;if(v!=="Unidentified")return v}return p.type==="keypress"?(p=$m(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?gZ[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qS,charCode:function(p){return p.type==="keypress"?$m(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?$m(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),CZ=ui(yZ),wZ=K({},jm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qk=ui(wZ),bZ=K({},Qf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qS}),SZ=ui(bZ),xZ=K({},ld,{propertyName:0,elapsedTime:0,pseudoElement:0}),RZ=ui(xZ),_Z=K({},jm,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),TZ=ui(_Z),PZ=[9,13,27,32],ZS=s&&"CompositionEvent"in window,ep=null;s&&"documentMode"in document&&(ep=document.documentMode);var DZ=s&&"TextEvent"in window&&!ep,Jk=s&&(!ZS||ep&&8<ep&&11>=ep),eF=" ",tF=!1;function rF(p,v){switch(p){case"keyup":return PZ.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nF(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var ud=!1;function AZ(p,v){switch(p){case"compositionend":return nF(v);case"keypress":return v.which!==32?null:(tF=!0,eF);case"textInput":return p=v.data,p===eF&&tF?null:p;default:return null}}function IZ(p,v){if(ud)return p==="compositionend"||!ZS&&rF(p,v)?(p=Kk(),Wm=US=Gs=null,ud=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return Jk&&v.locale!=="ko"?null:v.data;default:return null}}var EZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iF(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v==="input"?!!EZ[p.type]:v==="textarea"}function oF(p,v,b,_){_k(_),v=Zm(v,"onChange"),0<v.length&&(b=new jS("onChange","change",null,b,_),p.push({event:b,listeners:v}))}var tp=null,rp=null;function MZ(p){xF(p,0)}function Ym(p){var v=pd(p);if(pe(v))return p}function kZ(p,v){if(p==="change")return v}var aF=!1;if(s){var QS;if(s){var JS="oninput"in document;if(!JS){var sF=document.createElement("div");sF.setAttribute("oninput","return;"),JS=typeof sF.oninput=="function"}QS=JS}else QS=!1;aF=QS&&(!document.documentMode||9<document.documentMode)}function lF(){tp&&(tp.detachEvent("onpropertychange",uF),rp=tp=null)}function uF(p){if(p.propertyName==="value"&&Ym(rp)){var v=[];oF(v,rp,p,MS(p)),Ak(MZ,v)}}function FZ(p,v,b){p==="focusin"?(lF(),tp=v,rp=b,tp.attachEvent("onpropertychange",uF)):p==="focusout"&&lF()}function LZ(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Ym(rp)}function OZ(p,v){if(p==="click")return Ym(v)}function NZ(p,v){if(p==="input"||p==="change")return Ym(v)}function zZ(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var ho=typeof Object.is=="function"?Object.is:zZ;function np(p,v){if(ho(p,v))return!0;if(typeof p!="object"||p===null||typeof v!="object"||v===null)return!1;var b=Object.keys(p),_=Object.keys(v);if(b.length!==_.length)return!1;for(_=0;_<b.length;_++){var A=b[_];if(!l.call(v,A)||!ho(p[A],v[A]))return!1}return!0}function cF(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function dF(p,v){var b=cF(p);p=0;for(var _;b;){if(b.nodeType===3){if(_=p+b.textContent.length,p<=v&&_>=v)return{node:b,offset:v-p};p=_}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=cF(b)}}function hF(p,v){return p&&v?p===v?!0:p&&p.nodeType===3?!1:v&&v.nodeType===3?hF(p,v.parentNode):"contains"in p?p.contains(v):p.compareDocumentPosition?!!(p.compareDocumentPosition(v)&16):!1:!1}function fF(){for(var p=window,v=Ae();v instanceof p.HTMLIFrameElement;){try{var b=typeof v.contentWindow.location.href=="string"}catch{b=!1}if(b)p=v.contentWindow;else break;v=Ae(p.document)}return v}function ex(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v&&(v==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||v==="textarea"||p.contentEditable==="true")}function BZ(p){var v=fF(),b=p.focusedElem,_=p.selectionRange;if(v!==b&&b&&b.ownerDocument&&hF(b.ownerDocument.documentElement,b)){if(_!==null&&ex(b)){if(v=_.start,p=_.end,p===void 0&&(p=v),"selectionStart"in b)b.selectionStart=v,b.selectionEnd=Math.min(p,b.value.length);else if(p=(v=b.ownerDocument||document)&&v.defaultView||window,p.getSelection){p=p.getSelection();var A=b.textContent.length,M=Math.min(_.start,A);_=_.end===void 0?M:Math.min(_.end,A),!p.extend&&M>_&&(A=_,_=M,M=A),A=dF(b,M);var z=dF(b,_);A&&z&&(p.rangeCount!==1||p.anchorNode!==A.node||p.anchorOffset!==A.offset||p.focusNode!==z.node||p.focusOffset!==z.offset)&&(v=v.createRange(),v.setStart(A.node,A.offset),p.removeAllRanges(),M>_?(p.addRange(v),p.extend(z.node,z.offset)):(v.setEnd(z.node,z.offset),p.addRange(v)))}}for(v=[],p=b;p=p.parentNode;)p.nodeType===1&&v.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<v.length;b++)p=v[b],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var VZ=s&&"documentMode"in document&&11>=document.documentMode,cd=null,tx=null,ip=null,rx=!1;function pF(p,v,b){var _=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;rx||cd==null||cd!==Ae(_)||(_=cd,"selectionStart"in _&&ex(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),ip&&np(ip,_)||(ip=_,_=Zm(tx,"onSelect"),0<_.length&&(v=new jS("onSelect","select",null,v,b),p.push({event:v,listeners:_}),v.target=cd)))}function Km(p,v){var b={};return b[p.toLowerCase()]=v.toLowerCase(),b["Webkit"+p]="webkit"+v,b["Moz"+p]="moz"+v,b}var dd={animationend:Km("Animation","AnimationEnd"),animationiteration:Km("Animation","AnimationIteration"),animationstart:Km("Animation","AnimationStart"),transitionend:Km("Transition","TransitionEnd")},nx={},gF={};s&&(gF=document.createElement("div").style,"AnimationEvent"in window||(delete dd.animationend.animation,delete dd.animationiteration.animation,delete dd.animationstart.animation),"TransitionEvent"in window||delete dd.transitionend.transition);function Xm(p){if(nx[p])return nx[p];if(!dd[p])return p;var v=dd[p],b;for(b in v)if(v.hasOwnProperty(b)&&b in gF)return nx[p]=v[b];return p}var vF=Xm("animationend"),mF=Xm("animationiteration"),yF=Xm("animationstart"),CF=Xm("transitionend"),wF=new Map,bF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hs(p,v){wF.set(p,v),o(v,[p])}for(var ix=0;ix<bF.length;ix++){var ox=bF[ix],GZ=ox.toLowerCase(),HZ=ox[0].toUpperCase()+ox.slice(1);Hs(GZ,"on"+HZ)}Hs(vF,"onAnimationEnd"),Hs(mF,"onAnimationIteration"),Hs(yF,"onAnimationStart"),Hs("dblclick","onDoubleClick"),Hs("focusin","onFocus"),Hs("focusout","onBlur"),Hs(CF,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var op="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(op));function SF(p,v,b){var _=p.type||"unknown-event";p.currentTarget=b,Gq(_,v,void 0,p),p.currentTarget=null}function xF(p,v){v=(v&4)!==0;for(var b=0;b<p.length;b++){var _=p[b],A=_.event;_=_.listeners;e:{var M=void 0;if(v)for(var z=_.length-1;0<=z;z--){var Y=_[z],X=Y.instance,ae=Y.currentTarget;if(Y=Y.listener,X!==M&&A.isPropagationStopped())break e;SF(A,Y,ae),M=X}else for(z=0;z<_.length;z++){if(Y=_[z],X=Y.instance,ae=Y.currentTarget,Y=Y.listener,X!==M&&A.isPropagationStopped())break e;SF(A,Y,ae),M=X}}}if(km)throw p=OS,km=!1,OS=null,p}function Ut(p,v){var b=v[fx];b===void 0&&(b=v[fx]=new Set);var _=p+"__bubble";b.has(_)||(RF(v,p,2,!1),b.add(_))}function ax(p,v,b){var _=0;v&&(_|=4),RF(b,p,_,v)}var qm="_reactListening"+Math.random().toString(36).slice(2);function ap(p){if(!p[qm]){p[qm]=!0,n.forEach(function(b){b!=="selectionchange"&&(WZ.has(b)||ax(b,!1,p),ax(b,!0,p))});var v=p.nodeType===9?p:p.ownerDocument;v===null||v[qm]||(v[qm]=!0,ax("selectionchange",!1,v))}}function RF(p,v,b,_){switch(Yk(v)){case 1:var A=nZ;break;case 4:A=iZ;break;default:A=WS}b=A.bind(null,v,b,p),A=void 0,!LS||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(A=!0),_?A!==void 0?p.addEventListener(v,b,{capture:!0,passive:A}):p.addEventListener(v,b,!0):A!==void 0?p.addEventListener(v,b,{passive:A}):p.addEventListener(v,b,!1)}function sx(p,v,b,_,A){var M=_;if(!(v&1)&&!(v&2)&&_!==null)e:for(;;){if(_===null)return;var z=_.tag;if(z===3||z===4){var Y=_.stateNode.containerInfo;if(Y===A||Y.nodeType===8&&Y.parentNode===A)break;if(z===4)for(z=_.return;z!==null;){var X=z.tag;if((X===3||X===4)&&(X=z.stateNode.containerInfo,X===A||X.nodeType===8&&X.parentNode===A))return;z=z.return}for(;Y!==null;){if(z=au(Y),z===null)return;if(X=z.tag,X===5||X===6){_=M=z;continue e}Y=Y.parentNode}}_=_.return}Ak(function(){var ae=M,ye=MS(b),Ce=[];e:{var ve=wF.get(p);if(ve!==void 0){var Me=jS,ze=p;switch(p){case"keypress":if($m(b)===0)break e;case"keydown":case"keyup":Me=CZ;break;case"focusin":ze="focus",Me=XS;break;case"focusout":ze="blur",Me=XS;break;case"beforeblur":case"afterblur":Me=XS;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=qk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=sZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=SZ;break;case vF:case mF:case yF:Me=cZ;break;case CF:Me=RZ;break;case"scroll":Me=oZ;break;case"wheel":Me=TZ;break;case"copy":case"cut":case"paste":Me=hZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=Qk}var He=(v&4)!==0,gr=!He&&p==="scroll",te=He?ve!==null?ve+"Capture":null:ve;He=[];for(var Q=ae,re;Q!==null;){re=Q;var Re=re.stateNode;if(re.tag===5&&Re!==null&&(re=Re,te!==null&&(Re=Hf(Q,te),Re!=null&&He.push(sp(Q,Re,re)))),gr)break;Q=Q.return}0<He.length&&(ve=new Me(ve,ze,null,b,ye),Ce.push({event:ve,listeners:He}))}}if(!(v&7)){e:{if(ve=p==="mouseover"||p==="pointerover",Me=p==="mouseout"||p==="pointerout",ve&&b!==ES&&(ze=b.relatedTarget||b.fromElement)&&(au(ze)||ze[Ha]))break e;if((Me||ve)&&(ve=ye.window===ye?ye:(ve=ye.ownerDocument)?ve.defaultView||ve.parentWindow:window,Me?(ze=b.relatedTarget||b.toElement,Me=ae,ze=ze?au(ze):null,ze!==null&&(gr=ou(ze),ze!==gr||ze.tag!==5&&ze.tag!==6)&&(ze=null)):(Me=null,ze=ae),Me!==ze)){if(He=qk,Re="onMouseLeave",te="onMouseEnter",Q="mouse",(p==="pointerout"||p==="pointerover")&&(He=Qk,Re="onPointerLeave",te="onPointerEnter",Q="pointer"),gr=Me==null?ve:pd(Me),re=ze==null?ve:pd(ze),ve=new He(Re,Q+"leave",Me,b,ye),ve.target=gr,ve.relatedTarget=re,Re=null,au(ye)===ae&&(He=new He(te,Q+"enter",ze,b,ye),He.target=re,He.relatedTarget=gr,Re=He),gr=Re,Me&&ze)t:{for(He=Me,te=ze,Q=0,re=He;re;re=hd(re))Q++;for(re=0,Re=te;Re;Re=hd(Re))re++;for(;0<Q-re;)He=hd(He),Q--;for(;0<re-Q;)te=hd(te),re--;for(;Q--;){if(He===te||te!==null&&He===te.alternate)break t;He=hd(He),te=hd(te)}He=null}else He=null;Me!==null&&_F(Ce,ve,Me,He,!1),ze!==null&&gr!==null&&_F(Ce,gr,ze,He,!0)}}e:{if(ve=ae?pd(ae):window,Me=ve.nodeName&&ve.nodeName.toLowerCase(),Me==="select"||Me==="input"&&ve.type==="file")var We=kZ;else if(iF(ve))if(aF)We=NZ;else{We=LZ;var Qe=FZ}else(Me=ve.nodeName)&&Me.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(We=OZ);if(We&&(We=We(p,ae))){oF(Ce,We,b,ye);break e}Qe&&Qe(p,ve,ae),p==="focusout"&&(Qe=ve._wrapperState)&&Qe.controlled&&ve.type==="number"&&sr(ve,"number",ve.value)}switch(Qe=ae?pd(ae):window,p){case"focusin":(iF(Qe)||Qe.contentEditable==="true")&&(cd=Qe,tx=ae,ip=null);break;case"focusout":ip=tx=cd=null;break;case"mousedown":rx=!0;break;case"contextmenu":case"mouseup":case"dragend":rx=!1,pF(Ce,b,ye);break;case"selectionchange":if(VZ)break;case"keydown":case"keyup":pF(Ce,b,ye)}var Je;if(ZS)e:{switch(p){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else ud?rF(p,b)&&(it="onCompositionEnd"):p==="keydown"&&b.keyCode===229&&(it="onCompositionStart");it&&(Jk&&b.locale!=="ko"&&(ud||it!=="onCompositionStart"?it==="onCompositionEnd"&&ud&&(Je=Kk()):(Gs=ye,US="value"in Gs?Gs.value:Gs.textContent,ud=!0)),Qe=Zm(ae,it),0<Qe.length&&(it=new Zk(it,p,null,b,ye),Ce.push({event:it,listeners:Qe}),Je?it.data=Je:(Je=nF(b),Je!==null&&(it.data=Je)))),(Je=DZ?AZ(p,b):IZ(p,b))&&(ae=Zm(ae,"onBeforeInput"),0<ae.length&&(ye=new Zk("onBeforeInput","beforeinput",null,b,ye),Ce.push({event:ye,listeners:ae}),ye.data=Je))}xF(Ce,v)})}function sp(p,v,b){return{instance:p,listener:v,currentTarget:b}}function Zm(p,v){for(var b=v+"Capture",_=[];p!==null;){var A=p,M=A.stateNode;A.tag===5&&M!==null&&(A=M,M=Hf(p,b),M!=null&&_.unshift(sp(p,M,A)),M=Hf(p,v),M!=null&&_.push(sp(p,M,A))),p=p.return}return _}function hd(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function _F(p,v,b,_,A){for(var M=v._reactName,z=[];b!==null&&b!==_;){var Y=b,X=Y.alternate,ae=Y.stateNode;if(X!==null&&X===_)break;Y.tag===5&&ae!==null&&(Y=ae,A?(X=Hf(b,M),X!=null&&z.unshift(sp(b,X,Y))):A||(X=Hf(b,M),X!=null&&z.push(sp(b,X,Y)))),b=b.return}z.length!==0&&p.push({event:v,listeners:z})}var $Z=/\r\n?/g,UZ=/\u0000|\uFFFD/g;function TF(p){return(typeof p=="string"?p:""+p).replace($Z,`
`).replace(UZ,"")}function Qm(p,v,b){if(v=TF(v),TF(p)!==v&&b)throw Error(r(425))}function Jm(){}var lx=null,ux=null;function cx(p,v){return p==="textarea"||p==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var dx=typeof setTimeout=="function"?setTimeout:void 0,jZ=typeof clearTimeout=="function"?clearTimeout:void 0,PF=typeof Promise=="function"?Promise:void 0,YZ=typeof queueMicrotask=="function"?queueMicrotask:typeof PF<"u"?function(p){return PF.resolve(null).then(p).catch(KZ)}:dx;function KZ(p){setTimeout(function(){throw p})}function hx(p,v){var b=v,_=0;do{var A=b.nextSibling;if(p.removeChild(b),A&&A.nodeType===8)if(b=A.data,b==="/$"){if(_===0){p.removeChild(A),Zf(v);return}_--}else b!=="$"&&b!=="$?"&&b!=="$!"||_++;b=A}while(b);Zf(v)}function Ws(p){for(;p!=null;p=p.nextSibling){var v=p.nodeType;if(v===1||v===3)break;if(v===8){if(v=p.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return p}function DF(p){p=p.previousSibling;for(var v=0;p;){if(p.nodeType===8){var b=p.data;if(b==="$"||b==="$!"||b==="$?"){if(v===0)return p;v--}else b==="/$"&&v++}p=p.previousSibling}return null}var fd=Math.random().toString(36).slice(2),Uo="__reactFiber$"+fd,lp="__reactProps$"+fd,Ha="__reactContainer$"+fd,fx="__reactEvents$"+fd,XZ="__reactListeners$"+fd,qZ="__reactHandles$"+fd;function au(p){var v=p[Uo];if(v)return v;for(var b=p.parentNode;b;){if(v=b[Ha]||b[Uo]){if(b=v.alternate,v.child!==null||b!==null&&b.child!==null)for(p=DF(p);p!==null;){if(b=p[Uo])return b;p=DF(p)}return v}p=b,b=p.parentNode}return null}function up(p){return p=p[Uo]||p[Ha],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function pd(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(r(33))}function ey(p){return p[lp]||null}var px=[],gd=-1;function $s(p){return{current:p}}function jt(p){0>gd||(p.current=px[gd],px[gd]=null,gd--)}function Wt(p,v){gd++,px[gd]=p.current,p.current=v}var Us={},rn=$s(Us),Gn=$s(!1),su=Us;function vd(p,v){var b=p.type.contextTypes;if(!b)return Us;var _=p.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===v)return _.__reactInternalMemoizedMaskedChildContext;var A={},M;for(M in b)A[M]=v[M];return _&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=v,p.__reactInternalMemoizedMaskedChildContext=A),A}function Hn(p){return p=p.childContextTypes,p!=null}function ty(){jt(Gn),jt(rn)}function AF(p,v,b){if(rn.current!==Us)throw Error(r(168));Wt(rn,v),Wt(Gn,b)}function IF(p,v,b){var _=p.stateNode;if(v=v.childContextTypes,typeof _.getChildContext!="function")return b;_=_.getChildContext();for(var A in _)if(!(A in v))throw Error(r(108,Be(p)||"Unknown",A));return K({},b,_)}function ry(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Us,su=rn.current,Wt(rn,p),Wt(Gn,Gn.current),!0}function EF(p,v,b){var _=p.stateNode;if(!_)throw Error(r(169));b?(p=IF(p,v,su),_.__reactInternalMemoizedMergedChildContext=p,jt(Gn),jt(rn),Wt(rn,p)):jt(Gn),Wt(Gn,b)}var Wa=null,ny=!1,gx=!1;function MF(p){Wa===null?Wa=[p]:Wa.push(p)}function ZZ(p){ny=!0,MF(p)}function js(){if(!gx&&Wa!==null){gx=!0;var p=0,v=Ot;try{var b=Wa;for(Ot=1;p<b.length;p++){var _=b[p];do _=_(!0);while(_!==null)}Wa=null,ny=!1}catch(A){throw Wa!==null&&(Wa=Wa.slice(p+1)),Fk(NS,js),A}finally{Ot=v,gx=!1}}return null}var md=[],yd=0,iy=null,oy=0,Pi=[],Di=0,lu=null,$a=1,Ua="";function uu(p,v){md[yd++]=oy,md[yd++]=iy,iy=p,oy=v}function kF(p,v,b){Pi[Di++]=$a,Pi[Di++]=Ua,Pi[Di++]=lu,lu=p;var _=$a;p=Ua;var A=32-co(_)-1;_&=~(1<<A),b+=1;var M=32-co(v)+A;if(30<M){var z=A-A%5;M=(_&(1<<z)-1).toString(32),_>>=z,A-=z,$a=1<<32-co(v)+A|b<<A|_,Ua=M+p}else $a=1<<M|b<<A|_,Ua=p}function vx(p){p.return!==null&&(uu(p,1),kF(p,1,0))}function mx(p){for(;p===iy;)iy=md[--yd],md[yd]=null,oy=md[--yd],md[yd]=null;for(;p===lu;)lu=Pi[--Di],Pi[Di]=null,Ua=Pi[--Di],Pi[Di]=null,$a=Pi[--Di],Pi[Di]=null}var ci=null,di=null,qt=!1,fo=null;function FF(p,v){var b=Mi(5,null,null,0);b.elementType="DELETED",b.stateNode=v,b.return=p,v=p.deletions,v===null?(p.deletions=[b],p.flags|=16):v.push(b)}function LF(p,v){switch(p.tag){case 5:var b=p.type;return v=v.nodeType!==1||b.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(p.stateNode=v,ci=p,di=Ws(v.firstChild),!0):!1;case 6:return v=p.pendingProps===""||v.nodeType!==3?null:v,v!==null?(p.stateNode=v,ci=p,di=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?(b=lu!==null?{id:$a,overflow:Ua}:null,p.memoizedState={dehydrated:v,treeContext:b,retryLane:1073741824},b=Mi(18,null,null,0),b.stateNode=v,b.return=p,p.child=b,ci=p,di=null,!0):!1;default:return!1}}function yx(p){return(p.mode&1)!==0&&(p.flags&128)===0}function Cx(p){if(qt){var v=di;if(v){var b=v;if(!LF(p,v)){if(yx(p))throw Error(r(418));v=Ws(b.nextSibling);var _=ci;v&&LF(p,v)?FF(_,b):(p.flags=p.flags&-4097|2,qt=!1,ci=p)}}else{if(yx(p))throw Error(r(418));p.flags=p.flags&-4097|2,qt=!1,ci=p}}}function OF(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;ci=p}function ay(p){if(p!==ci)return!1;if(!qt)return OF(p),qt=!0,!1;var v;if((v=p.tag!==3)&&!(v=p.tag!==5)&&(v=p.type,v=v!=="head"&&v!=="body"&&!cx(p.type,p.memoizedProps)),v&&(v=di)){if(yx(p))throw NF(),Error(r(418));for(;v;)FF(p,v),v=Ws(v.nextSibling)}if(OF(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));e:{for(p=p.nextSibling,v=0;p;){if(p.nodeType===8){var b=p.data;if(b==="/$"){if(v===0){di=Ws(p.nextSibling);break e}v--}else b!=="$"&&b!=="$!"&&b!=="$?"||v++}p=p.nextSibling}di=null}}else di=ci?Ws(p.stateNode.nextSibling):null;return!0}function NF(){for(var p=di;p;)p=Ws(p.nextSibling)}function Cd(){di=ci=null,qt=!1}function bx(p){fo===null?fo=[p]:fo.push(p)}var QZ=x.ReactCurrentBatchConfig;function cp(p,v,b){if(p=b.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(r(309));var _=b.stateNode}if(!_)throw Error(r(147,p));var A=_,M=""+p;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===M?v.ref:(v=function(z){var Y=A.refs;z===null?delete Y[M]:Y[M]=z},v._stringRef=M,v)}if(typeof p!="string")throw Error(r(284));if(!b._owner)throw Error(r(290,p))}return p}function sy(p,v){throw p=Object.prototype.toString.call(v),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":p))}function zF(p){var v=p._init;return v(p._payload)}function BF(p){function v(te,Q){if(p){var re=te.deletions;re===null?(te.deletions=[Q],te.flags|=16):re.push(Q)}}function b(te,Q){if(!p)return null;for(;Q!==null;)v(te,Q),Q=Q.sibling;return null}function _(te,Q){for(te=new Map;Q!==null;)Q.key!==null?te.set(Q.key,Q):te.set(Q.index,Q),Q=Q.sibling;return te}function A(te,Q){return te=el(te,Q),te.index=0,te.sibling=null,te}function M(te,Q,re){return te.index=re,p?(re=te.alternate,re!==null?(re=re.index,re<Q?(te.flags|=2,Q):re):(te.flags|=2,Q)):(te.flags|=1048576,Q)}function z(te){return p&&te.alternate===null&&(te.flags|=2),te}function Y(te,Q,re,Re){return Q===null||Q.tag!==6?(Q=h1(re,te.mode,Re),Q.return=te,Q):(Q=A(Q,re),Q.return=te,Q)}function X(te,Q,re,Re){var We=re.type;return We===P?ye(te,Q,re.props.children,Re,re.key):Q!==null&&(Q.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===W&&zF(We)===Q.type)?(Re=A(Q,re.props),Re.ref=cp(te,Q,re),Re.return=te,Re):(Re=Ey(re.type,re.key,re.props,null,te.mode,Re),Re.ref=cp(te,Q,re),Re.return=te,Re)}function ae(te,Q,re,Re){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==re.containerInfo||Q.stateNode.implementation!==re.implementation?(Q=f1(re,te.mode,Re),Q.return=te,Q):(Q=A(Q,re.children||[]),Q.return=te,Q)}function ye(te,Q,re,Re,We){return Q===null||Q.tag!==7?(Q=mu(re,te.mode,Re,We),Q.return=te,Q):(Q=A(Q,re),Q.return=te,Q)}function Ce(te,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=h1(""+Q,te.mode,re),Q.return=te,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case R:return re=Ey(Q.type,Q.key,Q.props,null,te.mode,re),re.ref=cp(te,null,Q),re.return=te,re;case T:return Q=f1(Q,te.mode,re),Q.return=te,Q;case W:var Re=Q._init;return Ce(te,Re(Q._payload),re)}if(lr(Q)||$(Q))return Q=mu(Q,te.mode,re,null),Q.return=te,Q;sy(te,Q)}return null}function ve(te,Q,re,Re){var We=Q!==null?Q.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return We!==null?null:Y(te,Q,""+re,Re);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case R:return re.key===We?X(te,Q,re,Re):null;case T:return re.key===We?ae(te,Q,re,Re):null;case W:return We=re._init,ve(te,Q,We(re._payload),Re)}if(lr(re)||$(re))return We!==null?null:ye(te,Q,re,Re,null);sy(te,re)}return null}function Me(te,Q,re,Re,We){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return te=te.get(re)||null,Y(Q,te,""+Re,We);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case R:return te=te.get(Re.key===null?re:Re.key)||null,X(Q,te,Re,We);case T:return te=te.get(Re.key===null?re:Re.key)||null,ae(Q,te,Re,We);case W:var Qe=Re._init;return Me(te,Q,re,Qe(Re._payload),We)}if(lr(Re)||$(Re))return te=te.get(re)||null,ye(Q,te,Re,We,null);sy(Q,Re)}return null}function ze(te,Q,re,Re){for(var We=null,Qe=null,Je=Q,it=Q=0,zr=null;Je!==null&&it<re.length;it++){Je.index>it?(zr=Je,Je=null):zr=Je.sibling;var Rt=ve(te,Je,re[it],Re);if(Rt===null){Je===null&&(Je=zr);break}p&&Je&&Rt.alternate===null&&v(te,Je),Q=M(Rt,Q,it),Qe===null?We=Rt:Qe.sibling=Rt,Qe=Rt,Je=zr}if(it===re.length)return b(te,Je),qt&&uu(te,it),We;if(Je===null){for(;it<re.length;it++)Je=Ce(te,re[it],Re),Je!==null&&(Q=M(Je,Q,it),Qe===null?We=Je:Qe.sibling=Je,Qe=Je);return qt&&uu(te,it),We}for(Je=_(te,Je);it<re.length;it++)zr=Me(Je,te,it,re[it],Re),zr!==null&&(p&&zr.alternate!==null&&Je.delete(zr.key===null?it:zr.key),Q=M(zr,Q,it),Qe===null?We=zr:Qe.sibling=zr,Qe=zr);return p&&Je.forEach(function(tl){return v(te,tl)}),qt&&uu(te,it),We}function He(te,Q,re,Re){var We=$(re);if(typeof We!="function")throw Error(r(150));if(re=We.call(re),re==null)throw Error(r(151));for(var Qe=We=null,Je=Q,it=Q=0,zr=null,Rt=re.next();Je!==null&&!Rt.done;it++,Rt=re.next()){Je.index>it?(zr=Je,Je=null):zr=Je.sibling;var tl=ve(te,Je,Rt.value,Re);if(tl===null){Je===null&&(Je=zr);break}p&&Je&&tl.alternate===null&&v(te,Je),Q=M(tl,Q,it),Qe===null?We=tl:Qe.sibling=tl,Qe=tl,Je=zr}if(Rt.done)return b(te,Je),qt&&uu(te,it),We;if(Je===null){for(;!Rt.done;it++,Rt=re.next())Rt=Ce(te,Rt.value,Re),Rt!==null&&(Q=M(Rt,Q,it),Qe===null?We=Rt:Qe.sibling=Rt,Qe=Rt);return qt&&uu(te,it),We}for(Je=_(te,Je);!Rt.done;it++,Rt=re.next())Rt=Me(Je,te,it,Rt.value,Re),Rt!==null&&(p&&Rt.alternate!==null&&Je.delete(Rt.key===null?it:Rt.key),Q=M(Rt,Q,it),Qe===null?We=Rt:Qe.sibling=Rt,Qe=Rt);return p&&Je.forEach(function(EQ){return v(te,EQ)}),qt&&uu(te,it),We}function gr(te,Q,re,Re){if(typeof re=="object"&&re!==null&&re.type===P&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case R:e:{for(var We=re.key,Qe=Q;Qe!==null;){if(Qe.key===We){if(We=re.type,We===P){if(Qe.tag===7){b(te,Qe.sibling),Q=A(Qe,re.props.children),Q.return=te,te=Q;break e}}else if(Qe.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===W&&zF(We)===Qe.type){b(te,Qe.sibling),Q=A(Qe,re.props),Q.ref=cp(te,Qe,re),Q.return=te,te=Q;break e}b(te,Qe);break}else v(te,Qe);Qe=Qe.sibling}re.type===P?(Q=mu(re.props.children,te.mode,Re,re.key),Q.return=te,te=Q):(Re=Ey(re.type,re.key,re.props,null,te.mode,Re),Re.ref=cp(te,Q,re),Re.return=te,te=Re)}return z(te);case T:e:{for(Qe=re.key;Q!==null;){if(Q.key===Qe)if(Q.tag===4&&Q.stateNode.containerInfo===re.containerInfo&&Q.stateNode.implementation===re.implementation){b(te,Q.sibling),Q=A(Q,re.children||[]),Q.return=te,te=Q;break e}else{b(te,Q);break}else v(te,Q);Q=Q.sibling}Q=f1(re,te.mode,Re),Q.return=te,te=Q}return z(te);case W:return Qe=re._init,gr(te,Q,Qe(re._payload),Re)}if(lr(re))return ze(te,Q,re,Re);if($(re))return He(te,Q,re,Re);sy(te,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Q!==null&&Q.tag===6?(b(te,Q.sibling),Q=A(Q,re),Q.return=te,te=Q):(b(te,Q),Q=h1(re,te.mode,Re),Q.return=te,te=Q),z(te)):b(te,Q)}return gr}var wd=BF(!0),VF=BF(!1),ly=$s(null),uy=null,bd=null,Sx=null;function xx(){Sx=bd=uy=null}function Rx(p){var v=ly.current;jt(ly),p._currentValue=v}function _x(p,v,b){for(;p!==null;){var _=p.alternate;if((p.childLanes&v)!==v?(p.childLanes|=v,_!==null&&(_.childLanes|=v)):_!==null&&(_.childLanes&v)!==v&&(_.childLanes|=v),p===b)break;p=p.return}}function Sd(p,v){uy=p,Sx=bd=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&v&&(Wn=!0),p.firstContext=null)}function Ai(p){var v=p._currentValue;if(Sx!==p)if(p={context:p,memoizedValue:v,next:null},bd===null){if(uy===null)throw Error(r(308));bd=p,uy.dependencies={lanes:0,firstContext:p}}else bd=bd.next=p;return v}var cu=null;function Tx(p){cu===null?cu=[p]:cu.push(p)}function GF(p,v,b,_){var A=v.interleaved;return A===null?(b.next=b,Tx(v)):(b.next=A.next,A.next=b),v.interleaved=b,ja(p,_)}function ja(p,v){p.lanes|=v;var b=p.alternate;for(b!==null&&(b.lanes|=v),b=p,p=p.return;p!==null;)p.childLanes|=v,b=p.alternate,b!==null&&(b.childLanes|=v),b=p,p=p.return;return b.tag===3?b.stateNode:null}var Ys=!1;function Px(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HF(p,v){p=p.updateQueue,v.updateQueue===p&&(v.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Ya(p,v){return{eventTime:p,lane:v,tag:0,payload:null,callback:null,next:null}}function Ks(p,v,b){var _=p.updateQueue;if(_===null)return null;if(_=_.shared,St&2){var A=_.pending;return A===null?v.next=v:(v.next=A.next,A.next=v),_.pending=v,ja(p,b)}return A=_.interleaved,A===null?(v.next=v,Tx(_)):(v.next=A.next,A.next=v),_.interleaved=v,ja(p,b)}function cy(p,v,b){if(v=v.updateQueue,v!==null&&(v=v.shared,(b&4194240)!==0)){var _=v.lanes;_&=p.pendingLanes,b|=_,v.lanes=b,VS(p,b)}}function WF(p,v){var b=p.updateQueue,_=p.alternate;if(_!==null&&(_=_.updateQueue,b===_)){var A=null,M=null;if(b=b.firstBaseUpdate,b!==null){do{var z={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};M===null?A=M=z:M=M.next=z,b=b.next}while(b!==null);M===null?A=M=v:M=M.next=v}else A=M=v;b={baseState:_.baseState,firstBaseUpdate:A,lastBaseUpdate:M,shared:_.shared,effects:_.effects},p.updateQueue=b;return}p=b.lastBaseUpdate,p===null?b.firstBaseUpdate=v:p.next=v,b.lastBaseUpdate=v}function dy(p,v,b,_){var A=p.updateQueue;Ys=!1;var M=A.firstBaseUpdate,z=A.lastBaseUpdate,Y=A.shared.pending;if(Y!==null){A.shared.pending=null;var X=Y,ae=X.next;X.next=null,z===null?M=ae:z.next=ae,z=X;var ye=p.alternate;ye!==null&&(ye=ye.updateQueue,Y=ye.lastBaseUpdate,Y!==z&&(Y===null?ye.firstBaseUpdate=ae:Y.next=ae,ye.lastBaseUpdate=X))}if(M!==null){var Ce=A.baseState;z=0,ye=ae=X=null,Y=M;do{var ve=Y.lane,Me=Y.eventTime;if((_&ve)===ve){ye!==null&&(ye=ye.next={eventTime:Me,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var ze=p,He=Y;switch(ve=v,Me=b,He.tag){case 1:if(ze=He.payload,typeof ze=="function"){Ce=ze.call(Me,Ce,ve);break e}Ce=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=He.payload,ve=typeof ze=="function"?ze.call(Me,Ce,ve):ze,ve==null)break e;Ce=K({},Ce,ve);break e;case 2:Ys=!0}}Y.callback!==null&&Y.lane!==0&&(p.flags|=64,ve=A.effects,ve===null?A.effects=[Y]:ve.push(Y))}else Me={eventTime:Me,lane:ve,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},ye===null?(ae=ye=Me,X=Ce):ye=ye.next=Me,z|=ve;if(Y=Y.next,Y===null){if(Y=A.shared.pending,Y===null)break;ve=Y,Y=ve.next,ve.next=null,A.lastBaseUpdate=ve,A.shared.pending=null}}while(!0);if(ye===null&&(X=Ce),A.baseState=X,A.firstBaseUpdate=ae,A.lastBaseUpdate=ye,v=A.shared.interleaved,v!==null){A=v;do z|=A.lane,A=A.next;while(A!==v)}else M===null&&(A.shared.lanes=0);fu|=z,p.lanes=z,p.memoizedState=Ce}}function $F(p,v,b){if(p=v.effects,v.effects=null,p!==null)for(v=0;v<p.length;v++){var _=p[v],A=_.callback;if(A!==null){if(_.callback=null,_=b,typeof A!="function")throw Error(r(191,A));A.call(_)}}}var dp={},jo=$s(dp),hp=$s(dp),fp=$s(dp);function du(p){if(p===dp)throw Error(r(174));return p}function Dx(p,v){switch(Wt(fp,v),Wt(hp,p),Wt(jo,dp),p=v.nodeType,p){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:id(null,"");break;default:p=p===8?v.parentNode:v,v=p.namespaceURI||null,p=p.tagName,v=id(v,p)}jt(jo),Wt(jo,v)}function xd(){jt(jo),jt(hp),jt(fp)}function UF(p){du(fp.current);var v=du(jo.current),b=id(v,p.type);v!==b&&(Wt(hp,p),Wt(jo,b))}function Ax(p){hp.current===p&&(jt(jo),jt(hp))}var Qt=$s(0);function hy(p){for(var v=p;v!==null;){if(v.tag===13){var b=v.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if(v.flags&128)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var Ix=[];function Ex(){for(var p=0;p<Ix.length;p++)Ix[p]._workInProgressVersionPrimary=null;Ix.length=0}var fy=x.ReactCurrentDispatcher,Mx=x.ReactCurrentBatchConfig,hu=0,Jt=null,Tr=null,Or=null,py=!1,pp=!1,gp=0,JZ=0;function nn(){throw Error(r(321))}function kx(p,v){if(v===null)return!1;for(var b=0;b<v.length&&b<p.length;b++)if(!ho(p[b],v[b]))return!1;return!0}function Fx(p,v,b,_,A,M){if(hu=M,Jt=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,fy.current=p===null||p.memoizedState===null?nQ:iQ,p=b(_,A),pp){M=0;do{if(pp=!1,gp=0,25<=M)throw Error(r(301));M+=1,Or=Tr=null,v.updateQueue=null,fy.current=oQ,p=b(_,A)}while(pp)}if(fy.current=my,v=Tr!==null&&Tr.next!==null,hu=0,Or=Tr=Jt=null,py=!1,v)throw Error(r(300));return p}function Lx(){var p=gp!==0;return gp=0,p}function Yo(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?Jt.memoizedState=Or=p:Or=Or.next=p,Or}function Ii(){if(Tr===null){var p=Jt.alternate;p=p!==null?p.memoizedState:null}else p=Tr.next;var v=Or===null?Jt.memoizedState:Or.next;if(v!==null)Or=v,Tr=p;else{if(p===null)throw Error(r(310));Tr=p,p={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},Or===null?Jt.memoizedState=Or=p:Or=Or.next=p}return Or}function vp(p,v){return typeof v=="function"?v(p):v}function Ox(p){var v=Ii(),b=v.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=p;var _=Tr,A=_.baseQueue,M=b.pending;if(M!==null){if(A!==null){var z=A.next;A.next=M.next,M.next=z}_.baseQueue=A=M,b.pending=null}if(A!==null){M=A.next,_=_.baseState;var Y=z=null,X=null,ae=M;do{var ye=ae.lane;if((hu&ye)===ye)X!==null&&(X=X.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),_=ae.hasEagerState?ae.eagerState:p(_,ae.action);else{var Ce={lane:ye,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};X===null?(Y=X=Ce,z=_):X=X.next=Ce,Jt.lanes|=ye,fu|=ye}ae=ae.next}while(ae!==null&&ae!==M);X===null?z=_:X.next=Y,ho(_,v.memoizedState)||(Wn=!0),v.memoizedState=_,v.baseState=z,v.baseQueue=X,b.lastRenderedState=_}if(p=b.interleaved,p!==null){A=p;do M=A.lane,Jt.lanes|=M,fu|=M,A=A.next;while(A!==p)}else A===null&&(b.lanes=0);return[v.memoizedState,b.dispatch]}function Nx(p){var v=Ii(),b=v.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=p;var _=b.dispatch,A=b.pending,M=v.memoizedState;if(A!==null){b.pending=null;var z=A=A.next;do M=p(M,z.action),z=z.next;while(z!==A);ho(M,v.memoizedState)||(Wn=!0),v.memoizedState=M,v.baseQueue===null&&(v.baseState=M),b.lastRenderedState=M}return[M,_]}function jF(){}function YF(p,v){var b=Jt,_=Ii(),A=v(),M=!ho(_.memoizedState,A);if(M&&(_.memoizedState=A,Wn=!0),_=_.queue,zx(qF.bind(null,b,_,p),[p]),_.getSnapshot!==v||M||Or!==null&&Or.memoizedState.tag&1){if(b.flags|=2048,mp(9,XF.bind(null,b,_,A,v),void 0,null),Nr===null)throw Error(r(349));hu&30||KF(b,v,A)}return A}function KF(p,v,b){p.flags|=16384,p={getSnapshot:v,value:b},v=Jt.updateQueue,v===null?(v={lastEffect:null,stores:null},Jt.updateQueue=v,v.stores=[p]):(b=v.stores,b===null?v.stores=[p]:b.push(p))}function XF(p,v,b,_){v.value=b,v.getSnapshot=_,ZF(v)&&QF(p)}function qF(p,v,b){return b(function(){ZF(v)&&QF(p)})}function ZF(p){var v=p.getSnapshot;p=p.value;try{var b=v();return!ho(p,b)}catch{return!0}}function QF(p){var v=ja(p,1);v!==null&&mo(v,p,1,-1)}function JF(p){var v=Yo();return typeof p=="function"&&(p=p()),v.memoizedState=v.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:p},v.queue=p,p=p.dispatch=rQ.bind(null,Jt,p),[v.memoizedState,p]}function mp(p,v,b,_){return p={tag:p,create:v,destroy:b,deps:_,next:null},v=Jt.updateQueue,v===null?(v={lastEffect:null,stores:null},Jt.updateQueue=v,v.lastEffect=p.next=p):(b=v.lastEffect,b===null?v.lastEffect=p.next=p:(_=b.next,b.next=p,p.next=_,v.lastEffect=p)),p}function eL(){return Ii().memoizedState}function gy(p,v,b,_){var A=Yo();Jt.flags|=p,A.memoizedState=mp(1|v,b,void 0,_===void 0?null:_)}function vy(p,v,b,_){var A=Ii();_=_===void 0?null:_;var M=void 0;if(Tr!==null){var z=Tr.memoizedState;if(M=z.destroy,_!==null&&kx(_,z.deps)){A.memoizedState=mp(v,b,M,_);return}}Jt.flags|=p,A.memoizedState=mp(1|v,b,M,_)}function tL(p,v){return gy(8390656,8,p,v)}function zx(p,v){return vy(2048,8,p,v)}function rL(p,v){return vy(4,2,p,v)}function nL(p,v){return vy(4,4,p,v)}function iL(p,v){if(typeof v=="function")return p=p(),v(p),function(){v(null)};if(v!=null)return p=p(),v.current=p,function(){v.current=null}}function oL(p,v,b){return b=b!=null?b.concat([p]):null,vy(4,4,iL.bind(null,v,p),b)}function Bx(){}function aL(p,v){var b=Ii();v=v===void 0?null:v;var _=b.memoizedState;return _!==null&&v!==null&&kx(v,_[1])?_[0]:(b.memoizedState=[p,v],p)}function sL(p,v){var b=Ii();v=v===void 0?null:v;var _=b.memoizedState;return _!==null&&v!==null&&kx(v,_[1])?_[0]:(p=p(),b.memoizedState=[p,v],p)}function lL(p,v,b){return hu&21?(ho(b,v)||(b=zk(),Jt.lanes|=b,fu|=b,p.baseState=!0),v):(p.baseState&&(p.baseState=!1,Wn=!0),p.memoizedState=b)}function eQ(p,v){var b=Ot;Ot=b!==0&&4>b?b:4,p(!0);var _=Mx.transition;Mx.transition={};try{p(!1),v()}finally{Ot=b,Mx.transition=_}}function uL(){return Ii().memoizedState}function tQ(p,v,b){var _=Qs(p);if(b={lane:_,action:b,hasEagerState:!1,eagerState:null,next:null},cL(p))dL(v,b);else if(b=GF(p,v,b,_),b!==null){var A=Pn();mo(b,p,_,A),hL(b,v,_)}}function rQ(p,v,b){var _=Qs(p),A={lane:_,action:b,hasEagerState:!1,eagerState:null,next:null};if(cL(p))dL(v,A);else{var M=p.alternate;if(p.lanes===0&&(M===null||M.lanes===0)&&(M=v.lastRenderedReducer,M!==null))try{var z=v.lastRenderedState,Y=M(z,b);if(A.hasEagerState=!0,A.eagerState=Y,ho(Y,z)){var X=v.interleaved;X===null?(A.next=A,Tx(v)):(A.next=X.next,X.next=A),v.interleaved=A;return}}catch{}finally{}b=GF(p,v,A,_),b!==null&&(A=Pn(),mo(b,p,_,A),hL(b,v,_))}}function cL(p){var v=p.alternate;return p===Jt||v!==null&&v===Jt}function dL(p,v){pp=py=!0;var b=p.pending;b===null?v.next=v:(v.next=b.next,b.next=v),p.pending=v}function hL(p,v,b){if(b&4194240){var _=v.lanes;_&=p.pendingLanes,b|=_,v.lanes=b,VS(p,b)}}var my={readContext:Ai,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},nQ={readContext:Ai,useCallback:function(p,v){return Yo().memoizedState=[p,v===void 0?null:v],p},useContext:Ai,useEffect:tL,useImperativeHandle:function(p,v,b){return b=b!=null?b.concat([p]):null,gy(4194308,4,iL.bind(null,v,p),b)},useLayoutEffect:function(p,v){return gy(4194308,4,p,v)},useInsertionEffect:function(p,v){return gy(4,2,p,v)},useMemo:function(p,v){var b=Yo();return v=v===void 0?null:v,p=p(),b.memoizedState=[p,v],p},useReducer:function(p,v,b){var _=Yo();return v=b!==void 0?b(v):v,_.memoizedState=_.baseState=v,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:v},_.queue=p,p=p.dispatch=tQ.bind(null,Jt,p),[_.memoizedState,p]},useRef:function(p){var v=Yo();return p={current:p},v.memoizedState=p},useState:JF,useDebugValue:Bx,useDeferredValue:function(p){return Yo().memoizedState=p},useTransition:function(){var p=JF(!1),v=p[0];return p=eQ.bind(null,p[1]),Yo().memoizedState=p,[v,p]},useMutableSource:function(){},useSyncExternalStore:function(p,v,b){var _=Jt,A=Yo();if(qt){if(b===void 0)throw Error(r(407));b=b()}else{if(b=v(),Nr===null)throw Error(r(349));hu&30||KF(_,v,b)}A.memoizedState=b;var M={value:b,getSnapshot:v};return A.queue=M,tL(qF.bind(null,_,M,p),[p]),_.flags|=2048,mp(9,XF.bind(null,_,M,b,v),void 0,null),b},useId:function(){var p=Yo(),v=Nr.identifierPrefix;if(qt){var b=Ua,_=$a;b=(_&~(1<<32-co(_)-1)).toString(32)+b,v=":"+v+"R"+b,b=gp++,0<b&&(v+="H"+b.toString(32)),v+=":"}else b=JZ++,v=":"+v+"r"+b.toString(32)+":";return p.memoizedState=v},unstable_isNewReconciler:!1},iQ={readContext:Ai,useCallback:aL,useContext:Ai,useEffect:zx,useImperativeHandle:oL,useInsertionEffect:rL,useLayoutEffect:nL,useMemo:sL,useReducer:Ox,useRef:eL,useState:function(){return Ox(vp)},useDebugValue:Bx,useDeferredValue:function(p){var v=Ii();return lL(v,Tr.memoizedState,p)},useTransition:function(){var p=Ox(vp)[0],v=Ii().memoizedState;return[p,v]},useMutableSource:jF,useSyncExternalStore:YF,useId:uL,unstable_isNewReconciler:!1},oQ={readContext:Ai,useCallback:aL,useContext:Ai,useEffect:zx,useImperativeHandle:oL,useInsertionEffect:rL,useLayoutEffect:nL,useMemo:sL,useReducer:Nx,useRef:eL,useState:function(){return Nx(vp)},useDebugValue:Bx,useDeferredValue:function(p){var v=Ii();return Tr===null?v.memoizedState=p:lL(v,Tr.memoizedState,p)},useTransition:function(){var p=Nx(vp)[0],v=Ii().memoizedState;return[p,v]},useMutableSource:jF,useSyncExternalStore:YF,useId:uL,unstable_isNewReconciler:!1};function po(p,v){if(p&&p.defaultProps){v=K({},v),p=p.defaultProps;for(var b in p)v[b]===void 0&&(v[b]=p[b]);return v}return v}function Vx(p,v,b,_){v=p.memoizedState,b=b(_,v),b=b==null?v:K({},v,b),p.memoizedState=b,p.lanes===0&&(p.updateQueue.baseState=b)}var yy={isMounted:function(p){return(p=p._reactInternals)?ou(p)===p:!1},enqueueSetState:function(p,v,b){p=p._reactInternals;var _=Pn(),A=Qs(p),M=Ya(_,A);M.payload=v,b!=null&&(M.callback=b),v=Ks(p,M,A),v!==null&&(mo(v,p,A,_),cy(v,p,A))},enqueueReplaceState:function(p,v,b){p=p._reactInternals;var _=Pn(),A=Qs(p),M=Ya(_,A);M.tag=1,M.payload=v,b!=null&&(M.callback=b),v=Ks(p,M,A),v!==null&&(mo(v,p,A,_),cy(v,p,A))},enqueueForceUpdate:function(p,v){p=p._reactInternals;var b=Pn(),_=Qs(p),A=Ya(b,_);A.tag=2,v!=null&&(A.callback=v),v=Ks(p,A,_),v!==null&&(mo(v,p,_,b),cy(v,p,_))}};function fL(p,v,b,_,A,M,z){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(_,M,z):v.prototype&&v.prototype.isPureReactComponent?!np(b,_)||!np(A,M):!0}function pL(p,v,b){var _=!1,A=Us,M=v.contextType;return typeof M=="object"&&M!==null?M=Ai(M):(A=Hn(v)?su:rn.current,_=v.contextTypes,M=(_=_!=null)?vd(p,A):Us),v=new v(b,M),p.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=yy,p.stateNode=v,v._reactInternals=p,_&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=A,p.__reactInternalMemoizedMaskedChildContext=M),v}function gL(p,v,b,_){p=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(b,_),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(b,_),v.state!==p&&yy.enqueueReplaceState(v,v.state,null)}function Gx(p,v,b,_){var A=p.stateNode;A.props=b,A.state=p.memoizedState,A.refs={},Px(p);var M=v.contextType;typeof M=="object"&&M!==null?A.context=Ai(M):(M=Hn(v)?su:rn.current,A.context=vd(p,M)),A.state=p.memoizedState,M=v.getDerivedStateFromProps,typeof M=="function"&&(Vx(p,v,M,b),A.state=p.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(v=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),v!==A.state&&yy.enqueueReplaceState(A,A.state,null),dy(p,b,A,_),A.state=p.memoizedState),typeof A.componentDidMount=="function"&&(p.flags|=4194308)}function Rd(p,v){try{var b="",_=v;do b+=he(_),_=_.return;while(_);var A=b}catch(M){A=`
Error generating stack: `+M.message+`
`+M.stack}return{value:p,source:v,stack:A,digest:null}}function Hx(p,v,b){return{value:p,source:null,stack:b??null,digest:v??null}}function Wx(p,v){try{console.error(v.value)}catch(b){setTimeout(function(){throw b})}}var aQ=typeof WeakMap=="function"?WeakMap:Map;function vL(p,v,b){b=Ya(-1,b),b.tag=3,b.payload={element:null};var _=v.value;return b.callback=function(){_y||(_y=!0,i1=_),Wx(p,v)},b}function mL(p,v,b){b=Ya(-1,b),b.tag=3;var _=p.type.getDerivedStateFromError;if(typeof _=="function"){var A=v.value;b.payload=function(){return _(A)},b.callback=function(){Wx(p,v)}}var M=p.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(b.callback=function(){Wx(p,v),typeof _!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var z=v.stack;this.componentDidCatch(v.value,{componentStack:z!==null?z:""})}),b}function yL(p,v,b){var _=p.pingCache;if(_===null){_=p.pingCache=new aQ;var A=new Set;_.set(v,A)}else A=_.get(v),A===void 0&&(A=new Set,_.set(v,A));A.has(b)||(A.add(b),p=wQ.bind(null,p,v,b),v.then(p,p))}function CL(p){do{var v;if((v=p.tag===13)&&(v=p.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return p;p=p.return}while(p!==null);return null}function wL(p,v,b,_,A){return p.mode&1?(p.flags|=65536,p.lanes=A,p):(p===v?p.flags|=65536:(p.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(v=Ya(-1,1),v.tag=2,Ks(b,v,1))),b.lanes|=1),p)}var sQ=x.ReactCurrentOwner,Wn=!1;function Tn(p,v,b,_){v.child=p===null?VF(v,null,b,_):wd(v,p.child,b,_)}function bL(p,v,b,_,A){b=b.render;var M=v.ref;return Sd(v,A),_=Fx(p,v,b,_,M,A),b=Lx(),p!==null&&!Wn?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~A,Ka(p,v,A)):(qt&&b&&vx(v),v.flags|=1,Tn(p,v,_,A),v.child)}function SL(p,v,b,_,A){if(p===null){var M=b.type;return typeof M=="function"&&!d1(M)&&M.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(v.tag=15,v.type=M,xL(p,v,M,_,A)):(p=Ey(b.type,null,_,v,v.mode,A),p.ref=v.ref,p.return=v,v.child=p)}if(M=p.child,!(p.lanes&A)){var z=M.memoizedProps;if(b=b.compare,b=b!==null?b:np,b(z,_)&&p.ref===v.ref)return Ka(p,v,A)}return v.flags|=1,p=el(M,_),p.ref=v.ref,p.return=v,v.child=p}function xL(p,v,b,_,A){if(p!==null){var M=p.memoizedProps;if(np(M,_)&&p.ref===v.ref)if(Wn=!1,v.pendingProps=_=M,(p.lanes&A)!==0)p.flags&131072&&(Wn=!0);else return v.lanes=p.lanes,Ka(p,v,A)}return $x(p,v,b,_,A)}function RL(p,v,b){var _=v.pendingProps,A=_.children,M=p!==null?p.memoizedState:null;if(_.mode==="hidden")if(!(v.mode&1))v.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Td,hi),hi|=b;else{if(!(b&1073741824))return p=M!==null?M.baseLanes|b:b,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:p,cachePool:null,transitions:null},v.updateQueue=null,Wt(Td,hi),hi|=p,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=M!==null?M.baseLanes:b,Wt(Td,hi),hi|=_}else M!==null?(_=M.baseLanes|b,v.memoizedState=null):_=b,Wt(Td,hi),hi|=_;return Tn(p,v,A,b),v.child}function _L(p,v){var b=v.ref;(p===null&&b!==null||p!==null&&p.ref!==b)&&(v.flags|=512,v.flags|=2097152)}function $x(p,v,b,_,A){var M=Hn(b)?su:rn.current;return M=vd(v,M),Sd(v,A),b=Fx(p,v,b,_,M,A),_=Lx(),p!==null&&!Wn?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~A,Ka(p,v,A)):(qt&&_&&vx(v),v.flags|=1,Tn(p,v,b,A),v.child)}function TL(p,v,b,_,A){if(Hn(b)){var M=!0;ry(v)}else M=!1;if(Sd(v,A),v.stateNode===null)wy(p,v),pL(v,b,_),Gx(v,b,_,A),_=!0;else if(p===null){var z=v.stateNode,Y=v.memoizedProps;z.props=Y;var X=z.context,ae=b.contextType;typeof ae=="object"&&ae!==null?ae=Ai(ae):(ae=Hn(b)?su:rn.current,ae=vd(v,ae));var ye=b.getDerivedStateFromProps,Ce=typeof ye=="function"||typeof z.getSnapshotBeforeUpdate=="function";Ce||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Y!==_||X!==ae)&&gL(v,z,_,ae),Ys=!1;var ve=v.memoizedState;z.state=ve,dy(v,_,z,A),X=v.memoizedState,Y!==_||ve!==X||Gn.current||Ys?(typeof ye=="function"&&(Vx(v,b,ye,_),X=v.memoizedState),(Y=Ys||fL(v,b,Y,_,ve,X,ae))?(Ce||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(v.flags|=4194308)):(typeof z.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=_,v.memoizedState=X),z.props=_,z.state=X,z.context=ae,_=Y):(typeof z.componentDidMount=="function"&&(v.flags|=4194308),_=!1)}else{z=v.stateNode,HF(p,v),Y=v.memoizedProps,ae=v.type===v.elementType?Y:po(v.type,Y),z.props=ae,Ce=v.pendingProps,ve=z.context,X=b.contextType,typeof X=="object"&&X!==null?X=Ai(X):(X=Hn(b)?su:rn.current,X=vd(v,X));var Me=b.getDerivedStateFromProps;(ye=typeof Me=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Y!==Ce||ve!==X)&&gL(v,z,_,X),Ys=!1,ve=v.memoizedState,z.state=ve,dy(v,_,z,A);var ze=v.memoizedState;Y!==Ce||ve!==ze||Gn.current||Ys?(typeof Me=="function"&&(Vx(v,b,Me,_),ze=v.memoizedState),(ae=Ys||fL(v,b,ae,_,ve,ze,X)||!1)?(ye||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(_,ze,X),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(_,ze,X)),typeof z.componentDidUpdate=="function"&&(v.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof z.componentDidUpdate!="function"||Y===p.memoizedProps&&ve===p.memoizedState||(v.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Y===p.memoizedProps&&ve===p.memoizedState||(v.flags|=1024),v.memoizedProps=_,v.memoizedState=ze),z.props=_,z.state=ze,z.context=X,_=ae):(typeof z.componentDidUpdate!="function"||Y===p.memoizedProps&&ve===p.memoizedState||(v.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Y===p.memoizedProps&&ve===p.memoizedState||(v.flags|=1024),_=!1)}return Ux(p,v,b,_,M,A)}function Ux(p,v,b,_,A,M){_L(p,v);var z=(v.flags&128)!==0;if(!_&&!z)return A&&EF(v,b,!1),Ka(p,v,M);_=v.stateNode,sQ.current=v;var Y=z&&typeof b.getDerivedStateFromError!="function"?null:_.render();return v.flags|=1,p!==null&&z?(v.child=wd(v,p.child,null,M),v.child=wd(v,null,Y,M)):Tn(p,v,Y,M),v.memoizedState=_.state,A&&EF(v,b,!0),v.child}function PL(p){var v=p.stateNode;v.pendingContext?AF(p,v.pendingContext,v.pendingContext!==v.context):v.context&&AF(p,v.context,!1),Dx(p,v.containerInfo)}function DL(p,v,b,_,A){return Cd(),bx(A),v.flags|=256,Tn(p,v,b,_),v.child}var jx={dehydrated:null,treeContext:null,retryLane:0};function Yx(p){return{baseLanes:p,cachePool:null,transitions:null}}function AL(p,v,b){var _=v.pendingProps,A=Qt.current,M=!1,z=(v.flags&128)!==0,Y;if((Y=z)||(Y=p!==null&&p.memoizedState===null?!1:(A&2)!==0),Y?(M=!0,v.flags&=-129):(p===null||p.memoizedState!==null)&&(A|=1),Wt(Qt,A&1),p===null)return Cx(v),p=v.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?(v.mode&1?p.data==="$!"?v.lanes=8:v.lanes=1073741824:v.lanes=1,null):(z=_.children,p=_.fallback,M?(_=v.mode,M=v.child,z={mode:"hidden",children:z},!(_&1)&&M!==null?(M.childLanes=0,M.pendingProps=z):M=My(z,_,0,null),p=mu(p,_,b,null),M.return=v,p.return=v,M.sibling=p,v.child=M,v.child.memoizedState=Yx(b),v.memoizedState=jx,p):Kx(v,z));if(A=p.memoizedState,A!==null&&(Y=A.dehydrated,Y!==null))return lQ(p,v,z,_,Y,A,b);if(M){M=_.fallback,z=v.mode,A=p.child,Y=A.sibling;var X={mode:"hidden",children:_.children};return!(z&1)&&v.child!==A?(_=v.child,_.childLanes=0,_.pendingProps=X,v.deletions=null):(_=el(A,X),_.subtreeFlags=A.subtreeFlags&14680064),Y!==null?M=el(Y,M):(M=mu(M,z,b,null),M.flags|=2),M.return=v,_.return=v,_.sibling=M,v.child=_,_=M,M=v.child,z=p.child.memoizedState,z=z===null?Yx(b):{baseLanes:z.baseLanes|b,cachePool:null,transitions:z.transitions},M.memoizedState=z,M.childLanes=p.childLanes&~b,v.memoizedState=jx,_}return M=p.child,p=M.sibling,_=el(M,{mode:"visible",children:_.children}),!(v.mode&1)&&(_.lanes=b),_.return=v,_.sibling=null,p!==null&&(b=v.deletions,b===null?(v.deletions=[p],v.flags|=16):b.push(p)),v.child=_,v.memoizedState=null,_}function Kx(p,v){return v=My({mode:"visible",children:v},p.mode,0,null),v.return=p,p.child=v}function Cy(p,v,b,_){return _!==null&&bx(_),wd(v,p.child,null,b),p=Kx(v,v.pendingProps.children),p.flags|=2,v.memoizedState=null,p}function lQ(p,v,b,_,A,M,z){if(b)return v.flags&256?(v.flags&=-257,_=Hx(Error(r(422))),Cy(p,v,z,_)):v.memoizedState!==null?(v.child=p.child,v.flags|=128,null):(M=_.fallback,A=v.mode,_=My({mode:"visible",children:_.children},A,0,null),M=mu(M,A,z,null),M.flags|=2,_.return=v,M.return=v,_.sibling=M,v.child=_,v.mode&1&&wd(v,p.child,null,z),v.child.memoizedState=Yx(z),v.memoizedState=jx,M);if(!(v.mode&1))return Cy(p,v,z,null);if(A.data==="$!"){if(_=A.nextSibling&&A.nextSibling.dataset,_)var Y=_.dgst;return _=Y,M=Error(r(419)),_=Hx(M,_,void 0),Cy(p,v,z,_)}if(Y=(z&p.childLanes)!==0,Wn||Y){if(_=Nr,_!==null){switch(z&-z){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=A&(_.suspendedLanes|z)?0:A,A!==0&&A!==M.retryLane&&(M.retryLane=A,ja(p,A),mo(_,p,A,-1))}return c1(),_=Hx(Error(r(421))),Cy(p,v,z,_)}return A.data==="$?"?(v.flags|=128,v.child=p.child,v=bQ.bind(null,p),A._reactRetry=v,null):(p=M.treeContext,di=Ws(A.nextSibling),ci=v,qt=!0,fo=null,p!==null&&(Pi[Di++]=$a,Pi[Di++]=Ua,Pi[Di++]=lu,$a=p.id,Ua=p.overflow,lu=v),v=Kx(v,_.children),v.flags|=4096,v)}function IL(p,v,b){p.lanes|=v;var _=p.alternate;_!==null&&(_.lanes|=v),_x(p.return,v,b)}function Xx(p,v,b,_,A){var M=p.memoizedState;M===null?p.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:_,tail:b,tailMode:A}:(M.isBackwards=v,M.rendering=null,M.renderingStartTime=0,M.last=_,M.tail=b,M.tailMode=A)}function EL(p,v,b){var _=v.pendingProps,A=_.revealOrder,M=_.tail;if(Tn(p,v,_.children,b),_=Qt.current,_&2)_=_&1|2,v.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=v.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&IL(p,b,v);else if(p.tag===19)IL(p,b,v);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===v)break e;for(;p.sibling===null;){if(p.return===null||p.return===v)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}_&=1}if(Wt(Qt,_),!(v.mode&1))v.memoizedState=null;else switch(A){case"forwards":for(b=v.child,A=null;b!==null;)p=b.alternate,p!==null&&hy(p)===null&&(A=b),b=b.sibling;b=A,b===null?(A=v.child,v.child=null):(A=b.sibling,b.sibling=null),Xx(v,!1,A,b,M);break;case"backwards":for(b=null,A=v.child,v.child=null;A!==null;){if(p=A.alternate,p!==null&&hy(p)===null){v.child=A;break}p=A.sibling,A.sibling=b,b=A,A=p}Xx(v,!0,b,null,M);break;case"together":Xx(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function wy(p,v){!(v.mode&1)&&p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2)}function Ka(p,v,b){if(p!==null&&(v.dependencies=p.dependencies),fu|=v.lanes,!(b&v.childLanes))return null;if(p!==null&&v.child!==p.child)throw Error(r(153));if(v.child!==null){for(p=v.child,b=el(p,p.pendingProps),v.child=b,b.return=v;p.sibling!==null;)p=p.sibling,b=b.sibling=el(p,p.pendingProps),b.return=v;b.sibling=null}return v.child}function uQ(p,v,b){switch(v.tag){case 3:PL(v),Cd();break;case 5:UF(v);break;case 1:Hn(v.type)&&ry(v);break;case 4:Dx(v,v.stateNode.containerInfo);break;case 10:var _=v.type._context,A=v.memoizedProps.value;Wt(ly,_._currentValue),_._currentValue=A;break;case 13:if(_=v.memoizedState,_!==null)return _.dehydrated!==null?(Wt(Qt,Qt.current&1),v.flags|=128,null):b&v.child.childLanes?AL(p,v,b):(Wt(Qt,Qt.current&1),p=Ka(p,v,b),p!==null?p.sibling:null);Wt(Qt,Qt.current&1);break;case 19:if(_=(b&v.childLanes)!==0,p.flags&128){if(_)return EL(p,v,b);v.flags|=128}if(A=v.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Wt(Qt,Qt.current),_)break;return null;case 22:case 23:return v.lanes=0,RL(p,v,b)}return Ka(p,v,b)}var ML,qx,kL,FL;ML=function(p,v){for(var b=v.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===v)break;for(;b.sibling===null;){if(b.return===null||b.return===v)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},qx=function(){},kL=function(p,v,b,_){var A=p.memoizedProps;if(A!==_){p=v.stateNode,du(jo.current);var M=null;switch(b){case"input":A=Oe(p,A),_=Oe(p,_),M=[];break;case"select":A=K({},A,{value:void 0}),_=K({},_,{value:void 0}),M=[];break;case"textarea":A=Vn(p,A),_=Vn(p,_),M=[];break;default:typeof A.onClick!="function"&&typeof _.onClick=="function"&&(p.onclick=Jm)}AS(b,_);var z;b=null;for(ae in A)if(!_.hasOwnProperty(ae)&&A.hasOwnProperty(ae)&&A[ae]!=null)if(ae==="style"){var Y=A[ae];for(z in Y)Y.hasOwnProperty(z)&&(b||(b={}),b[z]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(i.hasOwnProperty(ae)?M||(M=[]):(M=M||[]).push(ae,null));for(ae in _){var X=_[ae];if(Y=A!=null?A[ae]:void 0,_.hasOwnProperty(ae)&&X!==Y&&(X!=null||Y!=null))if(ae==="style")if(Y){for(z in Y)!Y.hasOwnProperty(z)||X&&X.hasOwnProperty(z)||(b||(b={}),b[z]="");for(z in X)X.hasOwnProperty(z)&&Y[z]!==X[z]&&(b||(b={}),b[z]=X[z])}else b||(M||(M=[]),M.push(ae,b)),b=X;else ae==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,Y=Y?Y.__html:void 0,X!=null&&Y!==X&&(M=M||[]).push(ae,X)):ae==="children"?typeof X!="string"&&typeof X!="number"||(M=M||[]).push(ae,""+X):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(i.hasOwnProperty(ae)?(X!=null&&ae==="onScroll"&&Ut("scroll",p),M||Y===X||(M=[])):(M=M||[]).push(ae,X))}b&&(M=M||[]).push("style",b);var ae=M;(v.updateQueue=ae)&&(v.flags|=4)}},FL=function(p,v,b,_){b!==_&&(v.flags|=4)};function yp(p,v){if(!qt)switch(p.tailMode){case"hidden":v=p.tail;for(var b=null;v!==null;)v.alternate!==null&&(b=v),v=v.sibling;b===null?p.tail=null:b.sibling=null;break;case"collapsed":b=p.tail;for(var _=null;b!==null;)b.alternate!==null&&(_=b),b=b.sibling;_===null?v||p.tail===null?p.tail=null:p.tail.sibling=null:_.sibling=null}}function on(p){var v=p.alternate!==null&&p.alternate.child===p.child,b=0,_=0;if(v)for(var A=p.child;A!==null;)b|=A.lanes|A.childLanes,_|=A.subtreeFlags&14680064,_|=A.flags&14680064,A.return=p,A=A.sibling;else for(A=p.child;A!==null;)b|=A.lanes|A.childLanes,_|=A.subtreeFlags,_|=A.flags,A.return=p,A=A.sibling;return p.subtreeFlags|=_,p.childLanes=b,v}function cQ(p,v,b){var _=v.pendingProps;switch(mx(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(v),null;case 1:return Hn(v.type)&&ty(),on(v),null;case 3:return _=v.stateNode,xd(),jt(Gn),jt(rn),Ex(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(p===null||p.child===null)&&(ay(v)?v.flags|=4:p===null||p.memoizedState.isDehydrated&&!(v.flags&256)||(v.flags|=1024,fo!==null&&(s1(fo),fo=null))),qx(p,v),on(v),null;case 5:Ax(v);var A=du(fp.current);if(b=v.type,p!==null&&v.stateNode!=null)kL(p,v,b,_,A),p.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!_){if(v.stateNode===null)throw Error(r(166));return on(v),null}if(p=du(jo.current),ay(v)){_=v.stateNode,b=v.type;var M=v.memoizedProps;switch(_[Uo]=v,_[lp]=M,p=(v.mode&1)!==0,b){case"dialog":Ut("cancel",_),Ut("close",_);break;case"iframe":case"object":case"embed":Ut("load",_);break;case"video":case"audio":for(A=0;A<op.length;A++)Ut(op[A],_);break;case"source":Ut("error",_);break;case"img":case"image":case"link":Ut("error",_),Ut("load",_);break;case"details":Ut("toggle",_);break;case"input":Ge(_,M),Ut("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!M.multiple},Ut("invalid",_);break;case"textarea":li(_,M),Ut("invalid",_)}AS(b,M),A=null;for(var z in M)if(M.hasOwnProperty(z)){var Y=M[z];z==="children"?typeof Y=="string"?_.textContent!==Y&&(M.suppressHydrationWarning!==!0&&Qm(_.textContent,Y,p),A=["children",Y]):typeof Y=="number"&&_.textContent!==""+Y&&(M.suppressHydrationWarning!==!0&&Qm(_.textContent,Y,p),A=["children",""+Y]):i.hasOwnProperty(z)&&Y!=null&&z==="onScroll"&&Ut("scroll",_)}switch(b){case"input":de(_),fr(_,M,!0);break;case"textarea":de(_),Vf(_);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(_.onclick=Jm)}_=A,v.updateQueue=_,_!==null&&(v.flags|=4)}else{z=A.nodeType===9?A:A.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=Em(b)),p==="http://www.w3.org/1999/xhtml"?b==="script"?(p=z.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof _.is=="string"?p=z.createElement(b,{is:_.is}):(p=z.createElement(b),b==="select"&&(z=p,_.multiple?z.multiple=!0:_.size&&(z.size=_.size))):p=z.createElementNS(p,b),p[Uo]=v,p[lp]=_,ML(p,v,!1,!1),v.stateNode=p;e:{switch(z=IS(b,_),b){case"dialog":Ut("cancel",p),Ut("close",p),A=_;break;case"iframe":case"object":case"embed":Ut("load",p),A=_;break;case"video":case"audio":for(A=0;A<op.length;A++)Ut(op[A],p);A=_;break;case"source":Ut("error",p),A=_;break;case"img":case"image":case"link":Ut("error",p),Ut("load",p),A=_;break;case"details":Ut("toggle",p),A=_;break;case"input":Ge(p,_),A=Oe(p,_),Ut("invalid",p);break;case"option":A=_;break;case"select":p._wrapperState={wasMultiple:!!_.multiple},A=K({},_,{value:void 0}),Ut("invalid",p);break;case"textarea":li(p,_),A=Vn(p,_),Ut("invalid",p);break;default:A=_}AS(b,A),Y=A;for(M in Y)if(Y.hasOwnProperty(M)){var X=Y[M];M==="style"?xk(p,X):M==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&tn(p,X)):M==="children"?typeof X=="string"?(b!=="textarea"||X!=="")&&iu(p,X):typeof X=="number"&&iu(p,""+X):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?X!=null&&M==="onScroll"&&Ut("scroll",p):X!=null&&S(p,M,X,z))}switch(b){case"input":de(p),fr(p,_,!1);break;case"textarea":de(p),Vf(p);break;case"option":_.value!=null&&p.setAttribute("value",""+ee(_.value));break;case"select":p.multiple=!!_.multiple,M=_.value,M!=null?Lt(p,!!_.multiple,M,!1):_.defaultValue!=null&&Lt(p,!!_.multiple,_.defaultValue,!0);break;default:typeof A.onClick=="function"&&(p.onclick=Jm)}switch(b){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return on(v),null;case 6:if(p&&v.stateNode!=null)FL(p,v,p.memoizedProps,_);else{if(typeof _!="string"&&v.stateNode===null)throw Error(r(166));if(b=du(fp.current),du(jo.current),ay(v)){if(_=v.stateNode,b=v.memoizedProps,_[Uo]=v,(M=_.nodeValue!==b)&&(p=ci,p!==null))switch(p.tag){case 3:Qm(_.nodeValue,b,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&Qm(_.nodeValue,b,(p.mode&1)!==0)}M&&(v.flags|=4)}else _=(b.nodeType===9?b:b.ownerDocument).createTextNode(_),_[Uo]=v,v.stateNode=_}return on(v),null;case 13:if(jt(Qt),_=v.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(qt&&di!==null&&v.mode&1&&!(v.flags&128))NF(),Cd(),v.flags|=98560,M=!1;else if(M=ay(v),_!==null&&_.dehydrated!==null){if(p===null){if(!M)throw Error(r(318));if(M=v.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[Uo]=v}else Cd(),!(v.flags&128)&&(v.memoizedState=null),v.flags|=4;on(v),M=!1}else fo!==null&&(s1(fo),fo=null),M=!0;if(!M)return v.flags&65536?v:null}return v.flags&128?(v.lanes=b,v):(_=_!==null,_!==(p!==null&&p.memoizedState!==null)&&_&&(v.child.flags|=8192,v.mode&1&&(p===null||Qt.current&1?Pr===0&&(Pr=3):c1())),v.updateQueue!==null&&(v.flags|=4),on(v),null);case 4:return xd(),qx(p,v),p===null&&ap(v.stateNode.containerInfo),on(v),null;case 10:return Rx(v.type._context),on(v),null;case 17:return Hn(v.type)&&ty(),on(v),null;case 19:if(jt(Qt),M=v.memoizedState,M===null)return on(v),null;if(_=(v.flags&128)!==0,z=M.rendering,z===null)if(_)yp(M,!1);else{if(Pr!==0||p!==null&&p.flags&128)for(p=v.child;p!==null;){if(z=hy(p),z!==null){for(v.flags|=128,yp(M,!1),_=z.updateQueue,_!==null&&(v.updateQueue=_,v.flags|=4),v.subtreeFlags=0,_=b,b=v.child;b!==null;)M=b,p=_,M.flags&=14680066,z=M.alternate,z===null?(M.childLanes=0,M.lanes=p,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=z.childLanes,M.lanes=z.lanes,M.child=z.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=z.memoizedProps,M.memoizedState=z.memoizedState,M.updateQueue=z.updateQueue,M.type=z.type,p=z.dependencies,M.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),b=b.sibling;return Wt(Qt,Qt.current&1|2),v.child}p=p.sibling}M.tail!==null&&pr()>Pd&&(v.flags|=128,_=!0,yp(M,!1),v.lanes=4194304)}else{if(!_)if(p=hy(z),p!==null){if(v.flags|=128,_=!0,b=p.updateQueue,b!==null&&(v.updateQueue=b,v.flags|=4),yp(M,!0),M.tail===null&&M.tailMode==="hidden"&&!z.alternate&&!qt)return on(v),null}else 2*pr()-M.renderingStartTime>Pd&&b!==1073741824&&(v.flags|=128,_=!0,yp(M,!1),v.lanes=4194304);M.isBackwards?(z.sibling=v.child,v.child=z):(b=M.last,b!==null?b.sibling=z:v.child=z,M.last=z)}return M.tail!==null?(v=M.tail,M.rendering=v,M.tail=v.sibling,M.renderingStartTime=pr(),v.sibling=null,b=Qt.current,Wt(Qt,_?b&1|2:b&1),v):(on(v),null);case 22:case 23:return u1(),_=v.memoizedState!==null,p!==null&&p.memoizedState!==null!==_&&(v.flags|=8192),_&&v.mode&1?hi&1073741824&&(on(v),v.subtreeFlags&6&&(v.flags|=8192)):on(v),null;case 24:return null;case 25:return null}throw Error(r(156,v.tag))}function dQ(p,v){switch(mx(v),v.tag){case 1:return Hn(v.type)&&ty(),p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 3:return xd(),jt(Gn),jt(rn),Ex(),p=v.flags,p&65536&&!(p&128)?(v.flags=p&-65537|128,v):null;case 5:return Ax(v),null;case 13:if(jt(Qt),p=v.memoizedState,p!==null&&p.dehydrated!==null){if(v.alternate===null)throw Error(r(340));Cd()}return p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 19:return jt(Qt),null;case 4:return xd(),null;case 10:return Rx(v.type._context),null;case 22:case 23:return u1(),null;case 24:return null;default:return null}}var by=!1,an=!1,hQ=typeof WeakSet=="function"?WeakSet:Set,Le=null;function _d(p,v){var b=p.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(_){ur(p,v,_)}else b.current=null}function Zx(p,v,b){try{b()}catch(_){ur(p,v,_)}}var LL=!1;function fQ(p,v){if(lx=Gm,p=fF(),ex(p)){if("selectionStart"in p)var b={start:p.selectionStart,end:p.selectionEnd};else e:{b=(b=p.ownerDocument)&&b.defaultView||window;var _=b.getSelection&&b.getSelection();if(_&&_.rangeCount!==0){b=_.anchorNode;var A=_.anchorOffset,M=_.focusNode;_=_.focusOffset;try{b.nodeType,M.nodeType}catch{b=null;break e}var z=0,Y=-1,X=-1,ae=0,ye=0,Ce=p,ve=null;t:for(;;){for(var Me;Ce!==b||A!==0&&Ce.nodeType!==3||(Y=z+A),Ce!==M||_!==0&&Ce.nodeType!==3||(X=z+_),Ce.nodeType===3&&(z+=Ce.nodeValue.length),(Me=Ce.firstChild)!==null;)ve=Ce,Ce=Me;for(;;){if(Ce===p)break t;if(ve===b&&++ae===A&&(Y=z),ve===M&&++ye===_&&(X=z),(Me=Ce.nextSibling)!==null)break;Ce=ve,ve=Ce.parentNode}Ce=Me}b=Y===-1||X===-1?null:{start:Y,end:X}}else b=null}b=b||{start:0,end:0}}else b=null;for(ux={focusedElem:p,selectionRange:b},Gm=!1,Le=v;Le!==null;)if(v=Le,p=v.child,(v.subtreeFlags&1028)!==0&&p!==null)p.return=v,Le=p;else for(;Le!==null;){v=Le;try{var ze=v.alternate;if(v.flags&1024)switch(v.tag){case 0:case 11:case 15:break;case 1:if(ze!==null){var He=ze.memoizedProps,gr=ze.memoizedState,te=v.stateNode,Q=te.getSnapshotBeforeUpdate(v.elementType===v.type?He:po(v.type,He),gr);te.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var re=v.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Re){ur(v,v.return,Re)}if(p=v.sibling,p!==null){p.return=v.return,Le=p;break}Le=v.return}return ze=LL,LL=!1,ze}function Cp(p,v,b){var _=v.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var A=_=_.next;do{if((A.tag&p)===p){var M=A.destroy;A.destroy=void 0,M!==void 0&&Zx(v,b,M)}A=A.next}while(A!==_)}}function Sy(p,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var b=v=v.next;do{if((b.tag&p)===p){var _=b.create;b.destroy=_()}b=b.next}while(b!==v)}}function Qx(p){var v=p.ref;if(v!==null){var b=p.stateNode;switch(p.tag){case 5:p=b;break;default:p=b}typeof v=="function"?v(p):v.current=p}}function OL(p){var v=p.alternate;v!==null&&(p.alternate=null,OL(v)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(v=p.stateNode,v!==null&&(delete v[Uo],delete v[lp],delete v[fx],delete v[XZ],delete v[qZ])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function NL(p){return p.tag===5||p.tag===3||p.tag===4}function zL(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||NL(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function Jx(p,v,b){var _=p.tag;if(_===5||_===6)p=p.stateNode,v?b.nodeType===8?b.parentNode.insertBefore(p,v):b.insertBefore(p,v):(b.nodeType===8?(v=b.parentNode,v.insertBefore(p,b)):(v=b,v.appendChild(p)),b=b._reactRootContainer,b!=null||v.onclick!==null||(v.onclick=Jm));else if(_!==4&&(p=p.child,p!==null))for(Jx(p,v,b),p=p.sibling;p!==null;)Jx(p,v,b),p=p.sibling}function e1(p,v,b){var _=p.tag;if(_===5||_===6)p=p.stateNode,v?b.insertBefore(p,v):b.appendChild(p);else if(_!==4&&(p=p.child,p!==null))for(e1(p,v,b),p=p.sibling;p!==null;)e1(p,v,b),p=p.sibling}var Wr=null,go=!1;function Xs(p,v,b){for(b=b.child;b!==null;)BL(p,v,b),b=b.sibling}function BL(p,v,b){if($o&&typeof $o.onCommitFiberUnmount=="function")try{$o.onCommitFiberUnmount(Lm,b)}catch{}switch(b.tag){case 5:an||_d(b,v);case 6:var _=Wr,A=go;Wr=null,Xs(p,v,b),Wr=_,go=A,Wr!==null&&(go?(p=Wr,b=b.stateNode,p.nodeType===8?p.parentNode.removeChild(b):p.removeChild(b)):Wr.removeChild(b.stateNode));break;case 18:Wr!==null&&(go?(p=Wr,b=b.stateNode,p.nodeType===8?hx(p.parentNode,b):p.nodeType===1&&hx(p,b),Zf(p)):hx(Wr,b.stateNode));break;case 4:_=Wr,A=go,Wr=b.stateNode.containerInfo,go=!0,Xs(p,v,b),Wr=_,go=A;break;case 0:case 11:case 14:case 15:if(!an&&(_=b.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){A=_=_.next;do{var M=A,z=M.destroy;M=M.tag,z!==void 0&&(M&2||M&4)&&Zx(b,v,z),A=A.next}while(A!==_)}Xs(p,v,b);break;case 1:if(!an&&(_d(b,v),_=b.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=b.memoizedProps,_.state=b.memoizedState,_.componentWillUnmount()}catch(Y){ur(b,v,Y)}Xs(p,v,b);break;case 21:Xs(p,v,b);break;case 22:b.mode&1?(an=(_=an)||b.memoizedState!==null,Xs(p,v,b),an=_):Xs(p,v,b);break;default:Xs(p,v,b)}}function VL(p){var v=p.updateQueue;if(v!==null){p.updateQueue=null;var b=p.stateNode;b===null&&(b=p.stateNode=new hQ),v.forEach(function(_){var A=SQ.bind(null,p,_);b.has(_)||(b.add(_),_.then(A,A))})}}function vo(p,v){var b=v.deletions;if(b!==null)for(var _=0;_<b.length;_++){var A=b[_];try{var M=p,z=v,Y=z;e:for(;Y!==null;){switch(Y.tag){case 5:Wr=Y.stateNode,go=!1;break e;case 3:Wr=Y.stateNode.containerInfo,go=!0;break e;case 4:Wr=Y.stateNode.containerInfo,go=!0;break e}Y=Y.return}if(Wr===null)throw Error(r(160));BL(M,z,A),Wr=null,go=!1;var X=A.alternate;X!==null&&(X.return=null),A.return=null}catch(ae){ur(A,v,ae)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)GL(v,p),v=v.sibling}function GL(p,v){var b=p.alternate,_=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(vo(v,p),Ko(p),_&4){try{Cp(3,p,p.return),Sy(3,p)}catch(He){ur(p,p.return,He)}try{Cp(5,p,p.return)}catch(He){ur(p,p.return,He)}}break;case 1:vo(v,p),Ko(p),_&512&&b!==null&&_d(b,b.return);break;case 5:if(vo(v,p),Ko(p),_&512&&b!==null&&_d(b,b.return),p.flags&32){var A=p.stateNode;try{iu(A,"")}catch(He){ur(p,p.return,He)}}if(_&4&&(A=p.stateNode,A!=null)){var M=p.memoizedProps,z=b!==null?b.memoizedProps:M,Y=p.type,X=p.updateQueue;if(p.updateQueue=null,X!==null)try{Y==="input"&&M.type==="radio"&&M.name!=null&&st(A,M),IS(Y,z);var ae=IS(Y,M);for(z=0;z<X.length;z+=2){var ye=X[z],Ce=X[z+1];ye==="style"?xk(A,Ce):ye==="dangerouslySetInnerHTML"?tn(A,Ce):ye==="children"?iu(A,Ce):S(A,ye,Ce,ae)}switch(Y){case"input":Ft(A,M);break;case"textarea":Ti(A,M);break;case"select":var ve=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!M.multiple;var Me=M.value;Me!=null?Lt(A,!!M.multiple,Me,!1):ve!==!!M.multiple&&(M.defaultValue!=null?Lt(A,!!M.multiple,M.defaultValue,!0):Lt(A,!!M.multiple,M.multiple?[]:"",!1))}A[lp]=M}catch(He){ur(p,p.return,He)}}break;case 6:if(vo(v,p),Ko(p),_&4){if(p.stateNode===null)throw Error(r(162));A=p.stateNode,M=p.memoizedProps;try{A.nodeValue=M}catch(He){ur(p,p.return,He)}}break;case 3:if(vo(v,p),Ko(p),_&4&&b!==null&&b.memoizedState.isDehydrated)try{Zf(v.containerInfo)}catch(He){ur(p,p.return,He)}break;case 4:vo(v,p),Ko(p);break;case 13:vo(v,p),Ko(p),A=p.child,A.flags&8192&&(M=A.memoizedState!==null,A.stateNode.isHidden=M,!M||A.alternate!==null&&A.alternate.memoizedState!==null||(n1=pr())),_&4&&VL(p);break;case 22:if(ye=b!==null&&b.memoizedState!==null,p.mode&1?(an=(ae=an)||ye,vo(v,p),an=ae):vo(v,p),Ko(p),_&8192){if(ae=p.memoizedState!==null,(p.stateNode.isHidden=ae)&&!ye&&p.mode&1)for(Le=p,ye=p.child;ye!==null;){for(Ce=Le=ye;Le!==null;){switch(ve=Le,Me=ve.child,ve.tag){case 0:case 11:case 14:case 15:Cp(4,ve,ve.return);break;case 1:_d(ve,ve.return);var ze=ve.stateNode;if(typeof ze.componentWillUnmount=="function"){_=ve,b=ve.return;try{v=_,ze.props=v.memoizedProps,ze.state=v.memoizedState,ze.componentWillUnmount()}catch(He){ur(_,b,He)}}break;case 5:_d(ve,ve.return);break;case 22:if(ve.memoizedState!==null){$L(Ce);continue}}Me!==null?(Me.return=ve,Le=Me):$L(Ce)}ye=ye.sibling}e:for(ye=null,Ce=p;;){if(Ce.tag===5){if(ye===null){ye=Ce;try{A=Ce.stateNode,ae?(M=A.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(Y=Ce.stateNode,X=Ce.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null,Y.style.display=Sk("display",z))}catch(He){ur(p,p.return,He)}}}else if(Ce.tag===6){if(ye===null)try{Ce.stateNode.nodeValue=ae?"":Ce.memoizedProps}catch(He){ur(p,p.return,He)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===p)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===p)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===p)break e;ye===Ce&&(ye=null),Ce=Ce.return}ye===Ce&&(ye=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:vo(v,p),Ko(p),_&4&&VL(p);break;case 21:break;default:vo(v,p),Ko(p)}}function Ko(p){var v=p.flags;if(v&2){try{e:{for(var b=p.return;b!==null;){if(NL(b)){var _=b;break e}b=b.return}throw Error(r(160))}switch(_.tag){case 5:var A=_.stateNode;_.flags&32&&(iu(A,""),_.flags&=-33);var M=zL(p);e1(p,M,A);break;case 3:case 4:var z=_.stateNode.containerInfo,Y=zL(p);Jx(p,Y,z);break;default:throw Error(r(161))}}catch(X){ur(p,p.return,X)}p.flags&=-3}v&4096&&(p.flags&=-4097)}function pQ(p,v,b){Le=p,HL(p)}function HL(p,v,b){for(var _=(p.mode&1)!==0;Le!==null;){var A=Le,M=A.child;if(A.tag===22&&_){var z=A.memoizedState!==null||by;if(!z){var Y=A.alternate,X=Y!==null&&Y.memoizedState!==null||an;Y=by;var ae=an;if(by=z,(an=X)&&!ae)for(Le=A;Le!==null;)z=Le,X=z.child,z.tag===22&&z.memoizedState!==null?UL(A):X!==null?(X.return=z,Le=X):UL(A);for(;M!==null;)Le=M,HL(M),M=M.sibling;Le=A,by=Y,an=ae}WL(p)}else A.subtreeFlags&8772&&M!==null?(M.return=A,Le=M):WL(p)}}function WL(p){for(;Le!==null;){var v=Le;if(v.flags&8772){var b=v.alternate;try{if(v.flags&8772)switch(v.tag){case 0:case 11:case 15:an||Sy(5,v);break;case 1:var _=v.stateNode;if(v.flags&4&&!an)if(b===null)_.componentDidMount();else{var A=v.elementType===v.type?b.memoizedProps:po(v.type,b.memoizedProps);_.componentDidUpdate(A,b.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var M=v.updateQueue;M!==null&&$F(v,M,_);break;case 3:var z=v.updateQueue;if(z!==null){if(b=null,v.child!==null)switch(v.child.tag){case 5:b=v.child.stateNode;break;case 1:b=v.child.stateNode}$F(v,z,b)}break;case 5:var Y=v.stateNode;if(b===null&&v.flags&4){b=Y;var X=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&b.focus();break;case"img":X.src&&(b.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var ae=v.alternate;if(ae!==null){var ye=ae.memoizedState;if(ye!==null){var Ce=ye.dehydrated;Ce!==null&&Zf(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}an||v.flags&512&&Qx(v)}catch(ve){ur(v,v.return,ve)}}if(v===p){Le=null;break}if(b=v.sibling,b!==null){b.return=v.return,Le=b;break}Le=v.return}}function $L(p){for(;Le!==null;){var v=Le;if(v===p){Le=null;break}var b=v.sibling;if(b!==null){b.return=v.return,Le=b;break}Le=v.return}}function UL(p){for(;Le!==null;){var v=Le;try{switch(v.tag){case 0:case 11:case 15:var b=v.return;try{Sy(4,v)}catch(X){ur(v,b,X)}break;case 1:var _=v.stateNode;if(typeof _.componentDidMount=="function"){var A=v.return;try{_.componentDidMount()}catch(X){ur(v,A,X)}}var M=v.return;try{Qx(v)}catch(X){ur(v,M,X)}break;case 5:var z=v.return;try{Qx(v)}catch(X){ur(v,z,X)}}}catch(X){ur(v,v.return,X)}if(v===p){Le=null;break}var Y=v.sibling;if(Y!==null){Y.return=v.return,Le=Y;break}Le=v.return}}var gQ=Math.ceil,xy=x.ReactCurrentDispatcher,t1=x.ReactCurrentOwner,Ei=x.ReactCurrentBatchConfig,St=0,Nr=null,wr=null,$r=0,hi=0,Td=$s(0),Pr=0,wp=null,fu=0,Ry=0,r1=0,bp=null,$n=null,n1=0,Pd=1/0,Xa=null,_y=!1,i1=null,qs=null,Ty=!1,Zs=null,Py=0,Sp=0,o1=null,Dy=-1,Ay=0;function Pn(){return St&6?pr():Dy!==-1?Dy:Dy=pr()}function Qs(p){return p.mode&1?St&2&&$r!==0?$r&-$r:QZ.transition!==null?(Ay===0&&(Ay=zk()),Ay):(p=Ot,p!==0||(p=window.event,p=p===void 0?16:Yk(p.type)),p):1}function mo(p,v,b,_){if(50<Sp)throw Sp=0,o1=null,Error(r(185));jf(p,b,_),(!(St&2)||p!==Nr)&&(p===Nr&&(!(St&2)&&(Ry|=b),Pr===4&&Js(p,$r)),Un(p,_),b===1&&St===0&&!(v.mode&1)&&(Pd=pr()+500,ny&&js()))}function Un(p,v){var b=p.callbackNode;Qq(p,v);var _=zm(p,p===Nr?$r:0);if(_===0)b!==null&&Lk(b),p.callbackNode=null,p.callbackPriority=0;else if(v=_&-_,p.callbackPriority!==v){if(b!=null&&Lk(b),v===1)p.tag===0?ZZ(YL.bind(null,p)):MF(YL.bind(null,p)),YZ(function(){!(St&6)&&js()}),b=null;else{switch(Bk(_)){case 1:b=NS;break;case 4:b=Ok;break;case 16:b=Fm;break;case 536870912:b=Nk;break;default:b=Fm}b=tO(b,jL.bind(null,p))}p.callbackPriority=v,p.callbackNode=b}}function jL(p,v){if(Dy=-1,Ay=0,St&6)throw Error(r(327));var b=p.callbackNode;if(Dd()&&p.callbackNode!==b)return null;var _=zm(p,p===Nr?$r:0);if(_===0)return null;if(_&30||_&p.expiredLanes||v)v=Iy(p,_);else{v=_;var A=St;St|=2;var M=XL();(Nr!==p||$r!==v)&&(Xa=null,Pd=pr()+500,gu(p,v));do try{yQ();break}catch(Y){KL(p,Y)}while(!0);xx(),xy.current=M,St=A,wr!==null?v=0:(Nr=null,$r=0,v=Pr)}if(v!==0){if(v===2&&(A=zS(p),A!==0&&(_=A,v=a1(p,A))),v===1)throw b=wp,gu(p,0),Js(p,_),Un(p,pr()),b;if(v===6)Js(p,_);else{if(A=p.current.alternate,!(_&30)&&!vQ(A)&&(v=Iy(p,_),v===2&&(M=zS(p),M!==0&&(_=M,v=a1(p,M))),v===1))throw b=wp,gu(p,0),Js(p,_),Un(p,pr()),b;switch(p.finishedWork=A,p.finishedLanes=_,v){case 0:case 1:throw Error(r(345));case 2:vu(p,$n,Xa);break;case 3:if(Js(p,_),(_&130023424)===_&&(v=n1+500-pr(),10<v)){if(zm(p,0)!==0)break;if(A=p.suspendedLanes,(A&_)!==_){Pn(),p.pingedLanes|=p.suspendedLanes&A;break}p.timeoutHandle=dx(vu.bind(null,p,$n,Xa),v);break}vu(p,$n,Xa);break;case 4:if(Js(p,_),(_&4194240)===_)break;for(v=p.eventTimes,A=-1;0<_;){var z=31-co(_);M=1<<z,z=v[z],z>A&&(A=z),_&=~M}if(_=A,_=pr()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*gQ(_/1960))-_,10<_){p.timeoutHandle=dx(vu.bind(null,p,$n,Xa),_);break}vu(p,$n,Xa);break;case 5:vu(p,$n,Xa);break;default:throw Error(r(329))}}}return Un(p,pr()),p.callbackNode===b?jL.bind(null,p):null}function a1(p,v){var b=bp;return p.current.memoizedState.isDehydrated&&(gu(p,v).flags|=256),p=Iy(p,v),p!==2&&(v=$n,$n=b,v!==null&&s1(v)),p}function s1(p){$n===null?$n=p:$n.push.apply($n,p)}function vQ(p){for(var v=p;;){if(v.flags&16384){var b=v.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var _=0;_<b.length;_++){var A=b[_],M=A.getSnapshot;A=A.value;try{if(!ho(M(),A))return!1}catch{return!1}}}if(b=v.child,v.subtreeFlags&16384&&b!==null)b.return=v,v=b;else{if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function Js(p,v){for(v&=~r1,v&=~Ry,p.suspendedLanes|=v,p.pingedLanes&=~v,p=p.expirationTimes;0<v;){var b=31-co(v),_=1<<b;p[b]=-1,v&=~_}}function YL(p){if(St&6)throw Error(r(327));Dd();var v=zm(p,0);if(!(v&1))return Un(p,pr()),null;var b=Iy(p,v);if(p.tag!==0&&b===2){var _=zS(p);_!==0&&(v=_,b=a1(p,_))}if(b===1)throw b=wp,gu(p,0),Js(p,v),Un(p,pr()),b;if(b===6)throw Error(r(345));return p.finishedWork=p.current.alternate,p.finishedLanes=v,vu(p,$n,Xa),Un(p,pr()),null}function l1(p,v){var b=St;St|=1;try{return p(v)}finally{St=b,St===0&&(Pd=pr()+500,ny&&js())}}function pu(p){Zs!==null&&Zs.tag===0&&!(St&6)&&Dd();var v=St;St|=1;var b=Ei.transition,_=Ot;try{if(Ei.transition=null,Ot=1,p)return p()}finally{Ot=_,Ei.transition=b,St=v,!(St&6)&&js()}}function u1(){hi=Td.current,jt(Td)}function gu(p,v){p.finishedWork=null,p.finishedLanes=0;var b=p.timeoutHandle;if(b!==-1&&(p.timeoutHandle=-1,jZ(b)),wr!==null)for(b=wr.return;b!==null;){var _=b;switch(mx(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&ty();break;case 3:xd(),jt(Gn),jt(rn),Ex();break;case 5:Ax(_);break;case 4:xd();break;case 13:jt(Qt);break;case 19:jt(Qt);break;case 10:Rx(_.type._context);break;case 22:case 23:u1()}b=b.return}if(Nr=p,wr=p=el(p.current,null),$r=hi=v,Pr=0,wp=null,r1=Ry=fu=0,$n=bp=null,cu!==null){for(v=0;v<cu.length;v++)if(b=cu[v],_=b.interleaved,_!==null){b.interleaved=null;var A=_.next,M=b.pending;if(M!==null){var z=M.next;M.next=A,_.next=z}b.pending=_}cu=null}return p}function KL(p,v){do{var b=wr;try{if(xx(),fy.current=my,py){for(var _=Jt.memoizedState;_!==null;){var A=_.queue;A!==null&&(A.pending=null),_=_.next}py=!1}if(hu=0,Or=Tr=Jt=null,pp=!1,gp=0,t1.current=null,b===null||b.return===null){Pr=1,wp=v,wr=null;break}e:{var M=p,z=b.return,Y=b,X=v;if(v=$r,Y.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ae=X,ye=Y,Ce=ye.tag;if(!(ye.mode&1)&&(Ce===0||Ce===11||Ce===15)){var ve=ye.alternate;ve?(ye.updateQueue=ve.updateQueue,ye.memoizedState=ve.memoizedState,ye.lanes=ve.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Me=CL(z);if(Me!==null){Me.flags&=-257,wL(Me,z,Y,M,v),Me.mode&1&&yL(M,ae,v),v=Me,X=ae;var ze=v.updateQueue;if(ze===null){var He=new Set;He.add(X),v.updateQueue=He}else ze.add(X);break e}else{if(!(v&1)){yL(M,ae,v),c1();break e}X=Error(r(426))}}else if(qt&&Y.mode&1){var gr=CL(z);if(gr!==null){!(gr.flags&65536)&&(gr.flags|=256),wL(gr,z,Y,M,v),bx(Rd(X,Y));break e}}M=X=Rd(X,Y),Pr!==4&&(Pr=2),bp===null?bp=[M]:bp.push(M),M=z;do{switch(M.tag){case 3:M.flags|=65536,v&=-v,M.lanes|=v;var te=vL(M,X,v);WF(M,te);break e;case 1:Y=X;var Q=M.type,re=M.stateNode;if(!(M.flags&128)&&(typeof Q.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(qs===null||!qs.has(re)))){M.flags|=65536,v&=-v,M.lanes|=v;var Re=mL(M,Y,v);WF(M,Re);break e}}M=M.return}while(M!==null)}ZL(b)}catch(We){v=We,wr===b&&b!==null&&(wr=b=b.return);continue}break}while(!0)}function XL(){var p=xy.current;return xy.current=my,p===null?my:p}function c1(){(Pr===0||Pr===3||Pr===2)&&(Pr=4),Nr===null||!(fu&268435455)&&!(Ry&268435455)||Js(Nr,$r)}function Iy(p,v){var b=St;St|=2;var _=XL();(Nr!==p||$r!==v)&&(Xa=null,gu(p,v));do try{mQ();break}catch(A){KL(p,A)}while(!0);if(xx(),St=b,xy.current=_,wr!==null)throw Error(r(261));return Nr=null,$r=0,Pr}function mQ(){for(;wr!==null;)qL(wr)}function yQ(){for(;wr!==null&&!Wq();)qL(wr)}function qL(p){var v=eO(p.alternate,p,hi);p.memoizedProps=p.pendingProps,v===null?ZL(p):wr=v,t1.current=null}function ZL(p){var v=p;do{var b=v.alternate;if(p=v.return,v.flags&32768){if(b=dQ(b,v),b!==null){b.flags&=32767,wr=b;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{Pr=6,wr=null;return}}else if(b=cQ(b,v,hi),b!==null){wr=b;return}if(v=v.sibling,v!==null){wr=v;return}wr=v=p}while(v!==null);Pr===0&&(Pr=5)}function vu(p,v,b){var _=Ot,A=Ei.transition;try{Ei.transition=null,Ot=1,CQ(p,v,b,_)}finally{Ei.transition=A,Ot=_}return null}function CQ(p,v,b,_){do Dd();while(Zs!==null);if(St&6)throw Error(r(327));b=p.finishedWork;var A=p.finishedLanes;if(b===null)return null;if(p.finishedWork=null,p.finishedLanes=0,b===p.current)throw Error(r(177));p.callbackNode=null,p.callbackPriority=0;var M=b.lanes|b.childLanes;if(Jq(p,M),p===Nr&&(wr=Nr=null,$r=0),!(b.subtreeFlags&2064)&&!(b.flags&2064)||Ty||(Ty=!0,tO(Fm,function(){return Dd(),null})),M=(b.flags&15990)!==0,b.subtreeFlags&15990||M){M=Ei.transition,Ei.transition=null;var z=Ot;Ot=1;var Y=St;St|=4,t1.current=null,fQ(p,b),GL(b,p),BZ(ux),Gm=!!lx,ux=lx=null,p.current=b,pQ(b),$q(),St=Y,Ot=z,Ei.transition=M}else p.current=b;if(Ty&&(Ty=!1,Zs=p,Py=A),M=p.pendingLanes,M===0&&(qs=null),Yq(b.stateNode),Un(p,pr()),v!==null)for(_=p.onRecoverableError,b=0;b<v.length;b++)A=v[b],_(A.value,{componentStack:A.stack,digest:A.digest});if(_y)throw _y=!1,p=i1,i1=null,p;return Py&1&&p.tag!==0&&Dd(),M=p.pendingLanes,M&1?p===o1?Sp++:(Sp=0,o1=p):Sp=0,js(),null}function Dd(){if(Zs!==null){var p=Bk(Py),v=Ei.transition,b=Ot;try{if(Ei.transition=null,Ot=16>p?16:p,Zs===null)var _=!1;else{if(p=Zs,Zs=null,Py=0,St&6)throw Error(r(331));var A=St;for(St|=4,Le=p.current;Le!==null;){var M=Le,z=M.child;if(Le.flags&16){var Y=M.deletions;if(Y!==null){for(var X=0;X<Y.length;X++){var ae=Y[X];for(Le=ae;Le!==null;){var ye=Le;switch(ye.tag){case 0:case 11:case 15:Cp(8,ye,M)}var Ce=ye.child;if(Ce!==null)Ce.return=ye,Le=Ce;else for(;Le!==null;){ye=Le;var ve=ye.sibling,Me=ye.return;if(OL(ye),ye===ae){Le=null;break}if(ve!==null){ve.return=Me,Le=ve;break}Le=Me}}}var ze=M.alternate;if(ze!==null){var He=ze.child;if(He!==null){ze.child=null;do{var gr=He.sibling;He.sibling=null,He=gr}while(He!==null)}}Le=M}}if(M.subtreeFlags&2064&&z!==null)z.return=M,Le=z;else e:for(;Le!==null;){if(M=Le,M.flags&2048)switch(M.tag){case 0:case 11:case 15:Cp(9,M,M.return)}var te=M.sibling;if(te!==null){te.return=M.return,Le=te;break e}Le=M.return}}var Q=p.current;for(Le=Q;Le!==null;){z=Le;var re=z.child;if(z.subtreeFlags&2064&&re!==null)re.return=z,Le=re;else e:for(z=Q;Le!==null;){if(Y=Le,Y.flags&2048)try{switch(Y.tag){case 0:case 11:case 15:Sy(9,Y)}}catch(We){ur(Y,Y.return,We)}if(Y===z){Le=null;break e}var Re=Y.sibling;if(Re!==null){Re.return=Y.return,Le=Re;break e}Le=Y.return}}if(St=A,js(),$o&&typeof $o.onPostCommitFiberRoot=="function")try{$o.onPostCommitFiberRoot(Lm,p)}catch{}_=!0}return _}finally{Ot=b,Ei.transition=v}}return!1}function QL(p,v,b){v=Rd(b,v),v=vL(p,v,1),p=Ks(p,v,1),v=Pn(),p!==null&&(jf(p,1,v),Un(p,v))}function ur(p,v,b){if(p.tag===3)QL(p,p,b);else for(;v!==null;){if(v.tag===3){QL(v,p,b);break}else if(v.tag===1){var _=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(qs===null||!qs.has(_))){p=Rd(b,p),p=mL(v,p,1),v=Ks(v,p,1),p=Pn(),v!==null&&(jf(v,1,p),Un(v,p));break}}v=v.return}}function wQ(p,v,b){var _=p.pingCache;_!==null&&_.delete(v),v=Pn(),p.pingedLanes|=p.suspendedLanes&b,Nr===p&&($r&b)===b&&(Pr===4||Pr===3&&($r&130023424)===$r&&500>pr()-n1?gu(p,0):r1|=b),Un(p,v)}function JL(p,v){v===0&&(p.mode&1?(v=Nm,Nm<<=1,!(Nm&130023424)&&(Nm=4194304)):v=1);var b=Pn();p=ja(p,v),p!==null&&(jf(p,v,b),Un(p,b))}function bQ(p){var v=p.memoizedState,b=0;v!==null&&(b=v.retryLane),JL(p,b)}function SQ(p,v){var b=0;switch(p.tag){case 13:var _=p.stateNode,A=p.memoizedState;A!==null&&(b=A.retryLane);break;case 19:_=p.stateNode;break;default:throw Error(r(314))}_!==null&&_.delete(v),JL(p,b)}var eO;eO=function(p,v,b){if(p!==null)if(p.memoizedProps!==v.pendingProps||Gn.current)Wn=!0;else{if(!(p.lanes&b)&&!(v.flags&128))return Wn=!1,uQ(p,v,b);Wn=!!(p.flags&131072)}else Wn=!1,qt&&v.flags&1048576&&kF(v,oy,v.index);switch(v.lanes=0,v.tag){case 2:var _=v.type;wy(p,v),p=v.pendingProps;var A=vd(v,rn.current);Sd(v,b),A=Fx(null,v,_,p,A,b);var M=Lx();return v.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,Hn(_)?(M=!0,ry(v)):M=!1,v.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,Px(v),A.updater=yy,v.stateNode=A,A._reactInternals=v,Gx(v,_,p,b),v=Ux(null,v,_,!0,M,b)):(v.tag=0,qt&&M&&vx(v),Tn(null,v,A,b),v=v.child),v;case 16:_=v.elementType;e:{switch(wy(p,v),p=v.pendingProps,A=_._init,_=A(_._payload),v.type=_,A=v.tag=RQ(_),p=po(_,p),A){case 0:v=$x(null,v,_,p,b);break e;case 1:v=TL(null,v,_,p,b);break e;case 11:v=bL(null,v,_,p,b);break e;case 14:v=SL(null,v,_,po(_.type,p),b);break e}throw Error(r(306,_,""))}return v;case 0:return _=v.type,A=v.pendingProps,A=v.elementType===_?A:po(_,A),$x(p,v,_,A,b);case 1:return _=v.type,A=v.pendingProps,A=v.elementType===_?A:po(_,A),TL(p,v,_,A,b);case 3:e:{if(PL(v),p===null)throw Error(r(387));_=v.pendingProps,M=v.memoizedState,A=M.element,HF(p,v),dy(v,_,null,b);var z=v.memoizedState;if(_=z.element,M.isDehydrated)if(M={element:_,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},v.updateQueue.baseState=M,v.memoizedState=M,v.flags&256){A=Rd(Error(r(423)),v),v=DL(p,v,_,b,A);break e}else if(_!==A){A=Rd(Error(r(424)),v),v=DL(p,v,_,b,A);break e}else for(di=Ws(v.stateNode.containerInfo.firstChild),ci=v,qt=!0,fo=null,b=VF(v,null,_,b),v.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Cd(),_===A){v=Ka(p,v,b);break e}Tn(p,v,_,b)}v=v.child}return v;case 5:return UF(v),p===null&&Cx(v),_=v.type,A=v.pendingProps,M=p!==null?p.memoizedProps:null,z=A.children,cx(_,A)?z=null:M!==null&&cx(_,M)&&(v.flags|=32),_L(p,v),Tn(p,v,z,b),v.child;case 6:return p===null&&Cx(v),null;case 13:return AL(p,v,b);case 4:return Dx(v,v.stateNode.containerInfo),_=v.pendingProps,p===null?v.child=wd(v,null,_,b):Tn(p,v,_,b),v.child;case 11:return _=v.type,A=v.pendingProps,A=v.elementType===_?A:po(_,A),bL(p,v,_,A,b);case 7:return Tn(p,v,v.pendingProps,b),v.child;case 8:return Tn(p,v,v.pendingProps.children,b),v.child;case 12:return Tn(p,v,v.pendingProps.children,b),v.child;case 10:e:{if(_=v.type._context,A=v.pendingProps,M=v.memoizedProps,z=A.value,Wt(ly,_._currentValue),_._currentValue=z,M!==null)if(ho(M.value,z)){if(M.children===A.children&&!Gn.current){v=Ka(p,v,b);break e}}else for(M=v.child,M!==null&&(M.return=v);M!==null;){var Y=M.dependencies;if(Y!==null){z=M.child;for(var X=Y.firstContext;X!==null;){if(X.context===_){if(M.tag===1){X=Ya(-1,b&-b),X.tag=2;var ae=M.updateQueue;if(ae!==null){ae=ae.shared;var ye=ae.pending;ye===null?X.next=X:(X.next=ye.next,ye.next=X),ae.pending=X}}M.lanes|=b,X=M.alternate,X!==null&&(X.lanes|=b),_x(M.return,b,v),Y.lanes|=b;break}X=X.next}}else if(M.tag===10)z=M.type===v.type?null:M.child;else if(M.tag===18){if(z=M.return,z===null)throw Error(r(341));z.lanes|=b,Y=z.alternate,Y!==null&&(Y.lanes|=b),_x(z,b,v),z=M.sibling}else z=M.child;if(z!==null)z.return=M;else for(z=M;z!==null;){if(z===v){z=null;break}if(M=z.sibling,M!==null){M.return=z.return,z=M;break}z=z.return}M=z}Tn(p,v,A.children,b),v=v.child}return v;case 9:return A=v.type,_=v.pendingProps.children,Sd(v,b),A=Ai(A),_=_(A),v.flags|=1,Tn(p,v,_,b),v.child;case 14:return _=v.type,A=po(_,v.pendingProps),A=po(_.type,A),SL(p,v,_,A,b);case 15:return xL(p,v,v.type,v.pendingProps,b);case 17:return _=v.type,A=v.pendingProps,A=v.elementType===_?A:po(_,A),wy(p,v),v.tag=1,Hn(_)?(p=!0,ry(v)):p=!1,Sd(v,b),pL(v,_,A),Gx(v,_,A,b),Ux(null,v,_,!0,p,b);case 19:return EL(p,v,b);case 22:return RL(p,v,b)}throw Error(r(156,v.tag))};function tO(p,v){return Fk(p,v)}function xQ(p,v,b,_){this.tag=p,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(p,v,b,_){return new xQ(p,v,b,_)}function d1(p){return p=p.prototype,!(!p||!p.isReactComponent)}function RQ(p){if(typeof p=="function")return d1(p)?1:0;if(p!=null){if(p=p.$$typeof,p===L)return 11;if(p===V)return 14}return 2}function el(p,v){var b=p.alternate;return b===null?(b=Mi(p.tag,v,p.key,p.mode),b.elementType=p.elementType,b.type=p.type,b.stateNode=p.stateNode,b.alternate=p,p.alternate=b):(b.pendingProps=v,b.type=p.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=p.flags&14680064,b.childLanes=p.childLanes,b.lanes=p.lanes,b.child=p.child,b.memoizedProps=p.memoizedProps,b.memoizedState=p.memoizedState,b.updateQueue=p.updateQueue,v=p.dependencies,b.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},b.sibling=p.sibling,b.index=p.index,b.ref=p.ref,b}function Ey(p,v,b,_,A,M){var z=2;if(_=p,typeof p=="function")d1(p)&&(z=1);else if(typeof p=="string")z=5;else e:switch(p){case P:return mu(b.children,A,M,v);case D:z=8,A|=8;break;case I:return p=Mi(12,b,v,A|2),p.elementType=I,p.lanes=M,p;case N:return p=Mi(13,b,v,A),p.elementType=N,p.lanes=M,p;case B:return p=Mi(19,b,v,A),p.elementType=B,p.lanes=M,p;case j:return My(b,A,M,v);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case E:z=10;break e;case k:z=9;break e;case L:z=11;break e;case V:z=14;break e;case W:z=16,_=null;break e}throw Error(r(130,p==null?p:typeof p,""))}return v=Mi(z,b,v,A),v.elementType=p,v.type=_,v.lanes=M,v}function mu(p,v,b,_){return p=Mi(7,p,_,v),p.lanes=b,p}function My(p,v,b,_){return p=Mi(22,p,_,v),p.elementType=j,p.lanes=b,p.stateNode={isHidden:!1},p}function h1(p,v,b){return p=Mi(6,p,null,v),p.lanes=b,p}function f1(p,v,b){return v=Mi(4,p.children!==null?p.children:[],p.key,v),v.lanes=b,v.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},v}function _Q(p,v,b,_,A){this.tag=v,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=BS(0),this.expirationTimes=BS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=BS(0),this.identifierPrefix=_,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function p1(p,v,b,_,A,M,z,Y,X){return p=new _Q(p,v,b,Y,X),v===1?(v=1,M===!0&&(v|=8)):v=0,M=Mi(3,null,null,v),p.current=M,M.stateNode=p,M.memoizedState={element:_,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},Px(M),p}function TQ(p,v,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:_==null?null:""+_,children:p,containerInfo:v,implementation:b}}function rO(p){if(!p)return Us;p=p._reactInternals;e:{if(ou(p)!==p||p.tag!==1)throw Error(r(170));var v=p;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(Hn(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(r(171))}if(p.tag===1){var b=p.type;if(Hn(b))return IF(p,b,v)}return v}function nO(p,v,b,_,A,M,z,Y,X){return p=p1(b,_,!0,p,A,M,z,Y,X),p.context=rO(null),b=p.current,_=Pn(),A=Qs(b),M=Ya(_,A),M.callback=v??null,Ks(b,M,A),p.current.lanes=A,jf(p,A,_),Un(p,_),p}function ky(p,v,b,_){var A=v.current,M=Pn(),z=Qs(A);return b=rO(b),v.context===null?v.context=b:v.pendingContext=b,v=Ya(M,z),v.payload={element:p},_=_===void 0?null:_,_!==null&&(v.callback=_),p=Ks(A,v,z),p!==null&&(mo(p,A,z,M),cy(p,A,z)),z}function Fy(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function iO(p,v){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var b=p.retryLane;p.retryLane=b!==0&&b<v?b:v}}function g1(p,v){iO(p,v),(p=p.alternate)&&iO(p,v)}function PQ(){return null}var oO=typeof reportError=="function"?reportError:function(p){console.error(p)};function v1(p){this._internalRoot=p}Ly.prototype.render=v1.prototype.render=function(p){var v=this._internalRoot;if(v===null)throw Error(r(409));ky(p,v,null,null)},Ly.prototype.unmount=v1.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var v=p.containerInfo;pu(function(){ky(null,p,null,null)}),v[Ha]=null}};function Ly(p){this._internalRoot=p}Ly.prototype.unstable_scheduleHydration=function(p){if(p){var v=Hk();p={blockedOn:null,target:p,priority:v};for(var b=0;b<Vs.length&&v!==0&&v<Vs[b].priority;b++);Vs.splice(b,0,p),b===0&&Uk(p)}};function m1(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function Oy(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function aO(){}function DQ(p,v,b,_,A){if(A){if(typeof _=="function"){var M=_;_=function(){var ae=Fy(z);M.call(ae)}}var z=nO(v,_,p,0,null,!1,!1,"",aO);return p._reactRootContainer=z,p[Ha]=z.current,ap(p.nodeType===8?p.parentNode:p),pu(),z}for(;A=p.lastChild;)p.removeChild(A);if(typeof _=="function"){var Y=_;_=function(){var ae=Fy(X);Y.call(ae)}}var X=p1(p,0,!1,null,null,!1,!1,"",aO);return p._reactRootContainer=X,p[Ha]=X.current,ap(p.nodeType===8?p.parentNode:p),pu(function(){ky(v,X,b,_)}),X}function Ny(p,v,b,_,A){var M=b._reactRootContainer;if(M){var z=M;if(typeof A=="function"){var Y=A;A=function(){var X=Fy(z);Y.call(X)}}ky(v,z,p,A)}else z=DQ(b,v,p,A,_);return Fy(z)}Vk=function(p){switch(p.tag){case 3:var v=p.stateNode;if(v.current.memoizedState.isDehydrated){var b=Uf(v.pendingLanes);b!==0&&(VS(v,b|1),Un(v,pr()),!(St&6)&&(Pd=pr()+500,js()))}break;case 13:pu(function(){var _=ja(p,1);if(_!==null){var A=Pn();mo(_,p,1,A)}}),g1(p,1)}},GS=function(p){if(p.tag===13){var v=ja(p,134217728);if(v!==null){var b=Pn();mo(v,p,134217728,b)}g1(p,134217728)}},Gk=function(p){if(p.tag===13){var v=Qs(p),b=ja(p,v);if(b!==null){var _=Pn();mo(b,p,v,_)}g1(p,v)}},Hk=function(){return Ot},Wk=function(p,v){var b=Ot;try{return Ot=p,v()}finally{Ot=b}},kS=function(p,v,b){switch(v){case"input":if(Ft(p,b),v=b.name,b.type==="radio"&&v!=null){for(b=p;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<b.length;v++){var _=b[v];if(_!==p&&_.form===p.form){var A=ey(_);if(!A)throw Error(r(90));pe(_),Ft(_,A)}}}break;case"textarea":Ti(p,b);break;case"select":v=b.value,v!=null&&Lt(p,!!b.multiple,v,!1)}},Pk=l1,Dk=pu;var AQ={usingClientEntryPoint:!1,Events:[up,pd,ey,_k,Tk,l1]},xp={findFiberByHostInstance:au,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IQ={bundleType:xp.bundleType,version:xp.version,rendererPackageName:xp.rendererPackageName,rendererConfig:xp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=Mk(p),p===null?null:p.stateNode},findFiberByHostInstance:xp.findFiberByHostInstance||PQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zy.isDisabled&&zy.supportsFiber)try{Lm=zy.inject(IQ),$o=zy}catch{}}return jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AQ,jn.createPortal=function(p,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m1(v))throw Error(r(200));return TQ(p,v,null,b)},jn.createRoot=function(p,v){if(!m1(p))throw Error(r(299));var b=!1,_="",A=oO;return v!=null&&(v.unstable_strictMode===!0&&(b=!0),v.identifierPrefix!==void 0&&(_=v.identifierPrefix),v.onRecoverableError!==void 0&&(A=v.onRecoverableError)),v=p1(p,1,!1,null,null,b,!1,_,A),p[Ha]=v.current,ap(p.nodeType===8?p.parentNode:p),new v1(v)},jn.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var v=p._reactInternals;if(v===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=Mk(v),p=p===null?null:p.stateNode,p},jn.flushSync=function(p){return pu(p)},jn.hydrate=function(p,v,b){if(!Oy(v))throw Error(r(200));return Ny(null,p,v,!0,b)},jn.hydrateRoot=function(p,v,b){if(!m1(p))throw Error(r(405));var _=b!=null&&b.hydratedSources||null,A=!1,M="",z=oO;if(b!=null&&(b.unstable_strictMode===!0&&(A=!0),b.identifierPrefix!==void 0&&(M=b.identifierPrefix),b.onRecoverableError!==void 0&&(z=b.onRecoverableError)),v=nO(v,null,p,1,b??null,A,!1,M,z),p[Ha]=v.current,ap(p),_)for(p=0;p<_.length;p++)b=_[p],A=b._getVersion,A=A(b._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[b,A]:v.mutableSourceEagerHydrationData.push(b,A);return new Ly(v)},jn.render=function(p,v,b){if(!Oy(v))throw Error(r(200));return Ny(null,p,v,!1,b)},jn.unmountComponentAtNode=function(p){if(!Oy(p))throw Error(r(40));return p._reactRootContainer?(pu(function(){Ny(null,null,p,!1,function(){p._reactRootContainer=null,p[Ha]=null})}),!0):!1},jn.unstable_batchedUpdates=l1,jn.unstable_renderSubtreeIntoContainer=function(p,v,b,_){if(!Oy(b))throw Error(r(200));if(p==null||p._reactInternals===void 0)throw Error(r(38));return Ny(p,v,b,!1,_)},jn.version="18.3.1-next-f1338f8080-20240426",jn}var gO;function G3(){if(gO)return w1.exports;gO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),w1.exports=zQ(),w1.exports}var vO;function BQ(){if(vO)return By;vO=1;var e=G3();return By.createRoot=e.createRoot,By.hydrateRoot=e.hydrateRoot,By}var VQ=BQ();const Ci=(...e)=>e.filter(Boolean).map(t=>t.trim()).join(" ");function GQ(e,t){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${t}`}function Dg(e={}){const{name:t,strict:r=!0,hookName:n="useContext",providerName:i="Provider",errorMessage:o,defaultValue:a}=e,s=O.createContext(a);s.displayName=t;function l(){var c;const u=O.useContext(s);if(!u&&r){const d=new Error(o??GQ(n,i));throw d.name="ContextError",(c=Error.captureStackTrace)==null||c.call(Error,d,l),d}return u}return[s.Provider,l,s]}function HQ(...e){return function(...r){e.forEach(n=>n==null?void 0:n(...r))}}const WQ=(...e)=>e.map(t=>{var r;return(r=t==null?void 0:t.trim)==null?void 0:r.call(t)}).filter(Boolean).join(" "),$Q=/^on[A-Z]/;function tv(...e){let t={};for(let r of e){for(let n in t){if($Q.test(n)&&typeof t[n]=="function"&&typeof r[n]=="function"){t[n]=HQ(t[n],r[n]);continue}if(n==="className"||n==="class"){t[n]=WQ(t[n],r[n]);continue}if(n==="style"){t[n]=Object.assign({},t[n]??{},r[n]??{});continue}t[n]=r[n]!==void 0?r[n]:t[n]}for(let n in r)t[n]===void 0&&(t[n]=r[n])}return t}const UQ=Object.freeze({}),jQ=Object.freeze({});function H3(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var YQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,KQ=H3(function(e){return YQ.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function XQ(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function qQ(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var ZQ=function(){function e(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(qQ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=XQ(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},e}(),dn="-ms-",Ww="-moz-",Pt="-webkit-",W3="comm",DA="rule",AA="decl",QQ="@import",$3="@keyframes",JQ="@layer",eJ=Math.abs,mb=String.fromCharCode,tJ=Object.assign;function rJ(e,t){return Kr(e,0)^45?(((t<<2^Kr(e,0))<<2^Kr(e,1))<<2^Kr(e,2))<<2^Kr(e,3):0}function U3(e){return e.trim()}function nJ(e,t){return(e=t.exec(e))?e[0]:e}function Dt(e,t,r){return e.replace(t,r)}function OT(e,t){return e.indexOf(t)}function Kr(e,t){return e.charCodeAt(t)|0}function rv(e,t,r){return e.slice(t,r)}function ua(e){return e.length}function IA(e){return e.length}function Vy(e,t){return t.push(e),e}function iJ(e,t){return e.map(t).join("")}var yb=1,Vh=1,j3=0,ai=0,Sr=0,uf="";function Cb(e,t,r,n,i,o,a){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:yb,column:Vh,length:a,return:""}}function _p(e,t){return tJ(Cb("",null,null,"",null,null,0),e,{length:-e.length},t)}function oJ(){return Sr}function aJ(){return Sr=ai>0?Kr(uf,--ai):0,Vh--,Sr===10&&(Vh=1,yb--),Sr}function wi(){return Sr=ai<j3?Kr(uf,ai++):0,Vh++,Sr===10&&(Vh=1,yb++),Sr}function ya(){return Kr(uf,ai)}function ow(){return ai}function Xv(e,t){return rv(uf,e,t)}function nv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Y3(e){return yb=Vh=1,j3=ua(uf=e),ai=0,[]}function K3(e){return uf="",e}function aw(e){return U3(Xv(ai-1,NT(e===91?e+2:e===40?e+1:e)))}function sJ(e){for(;(Sr=ya())&&Sr<33;)wi();return nv(e)>2||nv(Sr)>3?"":" "}function lJ(e,t){for(;--t&&wi()&&!(Sr<48||Sr>102||Sr>57&&Sr<65||Sr>70&&Sr<97););return Xv(e,ow()+(t<6&&ya()==32&&wi()==32))}function NT(e){for(;wi();)switch(Sr){case e:return ai;case 34:case 39:e!==34&&e!==39&&NT(Sr);break;case 40:e===41&&NT(e);break;case 92:wi();break}return ai}function uJ(e,t){for(;wi()&&e+Sr!==57;)if(e+Sr===84&&ya()===47)break;return"/*"+Xv(t,ai-1)+"*"+mb(e===47?e:wi())}function cJ(e){for(;!nv(ya());)wi();return Xv(e,ai)}function dJ(e){return K3(sw("",null,null,null,[""],e=Y3(e),0,[0],e))}function sw(e,t,r,n,i,o,a,s,l){for(var u=0,c=0,d=a,h=0,f=0,g=0,m=1,y=1,C=1,w=0,S="",x=i,R=o,T=n,P=S;y;)switch(g=w,w=wi()){case 40:if(g!=108&&Kr(P,d-1)==58){OT(P+=Dt(aw(w),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:P+=aw(w);break;case 9:case 10:case 13:case 32:P+=sJ(g);break;case 92:P+=lJ(ow()-1,7);continue;case 47:switch(ya()){case 42:case 47:Vy(hJ(uJ(wi(),ow()),t,r),l);break;default:P+="/"}break;case 123*m:s[u++]=ua(P)*C;case 125*m:case 59:case 0:switch(w){case 0:case 125:y=0;case 59+c:C==-1&&(P=Dt(P,/\f/g,"")),f>0&&ua(P)-d&&Vy(f>32?yO(P+";",n,r,d-1):yO(Dt(P," ","")+";",n,r,d-2),l);break;case 59:P+=";";default:if(Vy(T=mO(P,t,r,u,c,i,s,S,x=[],R=[],d),o),w===123)if(c===0)sw(P,t,T,T,x,o,d,s,R);else switch(h===99&&Kr(P,3)===110?100:h){case 100:case 108:case 109:case 115:sw(e,T,T,n&&Vy(mO(e,T,T,0,0,i,s,S,i,x=[],d),R),i,R,d,s,n?x:R);break;default:sw(P,T,T,T,[""],R,0,s,R)}}u=c=f=0,m=C=1,S=P="",d=a;break;case 58:d=1+ua(P),f=g;default:if(m<1){if(w==123)--m;else if(w==125&&m++==0&&aJ()==125)continue}switch(P+=mb(w),w*m){case 38:C=c>0?1:(P+="\f",-1);break;case 44:s[u++]=(ua(P)-1)*C,C=1;break;case 64:ya()===45&&(P+=aw(wi())),h=ya(),c=d=ua(S=P+=cJ(ow())),w++;break;case 45:g===45&&ua(P)==2&&(m=0)}}return o}function mO(e,t,r,n,i,o,a,s,l,u,c){for(var d=i-1,h=i===0?o:[""],f=IA(h),g=0,m=0,y=0;g<n;++g)for(var C=0,w=rv(e,d+1,d=eJ(m=a[g])),S=e;C<f;++C)(S=U3(m>0?h[C]+" "+w:Dt(w,/&\f/g,h[C])))&&(l[y++]=S);return Cb(e,t,r,i===0?DA:s,l,u,c)}function hJ(e,t,r){return Cb(e,t,r,W3,mb(oJ()),rv(e,2,-2),0)}function yO(e,t,r,n){return Cb(e,t,r,AA,rv(e,0,n),rv(e,n+1,-1),n)}function wh(e,t){for(var r="",n=IA(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function fJ(e,t,r,n){switch(e.type){case JQ:if(e.children.length)break;case QQ:case AA:return e.return=e.return||e.value;case W3:return"";case $3:return e.return=e.value+"{"+wh(e.children,n)+"}";case DA:e.value=e.props.join(",")}return ua(r=wh(e.children,n))?e.return=e.value+"{"+r+"}":""}function pJ(e){var t=IA(e);return function(r,n,i,o){for(var a="",s=0;s<t;s++)a+=e[s](r,n,i,o)||"";return a}}function gJ(e){return function(t){t.root||(t=t.return)&&e(t)}}var vJ=function(t,r,n){for(var i=0,o=0;i=o,o=ya(),i===38&&o===12&&(r[n]=1),!nv(o);)wi();return Xv(t,ai)},mJ=function(t,r){var n=-1,i=44;do switch(nv(i)){case 0:i===38&&ya()===12&&(r[n]=1),t[n]+=vJ(ai-1,r,n);break;case 2:t[n]+=aw(i);break;case 4:if(i===44){t[++n]=ya()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=mb(i)}while(i=wi());return t},yJ=function(t,r){return K3(mJ(Y3(t),r))},CO=new WeakMap,CJ=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!CO.get(n))&&!i){CO.set(t,!0);for(var o=[],a=yJ(r,o),s=n.props,l=0,u=0;l<a.length;l++)for(var c=0;c<s.length;c++,u++)t.props[u]=o[l]?a[l].replace(/&\f/g,s[c]):s[c]+" "+a[l]}}},wJ=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function X3(e,t){switch(rJ(e,t)){case 5103:return Pt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Pt+e+Ww+e+dn+e+e;case 6828:case 4268:return Pt+e+dn+e+e;case 6165:return Pt+e+dn+"flex-"+e+e;case 5187:return Pt+e+Dt(e,/(\w+).+(:[^]+)/,Pt+"box-$1$2"+dn+"flex-$1$2")+e;case 5443:return Pt+e+dn+"flex-item-"+Dt(e,/flex-|-self/,"")+e;case 4675:return Pt+e+dn+"flex-line-pack"+Dt(e,/align-content|flex-|-self/,"")+e;case 5548:return Pt+e+dn+Dt(e,"shrink","negative")+e;case 5292:return Pt+e+dn+Dt(e,"basis","preferred-size")+e;case 6060:return Pt+"box-"+Dt(e,"-grow","")+Pt+e+dn+Dt(e,"grow","positive")+e;case 4554:return Pt+Dt(e,/([^-])(transform)/g,"$1"+Pt+"$2")+e;case 6187:return Dt(Dt(Dt(e,/(zoom-|grab)/,Pt+"$1"),/(image-set)/,Pt+"$1"),e,"")+e;case 5495:case 3959:return Dt(e,/(image-set\([^]*)/,Pt+"$1$`$1");case 4968:return Dt(Dt(e,/(.+:)(flex-)?(.*)/,Pt+"box-pack:$3"+dn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pt+e+e;case 4095:case 3583:case 4068:case 2532:return Dt(e,/(.+)-inline(.+)/,Pt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ua(e)-1-t>6)switch(Kr(e,t+1)){case 109:if(Kr(e,t+4)!==45)break;case 102:return Dt(e,/(.+:)(.+)-([^]+)/,"$1"+Pt+"$2-$3$1"+Ww+(Kr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~OT(e,"stretch")?X3(Dt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Kr(e,t+1)!==115)break;case 6444:switch(Kr(e,ua(e)-3-(~OT(e,"!important")&&10))){case 107:return Dt(e,":",":"+Pt)+e;case 101:return Dt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pt+(Kr(e,14)===45?"inline-":"")+"box$3$1"+Pt+"$2$3$1"+dn+"$2box$3")+e}break;case 5936:switch(Kr(e,t+11)){case 114:return Pt+e+dn+Dt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Pt+e+dn+Dt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Pt+e+dn+Dt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Pt+e+dn+e+e}return e}var bJ=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case AA:t.return=X3(t.value,t.length);break;case $3:return wh([_p(t,{value:Dt(t.value,"@","@"+Pt)})],i);case DA:if(t.length)return iJ(t.props,function(o){switch(nJ(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wh([_p(t,{props:[Dt(o,/:(read-\w+)/,":"+Ww+"$1")]})],i);case"::placeholder":return wh([_p(t,{props:[Dt(o,/:(plac\w+)/,":"+Pt+"input-$1")]}),_p(t,{props:[Dt(o,/:(plac\w+)/,":"+Ww+"$1")]}),_p(t,{props:[Dt(o,/:(plac\w+)/,dn+"input-$1")]})],i)}return""})}},SJ=[bJ],xJ=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||SJ,o={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),C=1;C<y.length;C++)o[y[C]]=!0;s.push(m)});var l,u=[CJ,wJ];{var c,d=[fJ,gJ(function(m){c.insert(m)})],h=pJ(u.concat(i,d)),f=function(y){return wh(dJ(y),h)};l=function(y,C,w,S){c=w,f(y?y+"{"+C.styles+"}":C.styles),S&&(g.inserted[C.name]=!0)}}var g={key:r,sheet:new ZQ({key:r,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(s),g},x1={exports:{}},It={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wO;function RJ(){if(wO)return It;wO=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,c=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,f=e?Symbol.for("react.memo"):60115,g=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,C=e?Symbol.for("react.responder"):60118,w=e?Symbol.for("react.scope"):60119;function S(R){if(typeof R=="object"&&R!==null){var T=R.$$typeof;switch(T){case t:switch(R=R.type,R){case l:case u:case n:case o:case i:case d:return R;default:switch(R=R&&R.$$typeof,R){case s:case c:case g:case f:case a:return R;default:return T}}case r:return T}}}function x(R){return S(R)===u}return It.AsyncMode=l,It.ConcurrentMode=u,It.ContextConsumer=s,It.ContextProvider=a,It.Element=t,It.ForwardRef=c,It.Fragment=n,It.Lazy=g,It.Memo=f,It.Portal=r,It.Profiler=o,It.StrictMode=i,It.Suspense=d,It.isAsyncMode=function(R){return x(R)||S(R)===l},It.isConcurrentMode=x,It.isContextConsumer=function(R){return S(R)===s},It.isContextProvider=function(R){return S(R)===a},It.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===t},It.isForwardRef=function(R){return S(R)===c},It.isFragment=function(R){return S(R)===n},It.isLazy=function(R){return S(R)===g},It.isMemo=function(R){return S(R)===f},It.isPortal=function(R){return S(R)===r},It.isProfiler=function(R){return S(R)===o},It.isStrictMode=function(R){return S(R)===i},It.isSuspense=function(R){return S(R)===d},It.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===n||R===u||R===o||R===i||R===d||R===h||typeof R=="object"&&R!==null&&(R.$$typeof===g||R.$$typeof===f||R.$$typeof===a||R.$$typeof===s||R.$$typeof===c||R.$$typeof===y||R.$$typeof===C||R.$$typeof===w||R.$$typeof===m)},It.typeOf=S,It}var bO;function _J(){return bO||(bO=1,x1.exports=RJ()),x1.exports}var R1,SO;function TJ(){if(SO)return R1;SO=1;var e=_J(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=n,o[e.Memo]=i;function a(g){return e.isMemo(g)?i:o[g.$$typeof]||t}var s=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;function f(g,m,y){if(typeof m!="string"){if(h){var C=d(m);C&&C!==h&&f(g,C,y)}var w=l(m);u&&(w=w.concat(u(m)));for(var S=a(g),x=a(m),R=0;R<w.length;++R){var T=w[R];if(!r[T]&&!(y&&y[T])&&!(x&&x[T])&&!(S&&S[T])){var P=c(m,T);try{s(g,T,P)}catch{}}}}return g}return R1=f,R1}TJ();var PJ=!0;function q3(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(n+=i+" ")}),n}var EA=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||PJ===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},MA=function(t,r,n){EA(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var o=r;do t.insert(r===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function DJ(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var AJ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},IJ=/[A-Z]|^ms/g,EJ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Z3=function(t){return t.charCodeAt(1)===45},xO=function(t){return t!=null&&typeof t!="boolean"},_1=H3(function(e){return Z3(e)?e:e.replace(IJ,"-$&").toLowerCase()}),RO=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(EJ,function(n,i,o){return ca={name:i,styles:o,next:ca},i})}return AJ[t]!==1&&!Z3(t)&&typeof r=="number"&&r!==0?r+"px":r};function iv(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return ca={name:i.name,styles:i.styles,next:ca},i.name;var o=r;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)ca={name:a.name,styles:a.styles,next:ca},a=a.next;var s=o.styles+";";return s}return MJ(e,t,r)}case"function":{if(e!==void 0){var l=ca,u=r(e);return ca=l,iv(e,t,u)}break}}var c=r;if(t==null)return c;var d=t[c];return d!==void 0?d:c}function MJ(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=iv(e,t,r[i])+";";else for(var o in r){var a=r[o];if(typeof a!="object"){var s=a;t!=null&&t[s]!==void 0?n+=o+"{"+t[s]+"}":xO(s)&&(n+=_1(o)+":"+RO(o,s)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var l=0;l<a.length;l++)xO(a[l])&&(n+=_1(o)+":"+RO(o,a[l])+";");else{var u=iv(e,t,a);switch(o){case"animation":case"animationName":{n+=_1(o)+":"+u+";";break}default:n+=o+"{"+u+"}"}}}return n}var _O=/label:\s*([^\s;{]+)\s*(;|$)/g,ca;function kA(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,i="";ca=void 0;var o=e[0];if(o==null||o.raw===void 0)n=!1,i+=iv(r,t,o);else{var a=o;i+=a[0]}for(var s=1;s<e.length;s++)if(i+=iv(r,t,e[s]),n){var l=o;i+=l[s]}_O.lastIndex=0;for(var u="",c;(c=_O.exec(i))!==null;)u+="-"+c[1];var d=DJ(i)+u;return{name:d,styles:i,next:ca}}var kJ=function(t){return t()},Q3=dO.useInsertionEffect?dO.useInsertionEffect:!1,J3=Q3||kJ,TO=Q3||O.useLayoutEffect,e4=O.createContext(typeof HTMLElement<"u"?xJ({key:"css"}):null);e4.Provider;var FA=function(t){return O.forwardRef(function(r,n){var i=O.useContext(e4);return t(r,i,n)})},LA=O.createContext({}),OA={}.hasOwnProperty,zT="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",FJ=function(t,r){var n={};for(var i in r)OA.call(r,i)&&(n[i]=r[i]);return n[zT]=t,n},LJ=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return EA(r,n,i),J3(function(){return MA(r,n,i)}),null},OJ=FA(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var i=e[zT],o=[n],a="";typeof e.className=="string"?a=q3(t.registered,o,e.className):e.className!=null&&(a=e.className+" ");var s=kA(o,void 0,O.useContext(LA));a+=t.key+"-"+s.name;var l={};for(var u in e)OA.call(e,u)&&u!=="css"&&u!==zT&&(l[u]=e[u]);return l.className=a,r&&(l.ref=r),O.createElement(O.Fragment,null,O.createElement(LJ,{cache:t,serialized:s,isStringTag:typeof i=="string"}),O.createElement(i,l))}),NJ=OJ,PO=function(t,r){var n=arguments;if(r==null||!OA.call(r,"css"))return O.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=NJ,o[1]=FJ(t,r);for(var a=2;a<i;a++)o[a]=n[a];return O.createElement.apply(null,o)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(PO||(PO={}));var DO=FA(function(e,t){var r=e.styles,n=kA([r],void 0,O.useContext(LA)),i=O.useRef();return TO(function(){var o=t.key+"-global",a=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),s=!1,l=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),l!==null&&(s=!0,l.setAttribute("data-emotion",o),a.hydrate([l])),i.current=[a,s],function(){a.flush()}},[t]),TO(function(){var o=i.current,a=o[0],s=o[1];if(s){o[1]=!1;return}if(n.next!==void 0&&MA(t,n.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}t.insert("",n,a,!1)},[t,n.name]),null});function zJ(e,t){if(e!=null){if(typeof e=="function"){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function BJ(...e){return t=>{e.forEach(r=>{zJ(r,t)})}}function qv(e){const t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function VJ(e){return e.default||e}const ri=e=>e!=null&&typeof e=="object"&&!Array.isArray(e),Pa=e=>typeof e=="string",t4=e=>typeof e=="function";function GJ(e){var r;const t=O.version;return!Pa(t)||t.startsWith("18.")?e==null?void 0:e.ref:(r=e==null?void 0:e.props)==null?void 0:r.ref}const[HJ,wb]=Dg({name:"ChakraContext",strict:!0,providerName:"<ChakraProvider />"});function WJ(e){const{value:t,children:r}=e;return J.jsxs(HJ,{value:t,children:[!t._config.disableLayers&&J.jsx(DO,{styles:t.layers.atRule}),J.jsx(DO,{styles:t._global}),r]})}const bh=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n=Object.keys(r),i=a=>{const s={};for(let l=0;l<a.length;l++){const u=a[l];r[u]&&(Object.defineProperty(s,u,r[u]),delete r[u])}return s},o=a=>i(Array.isArray(a)?a:n.filter(a));return[t].map(o).concat(i(n))},$J=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function UJ(e){return typeof e=="string"&&$J.has(e)}function jJ(e,t,r){const{css:n,isValidProperty:i}=wb(),{children:o,...a}=e,s=O.useMemo(()=>{const[h,f]=bh(a,w=>r(w,t.variantKeys)),[g,m]=bh(f,t.variantKeys),[y,C]=bh(m,i);return{forwardedProps:h,variantProps:g,styleProps:y,elementProps:C}},[t.variantKeys,r,a,i]),{css:l,...u}=s.styleProps,c=O.useMemo(()=>{const h={...s.variantProps};return t.variantKeys.includes("colorPalette")||(h.colorPalette=a.colorPalette),t.variantKeys.includes("orientation")||(h.orientation=a.orientation),t(h)},[t,s.variantProps,a.colorPalette,a.orientation]);return{styles:O.useMemo(()=>n(c,...YJ(l),u),[n,c,l,u]),props:{...s.forwardedProps,...s.elementProps,children:o}}}const YJ=e=>(Array.isArray(e)?e:[e]).filter(Boolean).flat(),KJ=VJ(KQ),XJ=KJ,qJ=e=>e!=="theme",ZJ=(e,t,r)=>{let n;if(t){const i=t.shouldForwardProp;n=e.__emotion_forwardProp&&i?o=>e.__emotion_forwardProp(o)&&i(o):i}return typeof n!="function"&&r&&(n=e.__emotion_forwardProp),n};let QJ=typeof document<"u";const AO=({cache:e,serialized:t,isStringTag:r})=>{EA(e,t,r);const n=J3(()=>MA(e,t,r));if(!QJ&&n!==void 0){let i=t.name,o=t.next;for(;o!==void 0;)i=Ci(i,o.name),o=o.next;return J.jsx("style",{"data-emotion":Ci(e.key,i),dangerouslySetInnerHTML:{__html:n},nonce:e.sheet.nonce})}return null},JJ=(e,t={},r={})=>{const n=e.__emotion_real===e,i=n&&e.__emotion_base||e;let o,a;r!==void 0&&(o=r.label,a=r.target);let s=[];const l=FA((u,c,d)=>{var B;const{cva:h,isValidProperty:f}=wb(),g=t.__cva__?t:h(t),m=tee(e.__emotion_cva,g),y=V=>(W,j)=>V.includes(W)?!0:!(j!=null&&j.includes(W))&&!f(W);!r.shouldForwardProp&&r.forwardProps&&(r.shouldForwardProp=y(r.forwardProps));const C=(V,W)=>{const j=typeof e=="string"&&e.charCodeAt(0)>96?XJ:qJ,G=!(W!=null&&W.includes(V))&&!f(V);return j(V)&&G},w=ZJ(e,r,n)||C,S=O.useMemo(()=>Object.assign({},r.defaultProps,qv(u)),[u]),{props:x,styles:R}=jJ(S,m,w);let T="",P=[R],D=x;if(x.theme==null){D={};for(let V in x)D[V]=x[V];D.theme=O.useContext(LA)}typeof x.className=="string"?T=q3(c.registered,P,x.className):x.className!=null&&(T=Ci(T,x.className));const I=kA(s.concat(P),c.registered,D);T=Ci(T,`${c.key}-${I.name}`),a!==void 0&&(T=Ci(T,a));const E=!w("as");let k=E&&x.as||i,L={};for(let V in x)if(!(E&&V==="as")){if(UJ(V)){const W=V.replace("html","").toLowerCase();L[W]=x[V];continue}w(V)&&(L[V]=x[V])}L.className=T.trim(),L.ref=d;const N=r.forwardAsChild||((B=r.forwardProps)==null?void 0:B.includes("asChild"));if(x.asChild&&!N){const V=O.Children.only(x.children);k=V.type,L.children=null,Reflect.deleteProperty(L,"asChild"),L=tv(L,V.props),L.ref=BJ(d,GJ(V))}return L.as&&N?(L.as=void 0,J.jsxs(O.Fragment,{children:[J.jsx(AO,{cache:c,serialized:I,isStringTag:typeof k=="string"}),J.jsx(k,{asChild:!0,...L,children:J.jsx(x.as,{children:L.children})})]})):J.jsxs(O.Fragment,{children:[J.jsx(AO,{cache:c,serialized:I,isStringTag:typeof k=="string"}),J.jsx(k,{...L})]})});return l.displayName=o!==void 0?o:`chakra(${typeof i=="string"?i:i.displayName||i.name||"Component"})`,l.__emotion_real=l,l.__emotion_base=i,l.__emotion_forwardProp=r.shouldForwardProp,l.__emotion_cva=t,Object.defineProperty(l,"toString",{value(){return`.${a}`}}),l},T1=JJ.bind(),P1=new Map,eee=new Proxy(T1,{apply(e,t,r){return T1(...r)},get(e,t){return P1.has(t)||P1.set(t,T1(t)),P1.get(t)}}),Nn=eee,tee=(e,t)=>e&&!t?e:!e&&t?t:e.merge(t);function ree(e){const{key:t,recipe:r}=e,n=wb();return O.useMemo(()=>{const i=r||(t!=null?n.getRecipe(t):{});return n.cva(structuredClone(i))},[t,r,n])}const nee=e=>e.charAt(0).toUpperCase()+e.slice(1);function Hc(e){const{key:t,recipe:r}=e,n=nee(t||r.className||"Component"),[i,o]=Dg({strict:!1,name:`${n}PropsContext`,providerName:`${n}PropsContext`});function a(u){const{unstyled:c,...d}=u,h=ree({key:t,recipe:d.recipe||r}),[f,g]=h.splitVariantProps(d);return{styles:c?UQ:h(f),className:h.className,props:g}}const s=(u,c)=>{const d=Nn(u,{},c),h=O.forwardRef((f,g)=>{const m=tv(o(),f),{styles:y,className:C,props:w}=a(m);return J.jsx(d,{...w,ref:g,css:[y,m.css],className:Ci(C,m.className)})});return h.displayName=u.displayName||u.name,h};function l(){return i}return{withContext:s,PropsProvider:i,withPropsProvider:l,usePropsContext:o,useRecipeResult:a}}var IO=e=>Math.max(0,Math.min(1,e)),iee=(e,t)=>e.map((r,n)=>e[(Math.max(t,0)+n)%e.length]),bb=e=>typeof e=="object"&&e!==null,oee=2147483647,aee=e=>e?"":void 0,see=1,lee=9,uee=11,qr=e=>bb(e)&&e.nodeType===see&&typeof e.nodeName=="string",NA=e=>bb(e)&&e.nodeType===lee,cee=e=>bb(e)&&e===e.window,r4=e=>qr(e)?e.localName||"":"#document";function dee(e){return["html","body","#document"].includes(r4(e))}var hee=e=>bb(e)&&e.nodeType!==void 0,ov=e=>hee(e)&&e.nodeType===uee&&"host"in e,fee=e=>qr(e)&&e.localName==="input",pee=e=>qr(e)?e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0:!1,gee=/(textarea|select)/;function vee(e){if(e==null||!qr(e))return!1;try{return fee(e)&&e.selectionStart!=null||gee.test(e.localName)||e.isContentEditable||e.getAttribute("contenteditable")==="true"||e.getAttribute("contenteditable")===""}catch{return!1}}function $w(e,t){var n;if(!e||!t||!qr(e)||!qr(t))return!1;const r=(n=t.getRootNode)==null?void 0:n.call(t);if(e===t||e.contains(t))return!0;if(r&&ov(r)){let i=t;for(;i;){if(e===i)return!0;i=i.parentNode||i.host}}return!1}function ks(e){return NA(e)?e:cee(e)?e.document:(e==null?void 0:e.ownerDocument)??document}function mee(e){return ks(e).documentElement}function Wc(e){var t;return ov(e)?Wc(e.host):NA(e)?e.defaultView??window:qr(e)?((t=e.ownerDocument)==null?void 0:t.defaultView)??window:window}function n4(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){const r=t.shadowRoot.activeElement;if(r===t)break;t=r}return t}function yee(e){if(r4(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ov(e)&&e.host||mee(e);return ov(t)?t.host:t}var D1=new WeakMap;function Cee(e){return D1.has(e)||D1.set(e,Wc(e).getComputedStyle(e)),D1.get(e)}var i4=()=>typeof document<"u";function wee(){const e=navigator.userAgentData;return(e==null?void 0:e.platform)??navigator.platform}var zA=e=>i4()&&e.test(wee()),bee=e=>i4()&&e.test(navigator.vendor),See=()=>zA(/^Mac/),o4=()=>xee()&&bee(/apple/i),xee=()=>zA(/mac|iphone|ipad|ipod/i),Ree=()=>zA(/iP(hone|ad|od)|iOS/);function _ee(e){var t,r,n;return((t=e.composedPath)==null?void 0:t.call(e))??((n=(r=e.nativeEvent)==null?void 0:r.composedPath)==null?void 0:n.call(r))}function Sl(e){const t=_ee(e);return(t==null?void 0:t[0])??e.target}var Tee=e=>e.button===2||See()&&e.ctrlKey&&e.button===0,Po=(e,t,r,n)=>{const i=typeof e=="function"?e():e;return i==null||i.addEventListener(t,r,n),()=>{i==null||i.removeEventListener(t,r,n)}};function Pee(e,t){const{type:r="HTMLInputElement",property:n="value"}=t,i=Wc(e)[r].prototype;return Object.getOwnPropertyDescriptor(i,n)??{}}function Dee(e){if(e.localName==="input")return"HTMLInputElement";if(e.localName==="textarea")return"HTMLTextAreaElement";if(e.localName==="select")return"HTMLSelectElement"}function a4(e,t,r="value"){var i;const n=Dee(e);n&&((i=Pee(e,{type:n,property:r}).set)==null||i.call(e,t)),e.setAttribute(r,t)}function s4(e,t){const{value:r,bubbles:n=!0}=t;if(!e)return;const i=Wc(e);e instanceof i.HTMLInputElement&&(a4(e,`${r}`),e.dispatchEvent(new i.Event("input",{bubbles:n})))}var l4=e=>qr(e)&&e.tagName==="IFRAME",Aee=e=>!Number.isNaN(parseInt(e.getAttribute("tabindex")||"0",10)),Iee=e=>parseInt(e.getAttribute("tabindex")||"0",10)<0,BA="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",VA=(e,t=!1)=>{if(!e)return[];const r=Array.from(e.querySelectorAll(BA));(t==!0||t=="if-empty"&&r.length===0)&&qr(e)&&El(e)&&r.unshift(e);const i=r.filter(El);return i.forEach((o,a)=>{if(l4(o)&&o.contentDocument){const s=o.contentDocument.body;i.splice(a,1,...VA(s))}}),i};function El(e){return!e||e.closest("[inert]")?!1:e.matches(BA)&&pee(e)}function Zv(e,t){if(!e)return[];const r=Array.from(e.querySelectorAll(BA)),n=r.filter(ml);return t&&ml(e)&&n.unshift(e),n.forEach((i,o)=>{if(l4(i)&&i.contentDocument){const a=i.contentDocument.body,s=Zv(a);n.splice(o,1,...s)}}),!n.length&&t?r:n}function ml(e){return e!=null&&e.tabIndex>0?!0:El(e)&&!Iee(e)}function Eee(e,t){const r=Zv(e,t),n=r[0]||null,i=r[r.length-1]||null;return[n,i]}function Mee(e,t){const r=Zv(e),n=(e==null?void 0:e.ownerDocument)||document,i=t??n.activeElement;if(!i)return null;const o=r.indexOf(i);return r[o+1]||null}function Tp(e){return e.tabIndex<0&&(/^(audio|video|details)$/.test(e.localName)||vee(e))&&!Aee(e)?0:e.tabIndex}function EO(e){const{root:t,getInitialEl:r,filter:n,enabled:i=!0}=e;if(!i)return;let o=null;if(o||(o=typeof r=="function"?r():r),o||(o=t==null?void 0:t.querySelector("[data-autofocus],[autofocus]")),!o){const a=Zv(t);o=n?a.filter(n)[0]:a[0]}return o||t||void 0}function Ji(e){const t=globalThis.requestAnimationFrame(e);return()=>{globalThis.cancelAnimationFrame(t)}}function kee(e,t){if(!e)return;const{attributes:r,callback:n}=t,i=e.ownerDocument.defaultView||window,o=new i.MutationObserver(a=>{for(const s of a)s.type==="attributes"&&s.attributeName&&r.includes(s.attributeName)&&n(s)});return o.observe(e,{attributes:!0,attributeFilter:r}),()=>o.disconnect()}function Fee(e,t){const{defer:r}=t,n=r?Ji:o=>o(),i=[];return i.push(n(()=>{const o=typeof e=="function"?e():e;i.push(kee(o,t))})),()=>{i.forEach(o=>o==null?void 0:o())}}function Lee(e,t){const{callback:r}=t;if(!e)return;const n=e.ownerDocument.defaultView||window,i=new n.MutationObserver(r);return i.observe(e,{childList:!0,subtree:!0}),()=>i.disconnect()}function Oee(e,t){const{defer:r}=t,n=r?Ji:o=>o(),i=[];return i.push(n(()=>{const o=typeof e=="function"?e():e;i.push(Lee(o,t))})),()=>{i.forEach(o=>o==null?void 0:o())}}function BT(e){const t=yee(e);return dee(t)?ks(t).body:qr(t)&&zee(t)?t:BT(t)}var Nee=/auto|scroll|overlay|hidden|clip/;function zee(e){const t=Wc(e),{overflow:r,overflowX:n,overflowY:i,display:o}=t.getComputedStyle(e);return Nee.test(r+i+n)&&!["inline","contents"].includes(o)}function VT(e,t){const{left:r,top:n,width:i,height:o}=t.getBoundingClientRect(),a={x:e.x-r,y:e.y-n},s={x:IO(a.x/i),y:IO(a.y/o)};function l(u={}){const{dir:c="ltr",orientation:d="horizontal",inverted:h}=u,f=typeof h=="object"?h.x:h,g=typeof h=="object"?h.y:h;return d==="horizontal"?c==="rtl"||f?1-s.x:s.x:g?1-s.y:s.y}return{offset:a,percent:s,getPercentValue:l}}function Bee(e,t={}){const{triggerElement:r,onFocus:n}=t,i=(e==null?void 0:e.ownerDocument)||document,o=i.body;function a(s){if(s.key!=="Tab")return;let l=null;const[u,c]=Eee(e,!0),d=!u&&!c;s.shiftKey&&(i.activeElement===u||d)?l=r:!s.shiftKey&&i.activeElement===r?l=u:!s.shiftKey&&(i.activeElement===c||d)&&(l=Mee(o,r)),l&&(s.preventDefault(),typeof n=="function"?n(l):l.focus())}return Po(i,"keydown",a,!0)}function Vee(e,t){const{defer:r,triggerElement:n,...i}=t,o=r?Ji:s=>s(),a=[];return a.push(o(()=>{const s=typeof e=="function"?e():e,l=typeof n=="function"?n():n;a.push(Bee(s,{triggerElement:l,...i}))})),()=>{a.forEach(s=>s==null?void 0:s())}}function ls(e,t){return Array.from((e==null?void 0:e.querySelectorAll(t))??[])}function Gee(e,t){return(e==null?void 0:e.querySelector(t))??null}var GA=e=>e.id;function Hee(e,t,r=GA){return e.find(n=>r(n)===t)}function HA(e,t,r=GA){const n=Hee(e,t,r);return n?e.indexOf(n):-1}function u4(e,t,r=!0){let n=HA(e,t);return n=r?(n+1)%e.length:Math.min(n+1,e.length-1),e[n]}function c4(e,t,r=!0){let n=HA(e,t);return n===-1?r?e[e.length-1]:null:(n=r?(n-1+e.length)%e.length:Math.max(0,n-1),e[n])}function Cr(e){const t={getRootNode:r=>{var n;return((n=r.getRootNode)==null?void 0:n.call(r))??document},getDoc:r=>ks(t.getRootNode(r)),getWin:r=>t.getDoc(r).defaultView??window,getActiveElement:r=>n4(t.getRootNode(r)),isActiveElement:(r,n)=>n===t.getActiveElement(r),getById:(r,n)=>t.getRootNode(r).getElementById(n),setValue:(r,n)=>{r==null||n==null||a4(r,n.toString())}};return{...t,...e}}var Wee=e=>e.split("").map(t=>{const r=t.charCodeAt(0);return r>0&&r<128?t:r>=128&&r<=255?`/x${r.toString(16)}`.replace("/","\\"):""}).join("").trim(),$ee=e=>{var t;return Wee(((t=e.dataset)==null?void 0:t.valuetext)??e.textContent??"")},Uee=(e,t)=>e.trim().toLowerCase().startsWith(t.toLowerCase());function jee(e,t,r,n=GA){const i=r?HA(e,r,n):-1;let o=r?iee(e,i):e;return t.length===1&&(o=o.filter(s=>n(s)!==r)),o.find(s=>Uee($ee(s),t))}var A1=new WeakMap;function Yee(e,t,r){A1.has(e)||A1.set(e,new Map);const n=A1.get(e),i=n.get(t);if(!i)return n.set(t,r()),()=>{var s;(s=n.get(t))==null||s(),n.delete(t)};const o=r(),a=()=>{o(),i(),n.delete(t)};return n.set(t,a),()=>{n.get(t)===a&&(o(),n.set(t,i))}}function Kee(e,t){return e?Yee(e,"style",()=>{const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}):()=>{}}function Xee(e,t){const{state:r,activeId:n,key:i,timeout:o=350,itemToId:a}=t,s=r.keysSoFar+i,u=s.length>1&&Array.from(s).every(g=>g===s[0])?s[0]:s;let c=e.slice();const d=jee(c,u,n,a);function h(){clearTimeout(r.timer),r.timer=-1}function f(g){r.keysSoFar=g,h(),g!==""&&(r.timer=+setTimeout(()=>{f(""),h()},o))}return f(s),d}var qee=Object.assign(Xee,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:Zee});function Zee(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}var Qee=1e3/60;function Jee(e,t){const r=e();if(qr(r)&&r.isConnected)return t(r),()=>{};{const n=setInterval(()=>{const i=e();qr(i)&&i.isConnected&&(t(i),clearInterval(n))},Qee);return()=>clearInterval(n)}}function ete(e,t){const r=[];return e==null||e.forEach(n=>{const i=Jee(n,t);r.push(i)}),()=>{r.forEach(n=>n())}}function tte(e,t){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${t}`}function Qv(e={}){const{name:t,strict:r=!0,hookName:n="useContext",providerName:i="Provider",errorMessage:o,defaultValue:a}=e,s=O.createContext(a);s.displayName=t;function l(){var c;const u=O.useContext(s);if(!u&&r){const d=new Error(o??tte(n,i));throw d.name="ContextError",(c=Error.captureStackTrace)==null||c.call(Error,d,l),d}return u}return[s.Provider,l,s]}const[qWe,d4]=Qv({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}});function rte(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function h4(...e){return t=>{for(const r of e)rte(r,t)}}const nte=Symbol(),WA=Symbol(),hg="a",f4="f",MO="p",p4="c",g4="t",v4="h",lw="w",m4="o",y4="k";let ite=(e,t)=>new Proxy(e,t);const GT=Object.getPrototypeOf,HT=new WeakMap,C4=e=>e&&(HT.has(e)?HT.get(e):GT(e)===Object.prototype||GT(e)===Array.prototype),kO=e=>typeof e=="object"&&e!==null,ote=e=>Object.values(Object.getOwnPropertyDescriptors(e)).some(t=>!t.configurable&&!t.writable),ate=e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(r=>{r.configurable=!0}),Object.create(GT(e),t)},ste=(e,t)=>{const r={[f4]:t};let n=!1;const i=(s,l)=>{if(!n){let u=r[hg].get(e);if(u||(u={},r[hg].set(e,u)),s===lw)u[lw]=!0;else{let c=u[s];c||(c=new Set,u[s]=c),c.add(l)}}},o=()=>{n=!0,r[hg].delete(e)},a={get(s,l){return l===WA?e:(i(y4,l),b4(Reflect.get(s,l),r[hg],r[p4],r[g4]))},has(s,l){return l===nte?(o(),!0):(i(v4,l),Reflect.has(s,l))},getOwnPropertyDescriptor(s,l){return i(m4,l),Reflect.getOwnPropertyDescriptor(s,l)},ownKeys(s){return i(lw),Reflect.ownKeys(s)}};return t&&(a.set=a.deleteProperty=()=>!1),[a,r]},w4=e=>e[WA]||e,b4=(e,t,r,n)=>{if(!C4(e))return e;let i=n&&n.get(e);if(!i){const l=w4(e);ote(l)?i=[l,ate(l)]:i=[l],n==null||n.set(e,i)}const[o,a]=i;let s=r&&r.get(o);return(!s||s[1][f4]!==!!a)&&(s=ste(o,!!a),s[1][MO]=ite(a||o,s[0]),r&&r.set(o,s)),s[1][hg]=t,s[1][p4]=r,s[1][g4]=n,s[1][MO]},lte=(e,t)=>{const r=Reflect.ownKeys(e),n=Reflect.ownKeys(t);return r.length!==n.length||r.some((i,o)=>i!==n[o])},S4=(e,t,r,n,i=Object.is)=>{if(i(e,t))return!1;if(!kO(e)||!kO(t))return!0;const o=r.get(w4(e));if(!o)return!0;if(n){if(n.get(e)===t)return!1;n.set(e,t)}let a=null;for(const s of o[v4]||[])if(a=Reflect.has(e,s)!==Reflect.has(t,s),a)return a;if(o[lw]===!0){if(a=lte(e,t),a)return a}else for(const s of o[m4]||[]){const l=!!Reflect.getOwnPropertyDescriptor(e,s),u=!!Reflect.getOwnPropertyDescriptor(t,s);if(a=l!==u,a)return a}for(const s of o[y4]||[])if(a=S4(e[s],t[s],r,n,i),a)return a;if(a===null)throw new Error("invalid used");return a},ute=e=>C4(e)&&e[WA]||null,FO=(e,t=!0)=>{HT.set(e,t)};function cte(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function $A(e,t){const r=cte();return r?(r[e]||(r[e]=t()),r[e]):t()}var Ag=$A("__zag__refSet",()=>new WeakSet),dte=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,hte=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,fte=e=>typeof e=="object"&&e!==null&&"nodeType"in e&&typeof e.nodeName=="string",pte=e=>dte(e)||hte(e)||fte(e),WT=e=>e!==null&&typeof e=="object",$T=e=>WT(e)&&!Ag.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!pte(e)&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise);function LO(e,t,r){typeof r.value=="object"&&!$T(r.value)&&(r.value=rc(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||t==="__proto__"?Object.defineProperty(e,t,r):e[t]=r.value}function rc(e){if(typeof e!="object")return e;var t=0,r,n,i,o=Object.prototype.toString.call(e);if(o==="[object Object]"?i=Object.create(Object.getPrototypeOf(e)||null):o==="[object Array]"?i=Array(e.length):o==="[object Set]"?(i=new Set,e.forEach(function(a){i.add(rc(a))})):o==="[object Map]"?(i=new Map,e.forEach(function(a,s){i.set(rc(s),rc(a))})):o==="[object Date]"?i=new Date(+e):o==="[object RegExp]"?i=new RegExp(e.source,e.flags):o==="[object DataView]"?i=new e.constructor(rc(e.buffer)):o==="[object ArrayBuffer]"?i=e.slice(0):o==="[object Blob]"?i=e.slice():o.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)LO(i,n[t],Object.getOwnPropertyDescriptor(e,n[t]));for(t=0,n=Object.getOwnPropertyNames(e);t<n.length;t++)Object.hasOwnProperty.call(i,r=n[t])&&i[r]===e[r]||LO(i,r,Object.getOwnPropertyDescriptor(e,r))}return i||e}var qu=$A("__zag__proxyStateMap",()=>new WeakMap),gte=(e=Object.is,t=(s,l)=>new Proxy(s,l),r=new WeakMap,n=(s,l)=>{const u=r.get(s);if((u==null?void 0:u[0])===l)return u[1];const c=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s));return FO(c,!0),r.set(s,[l,c]),Reflect.ownKeys(s).forEach(d=>{const h=Reflect.get(s,d);Ag.has(h)?(FO(h,!1),c[d]=h):qu.has(h)?c[d]=xl(h):c[d]=h}),Object.freeze(c)},i=new WeakMap,o=[1,1],a=s=>{if(!WT(s))throw new Error("object required");const l=i.get(s);if(l)return l;let u=o[0];const c=new Set,d=(P,D=++o[0])=>{u!==D&&(u=D,c.forEach(I=>I(P,D)))};let h=o[1];const f=(P=++o[1])=>(h!==P&&!c.size&&(h=P,m.forEach(([D])=>{const I=D[1](P);I>u&&(u=I)})),u),g=P=>(D,I)=>{const E=[...D];E[1]=[P,...E[1]],d(E,I)},m=new Map,y=(P,D)=>{if(c.size){const I=D[3](g(P));m.set(P,[D,I])}else m.set(P,[D])},C=P=>{var I;const D=m.get(P);D&&(m.delete(P),(I=D[1])==null||I.call(D))},w=P=>(c.add(P),c.size===1&&m.forEach(([I,E],k)=>{const L=I[3](g(k));m.set(k,[I,L])}),()=>{c.delete(P),c.size===0&&m.forEach(([I,E],k)=>{E&&(E(),m.set(k,[I]))})}),S=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s)),R=t(S,{deleteProperty(P,D){const I=Reflect.get(P,D);C(D);const E=Reflect.deleteProperty(P,D);return E&&d(["delete",[D],I]),E},set(P,D,I,E){var B;const k=Reflect.has(P,D),L=Reflect.get(P,D,E);if(k&&(e(L,I)||i.has(I)&&e(L,i.get(I))))return!0;C(D),WT(I)&&(I=ute(I)||I);let N=I;if(!((B=Object.getOwnPropertyDescriptor(P,D))!=null&&B.set)){!qu.has(I)&&$T(I)&&(N=Sb(I));const V=!Ag.has(N)&&qu.get(N);V&&y(D,V)}return Reflect.set(P,D,N,E),d(["set",[D],I,L]),!0}});i.set(s,R);const T=[S,f,n,w];return qu.set(R,T),Reflect.ownKeys(s).forEach(P=>{const D=Object.getOwnPropertyDescriptor(s,P);D.get||D.set?Object.defineProperty(S,P,D):R[P]=s[P]}),R})=>[a,qu,Ag,e,t,$T,r,n,i,o],[vte]=gte();function Sb(e={}){return vte(e)}function UT(e,t,r){const n=qu.get(e);let i;const o=[],a=n[3];let s=!1;const u=a(c=>{if(o.push(c),r){t(o.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,s&&t(o.splice(0))}))});return s=!0,()=>{s=!1,u()}}function xl(e){const t=qu.get(e),[r,n,i]=t;return i(r,n())}function Uw(e){return Ag.add(e),e}function mte(e,t){Object.keys(t).forEach(i=>{if(Object.getOwnPropertyDescriptor(e,i))throw new Error("object property already defined");const o=t[i],{get:a,set:s}=typeof o=="function"?{get:o}:o,l={};l.get=()=>a(xl(n)),s&&(l.set=u=>s(n,u)),Object.defineProperty(e,i,l)});const n=Sb(e);return n}var x4=e=>e[0],R4=e=>e[e.length-1];function yte(e){for(;e.length>0;)e.pop();return e}var jT=(e,...t)=>(typeof e=="function"?e(...t):e)??void 0,as=e=>e,_4=()=>{},YT=(...e)=>(...t)=>{e.forEach(function(r){r==null||r(...t)})},OO=(()=>{let e=0;return()=>(e++,e.toString(36))})(),jw=e=>Array.isArray(e),T4=e=>e!=null&&typeof e=="object",uw=e=>T4(e)&&!jw(e),Cte=e=>typeof e=="number"&&!Number.isNaN(e),Yi=e=>typeof e=="string",Yw=e=>typeof e=="function",wte=e=>e==null,P4=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),bte=e=>Object.prototype.toString.call(e),D4=Function.prototype.toString,Ste=D4.call(Object),xte=e=>{if(!T4(e)||bte(e)!="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const r=P4(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&D4.call(r)==Ste},{floor:Rte,round:A4,min:_te,max:Tte}=Math,Pte=e=>Number.isNaN(e),UA=e=>Pte(e)?0:e,Dte=(e,t)=>(e%t+t)%t,Ate=(e,t,r)=>A4((UA(e)-t)/r)*r+t,Ite=(e,t,r)=>_te(Tte(UA(e),t),r),Ete=(e,t,r)=>(UA(e)-t)/(r-t),Mte=(e,t,r,n)=>Ite(Ate(e*(r-t)+t,t,n),t,r),I1=(e,t)=>typeof t=="number"?Rte(e*t+.5)/t:A4(e),KT=(e,t)=>{const[r,n]=e,[i,o]=t;return a=>r===n||i===o?i:i+(o-i)/(n-r)*(a-r)};function Tc(e){if(!kte(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(n=>typeof n=="string"),r={};for(const n of t){const i=e[n];i!==void 0&&(r[n]=Tc(i))}return r}var kte=e=>e&&typeof e=="object"&&e.constructor===Object;function cw(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function dw(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}var Fte=Object.defineProperty,Lte=(e,t,r)=>t in e?Fte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$e=(e,t,r)=>Lte(e,typeof t!="symbol"?t+"":t,r);function I4(e,...t){for(const r of t){const n=Tc(r);for(const i in n)xte(r[i])?(e[i]||(e[i]={}),I4(e[i],r[i])):e[i]=r[i]}return e}function yo(e){return Yi(e)?{type:e}:e}function pl(e){return e?jw(e)?e.slice():[e]:[]}function E4(e){return uw(e)&&e.predicate!=null}var Ote=()=>!0;function M4(e,t){return e=e??Ote,(r,n,i)=>{if(Yi(e)){const o=t[e];return Yw(o)?o(r,n,i):o}return E4(e)?e.predicate(t)(r,n,i):e==null?void 0:e(r,n,i)}}function E1(e,t){return(r,n,i)=>E4(e)?e.predicate(t)(r,n,i):e}function Nte(e){var o,a;const t=e.computed??as({}),r=e.context??as({}),n=e.initial?(a=(o=e.states)==null?void 0:o[e.initial])==null?void 0:a.tags:[],i=Sb({value:e.initial??"",previousValue:"",event:as({}),previousEvent:as({}),context:mte(r,t),done:!1,tags:n??[],hasTag(s){return this.tags.includes(s)},matches(...s){return s.includes(this.value)},can(s){return as(this).nextEvents.includes(s)},get nextEvents(){var u,c;const s=((c=(u=e.states)==null?void 0:u[this.value])==null?void 0:c.on)??{},l=(e==null?void 0:e.on)??{};return Object.keys({...s,...l})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return as(i)}function Pp(e,t){return(r,n)=>{if(Cte(e))return e;if(Yw(e))return e(r,n);if(Yi(e)){const i=Number.parseFloat(e);if(!Number.isNaN(i))return i;if(t){const o=t==null?void 0:t[e];return dw(o==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),Yw(o)?o(r,n):o}}}}function zte(e){return Yi(e)?{target:e}:e}function Bte(e,t){return(r,n,i)=>pl(e).map(zte).find(o=>M4(o.guard,t)(r,n,i)??o.target??o.actions)}var Vte=class{constructor(e,t){var r,n,i,o,a;$e(this,"status","Not Started"),$e(this,"state"),$e(this,"initialState"),$e(this,"initialContext"),$e(this,"id"),$e(this,"type","machine"),$e(this,"activityEvents",new Map),$e(this,"delayedEvents",new Map),$e(this,"stateListeners",new Set),$e(this,"doneListeners",new Set),$e(this,"contextWatchers",new Set),$e(this,"removeStateListener",_4),$e(this,"parent"),$e(this,"children",new Map),$e(this,"guardMap"),$e(this,"actionMap"),$e(this,"delayMap"),$e(this,"activityMap"),$e(this,"sync"),$e(this,"options"),$e(this,"config"),$e(this,"_created",()=>{if(!this.config.created)return;const s=yo("machine.created");this.executeActions(this.config.created,s)}),$e(this,"start",s=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=UT(this.state,()=>{this.stateListeners.forEach(f=>{f(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(yo("machine.start"),pl(this.config.activities),"machine.start"),this.executeActions(this.config.entry,yo("machine.start"));const l=yo("machine.init"),u=uw(s)?s.value:s,c=uw(s)?s.context:void 0;c&&this.setContext(c);const d={target:u??this.config.initial},h=this.getNextStateInfo(d,l);return this.initialState=h,this.performStateChangeEffects(this.state.value,h,l),this}),$e(this,"setupContextWatchers",()=>{const{watch:s}=this.config;if(!s)return;let l=xl(this.state.context);const u=UT(this.state.context,()=>{var d;const c=xl(this.state.context);for(const[h,f]of Object.entries(s))(((d=this.options.compareFns)==null?void 0:d[h])??Object.is)(l[h],c[h])||this.executeActions(f,this.state.event);l=c});this.contextWatchers.add(u)}),$e(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,yo("machine.stop")),this.executeActions(this.config.exit,yo("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),$e(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),$e(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(s=>s()),this.contextWatchers.clear()}),$e(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(s=>{s.forEach(l=>l())}),this.delayedEvents.clear()}),$e(this,"stopActivities",s=>{var l,u;s?((l=this.activityEvents.get(s))==null||l.forEach(c=>c()),(u=this.activityEvents.get(s))==null||u.clear(),this.activityEvents.delete(s)):(this.activityEvents.forEach(c=>{c.forEach(d=>d()),c.clear()}),this.activityEvents.clear())}),$e(this,"sendChild",(s,l)=>{const u=yo(s),c=jT(l,this.contextSnapshot),d=this.children.get(c);d||dw(`[@zag-js/core] Cannot send '${u.type}' event to unknown child`),d.send(u)}),$e(this,"stopChild",s=>{this.children.has(s)||dw(`[@zag-js/core > stop-child] Cannot stop unknown child ${s}`),this.children.get(s).stop(),this.children.delete(s)}),$e(this,"removeChild",s=>{this.children.delete(s)}),$e(this,"stopChildren",()=>{this.children.forEach(s=>s.stop()),this.children.clear()}),$e(this,"setParent",s=>{this.parent=s}),$e(this,"spawn",(s,l)=>{const u=jT(s);return l&&(u.id=l),u.type="machine.actor",u.setParent(this),this.children.set(u.id,as(u)),u.onDone(()=>{this.removeChild(u.id)}).start(),as(Uw(u))}),$e(this,"stopActivity",s=>{var u;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(u=l==null?void 0:l.get(s))==null||u(),l==null||l.delete(s)}),$e(this,"addActivityCleanup",(s,l,u)=>{var c;s&&(this.activityEvents.has(s)?(c=this.activityEvents.get(s))==null||c.set(l,u):this.activityEvents.set(s,new Map([[l,u]])))}),$e(this,"setState",s=>{this.state.previousValue=this.state.value,this.state.value=s;const l=this.getStateNode(s);s==null?yte(this.state.tags):this.state.tags=pl(l==null?void 0:l.tags)}),$e(this,"setContext",s=>{s&&I4(this.state.context,Tc(s))}),$e(this,"setOptions",s=>{const l=Tc(s);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),$e(this,"getStateNode",s=>{var l;if(s)return(l=this.config.states)==null?void 0:l[s]}),$e(this,"getNextStateInfo",(s,l)=>{const u=this.determineTransition(s,l),c=!(u!=null&&u.target),d=(u==null?void 0:u.target)??this.state.value,h=this.state.value!==d,f=this.getStateNode(d),m={reenter:!c&&!h&&!(u!=null&&u.internal),transition:u,stateNode:f,target:d,changed:h};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),$e(this,"getAfterActions",(s,l)=>{let u;const c=this.state.value;return{entry:()=>{u=globalThis.setTimeout(()=>{const d=this.getNextStateInfo(s,this.state.event);this.performStateChangeEffects(c,d,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(u)}}}),$e(this,"getDelayedEventActions",s=>{const l=this.getStateNode(s),u=this.state.event;if(!l||!l.after)return;const c=[],d=[];if(jw(l.after)){const h=this.determineTransition(l.after,u);if(!h)return;if(!P4(h,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(h)}`);const g=Pp(h.delay,this.delayMap)(this.contextSnapshot,u),m=this.getAfterActions(h,g);return c.push(m.entry),d.push(m.exit),{entries:c,exits:d}}if(uw(l.after))for(const h in l.after){const f=l.after[h],m=Pp(h,this.delayMap)(this.contextSnapshot,u),y=this.getAfterActions(f,m);c.push(y.entry),d.push(y.exit)}return{entries:c,exits:d}}),$e(this,"executeActions",(s,l)=>{var c;const u=E1(s,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const d of pl(u)){const h=Yi(d)?(c=this.actionMap)==null?void 0:c[d]:d;cw(Yi(d)&&!h,`[@zag-js/core > execute-actions] No implementation found for action: \`${d}\``),h==null||h(this.state.context,l,this.meta)}}),$e(this,"executeActivities",(s,l,u)=>{var c;for(const d of l){const h=Yi(d)?(c=this.activityMap)==null?void 0:c[d]:d;if(!h){cw(`[@zag-js/core > execute-activity] No implementation found for activity: \`${d}\``);continue}const f=h(this.state.context,s,this.meta);if(f){const g=Yi(d)?d:d.name||OO();this.addActivityCleanup(u??this.state.value,g,f)}}}),$e(this,"createEveryActivities",(s,l)=>{if(s)if(jw(s)){const u=pl(s).find(f=>{const g=f.delay,y=Pp(g,this.delayMap)(this.contextSnapshot,this.state.event);return M4(f.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!u)return;const d=Pp(u.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const f=globalThis.setInterval(()=>{this.executeActions(u.actions,this.state.event)},d);return()=>{globalThis.clearInterval(f)}})}else for(const u in s){const c=s==null?void 0:s[u],h=Pp(u,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(c,this.state.event)},h);return()=>{globalThis.clearInterval(g)}})}}),$e(this,"setEvent",s=>{this.state.previousEvent=this.state.event,this.state.event=Uw(yo(s))}),$e(this,"performExitEffects",(s,l)=>{const u=this.state.value;if(u==="")return;const c=s?this.getStateNode(s):void 0;this.stopActivities(u);const d=E1(c==null?void 0:c.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),h=pl(d),f=this.delayedEvents.get(u);f&&h.push(...f),this.executeActions(h,l),this.delayedEvents.delete(u)}),$e(this,"performEntryEffects",(s,l)=>{const u=this.getStateNode(s),c=pl(u==null?void 0:u.activities);this.createEveryActivities(u==null?void 0:u.every,g=>{c.unshift(g)}),c.length>0&&this.executeActivities(l,c);const d=E1(u==null?void 0:u.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),h=pl(d),f=this.getDelayedEventActions(s);u!=null&&u.after&&f&&(this.delayedEvents.set(s,f==null?void 0:f.exits),h.push(...f.entries)),this.executeActions(h,l),(u==null?void 0:u.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),$e(this,"performTransitionEffects",(s,l)=>{const u=this.determineTransition(s,l);this.executeActions(u==null?void 0:u.actions,l)}),$e(this,"performStateChangeEffects",(s,l,u)=>{this.setEvent(u);const c=l.changed||l.reenter;c&&this.performExitEffects(s,u),this.performTransitionEffects(l.transition,u),this.setState(l.target),c&&this.performEntryEffects(l.target,u)}),$e(this,"determineTransition",(s,l)=>{const u=Bte(s,this.guardMap);return u==null?void 0:u(this.contextSnapshot,l,this.guardMeta)}),$e(this,"sendParent",s=>{var u;this.parent||dw("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=yo(s);(u=this.parent)==null||u.send(l)}),$e(this,"log",(...s)=>{}),$e(this,"send",s=>{const l=yo(s);this.transition(this.state.value,l)}),$e(this,"transition",(s,l)=>{var f,g;const u=Yi(s)?this.getStateNode(s):s==null?void 0:s.stateNode,c=yo(l);if(!u&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${s}, \`event\`: ${c.type}`;cw(m);return}const d=((f=u==null?void 0:u.on)==null?void 0:f[c.type])??((g=this.config.on)==null?void 0:g[c.type]),h=this.getNextStateInfo(d,c);return this.performStateChangeEffects(this.state.value,h,c),h.stateNode}),$e(this,"subscribe",s=>(this.stateListeners.add(s),this.status==="Running"&&s(this.stateSnapshot),()=>{this.stateListeners.delete(s)})),$e(this,"onDone",s=>(this.doneListeners.add(s),this)),$e(this,"onTransition",s=>(this.stateListeners.add(s),this.status==="Running"&&s(this.stateSnapshot),this)),this.config=rc(e),this.options=rc(t??{}),this.id=this.config.id??`machine-${OO()}`,this.guardMap=((r=this.options)==null?void 0:r.guards)??{},this.actionMap=((n=this.options)==null?void 0:n.actions)??{},this.delayMap=((i=this.options)==null?void 0:i.delays)??{},this.activityMap=((o=this.options)==null?void 0:o.activities)??{},this.sync=((a=this.options)==null?void 0:a.sync)??!1,this.state=Nte(this.config),this.initialContext=xl(this.state.context)}get stateSnapshot(){return as(xl(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const e=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return e.stateSnapshot},get initialContext(){return e.initialContext},get initialState(){var t;return((t=e.initialState)==null?void 0:t.target)??""}}}get meta(){var e;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((e=this.initialState)==null?void 0:e.target)??"",getState:()=>this.stateSnapshot,getAction:t=>this.actionMap[t],getGuard:t=>this.guardMap[t]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const e=this.getState();return{value:e.value,tags:e.tags}}},jA=(e,t)=>new Vte(e,t),Gte=(...e)=>e.map(t=>{var r;return(r=t==null?void 0:t.trim)==null?void 0:r.call(t)}).filter(Boolean).join(" "),Hte=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,NO=e=>{const t={};let r;for(;r=Hte.exec(e);)t[r[1]]=r[2];return t},Wte=(e,t)=>{if(Yi(e)){if(Yi(t))return`${e};${t}`;e=NO(e)}else Yi(t)&&(t=NO(t));return Object.assign({},e??{},t??{})};function en(...e){let t={};for(let r of e){for(let n in t){if(n.startsWith("on")&&typeof t[n]=="function"&&typeof r[n]=="function"){t[n]=YT(r[n],t[n]);continue}if(n==="className"||n==="class"){t[n]=Gte(t[n],r[n]);continue}if(n==="style"){t[n]=Wte(t[n],r[n]);continue}t[n]=r[n]!==void 0?r[n]:t[n]}for(let n in r)t[n]===void 0&&(t[n]=r[n])}return t}function $te(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const M1=e=>{const t=O.memo(O.forwardRef((r,n)=>{const{asChild:i,children:o,...a}=r;if(!i)return O.createElement(e,{...a,ref:n},o);const s=O.Children.only(o);if(!O.isValidElement(s))return null;const l=$te(s);return O.cloneElement(s,{...en(a,s.props),ref:n?h4(n,l):l})}));return t.displayName=e.displayName||e.name,t},Ute=()=>{const e=new Map;return new Proxy(M1,{apply(t,r,n){return M1(n[0])},get(t,r){const n=r;return e.has(n)||e.set(n,M1(n)),e.get(n)}})},si=Ute(),YA=()=>(e,t)=>t.reduce((r,n)=>{const[i,o]=r,a=n;return o[a]!==void 0&&(i[a]=o[a]),delete o[a],[i,o]},[{},{...e}]),k4=e=>YA()(e,["immediate","lazyMount","onExitComplete","present","unmountOnExit"]);function jte(e){return new Proxy({},{get(){return e}})}var At=()=>e=>Array.from(new Set(e));function Yte(e,t,r){const n=e.matches("mounted","unmountSuspended");return{skip:!e.context.initial&&n,present:n,setNode(i){i&&t({type:"NODE.SET",node:i})},unmount(){t({type:"UNMOUNT"})}}}function Kte(e){return jA({initial:e.present?"mounted":"unmounted",context:{node:null,styles:null,unmountAnimationName:null,prevAnimationName:null,present:!1,initial:!1,...e},exit:["clearInitial","cleanupNode"],watch:{present:["setInitial","syncPresence"]},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]},"UNMOUNT.SUSPEND":"unmountSuspended"}},unmountSuspended:{activities:["trackAnimationEvents"],after:{ANIMATION_DURATION:{target:"unmounted",actions:["invokeOnExitComplete"]}},on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]}}},unmounted:{entry:["clearPrevAnimationName"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}}},{delays:{ANIMATION_DURATION(t){var r,n;return zO((r=t.styles)==null?void 0:r.animationDuration)+zO((n=t.styles)==null?void 0:n.animationDelay)+Xte}},actions:{setInitial(t){t.initial=!0},clearInitial(t){t.initial=!1},cleanupNode(t){t.node=null,t.styles=null},invokeOnExitComplete(t){var r;(r=t.onExitComplete)==null||r.call(t)},setNode(t,r){t.node=Uw(r.node)},setStyles(t,r){const n=r.node.ownerDocument.defaultView||window;t.styles=Uw(n.getComputedStyle(r.node))},syncPresence(t,r,{send:n}){var a;if(t.present){n({type:"MOUNT",src:"presence.changed"});return}if(!t.present&&((a=t.node)==null?void 0:a.ownerDocument.visibilityState)==="hidden"){n({type:"UNMOUNT",src:"visibilitychange"});return}const i=Gy(t.styles);(t.immediate?queueMicrotask:requestAnimationFrame)(()=>{var s,l;t.unmountAnimationName=i,i==="none"||i===t.prevAnimationName||((s=t.styles)==null?void 0:s.display)==="none"||((l=t.styles)==null?void 0:l.animationDuration)==="0s"?n({type:"UNMOUNT",src:"presence.changed"}):n({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName(t){(t.immediate?queueMicrotask:requestAnimationFrame)(()=>{t.prevAnimationName=Gy(t.styles)})},clearPrevAnimationName(t){t.prevAnimationName=null}},activities:{trackAnimationEvents(t,r,{send:n}){const i=t.node;if(!i)return;const o=s=>{var u,c;(((c=(u=s.composedPath)==null?void 0:u.call(s))==null?void 0:c[0])??s.target)===i&&(t.prevAnimationName=Gy(t.styles))},a=s=>{var c,d;const l=Gy(t.styles);(((d=(c=s.composedPath)==null?void 0:c.call(s))==null?void 0:d[0])??s.target)===i&&l===t.unmountAnimationName&&n({type:"UNMOUNT",src:"animationend"})};return i.addEventListener("animationstart",o),i.addEventListener("animationcancel",a),i.addEventListener("animationend",a),()=>{i.removeEventListener("animationstart",o),i.removeEventListener("animationcancel",a),i.removeEventListener("animationend",a)}}}})}function Gy(e){return(e==null?void 0:e.animationName)||"none"}function zO(e){return parseFloat(e||"0")*1e3}var Xte=16.667;At()(["onExitComplete","present","immediate"]);var xb=G3();const qte=TA(xb);var F4=jte(e=>e),BO=e=>(e==null?void 0:e.constructor.name)==="Array",Zte=(e,t)=>{if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!KA(e[r],t[r]))return!1;return!0},KA=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof(e==null?void 0:e.isEqual)=="function"&&typeof(t==null?void 0:t.isEqual)=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(BO(e)&&BO(t))return Zte(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const r=Object.keys(t??Object.create(null)),n=r.length;for(let i=0;i<n;i++)if(!Reflect.has(e,r[i]))return!1;for(let i=0;i<n;i++){const o=r[i];if(!KA(e[o],t[o]))return!1}return!0},Qte=Function.prototype.toString;Qte.call(Object);function L4(e){if(!Jte(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(n=>typeof n=="string"),r={};for(const n of t){const i=e[n];i!==void 0&&(r[n]=L4(i))}return r}var Jte=e=>e&&typeof e=="object"&&e.constructor===Object;function ere(e,t){const r=O.useRef(!1),n=O.useRef(!1);O.useEffect(()=>{if(r.current&&n.current)return e();n.current=!0},t),O.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[])}var tre=$A("__zag__targetCache",()=>new WeakMap);function rre(e,t){const{actions:r,context:n,sync:i}=t??{},o=O.useRef(void 0),a=O.useRef(void 0),s=O.useSyncExternalStore(O.useCallback(d=>UT(e.state,d,i),[i]),()=>{const d=xl(e.state);try{if(o.current&&a.current&&!S4(o.current,d,a.current,new WeakMap))return o.current}catch{}return d},()=>xl(e.state));e.setOptions({actions:r});const l=O.useMemo(()=>L4(n??{}),[n]);ere(()=>{const d=Object.entries(l),h=e.contextSnapshot??{};d.map(([m,y])=>({key:m,curr:y,prev:h[m],equal:KA(h[m],y)})).every(({equal:m})=>m)||e.setContext(l)},[l]);const u=new WeakMap;O.useEffect(()=>{o.current=s,a.current=u});const c=O.useMemo(()=>new WeakMap,[]);return b4(s,u,c,tre)}function nre(e){const t=O.useRef(void 0);return t.current||(t.current={v:e()}),t.current.v}var ire=typeof document<"u"?O.useLayoutEffect:O.useEffect;function ore(e,t){const{state:r,context:n}=t??{},i=nre(()=>{const a=typeof e=="function"?e():e;return n&&a.setContext(n),a._created(),a}),o=O.useRef(void 0);return ire(()=>{const a=r??o.current;return i.start(a),()=>{i.stop()}},[]),i}function XA(e,t){const r=ore(e,t);return[rre(r,t),r.send,r]}function qA(e,t={}){const{sync:r=!1}=t,n=are(e);return O.useCallback((...i)=>{var o;return r?queueMicrotask(()=>{var a;return(a=n.current)==null?void 0:a.call(n,...i)}):(o=n.current)==null?void 0:o.call(n,...i)},[r,n])}function are(e){const t=O.useRef(e);return t.current=e,t}const O4=e=>{const{lazyMount:t,unmountOnExit:r,present:n,...i}=e,o=O.useRef(!1),a={...i,present:n,onExitComplete:qA(e.onExitComplete)},[s,l]=XA(Kte(a),{context:a}),u=Yte(s,l);u.present&&(o.current=!0);const c=!u.present&&!o.current&&t||r&&!u.present&&o.current,d=()=>({"data-state":n?"open":"closed",hidden:!u.present});return{ref:u.setNode,getPresenceProps:d,present:u.present,unmounted:c}},[N4,ZA]=Qv({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"}),sre=(e,t)=>{var l;if(!e||typeof e!="string")return{invalid:!0,value:e};const[r,n]=e.split("/");if(!r||!n||r==="currentBg")return{invalid:!0,value:r};const i=t(`colors.${r}`),o=(l=t.raw(`opacity.${n}`))==null?void 0:l.value;if(!o&&isNaN(Number(n)))return{invalid:!0,value:r};const a=o?Number(o)*100+"%":`${n}%`,s=i??r;return{invalid:!1,color:s,value:`color-mix(in srgb, ${s} ${a}, transparent)`}},Ht=e=>(t,r)=>{const n=r.utils.colorMix(t);if(n.invalid)return{[e]:t};const i="--mix-"+e;return{[i]:n.value,[e]:`var(${i}, ${n.color})`}};function XT(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(r=>XT(r));const t=Object.create(Object.getPrototypeOf(e));for(const r of Object.keys(e))t[r]=XT(e[r]);return t}function qT(e,t){if(t==null)return e;for(const r of Object.keys(t))if(!(t[r]===void 0||r==="__proto__"))if(!ri(e[r])&&ri(t[r]))Object.assign(e,{[r]:t[r]});else if(e[r]&&ri(t[r]))qT(e[r],t[r]);else if(Array.isArray(t[r])&&Array.isArray(e[r])){let n=0;for(;n<t[r].length;n++)ri(e[r][n])&&ri(t[r][n])?qT(e[r][n],t[r][n]):e[r][n]=t[r][n]}else Object.assign(e,{[r]:t[r]});return e}function cf(e,...t){for(const r of t)qT(e,r);return e}const lre=e=>e,Fr=e=>e,lt=e=>e,ure=e=>e,cre=e=>e,z4=e=>e,dre=e=>e,hre=e=>e,fre=e=>e;function B4(){const e=t=>t;return new Proxy(e,{get(){return e}})}const _r=B4(),QA=B4(),V4=e=>e,G4=(...e)=>cf({},...e.map(XT)),pre=/[^a-zA-Z0-9_\u0081-\uffff-]/g;function gre(e){return`${e}`.replace(pre,t=>`\\${t}`)}const vre=/[A-Z]/g;function mre(e){return e.replace(vre,t=>`-${t.toLowerCase()}`)}function H4(e,t={}){const{fallback:r="",prefix:n=""}=t,i=mre(["-",n,gre(e)].filter(Boolean).join("-"));return{var:i,ref:`var(${i}${r?`, ${r}`:""})`}}const yre=e=>/^var\(--.+\)$/.test(e),Br=(e,t)=>t!=null?`${e}(${t})`:t,yu=e=>{if(yre(e)||e==null)return e;const t=typeof e=="string"&&!e.endsWith("deg");return typeof e=="number"||t?`${e}deg`:e},VO=e=>({values:["outside","inside","mixed","none"],transform(t,{token:r}){const n=r("colors.colorPalette.focusRing");return{inside:{"--focus-ring-color":n,[e]:{outlineOffset:"0px",outlineWidth:"var(--focus-ring-width, 1px)",outlineColor:"var(--focus-ring-color)",outlineStyle:"var(--focus-ring-style, solid)",borderColor:"var(--focus-ring-color)"}},outside:{"--focus-ring-color":n,[e]:{outlineWidth:"var(--focus-ring-width, 2px)",outlineOffset:"var(--focus-ring-offset, 2px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"var(--focus-ring-color)"}},mixed:{"--focus-ring-color":n,[e]:{outlineWidth:"var(--focus-ring-width, 3px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"color-mix(in srgb, var(--focus-ring-color), transparent 60%)",borderColor:"var(--focus-ring-color)"}},none:{"--focus-ring-color":n,[e]:{outline:"none"}}}[t]??{}}}),Cre=Ht("borderColor"),qa=e=>({transition:e,transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),wre=lre({hover:["@media (hover: hover)","&:is(:hover, [data-hover]):not(:disabled, [data-disabled])"],active:"&:is(:active, [data-active]):not(:disabled, [data-disabled], [data-state=open])",focus:"&:is(:focus, [data-focus])",focusWithin:"&:is(:focus-within, [data-focus-within])",focusVisible:"&:is(:focus-visible, [data-focus-visible])",disabled:"&:is(:disabled, [disabled], [data-disabled], [aria-disabled=true])",visited:"&:visited",target:"&:target",readOnly:"&:is([data-readonly], [aria-readonly=true], [readonly])",readWrite:"&:read-write",empty:"&:is(:empty, [data-empty])",checked:"&:is(:checked, [data-checked], [aria-checked=true], [data-state=checked])",enabled:"&:enabled",expanded:"&:is([aria-expanded=true], [data-expanded], [data-state=expanded])",highlighted:"&[data-highlighted]",complete:"&[data-complete]",incomplete:"&[data-incomplete]",dragging:"&[data-dragging]",before:"&::before",after:"&::after",firstLetter:"&::first-letter",firstLine:"&::first-line",marker:"&::marker",selection:"&::selection",file:"&::file-selector-button",backdrop:"&::backdrop",first:"&:first-of-type",last:"&:last-of-type",notFirst:"&:not(:first-of-type)",notLast:"&:not(:last-of-type)",only:"&:only-child",even:"&:nth-of-type(even)",odd:"&:nth-of-type(odd)",peerFocus:".peer:is(:focus, [data-focus]) ~ &",peerHover:".peer:is(:hover, [data-hover]):not(:disabled, [data-disabled]) ~ &",peerActive:".peer:is(:active, [data-active]):not(:disabled, [data-disabled]) ~ &",peerFocusWithin:".peer:focus-within ~ &",peerFocusVisible:".peer:is(:focus-visible, [data-focus-visible]) ~ &",peerDisabled:".peer:is(:disabled, [disabled], [data-disabled]) ~ &",peerChecked:".peer:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) ~ &",peerInvalid:".peer:is(:invalid, [data-invalid], [aria-invalid=true]) ~ &",peerExpanded:".peer:is([aria-expanded=true], [data-expanded], [data-state=expanded]) ~ &",peerPlaceholderShown:".peer:placeholder-shown ~ &",groupFocus:".group:is(:focus, [data-focus]) &",groupHover:".group:is(:hover, [data-hover]):not(:disabled, [data-disabled]) &",groupActive:".group:is(:active, [data-active]):not(:disabled, [data-disabled]) &",groupFocusWithin:".group:focus-within &",groupFocusVisible:".group:is(:focus-visible, [data-focus-visible]) &",groupDisabled:".group:is(:disabled, [disabled], [data-disabled]) &",groupChecked:".group:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) &",groupExpanded:".group:is([aria-expanded=true], [data-expanded], [data-state=expanded]) &",groupInvalid:".group:invalid &",indeterminate:"&:is(:indeterminate, [data-indeterminate], [aria-checked=mixed], [data-state=indeterminate])",required:"&:is([data-required], [aria-required=true])",valid:"&:is([data-valid], [data-state=valid])",invalid:"&:is([data-invalid], [aria-invalid=true], [data-state=invalid])",autofill:"&:autofill",inRange:"&:is(:in-range, [data-in-range])",outOfRange:"&:is(:out-of-range, [data-outside-range])",placeholder:"&::placeholder, &[data-placeholder]",placeholderShown:"&:is(:placeholder-shown, [data-placeholder-shown])",pressed:"&:is([aria-pressed=true], [data-pressed])",selected:"&:is([aria-selected=true], [data-selected])",grabbed:"&:is([aria-grabbed=true], [data-grabbed])",underValue:"&[data-state=under-value]",overValue:"&[data-state=over-value]",atValue:"&[data-state=at-value]",default:"&:default",optional:"&:optional",open:"&:is([open], [data-open], [data-state=open])",closed:"&:is([closed], [data-closed], [data-state=closed])",fullscreen:"&is(:fullscreen, [data-fullscreen])",loading:"&:is([data-loading], [aria-busy=true])",hidden:"&:is([hidden], [data-hidden])",current:"&[data-current]",currentPage:"&[aria-current=page]",currentStep:"&[aria-current=step]",today:"&[data-today]",unavailable:"&[data-unavailable]",rangeStart:"&[data-range-start]",rangeEnd:"&[data-range-end]",now:"&[data-now]",topmost:"&[data-topmost]",motionReduce:"@media (prefers-reduced-motion: reduce)",motionSafe:"@media (prefers-reduced-motion: no-preference)",print:"@media print",landscape:"@media (orientation: landscape)",portrait:"@media (orientation: portrait)",dark:".dark &, .dark .chakra-theme:not(.light) &",light:":root &, .light &",osDark:"@media (prefers-color-scheme: dark)",osLight:"@media (prefers-color-scheme: light)",highContrast:"@media (forced-colors: active)",lessContrast:"@media (prefers-contrast: less)",moreContrast:"@media (prefers-contrast: more)",ltr:"[dir=ltr] &",rtl:"[dir=rtl] &",scrollbar:"&::-webkit-scrollbar",scrollbarThumb:"&::-webkit-scrollbar-thumb",scrollbarTrack:"&::-webkit-scrollbar-track",horizontal:"&[data-orientation=horizontal]",vertical:"&[data-orientation=vertical]",icon:"& :where(svg)",starting:"@starting-style"}),hh=H4("bg-currentcolor"),GO=e=>e===hh.ref||e==="currentBg",Gt=e=>({...e("colors"),currentBg:hh}),bre=V4({conditions:wre,utilities:{background:{values:Gt,shorthand:["bg"],transform(e,t){if(GO(t.raw))return{background:hh.ref};const r=Ht("background")(e,t);return{...r,[hh.var]:r==null?void 0:r.background}}},backgroundColor:{values:Gt,shorthand:["bgColor"],transform(e,t){if(GO(t.raw))return{backgroundColor:hh.ref};const r=Ht("backgroundColor")(e,t);return{...r,[hh.var]:r==null?void 0:r.backgroundColor}}},backgroundSize:{shorthand:["bgSize"]},backgroundPosition:{shorthand:["bgPos"]},backgroundRepeat:{shorthand:["bgRepeat"]},backgroundAttachment:{shorthand:["bgAttachment"]},backgroundClip:{shorthand:["bgClip"],values:["text"],transform(e){return e==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}}},backgroundGradient:{shorthand:["bgGradient"],values(e){return{...e("gradients"),"to-t":"linear-gradient(to top, var(--gradient))","to-tr":"linear-gradient(to top right, var(--gradient))","to-r":"linear-gradient(to right, var(--gradient))","to-br":"linear-gradient(to bottom right, var(--gradient))","to-b":"linear-gradient(to bottom, var(--gradient))","to-bl":"linear-gradient(to bottom left, var(--gradient))","to-l":"linear-gradient(to left, var(--gradient))","to-tl":"linear-gradient(to top left, var(--gradient))"}},transform(e){return{"--gradient-stops":"var(--gradient-from), var(--gradient-to)","--gradient":"var(--gradient-via-stops, var(--gradient-stops))",backgroundImage:e}}},gradientFrom:{values:Gt,transform:Ht("--gradient-from")},gradientTo:{values:Gt,transform:Ht("--gradient-to")},gradientVia:{values:Gt,transform(e,t){return{...Ht("--gradient-via")(e,t),"--gradient-via-stops":"var(--gradient-from), var(--gradient-via), var(--gradient-to)"}}},backgroundImage:{values(e){return{...e("gradients"),...e("assets")}},shorthand:["bgImg","bgImage"]},border:{values:"borders"},borderTop:{values:"borders"},borderLeft:{values:"borders"},borderBlockStart:{values:"borders"},borderRight:{values:"borders"},borderInlineEnd:{values:"borders"},borderBottom:{values:"borders"},borderBlockEnd:{values:"borders"},borderInlineStart:{values:"borders",shorthand:["borderStart"]},borderInline:{values:"borders",shorthand:["borderX"]},borderBlock:{values:"borders",shorthand:["borderY"]},borderColor:{values:Gt,transform:Ht("borderColor")},borderTopColor:{values:Gt,transform:Ht("borderTopColor")},borderBlockStartColor:{values:Gt,transform:Ht("borderBlockStartColor")},borderBottomColor:{values:Gt,transform:Ht("borderBottomColor")},borderBlockEndColor:{values:Gt,transform:Ht("borderBlockEndColor")},borderLeftColor:{values:Gt,transform:Ht("borderLeftColor")},borderInlineStartColor:{values:Gt,shorthand:["borderStartColor"],transform:Ht("borderInlineStartColor")},borderRightColor:{values:Gt,transform:Ht("borderRightColor")},borderInlineEndColor:{values:Gt,shorthand:["borderEndColor"],transform:Ht("borderInlineEndColor")},borderStyle:{values:"borderStyles"},borderTopStyle:{values:"borderStyles"},borderBlockStartStyle:{values:"borderStyles"},borderBottomStyle:{values:"borderStyles"},borderBlockEndStyle:{values:"borderStyles"},borderInlineStartStyle:{values:"borderStyles",shorthand:["borderStartStyle"]},borderInlineEndStyle:{values:"borderStyles",shorthand:["borderEndStyle"]},borderLeftStyle:{values:"borderStyles"},borderRightStyle:{values:"borderStyles"},borderRadius:{values:"radii",shorthand:["rounded"]},borderTopLeftRadius:{values:"radii",shorthand:["roundedTopLeft"]},borderStartStartRadius:{values:"radii",shorthand:["roundedStartStart","borderTopStartRadius"]},borderEndStartRadius:{values:"radii",shorthand:["roundedEndStart","borderBottomStartRadius"]},borderTopRightRadius:{values:"radii",shorthand:["roundedTopRight"]},borderStartEndRadius:{values:"radii",shorthand:["roundedStartEnd","borderTopEndRadius"]},borderEndEndRadius:{values:"radii",shorthand:["roundedEndEnd","borderBottomEndRadius"]},borderBottomLeftRadius:{values:"radii",shorthand:["roundedBottomLeft"]},borderBottomRightRadius:{values:"radii",shorthand:["roundedBottomRight"]},borderInlineStartRadius:{values:"radii",property:"borderRadius",shorthand:["roundedStart","borderStartRadius"],transform:e=>({borderStartStartRadius:e,borderEndStartRadius:e})},borderInlineEndRadius:{values:"radii",property:"borderRadius",shorthand:["roundedEnd","borderEndRadius"],transform:e=>({borderStartEndRadius:e,borderEndEndRadius:e})},borderTopRadius:{values:"radii",property:"borderRadius",shorthand:["roundedTop"],transform:e=>({borderTopLeftRadius:e,borderTopRightRadius:e})},borderBottomRadius:{values:"radii",property:"borderRadius",shorthand:["roundedBottom"],transform:e=>({borderBottomLeftRadius:e,borderBottomRightRadius:e})},borderLeftRadius:{values:"radii",property:"borderRadius",shorthand:["roundedLeft"],transform:e=>({borderTopLeftRadius:e,borderBottomLeftRadius:e})},borderRightRadius:{values:"radii",property:"borderRadius",shorthand:["roundedRight"],transform:e=>({borderTopRightRadius:e,borderBottomRightRadius:e})},borderWidth:{values:"borderWidths"},borderBlockStartWidth:{values:"borderWidths"},borderTopWidth:{values:"borderWidths"},borderBottomWidth:{values:"borderWidths"},borderBlockEndWidth:{values:"borderWidths"},borderRightWidth:{values:"borderWidths"},borderInlineWidth:{values:"borderWidths",shorthand:["borderXWidth"]},borderInlineStartWidth:{values:"borderWidths",shorthand:["borderStartWidth"]},borderInlineEndWidth:{values:"borderWidths",shorthand:["borderEndWidth"]},borderLeftWidth:{values:"borderWidths"},borderBlockWidth:{values:"borderWidths",shorthand:["borderYWidth"]},color:{values:Gt,transform:Ht("color")},fill:{values:Gt,transform:Ht("fill")},stroke:{values:Gt,transform:Ht("stroke")},accentColor:{values:Gt,transform:Ht("accentColor")},divideX:{values:{type:"string"},transform(e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderInlineStartWidth:e,borderInlineEndWidth:"0px"}}}},divideY:{values:{type:"string"},transform(e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderTopWidth:e,borderBottomWidth:"0px"}}}},divideColor:{values:Gt,transform(e,t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":Cre(e,t)}}},divideStyle:{property:"borderStyle",transform(e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderStyle:e}}}},boxShadow:{values:"shadows",shorthand:["shadow"]},boxShadowColor:{values:Gt,transform:Ht("--shadow-color"),shorthand:["shadowColor"]},mixBlendMode:{shorthand:["blendMode"]},backgroundBlendMode:{shorthand:["bgBlendMode"]},opacity:{values:"opacity"},filter:{transform(e){return e!=="auto"?{filter:e}:{filter:"var(--blur) var(--brightness) var(--contrast) var(--grayscale) var(--hue-rotate) var(--invert) var(--saturate) var(--sepia) var(--drop-shadow)"}}},blur:{values:"blurs",transform:e=>({"--blur":Br("blur",e)})},brightness:{transform:e=>({"--brightness":Br("brightness",e)})},contrast:{transform:e=>({"--contrast":Br("contrast",e)})},grayscale:{transform:e=>({"--grayscale":Br("grayscale",e)})},hueRotate:{transform:e=>({"--hue-rotate":Br("hue-rotate",yu(e))})},invert:{transform:e=>({"--invert":Br("invert",e)})},saturate:{transform:e=>({"--saturate":Br("saturate",e)})},sepia:{transform:e=>({"--sepia":Br("sepia",e)})},dropShadow:{transform:e=>({"--drop-shadow":Br("drop-shadow",e)})},backdropFilter:{transform(e){return e!=="auto"?{backdropFilter:e}:{backdropFilter:"var(--backdrop-blur) var(--backdrop-brightness) var(--backdrop-contrast) var(--backdrop-grayscale) var(--backdrop-hue-rotate) var(--backdrop-invert) var(--backdrop-opacity) var(--backdrop-saturate) var(--backdrop-sepia)"}}},backdropBlur:{values:"blurs",transform:e=>({"--backdrop-blur":Br("blur",e)})},backdropBrightness:{transform:e=>({"--backdrop-brightness":Br("brightness",e)})},backdropContrast:{transform:e=>({"--backdrop-contrast":Br("contrast",e)})},backdropGrayscale:{transform:e=>({"--backdrop-grayscale":Br("grayscale",e)})},backdropHueRotate:{transform:e=>({"--backdrop-hue-rotate":Br("hue-rotate",yu(e))})},backdropInvert:{transform:e=>({"--backdrop-invert":Br("invert",e)})},backdropOpacity:{transform:e=>({"--backdrop-opacity":Br("opacity",e)})},backdropSaturate:{transform:e=>({"--backdrop-saturate":Br("saturate",e)})},backdropSepia:{transform:e=>({"--backdrop-sepia":Br("sepia",e)})},flexBasis:{values:"sizes"},gap:{values:"spacing"},rowGap:{values:"spacing",shorthand:["gapY"]},columnGap:{values:"spacing",shorthand:["gapX"]},flexDirection:{shorthand:["flexDir"]},gridGap:{values:"spacing"},gridColumnGap:{values:"spacing"},gridRowGap:{values:"spacing"},outlineColor:{values:Gt,transform:Ht("outlineColor")},focusRing:VO("&:is(:focus, [data-focus])"),focusVisibleRing:VO("&:is(:focus-visible, [data-focus-visible])"),focusRingColor:{values:Gt,transform:Ht("--focus-ring-color")},focusRingOffset:{values:"spacing",transform:e=>({"--focus-ring-offset":e})},focusRingWidth:{values:"borderWidths",property:"outlineWidth",transform:e=>({"--focus-ring-width":e})},focusRingStyle:{values:"borderStyles",property:"outlineStyle",transform:e=>({"--focus-ring-style":e})},aspectRatio:{values:"aspectRatios"},width:{values:"sizes",shorthand:["w"]},inlineSize:{values:"sizes"},height:{values:"sizes",shorthand:["h"]},blockSize:{values:"sizes"},boxSize:{values:"sizes",property:"width",transform:e=>({width:e,height:e})},minWidth:{values:"sizes",shorthand:["minW"]},minInlineSize:{values:"sizes"},minHeight:{values:"sizes",shorthand:["minH"]},minBlockSize:{values:"sizes"},maxWidth:{values:"sizes",shorthand:["maxW"]},maxInlineSize:{values:"sizes"},maxHeight:{values:"sizes",shorthand:["maxH"]},maxBlockSize:{values:"sizes"},hideFrom:{values:"breakpoints",transform:(e,{raw:t,token:r})=>({[r.raw(`breakpoints.${t}`)?`@breakpoint ${t}`:`@media screen and (min-width: ${e})`]:{display:"none"}})},hideBelow:{values:"breakpoints",transform(e,{raw:t,token:r}){return{[r.raw(`breakpoints.${t}`)?`@breakpoint ${t}Down`:`@media screen and (max-width: ${e})`]:{display:"none"}}}},overscrollBehavior:{shorthand:["overscroll"]},overscrollBehaviorX:{shorthand:["overscrollX"]},overscrollBehaviorY:{shorthand:["overscrollY"]},scrollbar:{values:["visible","hidden"],transform(e){switch(e){case"visible":return{msOverflowStyle:"auto",scrollbarWidth:"auto","&::-webkit-scrollbar":{display:"block"}};case"hidden":return{msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}};default:return{}}}},scrollbarColor:{values:Gt,transform:Ht("scrollbarColor")},scrollbarGutter:{values:"spacing"},scrollbarWidth:{values:"sizes"},scrollMargin:{values:"spacing"},scrollMarginTop:{values:"spacing"},scrollMarginBottom:{values:"spacing"},scrollMarginLeft:{values:"spacing"},scrollMarginRight:{values:"spacing"},scrollMarginX:{values:"spacing",transform:e=>({scrollMarginLeft:e,scrollMarginRight:e})},scrollMarginY:{values:"spacing",transform:e=>({scrollMarginTop:e,scrollMarginBottom:e})},scrollPadding:{values:"spacing"},scrollPaddingTop:{values:"spacing"},scrollPaddingBottom:{values:"spacing"},scrollPaddingLeft:{values:"spacing"},scrollPaddingRight:{values:"spacing"},scrollPaddingInline:{values:"spacing",shorthand:["scrollPaddingX"]},scrollPaddingBlock:{values:"spacing",shorthand:["scrollPaddingY"]},scrollSnapType:{values:{none:"none",x:"x var(--scroll-snap-strictness)",y:"y var(--scroll-snap-strictness)",both:"both var(--scroll-snap-strictness)"}},scrollSnapStrictness:{values:["mandatory","proximity"],transform:e=>({"--scroll-snap-strictness":e})},scrollSnapMargin:{values:"spacing"},scrollSnapMarginTop:{values:"spacing"},scrollSnapMarginBottom:{values:"spacing"},scrollSnapMarginLeft:{values:"spacing"},scrollSnapMarginRight:{values:"spacing"},listStylePosition:{shorthand:["listStylePos"]},listStyleImage:{values:"assets",shorthand:["listStyleImg"]},position:{shorthand:["pos"]},zIndex:{values:"zIndex"},inset:{values:"spacing"},insetInline:{values:"spacing",shorthand:["insetX"]},insetBlock:{values:"spacing",shorthand:["insetY"]},top:{values:"spacing"},insetBlockStart:{values:"spacing"},bottom:{values:"spacing"},insetBlockEnd:{values:"spacing"},left:{values:"spacing"},right:{values:"spacing"},insetInlineStart:{values:"spacing",shorthand:["insetStart"]},insetInlineEnd:{values:"spacing",shorthand:["insetEnd"]},ring:{transform(e){return{"--ring-offset-shadow":"var(--ring-inset) 0 0 0 var(--ring-offset-width) var(--ring-offset-color)","--ring-shadow":"var(--ring-inset) 0 0 0 calc(var(--ring-width) + var(--ring-offset-width)) var(--ring-color)","--ring-width":e,boxShadow:"var(--ring-offset-shadow), var(--ring-shadow), var(--shadow, 0 0 #0000)"}}},ringColor:{values:Gt,transform:Ht("--ring-color")},ringOffset:{transform:e=>({"--ring-offset-width":e})},ringOffsetColor:{values:Gt,transform:Ht("--ring-offset-color")},ringInset:{transform:e=>({"--ring-inset":e})},margin:{values:"spacing",shorthand:["m"]},marginTop:{values:"spacing",shorthand:["mt"]},marginBlockStart:{values:"spacing",shorthand:["mt"]},marginRight:{values:"spacing",shorthand:["mr"]},marginBottom:{values:"spacing",shorthand:["mb"]},marginBlockEnd:{values:"spacing"},marginLeft:{values:"spacing",shorthand:["ml"]},marginInlineStart:{values:"spacing",shorthand:["ms","marginStart"]},marginInlineEnd:{values:"spacing",shorthand:["me","marginEnd"]},marginInline:{values:"spacing",shorthand:["mx","marginX"]},marginBlock:{values:"spacing",shorthand:["my","marginY"]},padding:{values:"spacing",shorthand:["p"]},paddingTop:{values:"spacing",shorthand:["pt"]},paddingRight:{values:"spacing",shorthand:["pr"]},paddingBottom:{values:"spacing",shorthand:["pb"]},paddingBlockStart:{values:"spacing"},paddingBlockEnd:{values:"spacing"},paddingLeft:{values:"spacing",shorthand:["pl"]},paddingInlineStart:{values:"spacing",shorthand:["ps","paddingStart"]},paddingInlineEnd:{values:"spacing",shorthand:["pe","paddingEnd"]},paddingInline:{values:"spacing",shorthand:["px","paddingX"]},paddingBlock:{values:"spacing",shorthand:["py","paddingY"]},textDecoration:{shorthand:["textDecor"]},textDecorationColor:{values:Gt,transform:Ht("textDecorationColor")},textShadow:{values:"shadows"},transform:{transform:e=>{let t=e;return e==="auto"&&(t="translateX(var(--translate-x, 0)) translateY(var(--translate-y, 0)) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),e==="auto-gpu"&&(t="translate3d(var(--translate-x, 0), var(--translate-y, 0), 0) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),{transform:t}}},skewX:{transform:e=>({"--skew-x":yu(e)})},skewY:{transform:e=>({"--skew-y":yu(e)})},scaleX:{transform:e=>({"--scale-x":e})},scaleY:{transform:e=>({"--scale-y":e})},scale:{transform(e){return e!=="auto"?{scale:e}:{scale:"var(--scale-x, 1) var(--scale-y, 1)"}}},spaceXReverse:{values:{type:"boolean"},transform(e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":e?"1":void 0}}}},spaceX:{property:"marginInlineStart",values:"spacing",transform:e=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":"0",marginInlineStart:`calc(${e} * calc(1 - var(--space-x-reverse)))`,marginInlineEnd:`calc(${e} * var(--space-x-reverse))`}})},spaceYReverse:{values:{type:"boolean"},transform(e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":e?"1":void 0}}}},spaceY:{property:"marginTop",values:"spacing",transform:e=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":"0",marginTop:`calc(${e} * calc(1 - var(--space-y-reverse)))`,marginBottom:`calc(${e} * var(--space-y-reverse))`}})},rotate:{transform(e){return e!=="auto"?{rotate:yu(e)}:{rotate:"var(--rotate-x, 0) var(--rotate-y, 0) var(--rotate-z, 0)"}}},rotateX:{transform(e){return{"--rotate-x":yu(e)}}},rotateY:{transform(e){return{"--rotate-y":yu(e)}}},translate:{transform(e){return e!=="auto"?{translate:e}:{translate:"var(--translate-x) var(--translate-y)"}}},translateX:{values:"spacing",transform:e=>({"--translate-x":e})},translateY:{values:"spacing",transform:e=>({"--translate-y":e})},transition:{values:["all","common","colors","opacity","position","backgrounds","size","shadow","transform"],transform(e){switch(e){case"all":return qa("all");case"position":return qa("left, right, top, bottom, inset-inline, inset-block");case"colors":return qa("color, background-color, border-color, text-decoration-color, fill, stroke");case"opacity":return qa("opacity");case"shadow":return qa("box-shadow");case"transform":return qa("transform");case"size":return qa("width, height");case"backgrounds":return qa("background, background-color, background-image, background-position");case"common":return qa("color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter");default:return{transition:e}}}},transitionDuration:{values:"durations"},transitionProperty:{values:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, translate, transform",colors:"background-color, border-color, color, fill, stroke",size:"width, height",position:"left, right, top, bottom, inset-inline, inset-block",background:"background, background-color, background-image, background-position"}},transitionTimingFunction:{values:"easings"},animation:{values:"animations"},animationDuration:{values:"durations"},animationDelay:{values:"durations"},animationTimingFunction:{values:"easings"},fontFamily:{values:"fonts"},fontSize:{values:"fontSizes"},fontWeight:{values:"fontWeights"},lineHeight:{values:"lineHeights"},letterSpacing:{values:"letterSpacings"},textIndent:{values:"spacing"},truncate:{values:{type:"boolean"},transform(e){return e===!0?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}}},lineClamp:{transform(e){return e==="none"?{WebkitLineClamp:"unset"}:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical",textWrap:"wrap"}}},srOnly:{values:{type:"boolean"},transform(e){return Sre[e]||{}}},debug:{values:{type:"boolean"},transform(e){return e?{outline:"1px solid blue !important","& > *":{outline:"1px solid red !important"}}:{}}},caretColor:{values:Gt,transform:Ht("caretColor")},cursor:{values:"cursor"}}}),Sre={true:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},false:{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto",whiteSpace:"normal"}};var xre="",Rre=xre.split(","),_re="WebkitAppearance,WebkitBorderBefore,WebkitBorderBeforeColor,WebkitBorderBeforeStyle,WebkitBorderBeforeWidth,WebkitBoxReflect,WebkitLineClamp,WebkitMask,WebkitMaskAttachment,WebkitMaskClip,WebkitMaskComposite,WebkitMaskImage,WebkitMaskOrigin,WebkitMaskPosition,WebkitMaskPositionX,WebkitMaskPositionY,WebkitMaskRepeat,WebkitMaskRepeatX,WebkitMaskRepeatY,WebkitMaskSize,WebkitOverflowScrolling,WebkitTapHighlightColor,WebkitTextFillColor,WebkitTextStroke,WebkitTextStrokeColor,WebkitTextStrokeWidth,WebkitTouchCallout,WebkitUserModify,accentColor,alignContent,alignItems,alignSelf,alignTracks,all,animation,animationComposition,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationRange,animationRangeEnd,animationRangeStart,animationTimingFunction,animationTimeline,appearance,aspectRatio,azimuth,backdropFilter,backfaceVisibility,background,backgroundAttachment,backgroundBlendMode,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundRepeat,backgroundSize,blockSize,border,borderBlock,borderBlockColor,borderBlockStyle,borderBlockWidth,borderBlockEnd,borderBlockEndColor,borderBlockEndStyle,borderBlockEndWidth,borderBlockStart,borderBlockStartColor,borderBlockStartStyle,borderBlockStartWidth,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderEndEndRadius,borderEndStartRadius,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderInline,borderInlineEnd,borderInlineColor,borderInlineStyle,borderInlineWidth,borderInlineEndColor,borderInlineEndStyle,borderInlineEndWidth,borderInlineStart,borderInlineStartColor,borderInlineStartStyle,borderInlineStartWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStartEndRadius,borderStartStartRadius,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxAlign,boxDecorationBreak,boxDirection,boxFlex,boxFlexGroup,boxLines,boxOrdinalGroup,boxOrient,boxPack,boxShadow,boxSizing,breakAfter,breakBefore,breakInside,captionSide,caret,caretColor,caretShape,clear,clip,clipPath,color,colorScheme,columnCount,columnFill,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,columnSpan,columnWidth,columns,contain,containIntrinsicSize,containIntrinsicBlockSize,containIntrinsicHeight,containIntrinsicInlineSize,containIntrinsicWidth,container,containerName,containerType,content,contentVisibility,counterIncrement,counterReset,counterSet,cursor,direction,display,emptyCells,filter,flex,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flexWrap,float,font,fontFamily,fontFeatureSettings,fontKerning,fontLanguageOverride,fontOpticalSizing,fontPalette,fontVariationSettings,fontSize,fontSizeAdjust,fontSmooth,fontStretch,fontStyle,fontSynthesis,fontSynthesisPosition,fontSynthesisSmallCaps,fontSynthesisStyle,fontSynthesisWeight,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariantEastAsian,fontVariantEmoji,fontVariantLigatures,fontVariantNumeric,fontVariantPosition,fontWeight,forcedColorAdjust,gap,grid,gridArea,gridAutoColumns,gridAutoFlow,gridAutoRows,gridColumn,gridColumnEnd,gridColumnGap,gridColumnStart,gridGap,gridRow,gridRowEnd,gridRowGap,gridRowStart,gridTemplate,gridTemplateAreas,gridTemplateColumns,gridTemplateRows,hangingPunctuation,height,hyphenateCharacter,hyphenateLimitChars,hyphens,imageOrientation,imageRendering,imageResolution,imeMode,initialLetter,initialLetterAlign,inlineSize,inputSecurity,inset,insetBlock,insetBlockEnd,insetBlockStart,insetInline,insetInlineEnd,insetInlineStart,isolation,justifyContent,justifyItems,justifySelf,justifyTracks,left,letterSpacing,lineBreak,lineClamp,lineHeight,lineHeightStep,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBlock,marginBlockEnd,marginBlockStart,marginBottom,marginInline,marginInlineEnd,marginInlineStart,marginLeft,marginRight,marginTop,marginTrim,mask,maskBorder,maskBorderMode,maskBorderOutset,maskBorderRepeat,maskBorderSlice,maskBorderSource,maskBorderWidth,maskClip,maskComposite,maskImage,maskMode,maskOrigin,maskPosition,maskRepeat,maskSize,maskType,masonryAutoFlow,mathDepth,mathShift,mathStyle,maxBlockSize,maxHeight,maxInlineSize,maxLines,maxWidth,minBlockSize,minHeight,minInlineSize,minWidth,mixBlendMode,objectFit,objectPosition,offset,offsetAnchor,offsetDistance,offsetPath,offsetPosition,offsetRotate,opacity,order,orphans,outline,outlineColor,outlineOffset,outlineStyle,outlineWidth,overflow,overflowAnchor,overflowBlock,overflowClipBox,overflowClipMargin,overflowInline,overflowWrap,overflowX,overflowY,overlay,overscrollBehavior,overscrollBehaviorBlock,overscrollBehaviorInline,overscrollBehaviorX,overscrollBehaviorY,padding,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingBottom,paddingInline,paddingInlineEnd,paddingInlineStart,paddingLeft,paddingRight,paddingTop,page,pageBreakAfter,pageBreakBefore,pageBreakInside,paintOrder,perspective,perspectiveOrigin,placeContent,placeItems,placeSelf,pointerEvents,position,printColorAdjust,quotes,resize,right,rotate,rowGap,rubyAlign,rubyMerge,rubyPosition,scale,scrollbarColor,scrollbarGutter,scrollbarWidth,scrollBehavior,scrollMargin,scrollMarginBlock,scrollMarginBlockStart,scrollMarginBlockEnd,scrollMarginBottom,scrollMarginInline,scrollMarginInlineStart,scrollMarginInlineEnd,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollPadding,scrollPaddingBlock,scrollPaddingBlockStart,scrollPaddingBlockEnd,scrollPaddingBottom,scrollPaddingInline,scrollPaddingInlineStart,scrollPaddingInlineEnd,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollSnapAlign,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapStop,scrollSnapType,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,shapeImageThreshold,shapeMargin,shapeOutside,tabSize,tableLayout,textAlign,textAlignLast,textCombineUpright,textDecoration,textDecorationColor,textDecorationLine,textDecorationSkip,textDecorationSkipInk,textDecorationStyle,textDecorationThickness,textEmphasis,textEmphasisColor,textEmphasisPosition,textEmphasisStyle,textIndent,textJustify,textOrientation,textOverflow,textRendering,textShadow,textSizeAdjust,textTransform,textUnderlineOffset,textUnderlinePosition,textWrap,timelineScope,top,touchAction,transform,transformBox,transformOrigin,transformStyle,transition,transitionBehavior,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,translate,unicodeBidi,userSelect,verticalAlign,viewTimeline,viewTimelineAxis,viewTimelineInset,viewTimelineName,viewTransitionName,visibility,whiteSpace,whiteSpaceCollapse,widows,width,willChange,wordBreak,wordSpacing,wordWrap,writingMode,zIndex,zoom,alignmentBaseline,baselineShift,clipRule,colorInterpolation,colorRendering,dominantBaseline,fill,fillOpacity,fillRule,floodColor,floodOpacity,glyphOrientationVertical,lightingColor,marker,markerEnd,markerMid,markerStart,shapeRendering,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,textAnchor,vectorEffect",Tre=_re.split(",").concat(Rre),Pre=new Map(Tre.map(e=>[e,!0]));function Dre(e){const t=Object.create(null);return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}var Are=/&|@/,Ire=Dre(e=>Pre.has(e)||e.startsWith("--")||Are.test(e));const Ere=e=>e!=null;function bs(e,t,r={}){const{stop:n,getKey:i}=r;function o(a,s=[]){if(ri(a)||Array.isArray(a)){const l={};for(const[u,c]of Object.entries(a)){const d=(i==null?void 0:i(u,c))??u,h=[...s,d];if(n!=null&&n(a,h))return t(a,s);const f=o(c,h);Ere(f)&&(l[d]=f)}return l}return t(a,s)}return o(e)}function W4(e,t){return Array.isArray(e)?e.map(r=>t(r)):ri(e)?bs(e,r=>t(r)):e!=null?t(e):e}function Mre(e,t){const r={};return bs(e,(n,i)=>{n&&(r[i.join(".")]=n.value)},{stop:t}),r}const Sh=(e,t)=>{const r=Object.create(null);function n(...i){const o=i.join("|");return r[o]===void 0&&(r[o]=e(...i)),r[o]}return n},$4=16,Kw="px",JA="em",Ig="rem";function U4(e=""){const t=new RegExp(String.raw`-?\d+(?:\.\d+|\d*)`),r=new RegExp(`${Kw}|${JA}|${Ig}`),n=e.match(new RegExp(`${t.source}(${r.source})`));return n==null?void 0:n[1]}function j4(e=""){if(typeof e=="number")return`${e}px`;const t=U4(e);if(!t||t===Kw)return e;if(t===JA||t===Ig)return`${parseFloat(e)*$4}${Kw}`}function Y4(e=""){const t=U4(e);if(!t||t===Ig)return e;if(t===JA)return`${parseFloat(e)}${Ig}`;if(t===Kw)return`${parseFloat(e)/$4}${Ig}`}const kre=e=>e.charAt(0).toUpperCase()+e.slice(1);function Fre(e){const t=Lre(e),r=Object.fromEntries(t);function n(h){return r[h]}function i(h){return Ad(n(h))}function o(){const h=Object.keys(r),f=Ore(h),g=h.flatMap(m=>{const y=n(m),C=[`${m}Down`,Ad({max:hw(y.min)})],w=[m,Ad({min:y.min})],S=[`${m}Only`,i(m)];return[w,S,C]}).filter(([,m])=>m!=="").concat(f.map(([m,y])=>{const C=n(m),w=n(y);return[`${m}To${kre(y)}`,Ad({min:C.min,max:hw(w.min)})]}));return Object.fromEntries(g)}function a(){const h=o();return Object.fromEntries(Object.entries(h))}const s=a(),l=h=>s[h];function u(){return["base",...Object.keys(r)]}function c(h){return Ad({min:n(h).min})}function d(h){return Ad({max:hw(n(h).min)})}return{values:Object.values(r),only:i,keys:u,conditions:s,getCondition:l,up:c,down:d}}function hw(e){const t=parseFloat(j4(e)??"")-.04;return Y4(`${t}px`)}function Lre(e){return Object.entries(e).sort(([,r],[,n])=>parseInt(r,10)<parseInt(n,10)?-1:1).map(([r,n],i,o)=>{var s;let a=null;return i<=o.length-1&&(a=(s=o[i+1])==null?void 0:s[1]),a!=null&&(a=hw(a)),[r,{name:r,min:Y4(n),max:a}]})}function Ore(e){const t=[];return e.forEach((r,n)=>{let i=n;i++;let o=e[i];for(;o;)t.push([r,o]),i++,o=e[i]}),t}function Ad({min:e,max:t}){return e==null&&t==null?"":["@media screen",e&&`(min-width: ${e})`,t&&`(max-width: ${t})`].filter(Boolean).join(" and ")}const Nre=(e,t)=>Object.fromEntries(Object.entries(e).map(([r,n])=>t(r,n))),zre=e=>{const{breakpoints:t,conditions:r={}}=e,n=Nre(r,(c,d)=>[`_${c}`,d]),i=Object.assign({},n,t.conditions);function o(){return Object.keys(i)}function a(c){return o().includes(c)||/^@|&|&$/.test(c)||c.startsWith("_")}function s(c){return c.filter(d=>d!=="base").sort((d,h)=>{const f=a(d),g=a(h);return f&&!g?1:!f&&g?-1:0})}function l(c){return c.startsWith("@breakpoint")?t.getCondition(c.replace("@breakpoint ","")):c}function u(c){return Reflect.get(i,c)||c}return{keys:o,sort:s,has:a,resolve:u,breakpoints:t.keys(),expandAtRule:l}},K4=e=>({minMax:new RegExp(`(!?\\(\\s*min(-device-)?-${e})(.|
)+\\(\\s*max(-device)?-${e}`,"i"),min:new RegExp(`\\(\\s*min(-device)?-${e}`,"i"),maxMin:new RegExp(`(!?\\(\\s*max(-device)?-${e})(.|
)+\\(\\s*min(-device)?-${e}`,"i"),max:new RegExp(`\\(\\s*max(-device)?-${e}`,"i")}),Bre=K4("width"),Vre=K4("height"),X4=e=>({isMin:YO(e.minMax,e.maxMin,e.min),isMax:YO(e.maxMin,e.minMax,e.max)}),{isMin:ZT,isMax:HO}=X4(Bre),{isMin:QT,isMax:WO}=X4(Vre),$O=/print/i,UO=/^print$/i,Gre=/(-?\d*\.?\d+)(ch|em|ex|px|rem)/,Hre=/(\d)/,fg=Number.MAX_VALUE,Wre={ch:8.8984375,em:16,rem:16,ex:8.296875,px:1};function jO(e){const t=Gre.exec(e)||(ZT(e)||QT(e)?Hre.exec(e):null);if(!t)return fg;if(t[0]==="0")return 0;const r=parseFloat(t[1]),n=t[2];return r*(Wre[n]||1)}function YO(e,t,r){return n=>e.test(n)||!t.test(n)&&r.test(n)}function $re(e,t){const r=$O.test(e),n=UO.test(e),i=$O.test(t),o=UO.test(t);return r&&i?!n&&o?1:n&&!o?-1:e.localeCompare(t):r?1:i?-1:null}const Ure=Sh((e,t)=>{const r=$re(e,t);if(r!==null)return r;const n=ZT(e)||QT(e),i=HO(e)||WO(e),o=ZT(t)||QT(t),a=HO(t)||WO(t);if(n&&a)return-1;if(i&&o)return 1;const s=jO(e),l=jO(t);return s===fg&&l===fg?e.localeCompare(t):s===fg?1:l===fg?-1:s!==l?s>l?i?-1:1:i?1:-1:e.localeCompare(t)});function KO(e){return e.sort(([t],[r])=>Ure(t,r))}function q4(e){const t=[],r=[],n={};for(const[a,s]of Object.entries(e))a.startsWith("@media")?t.push([a,s]):a.startsWith("@container")?r.push([a,s]):ri(s)?n[a]=q4(s):n[a]=s;const i=KO(t),o=KO(r);return{...n,...Object.fromEntries(i),...Object.fromEntries(o)}}const Z4=/\s*!(important)?/i,jre=e=>Pa(e)?Z4.test(e):!1,Yre=e=>Pa(e)?e.replace(Z4,"").trim():e;function Q4(e){const{transform:t,conditions:r,normalize:n}=e,i=qre(e);return function(...a){const s=i(...a),l=n(s),u=Object.create(null);return bs(l,(c,d)=>{const h=jre(c);if(c==null)return;const[f,...g]=r.sort(d).map(r.resolve);h&&(c=Yre(c));let m=t(f,c)??Object.create(null);m=bs(m,y=>Pa(y)&&h?`${y} !important`:y,{getKey:y=>r.expandAtRule(y)}),Kre(u,g.flat(),m)}),q4(u)}}function Kre(e,t,r){let n=e;for(const i of t)i&&(n[i]||(n[i]=Object.create(null)),n=n[i]);cf(n,r)}function Xre(...e){return e.filter(t=>ri(t)&&Object.keys(qv(t)).length>0)}function qre(e){function t(r){const n=Xre(...r);return n.length===1?n:n.map(i=>e.normalize(i))}return function(...n){return cf({},...t(n))}}function J4(e,t=[]){const r=Object.assign({},e);for(const n of t)n in r&&delete r[n];return r}const Zre=(...e)=>{const t=e.filter(Boolean);return Array.from(new Set(t))},e$=e=>({base:{},variants:{},defaultVariants:{},compoundVariants:[],...e});function Qre(e){const{css:t,conditions:r,normalize:n,layers:i}=e;function o(s={}){const{base:l,variants:u,defaultVariants:c,compoundVariants:d}=e$(s),h=Q4({conditions:r,normalize:n,transform(w,S){var x;return(x=u[w])==null?void 0:x[S]}}),f=(w={})=>{const S=n({...c,...qv(w)});let x={...l};cf(x,h(S));const R=a(d,S);return i.wrap("recipes",t(x,R))},g=Object.keys(u),m=w=>{const S=J4(w,["recipe"]),[x,R]=bh(S,g);return g.includes("colorPalette")||(x.colorPalette=w.colorPalette||c.colorPalette),g.includes("orientation")&&(R.orientation=w.orientation),[x,R]},y=Object.fromEntries(Object.entries(u).map(([w,S])=>[w,Object.keys(S)]));return Object.assign(w=>t(f(w)),{className:s.className,__cva__:!0,variantMap:y,variantKeys:g,raw:f,config:s,splitVariantProps:m,merge(w){return o(Jre(e)(this,w))}})}function a(s,l){let u={};return s.forEach(c=>{Object.entries(c).every(([h,f])=>h==="css"?!0:(Array.isArray(f)?f:[f]).some(m=>l[h]===m))&&(u=t(u,c.css))}),u}return o}function Jre(e){const{css:t}=e;return function(n,i){const o=e$(i.config),a=Zre(n.variantKeys,Object.keys(i.variants)),s=t(n.base,o.base),l=Object.fromEntries(a.map(h=>[h,t(n.config.variants[h],o.variants[h])])),u=cf(n.config.defaultVariants,o.defaultVariants),c=[...n.compoundVariants,...o.compoundVariants];return{className:Ci(n.className,i.className),base:s,variants:l,defaultVariants:u,compoundVariants:c}}}const ene={reset:"reset",base:"base",tokens:"tokens",recipes:"recipes"},XO={reset:0,base:1,tokens:2,recipes:3};function tne(e){const t=e.layers??ene,n=Object.values(t).sort((i,o)=>XO[i]-XO[o]);return{names:n,atRule:`@layer ${n.join(", ")};`,wrap(i,o){return e.disableLayers?o:{[`@layer ${t[i]}`]:o}}}}function rne(e){const{utility:t,normalize:r}=e,{hasShorthand:n,resolveShorthand:i}=t;return function(o){return bs(o,r,{stop:a=>Array.isArray(a),getKey:n?i:void 0})}}function nne(e){const{preflight:t}=e;if(!t)return{};const{scope:r="",level:n="parent"}=ri(t)?t:{};let i="";r&&n==="parent"?i=`${r} `:r&&n==="element"&&(i=`&${r}`);const o={"*":{margin:"0px",padding:"0px",font:"inherit",wordWrap:"break-word",WebkitTapHighlightColor:"transparent"},"*, *::before, *::after, *::backdrop":{boxSizing:"border-box",borderWidth:"0px",borderStyle:"solid",borderColor:"var(--global-color-border, currentColor)"},hr:{height:"0px",color:"inherit",borderTopWidth:"1px"},body:{minHeight:"100dvh",position:"relative"},img:{borderStyle:"none"},"img, svg, video, canvas, audio, iframe, embed, object":{display:"block",verticalAlign:"middle"},iframe:{border:"none"},"img, video":{maxWidth:"100%",height:"auto"},"p, h1, h2, h3, h4, h5, h6":{overflowWrap:"break-word"},"ol, ul":{listStyle:"none"},"code, kbd, pre, samp":{fontSize:"1em"},"button, [type='button'], [type='reset'], [type='submit']":{WebkitAppearance:"button",backgroundColor:"transparent",backgroundImage:"none"},"button, input, optgroup, select, textarea":{color:"inherit"},"button, select":{textTransform:"none"},table:{textIndent:"0px",borderColor:"inherit",borderCollapse:"collapse"},"*::placeholder":{opacity:"unset",color:"#9ca3af",userSelect:"none"},textarea:{resize:"vertical"},summary:{display:"list-item"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sub:{bottom:"-0.25em"},sup:{top:"-0.5em"},dialog:{padding:"0px"},a:{color:"inherit",textDecoration:"inherit"},"abbr:where([title])":{textDecoration:"underline dotted"},"b, strong":{fontWeight:"bolder"},"code, kbd, samp, pre":{fontSize:"1em","--font-mono-fallback":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New'",fontFamily:"var(--global-font-mono, var(--font-mono-fallback))"},'input[type="text"], input[type="email"], input[type="search"], input[type="password"]':{WebkitAppearance:"none",MozAppearance:"none"},"input[type='search']":{WebkitAppearance:"textfield",outlineOffset:"-2px"},"::-webkit-search-decoration, ::-webkit-search-cancel-button":{WebkitAppearance:"none"},"::-webkit-file-upload-button":{WebkitAppearance:"button",font:"inherit"},'input[type="number"]::-webkit-inner-spin-button, input[type="number"]::-webkit-outer-spin-button':{height:"auto"},"input[type='number']":{MozAppearance:"textfield"},":-moz-ui-invalid":{boxShadow:"none"},":-moz-focusring":{outline:"auto"},"[hidden]:where(:not([hidden='until-found']))":{display:"none !important"}},a={[r||"html"]:{lineHeight:1.5,"--font-fallback":"ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",WebkitTextSizeAdjust:"100%",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",textRendering:"optimizeLegibility",touchAction:"manipulation",MozTabSize:"4",tabSize:"4",fontFamily:"var(--global-font-body, var(--font-fallback))"}};if(n==="element"){const s=Object.entries(o).reduce((l,[u,c])=>(l[u]={[i]:c},l),{});Object.assign(a,s)}else i?a[i]=o:Object.assign(a,o);return a}function ine(e){const{conditions:t,isValidProperty:r}=e;return function(i){return bs(i,o=>o,{getKey:(o,a)=>ri(a)&&!t.has(o)&&!r(o)?one(o).map(s=>"&"+s).join(", "):o})}}function one(e){const t=[];let r=0,n="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(a==="\\"&&!i){i=!0,n+=a;continue}if(i){i=!1,n+=a;continue}a==="("?r++:a===")"&&r--,a===","&&r===0?(t.push(n.trim()),n=""):n+=a}return n&&t.push(n.trim()),t}const ane=(e={})=>{const t=i=>{var o;return{base:((o=e.base)==null?void 0:o[i])??{},variants:{},defaultVariants:e.defaultVariants??{},compoundVariants:e.compoundVariants?sne(e.compoundVariants,i):[]}},n=(e.slots??[]).map(i=>[i,t(i)]);for(const[i,o]of Object.entries(e.variants??{}))for(const[a,s]of Object.entries(o))n.forEach(([l,u])=>{var c;(c=u.variants)[i]??(c[i]={}),u.variants[i][a]=s[l]??{}});return Object.fromEntries(n)},sne=(e,t)=>e.filter(r=>r.css[t]).map(r=>({...r,css:r.css[t]}));function lne(e){const{cva:t}=e;return function(n={}){const i=Object.entries(ane(n)).map(([d,h])=>[d,t(h)]);function o(d){const h=i.map(([f,g])=>[f,g(d)]);return Object.fromEntries(h)}const a=n.variants??{},s=Object.keys(a);function l(d){var m;const h=J4(d,["recipe"]),[f,g]=bh(h,s);return s.includes("colorPalette")||(f.colorPalette=d.colorPalette||((m=n.defaultVariants)==null?void 0:m.colorPalette)),s.includes("orientation")&&(g.orientation=d.orientation),[f,g]}const u=Object.fromEntries(Object.entries(a).map(([d,h])=>[d,Object.keys(h)]));let c={};return n.className&&(c=Object.fromEntries(n.slots.map(d=>[d,`${n.className}__${d}`]))),Object.assign(o,{variantMap:u,variantKeys:s,splitVariantProps:l,classNameMap:c})}}const une=()=>e=>Array.from(new Set(e)),cne=/([\0-\x1f\x7f]|^-?\d)|^-$|^-|[^\x80-\uFFFF\w-]/g,dne=function(e,t){return t?e==="\0"?"":e==="-"&&e.length===1?"\\-":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16):"\\"+e},t$=e=>(e+"").replace(cne,dne),r$=(e,t)=>{let r="",n=0,i="char",o="",a="";const s=[];for(;n<e.length;){const l=e[n];if(l==="{"){const c=e.indexOf("}",n);if(c===-1)break;const d=e.slice(n+1,c),h=t(d);r+=h??d,n=c+1;continue}if(i==="token"&&l===","){e[n]===""&&n++,i="fallback",s.push(i);const c=t(o);c!=null&&c.endsWith(")")&&(r+=c.slice(0,-1)),o="",a="";continue}if(i==="fallback"&&a+l===", var("){const h=hne(e.slice(n+1))+n+1,f=e.slice(n+1,h);if(h===-1)break;r+=", var("+f+")",n=h+1,i=s.pop()??i,a="";continue}if(i==="token"||i==="fallback"){if(n++,l===")"){i=s.pop()??i??"char",a+=l;const c=o&&(t(o)??t$(o));if(a){if(a=a.slice(1).trim(),!a.startsWith("token(")&&a.endsWith(")")&&(a=a.slice(0,-1)),a.includes("token(")){const h=r$(a,t);h&&(a=h.slice(0,-1))}else if(a){const h=t(a);h&&(a=h)}}const d=r.at(-1);a?d!=null&&d.trim()?r+=c.slice(0,-1)+(", "+a+")"):r+=a:r+=c||")",o="",a="",i="char";continue}i==="token"&&(o+=l),i==="fallback"&&(a+=l);continue}const u=e.indexOf("token(",n);if(u!==-1){const c=u+6;r+=e.slice(n,u),n=c,i="token",s.push(i);continue}r+=l,n++}return r},hne=e=>{let t=0;const r=["("];for(;t<e.length;){const n=e[t];if(n==="(")r.push(n);else if(n===")"&&(r.pop(),r.length===0))return t;t++}return t};function n$(e){const t={};return e.forEach((r,n)=>{r instanceof Map?t[n]=Object.fromEntries(r):t[n]=r}),t}const i$=/({([^}]*)})/g,fne=/[{}]/g,pne=/\w+\.\w+/,o$=e=>{if(!Pa(e))return[];const t=e.match(i$);return t?t.map(r=>r.replace(fne,"")).map(r=>r.trim()):[]},gne=e=>i$.test(e);function a$(e){var r,n,i;if(!((r=e.extensions)!=null&&r.references))return((i=(n=e.extensions)==null?void 0:n.cssVar)==null?void 0:i.ref)??e.value;const t=e.extensions.references??{};return e.value=Object.keys(t).reduce((o,a)=>{const s=t[a];if(s.extensions.conditions)return o;const l=a$(s);return o.replace(`{${a}}`,l)},e.value),delete e.extensions.references,e.value}function s$(e){return ri(e)&&e.reference?e.reference:String(e)}const Rb=(e,...t)=>t.map(s$).join(` ${e} `).replace(/calc/g,""),qO=(...e)=>`calc(${Rb("+",...e)})`,ZO=(...e)=>`calc(${Rb("-",...e)})`,JT=(...e)=>`calc(${Rb("*",...e)})`,QO=(...e)=>`calc(${Rb("/",...e)})`,JO=e=>{const t=s$(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:JT(t,-1)},ah=Object.assign(e=>({add:(...t)=>ah(qO(e,...t)),subtract:(...t)=>ah(ZO(e,...t)),multiply:(...t)=>ah(JT(e,...t)),divide:(...t)=>ah(QO(e,...t)),negate:()=>ah(JO(e)),toString:()=>e.toString()}),{add:qO,subtract:ZO,multiply:JT,divide:QO,negate:JO}),vne={enforce:"pre",transform(e){const{prefix:t,allTokens:r,formatCssVar:n,formatTokenName:i,registerToken:o}=e;r.filter(({extensions:s})=>s.category==="spacing").forEach(s=>{const l=s.path.slice(),u=n(l,t);if(Pa(s.value)&&s.value==="0rem")return;const c=structuredClone(s);Object.assign(c.extensions,{negative:!0,prop:`-${s.extensions.prop}`,originalPath:l}),c.value=ah.negate(u.ref);const d=c.path[c.path.length-1];d!=null&&(c.path[c.path.length-1]=`-${d}`),c.path&&(c.name=i(c.path)),o(c)})}},mne=new Set(["spacing","sizes","borderWidths","fontSizes","radii"]),yne={enforce:"post",transform(e){e.allTokens.filter(r=>mne.has(r.extensions.category)&&!r.extensions.negative).forEach(r=>{Object.assign(r.extensions,{pixelValue:j4(r.value)})})}},Cne={enforce:"post",transform(e){const{allTokens:t,registerToken:r,formatTokenName:n}=e,i=t.filter(({extensions:s})=>s.category==="colors"),o=new Map,a=new Map;i.forEach(s=>{const{colorPalette:l}=s.extensions;l&&(l.keys.forEach(u=>{o.set(n(u),u)}),l.roots.forEach(u=>{var h;const c=n(u),d=a.get(c)||[];if(d.push(s),a.set(c,d),s.extensions.default&&u.length===1){const f=(h=l.keys[0])==null?void 0:h.filter(Boolean);if(!f.length)return;const g=u.concat(f);o.set(n(g),[])}}))}),o.forEach(s=>{const l=["colors","colorPalette",...s].filter(Boolean),u=n(l),c=n(l.slice(1));r({name:u,value:u,originalValue:u,path:l,extensions:{condition:"base",originalPath:l,category:"colors",prop:c,virtual:!0}},"pre")})}},wne={enforce:"post",transform(e){e.allTokens=e.allTokens.filter(t=>t.value!=="")}},bne=[vne,Cne,yne,wne],Sne={type:"extensions",enforce:"pre",name:"tokens/css-var",transform(e,t){const{prefix:r,formatCssVar:n}=t,{negative:i,originalPath:o}=e.extensions,a=i?o:e.path;return{cssVar:n(a.filter(Boolean),r)}}},xne={enforce:"post",type:"value",name:"tokens/conditionals",transform(e,t){const{prefix:r,formatCssVar:n}=t,i=o$(e.value);return i.length&&i.forEach(o=>{const a=n(o.split("."),r);e.value=e.value.replace(`{${a.ref}}`,a)}),e.value}},Rne={type:"extensions",enforce:"pre",name:"tokens/colors/colorPalette",match(e){return e.extensions.category==="colors"&&!e.extensions.virtual},transform(e,t){let r=e.path.slice();if(r.pop(),r.shift(),r.length===0){const s=[...e.path];s.shift(),r=s}if(r.length===0)return{};const n=r.reduce((s,l,u,c)=>{const d=c.slice(0,u+1);return s.push(d),s},[]),i=r[0],o=t.formatTokenName(r),a=e.path.slice(e.path.indexOf(i)+1).reduce((s,l,u,c)=>(s.push(c.slice(u)),s),[]);return a.length===0&&a.push([""]),{colorPalette:{value:o,roots:n,keys:a}}}},_ne=[Sne,xne,Rne],e2=e=>ri(e)&&Object.prototype.hasOwnProperty.call(e,"value");function Tne(e){return e?{breakpoints:W4(e,t=>({value:t})),sizes:Object.fromEntries(Object.entries(e).map(([t,r])=>[`breakpoint-${t}`,{value:r}]))}:{breakpoints:{},sizes:{}}}function Pne(e){const{prefix:t="",tokens:r={},semanticTokens:n={},breakpoints:i={}}=e,o=ee=>ee.join("."),a=(ee,Z)=>H4(ee.join("-"),{prefix:Z}),s=[],l=new Map,u=new Map,c=new Map,d=new Map,h=new Map,f=new Map,g=new Map,m=new Map,y=[];function C(ee,Z){s.push(ee),l.set(ee.name,ee),Z&&m.forEach(fe=>{fe.enforce===Z&&K(fe,ee)})}const w=Tne(i),S=qv({...r,breakpoints:w.breakpoints,sizes:{...r.sizes,...w.sizes}});function x(){bs(S,(ee,Z)=>{const fe=Z.includes("DEFAULT");Z=t2(Z);const de=Z[0],pe=o(Z),Ae=Pa(ee)?{value:ee}:ee,Oe={value:Ae.value,originalValue:Ae.value,name:pe,path:Z,extensions:{condition:"base",originalPath:Z,category:de,prop:o(Z.slice(1))}};fe&&(Oe.extensions.default=!0),C(Oe)},{stop:e2}),bs(n,(ee,Z)=>{const fe=Z.includes("DEFAULT");Z=l$(t2(Z));const de=Z[0],pe=o(Z),Ae=Pa(ee.value)?{value:{base:ee.value}}:ee,Oe={value:Ae.value.base||"",originalValue:Ae.value.base||"",name:pe,path:Z,extensions:{originalPath:Z,category:de,conditions:Ae.value,condition:"base",prop:o(Z.slice(1))}};fe&&(Oe.extensions.default=!0),C(Oe)},{stop:e2})}function R(ee){return l.get(ee)}function T(ee){const{condition:Z}=ee.extensions;Z&&(u.has(Z)||u.set(Z,new Set),u.get(Z).add(ee))}function P(ee){const{category:Z,prop:fe}=ee.extensions;Z&&(g.has(Z)||g.set(Z,new Map),g.get(Z).set(fe,ee))}function D(ee){const{condition:Z,negative:fe,virtual:de,cssVar:pe}=ee.extensions;fe||de||!Z||!pe||(c.has(Z)||c.set(Z,new Map),c.get(Z).set(pe.var,ee.value))}function I(ee){const{category:Z,prop:fe,cssVar:de,negative:pe}=ee.extensions;if(!Z)return;f.has(Z)||f.set(Z,new Map);const Ae=pe?ee.extensions.conditions?ee.originalValue:ee.value:de.ref;f.get(Z).set(fe,Ae),h.set([Z,fe].join("."),Ae)}function E(ee){const{colorPalette:Z,virtual:fe,default:de}=ee.extensions;!Z||fe||Z.roots.forEach(pe=>{var fr;const Ae=o(pe);d.has(Ae)||d.set(Ae,new Map);const Oe=Ane([...ee.path],[...pe]),Ge=o(Oe),st=R(Ge);if(!st||!st.extensions.cssVar)return;const{var:Ft}=st.extensions.cssVar;if(d.get(Ae).set(Ft,ee.extensions.cssVar.ref),de&&pe.length===1){const sr=o(["colors","colorPalette"]),lr=R(sr);if(!lr)return;const Lt=o(ee.path),Vn=R(Lt);if(!Vn)return;const li=(fr=Z.keys[0])==null?void 0:fr.filter(Boolean);if(!li.length)return;const Ti=o(pe.concat(li));d.has(Ti)||d.set(Ti,new Map),d.get(Ti).set(lr.extensions.cssVar.var,Vn.extensions.cssVar.ref)}})}let k={};function L(){s.forEach(ee=>{T(ee),P(ee),D(ee),I(ee),E(ee)}),k=n$(f)}const N=(ee,Z)=>{var st;if(!ee||typeof ee!="string")return{invalid:!0,value:ee};const[fe,de]=ee.split("/");if(!fe||!de)return{invalid:!0,value:fe};const pe=Z(fe),Ae=(st=R(`opacity.${de}`))==null?void 0:st.value;if(!Ae&&isNaN(Number(de)))return{invalid:!0,value:fe};const Oe=Ae?Number(Ae)*100+"%":`${de}%`,Ge=pe??fe;return{invalid:!1,color:Ge,value:`color-mix(in srgb, ${Ge} ${Oe}, transparent)`}},B=Sh((ee,Z)=>h.get(ee)??Z),V=Sh(ee=>k[ee]||null),W=Sh(ee=>r$(ee,Z=>{if(!Z)return;if(Z.includes("/")){const de=N(Z,pe=>B(pe));if(de.invalid)throw new Error("Invalid color mix at "+Z+": "+de.value);return de.value}const fe=B(Z);return fe||(pne.test(Z)?t$(Z):Z)})),j={prefix:t,allTokens:s,tokenMap:l,registerToken:C,getByName:R,formatTokenName:o,formatCssVar:a,flatMap:h,cssVarMap:c,categoryMap:g,colorPaletteMap:d,getVar:B,getCategoryValues:V,expandReferenceInValue:W};function G(...ee){ee.forEach(Z=>{m.set(Z.name,Z)})}function $(...ee){y.push(...ee)}function K(ee,Z){if(Z.extensions.references||t4(ee.match)&&!ee.match(Z))return;const de=(pe=>ee.transform(pe,j))(Z);switch(!0){case ee.type==="extensions":Object.assign(Z.extensions,de);break;case ee.type==="value":Z.value=de;break;default:Z[ee.type]=de;break}}function H(ee){y.forEach(Z=>{Z.enforce===ee&&Z.transform(j)})}function U(ee){m.forEach(Z=>{Z.enforce===ee&&s.forEach(fe=>{K(Z,fe)})})}function ne(){s.forEach(ee=>{const Z=Dne(ee);!Z||Z.length===0||Z.forEach(fe=>{C(fe)})})}function oe(ee){return o$(ee).map(fe=>R(fe)).filter(Boolean)}function he(){s.forEach(ee=>{if(!gne(ee.value))return;const Z=oe(ee.value);ee.extensions.references=Z.reduce((fe,de)=>(fe[de.name]=de,fe),{})})}function xe(){s.forEach(ee=>{a$(ee)})}function Be(){H("pre"),U("pre"),ne(),he(),xe(),H("post"),U("post"),L()}return x(),G(..._ne),$(...bne),Be(),j}function t2(e){return e[0]==="DEFAULT"?e:e.filter(t=>t!=="DEFAULT")}function l$(e){return e.filter(t=>t!=="base")}function Dne(e){if(!e.extensions.conditions)return;const{conditions:t}=e.extensions,r=[];return bs(t,(n,i)=>{const o=l$(i);if(!o.length)return;const a=structuredClone(e);a.value=n,a.extensions.condition=o.join(":"),r.push(a)}),r}function Ane(e,t){const r=e.findIndex((n,i)=>t.every((o,a)=>e[i+a]===o));return r===-1||(e.splice(r,t.length),e.splice(r,0,"colorPalette")),e}une()(["aspectRatios","zIndex","opacity","colors","fonts","fontSizes","fontWeights","lineHeights","letterSpacings","sizes","shadows","spacing","radii","cursor","borders","borderWidths","borderStyles","durations","easings","animations","blurs","gradients","breakpoints","assets"]);function Ine(e){return Object.fromEntries(Object.entries(e).map(([t,r])=>[t,r]))}function Ene(e){const t=Ine(e.config),r=e.tokens,n=new Map,i=new Map;function o(D,I){t[D]=I,a(D,I)}const a=(D,I)=>{const E=m(I);E&&(i.set(D,E),d(D,I))},s=()=>{for(const[D,I]of Object.entries(t))I&&a(D,I)},l=()=>{for(const[D,I]of Object.entries(t)){const{shorthand:E}=I??{};if(!E)continue;(Array.isArray(E)?E:[E]).forEach(L=>n.set(L,D))}},u=()=>{const D=n$(r.colorPaletteMap);o("colorPalette",{values:Object.keys(D),transform:Sh(I=>D[I])})},c=new Map,d=(D,I)=>{if(!I)return;const E=m(I,L=>`type:Tokens["${L}"]`);if(typeof E=="object"&&E.type){c.set(D,new Set([`type:${E.type}`]));return}if(E){const L=new Set(Object.keys(E));c.set(D,L)}const k=c.get(D)??new Set;I.property&&c.set(D,k.add(`CssProperties["${I.property}"]`))},h=()=>{for(const[D,I]of Object.entries(t))I&&d(D,I)},f=(D,I)=>{const E=c.get(D)??new Set;c.set(D,new Set([...E,...I]))},g=()=>{const D=new Map;for(const[I,E]of c.entries()){if(E.size===0){D.set(I,["string"]);continue}const k=Array.from(E).map(L=>L.startsWith("CssProperties")?L:L.startsWith("type:")?L.replace("type:",""):JSON.stringify(L));D.set(I,k)}return D},m=(D,I)=>{const{values:E}=D,k=L=>{const N=I==null?void 0:I(L);return N?{[N]:N}:void 0};return Pa(E)?(k==null?void 0:k(E))??r.getCategoryValues(E)??{}:Array.isArray(E)?E.reduce((L,N)=>(L[N]=N,L),{}):t4(E)?E(I?k:r.getCategoryValues):E},y=(D,I)=>({[D]:D.startsWith("--")?r.getVar(I,I):I}),C=Object.assign(r.getVar,{raw:D=>r.getByName(D)}),w=(D,I)=>{var B;const E=R(D);Pa(I)&&!I.includes("_EMO_")&&(I=r.expandReferenceInValue(I));const k=t[E];if(!k)return y(E,I);const L=(B=i.get(E))==null?void 0:B[I];if(!k.transform)return y(D,L??I);const N=V=>sre(V,C);return k.transform(L??I,{raw:I,token:C,utils:{colorMix:N}})};function S(){l(),u(),s(),h()}S();const x=n.size>0,R=D=>n.get(D)??D;return{keys:()=>[...Array.from(n.keys()),...Object.keys(t)],hasShorthand:x,transform:w,shorthands:n,resolveShorthand:R,register:o,getTypes:g,addPropertyType:f}}function Mne(...e){const t=G4(...e),{theme:r={},utilities:n={},globalCss:i={},cssVarsRoot:o=":where(:root, :host)",cssVarsPrefix:a="chakra",preflight:s}=t,l=tne(t),u=Pne({breakpoints:r.breakpoints,tokens:r.tokens,semanticTokens:r.semanticTokens,prefix:a}),c=Fre(r.breakpoints??{}),d=zre({conditions:t.conditions??{},breakpoints:c}),h=Ene({config:n,tokens:u});function f(){const{textStyles:G,layerStyles:$,animationStyles:K}=r,H=qv({textStyle:G,layerStyle:$,animationStyle:K});for(const[U,ne]of Object.entries(H)){const oe=Mre(ne??{},he=>ri(he)&&"value"in he);h.register(U,{values:Object.keys(oe),transform(he){return S(oe[he])}})}}f(),h.addPropertyType("animationName",Object.keys(r.keyframes??{}));const g=new Set(["css",...h.keys(),...d.keys()]),m=Sh(G=>g.has(G)||Ire(G)),y=G=>Array.isArray(G)?G.reduce(($,K,H)=>{const U=d.breakpoints[H];return K!=null&&($[U]=K),$},{}):G,C=rne({utility:h,normalize:y}),w=ine({conditions:d,isValidProperty:m}),S=Q4({transform:h.transform,conditions:d,normalize:C}),x=Qre({css:S,conditions:d,normalize:C,layers:l}),R=lne({cva:x});function T(){const G={};for(const[$,K]of u.cssVarMap.entries()){const H=Object.fromEntries(K);if(Object.keys(H).length===0)continue;const U=$==="base"?o:d.resolve($),ne=S(w({[U]:H}));cf(G,ne)}return l.wrap("tokens",G)}function P(){const G=Object.fromEntries(Object.entries(r.keyframes??{}).map(([K,H])=>[`@keyframes ${K}`,H])),$=Object.assign({},G,S(w(i)));return l.wrap("base",$)}function D(G){return bh(G,m)}function I(){const G=nne({preflight:s});return l.wrap("reset",G)}const E=kne(u),k=(G,$)=>{var K;return((K=E.get(G))==null?void 0:K.value)||$};k.var=(G,$)=>{var K;return((K=E.get(G))==null?void 0:K.variable)||$};function L(G,$){var K;return((K=r.recipes)==null?void 0:K[G])??$}function N(G,$){var K;return((K=r.slotRecipes)==null?void 0:K[G])??$}function B(G){return Object.hasOwnProperty.call(r.recipes??{},G)}function V(G){return Object.hasOwnProperty.call(r.slotRecipes??{},G)}function W(G){return B(G)||V(G)}const j=[I(),P(),T()];return{$$chakra:!0,_config:t,_global:j,breakpoints:c,tokens:u,conditions:d,utility:h,token:k,properties:g,layers:l,isValidProperty:m,splitCssProps:D,normalizeValue:y,getTokenCss:T,getGlobalCss:P,getPreflightCss:I,css:S,cva:x,sva:R,getRecipe:L,getSlotRecipe:N,hasRecipe:W,isRecipe:B,isSlotRecipe:V}}function kne(e){const t=new Map;return e.allTokens.forEach(r=>{const{cssVar:n,virtual:i,conditions:o}=r.extensions,a=o||i?n.ref:r.value;t.set(r.name,{value:a,variable:n.ref})}),t}const Fne={sm:"480px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},k1="var(--chakra-empty,/*!*/ /*!*/)",Lne=cre({"*":{fontFeatureSettings:'"cv11"',"--ring-inset":k1,"--ring-offset-width":"0px","--ring-offset-color":"#fff","--ring-color":"rgba(66, 153, 225, 0.6)","--ring-offset-shadow":"0 0 #0000","--ring-shadow":"0 0 #0000",...Object.fromEntries(["brightness","contrast","grayscale","hue-rotate","invert","saturate","sepia","drop-shadow"].map(e=>[`--${e}`,k1])),...Object.fromEntries(["blur","brightness","contrast","grayscale","hue-rotate","invert","opacity","saturate","sepia"].map(e=>[`--backdrop-${e}`,k1])),"--global-font-mono":"fonts.mono","--global-font-body":"fonts.body","--global-color-border":"colors.border"},html:{color:"fg",bg:"bg",lineHeight:"1.5",colorPalette:"gray"},"*::placeholder":{color:"fg.muted/80"},"*::selection":{bg:"colorPalette.muted/80"}}),One=fre({"fill.muted":{value:{background:"colorPalette.muted",color:"colorPalette.fg"}},"fill.subtle":{value:{background:"colorPalette.subtle",color:"colorPalette.fg"}},"fill.surface":{value:{background:"colorPalette.subtle",color:"colorPalette.fg",boxShadow:"0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.muted"}},"fill.solid":{value:{background:"colorPalette.solid",color:"colorPalette.contrast"}},"outline.subtle":{value:{color:"colorPalette.fg",boxShadow:"inset 0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.subtle"}},"outline.solid":{value:{borderWidth:"1px",borderColor:"colorPalette.solid",color:"colorPalette.fg"}},"indicator.bottom":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",bottom:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.top":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",top:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.start":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineStart:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.end":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineEnd:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},disabled:{value:{opacity:"0.5",cursor:"not-allowed"}},none:{value:{}}}),Nne=hre({"slide-fade-in":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-from-bottom, fade-in"},"&[data-placement^=bottom]":{animationName:"slide-from-top, fade-in"},"&[data-placement^=left]":{animationName:"slide-from-right, fade-in"},"&[data-placement^=right]":{animationName:"slide-from-left, fade-in"}}},"slide-fade-out":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-to-bottom, fade-out"},"&[data-placement^=bottom]":{animationName:"slide-to-top, fade-out"},"&[data-placement^=left]":{animationName:"slide-to-right, fade-out"},"&[data-placement^=right]":{animationName:"slide-to-left, fade-out"}}},"scale-fade-in":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-in, fade-in"}},"scale-fade-out":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-out, fade-out"}}}),eI=Fr({className:"chakra-badge",base:{display:"inline-flex",alignItems:"center",borderRadius:"l2",gap:"1",fontWeight:"medium",fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap",userSelect:"none"},variants:{variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg"},outline:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},plain:{color:"colorPalette.fg"}},size:{xs:{textStyle:"2xs",px:"1",minH:"4"},sm:{textStyle:"xs",px:"1.5",minH:"5"},md:{textStyle:"sm",px:"2",minH:"6"},lg:{textStyle:"sm",px:"2.5",minH:"7"}}},defaultVariants:{variant:"subtle",size:"sm"}}),zne=Fr({className:"chakra-button",base:{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",borderRadius:"l2",whiteSpace:"nowrap",verticalAlign:"middle",borderWidth:"1px",borderColor:"transparent",cursor:"button",flexShrink:"0",outline:"0",lineHeight:"1.2",isolation:"isolate",fontWeight:"medium",transitionProperty:"common",transitionDuration:"moderate",focusVisibleRing:"outside",_disabled:{layerStyle:"disabled"},_icon:{flexShrink:"0"}},variants:{size:{"2xs":{h:"6",minW:"6",textStyle:"xs",px:"2",gap:"1",_icon:{width:"3.5",height:"3.5"}},xs:{h:"8",minW:"8",textStyle:"xs",px:"2.5",gap:"1",_icon:{width:"4",height:"4"}},sm:{h:"9",minW:"9",px:"3.5",textStyle:"sm",gap:"2",_icon:{width:"4",height:"4"}},md:{h:"10",minW:"10",textStyle:"sm",px:"4",gap:"2",_icon:{width:"5",height:"5"}},lg:{h:"11",minW:"11",textStyle:"md",px:"5",gap:"3",_icon:{width:"5",height:"5"}},xl:{h:"12",minW:"12",textStyle:"md",px:"5",gap:"2.5",_icon:{width:"5",height:"5"}},"2xl":{h:"16",minW:"16",textStyle:"lg",px:"7",gap:"3",_icon:{width:"6",height:"6"}}},variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast",_hover:{bg:"colorPalette.solid/90"},_expanded:{bg:"colorPalette.solid/90"}},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},outline:{borderWidth:"1px",borderColor:"colorPalette.muted",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},ghost:{color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},plain:{color:"colorPalette.fg"}}},defaultVariants:{size:"md",variant:"solid"}}),jr=Fr({className:"chakra-checkmark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"l1",focusVisibleRing:"outside",_icon:{boxSize:"full"},_invalid:{colorPalette:"red",borderColor:"border.error"},_disabled:{opacity:"0.5"}},variants:{size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5",p:"0.5"},lg:{boxSize:"6",p:"0.5"}},variant:{solid:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},outline:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg",borderColor:"colorPalette.solid"}},subtle:{bg:"colorPalette.muted",borderColor:"colorPalette.muted","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},plain:{"&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},inverted:{borderColor:"border",color:"colorPalette.fg","&:is([data-state=checked], [data-state=indeterminate])":{borderColor:"colorPalette.solid"}}}},defaultVariants:{variant:"solid",size:"md"}}),{variants:Bne,defaultVariants:Vne}=eI,Gne=Fr({className:"chakra-code",base:{fontFamily:"mono",alignItems:"center",display:"inline-flex",borderRadius:"l2"},variants:Bne,defaultVariants:Vne}),u$=Fr({className:"color-swatch",base:{boxSize:"var(--swatch-size)",shadow:"inset 0 0 0 1px rgba(0, 0, 0, 0.1)","--checker-size":"8px","--checker-bg":"colors.bg","--checker-fg":"colors.bg.emphasized",background:"linear-gradient(var(--color), var(--color)), repeating-conic-gradient(var(--checker-fg) 0%, var(--checker-fg) 25%, var(--checker-bg) 0%, var(--checker-bg) 50%) 0% 50% / var(--checker-size) var(--checker-size) !important",display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},variants:{size:{"2xs":{"--swatch-size":"sizes.3.5"},xs:{"--swatch-size":"sizes.4"},sm:{"--swatch-size":"sizes.4.5"},md:{"--swatch-size":"sizes.5"},lg:{"--swatch-size":"sizes.6"},xl:{"--swatch-size":"sizes.7"},"2xl":{"--swatch-size":"sizes.8"},inherit:{"--swatch-size":"inherit"},full:{"--swatch-size":"100%"}},shape:{square:{borderRadius:"none"},circle:{borderRadius:"full"},rounded:{borderRadius:"l1"}}},defaultVariants:{size:"md",shape:"rounded"}}),Hne=Fr({className:"chakra-container",base:{position:"relative",maxWidth:"8xl",w:"100%",mx:"auto",px:{base:"4",md:"6",lg:"8"}},variants:{centerContent:{true:{display:"flex",flexDirection:"column",alignItems:"center"}},fluid:{true:{maxWidth:"full"}}}}),Wne=Fr({className:"chakra-heading",base:{fontFamily:"heading",fontWeight:"semibold"},variants:{size:{xs:{textStyle:"xs"},sm:{textStyle:"sm"},md:{textStyle:"md"},lg:{textStyle:"lg"},xl:{textStyle:"xl"},"2xl":{textStyle:"2xl"},"3xl":{textStyle:"3xl"},"4xl":{textStyle:"4xl"},"5xl":{textStyle:"5xl"},"6xl":{textStyle:"6xl"},"7xl":{textStyle:"7xl"}}},defaultVariants:{size:"xl"}}),$ne=Fr({className:"chakra-icon",base:{display:"inline-block",lineHeight:"1em",flexShrink:"0",color:"currentcolor",verticalAlign:"middle"},variants:{size:{inherit:{},xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"},xl:{boxSize:"7"},"2xl":{boxSize:"8"}}},defaultVariants:{size:"inherit"}}),br=Fr({className:"chakra-input",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},height:"var(--input-height)",minW:"var(--input-height)","--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{"2xs":{textStyle:"xs",px:"2","--input-height":"sizes.7"},xs:{textStyle:"xs",px:"2","--input-height":"sizes.8"},sm:{textStyle:"sm",px:"2.5","--input-height":"sizes.9"},md:{textStyle:"sm",px:"3","--input-height":"sizes.10"},lg:{textStyle:"md",px:"4","--input-height":"sizes.11"},xl:{textStyle:"md",px:"4.5","--input-height":"sizes.12"},"2xl":{textStyle:"lg",px:"5","--input-height":"sizes.16"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),Une=Fr({className:"chakra-input-addon",base:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap",alignSelf:"stretch",borderRadius:"l2"},variants:{size:br.variants.size,variant:{outline:{borderWidth:"1px",borderColor:"border",bg:"bg.muted"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.emphasized"},flushed:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}},defaultVariants:{size:"md",variant:"outline"}}),jne=Fr({className:"chakra-kbd",base:{display:"inline-flex",alignItems:"center",fontWeight:"medium",fontFamily:"mono",flexShrink:"0",whiteSpace:"nowrap",wordSpacing:"-0.5em",userSelect:"none",px:"1",borderRadius:"l2"},variants:{variant:{raised:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderWidth:"1px",borderBottomWidth:"2px",borderColor:"colorPalette.muted"},outline:{borderWidth:"1px",color:"colorPalette.fg"},subtle:{bg:"colorPalette.muted",color:"colorPalette.fg"},plain:{color:"colorPalette.fg"}},size:{sm:{textStyle:"xs",height:"4.5"},md:{textStyle:"sm",height:"5"},lg:{textStyle:"md",height:"6"}}},defaultVariants:{size:"md",variant:"raised"}}),Yne=Fr({className:"chakra-link",base:{display:"inline-flex",alignItems:"center",outline:"none",gap:"1.5",cursor:"pointer",borderRadius:"l1",focusRing:"outside"},variants:{variant:{underline:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"},plain:{color:"colorPalette.fg",_hover:{textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"}}}},defaultVariants:{variant:"plain"}}),Kne=Fr({className:"chakra-mark",base:{bg:"transparent",color:"inherit",whiteSpace:"nowrap"},variants:{variant:{subtle:{bg:"colorPalette.subtle",color:"inherit"},solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},text:{fontWeight:"medium"},plain:{}}}}),Yr=Fr({className:"chakra-radiomark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,verticalAlign:"top",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"full",cursor:"radio",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing",outlineOffset:"2px"},_invalid:{colorPalette:"red",borderColor:"red.500"},_disabled:{opacity:"0.5",cursor:"disabled"},"& .dot":{height:"100%",width:"100%",borderRadius:"full",bg:"currentColor",scale:"0.4"}},variants:{variant:{solid:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},subtle:{borderWidth:"1px",bg:"colorPalette.muted",borderColor:"colorPalette.muted",color:"transparent",_checked:{color:"colorPalette.fg"}},outline:{borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.fg",borderColor:"colorPalette.solid"},"& .dot":{scale:"0.6"}},inverted:{bg:"bg",borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.solid",borderColor:"currentcolor"}}},size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"}}},defaultVariants:{variant:"solid",size:"md"}}),Xne=Fr({className:"chakra-separator",base:{display:"block",borderColor:"border"},variants:{variant:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"},dotted:{borderStyle:"dotted"}},orientation:{vertical:{borderInlineStartWidth:"var(--separator-thickness)"},horizontal:{borderTopWidth:"var(--separator-thickness)"}},size:{xs:{"--separator-thickness":"0.5px"},sm:{"--separator-thickness":"1px"},md:{"--separator-thickness":"2px"},lg:{"--separator-thickness":"3px"}}},defaultVariants:{size:"sm",variant:"solid",orientation:"horizontal"}}),qne=Fr({className:"chakra-skeleton",base:{},variants:{loading:{true:{borderRadius:"l2",boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none",flexShrink:"0","&::before, &::after, *":{visibility:"hidden"}},false:{background:"unset",animation:"fade-in var(--fade-duration, 0.1s) ease-out !important"}},variant:{pulse:{background:"bg.emphasized",animation:"pulse",animationDuration:"var(--duration, 1.2s)"},shine:{"--animate-from":"200%","--animate-to":"-200%","--start-color":"colors.bg.muted","--end-color":"colors.bg.emphasized",backgroundImage:"linear-gradient(270deg,var(--start-color),var(--end-color),var(--end-color),var(--start-color))",backgroundSize:"400% 100%",animation:"bg-position var(--duration, 5s) ease-in-out infinite"},none:{animation:"none"}}},defaultVariants:{variant:"pulse",loading:!0}}),Zne=Fr({className:"chakra-skip-nav",base:{display:"inline-flex",bg:"bg.panel",padding:"2.5",borderRadius:"l2",fontWeight:"semibold",focusVisibleRing:"outside",textStyle:"sm",userSelect:"none",border:"0",height:"1px",width:"1px",margin:"-1px",outline:"0",overflow:"hidden",position:"absolute",clip:"rect(0 0 0 0)",_focusVisible:{clip:"auto",width:"auto",height:"auto",position:"fixed",top:"6",insetStart:"6"}}}),Qne=Fr({className:"chakra-spinner",base:{display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderWidth:"2px",borderRadius:"full",width:"var(--spinner-size)",height:"var(--spinner-size)",animation:"spin",animationDuration:"slowest","--spinner-track-color":"transparent",borderBottomColor:"var(--spinner-track-color)",borderInlineStartColor:"var(--spinner-track-color)"},variants:{size:{inherit:{"--spinner-size":"1em"},xs:{"--spinner-size":"sizes.3"},sm:{"--spinner-size":"sizes.4"},md:{"--spinner-size":"sizes.5"},lg:{"--spinner-size":"sizes.8"},xl:{"--spinner-size":"sizes.10"}}},defaultVariants:{size:"md"}}),Jne=Fr({className:"chakra-textarea",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},"--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{xs:{textStyle:"xs",px:"2",py:"1.5",scrollPaddingBottom:"1.5"},sm:{textStyle:"sm",px:"2.5",py:"2",scrollPaddingBottom:"2"},md:{textStyle:"sm",px:"3",py:"2",scrollPaddingBottom:"2"},lg:{textStyle:"md",px:"4",py:"3",scrollPaddingBottom:"3"},xl:{textStyle:"md",px:"4.5",py:"3.5",scrollPaddingBottom:"3.5"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),eie={badge:eI,button:zne,code:Gne,container:Hne,heading:Wne,input:br,inputAddon:Une,kbd:jne,link:Yne,mark:Kne,separator:Xne,skeleton:qne,skipNavLink:Zne,spinner:Qne,textarea:Jne,icon:$ne,checkmark:jr,radiomark:Yr,colorSwatch:u$},tie=QA.colors({bg:{DEFAULT:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},emphasized:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},inverted:{value:{_light:"{colors.black}",_dark:"{colors.white}"}},panel:{value:{_light:"{colors.white}",_dark:"{colors.gray.950}"}},error:{value:{_light:"{colors.red.50}",_dark:"{colors.red.950}"}},warning:{value:{_light:"{colors.orange.50}",_dark:"{colors.orange.950}"}},success:{value:{_light:"{colors.green.50}",_dark:"{colors.green.950}"}},info:{value:{_light:"{colors.blue.50}",_dark:"{colors.blue.950}"}}},fg:{DEFAULT:{value:{_light:"{colors.black}",_dark:"{colors.gray.50}"}},muted:{value:{_light:"{colors.gray.600}",_dark:"{colors.gray.400}"}},subtle:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.500}"}},inverted:{value:{_light:"{colors.gray.50}",_dark:"{colors.black}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.300}"}},success:{value:{_light:"{colors.green.600}",_dark:"{colors.green.300}"}},info:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.300}"}}},border:{DEFAULT:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},inverted:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.500}",_dark:"{colors.orange.400}"}},success:{value:{_light:"{colors.green.500}",_dark:"{colors.green.400}"}},info:{value:{_light:"{colors.blue.500}",_dark:"{colors.blue.400}"}}},gray:{contrast:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},fg:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},subtle:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},muted:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},solid:{value:{_light:"{colors.gray.900}",_dark:"{colors.white}"}},focusRing:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}}},red:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.red.700}",_dark:"{colors.red.300}"}},subtle:{value:{_light:"{colors.red.100}",_dark:"{colors.red.900}"}},muted:{value:{_light:"{colors.red.200}",_dark:"{colors.red.800}"}},emphasized:{value:{_light:"{colors.red.300}",_dark:"{colors.red.700}"}},solid:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}},focusRing:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}}},orange:{contrast:{value:{_light:"white",_dark:"black"}},fg:{value:{_light:"{colors.orange.700}",_dark:"{colors.orange.300}"}},subtle:{value:{_light:"{colors.orange.100}",_dark:"{colors.orange.900}"}},muted:{value:{_light:"{colors.orange.200}",_dark:"{colors.orange.800}"}},emphasized:{value:{_light:"{colors.orange.300}",_dark:"{colors.orange.700}"}},solid:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}},focusRing:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}}},green:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.green.700}",_dark:"{colors.green.300}"}},subtle:{value:{_light:"{colors.green.100}",_dark:"{colors.green.900}"}},muted:{value:{_light:"{colors.green.200}",_dark:"{colors.green.800}"}},emphasized:{value:{_light:"{colors.green.300}",_dark:"{colors.green.700}"}},solid:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}},focusRing:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}}},blue:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.blue.700}",_dark:"{colors.blue.300}"}},subtle:{value:{_light:"{colors.blue.100}",_dark:"{colors.blue.900}"}},muted:{value:{_light:"{colors.blue.200}",_dark:"{colors.blue.800}"}},emphasized:{value:{_light:"{colors.blue.300}",_dark:"{colors.blue.700}"}},solid:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}},focusRing:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}}},yellow:{contrast:{value:{_light:"black",_dark:"black"}},fg:{value:{_light:"{colors.yellow.800}",_dark:"{colors.yellow.300}"}},subtle:{value:{_light:"{colors.yellow.100}",_dark:"{colors.yellow.900}"}},muted:{value:{_light:"{colors.yellow.200}",_dark:"{colors.yellow.800}"}},emphasized:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.700}"}},solid:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}},focusRing:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}}},teal:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.teal.700}",_dark:"{colors.teal.300}"}},subtle:{value:{_light:"{colors.teal.100}",_dark:"{colors.teal.900}"}},muted:{value:{_light:"{colors.teal.200}",_dark:"{colors.teal.800}"}},emphasized:{value:{_light:"{colors.teal.300}",_dark:"{colors.teal.700}"}},solid:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}},focusRing:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}}},purple:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.purple.700}",_dark:"{colors.purple.300}"}},subtle:{value:{_light:"{colors.purple.100}",_dark:"{colors.purple.900}"}},muted:{value:{_light:"{colors.purple.200}",_dark:"{colors.purple.800}"}},emphasized:{value:{_light:"{colors.purple.300}",_dark:"{colors.purple.700}"}},solid:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}},focusRing:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}}},pink:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.pink.700}",_dark:"{colors.pink.300}"}},subtle:{value:{_light:"{colors.pink.100}",_dark:"{colors.pink.900}"}},muted:{value:{_light:"{colors.pink.200}",_dark:"{colors.pink.800}"}},emphasized:{value:{_light:"{colors.pink.300}",_dark:"{colors.pink.700}"}},solid:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}},focusRing:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}}},cyan:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.cyan.700}",_dark:"{colors.cyan.300}"}},subtle:{value:{_light:"{colors.cyan.100}",_dark:"{colors.cyan.900}"}},muted:{value:{_light:"{colors.cyan.200}",_dark:"{colors.cyan.800}"}},emphasized:{value:{_light:"{colors.cyan.300}",_dark:"{colors.cyan.700}"}},solid:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}},focusRing:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}}}}),rie=QA.radii({l1:{value:"{radii.xs}"},l2:{value:"{radii.sm}"},l3:{value:"{radii.md}"}}),nie=QA.shadows({xs:{value:{_light:"0px 1px 2px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/20}",_dark:"0px 1px 1px {black/64}, 0px 0px 1px inset {colors.gray.300/20}"}},sm:{value:{_light:"0px 2px 4px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 2px 4px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},md:{value:{_light:"0px 4px 8px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 4px 8px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},lg:{value:{_light:"0px 8px 16px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 8px 16px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},xl:{value:{_light:"0px 16px 24px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 16px 24px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},"2xl":{value:{_light:"0px 24px 40px {colors.gray.900/16}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 24px 40px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},inner:{value:{_light:"inset 0 2px 4px 0 {black/5}",_dark:"inset 0 2px 4px 0 black"}},inset:{value:{_light:"inset 0 0 0 1px {black/5}",_dark:"inset 0 0 0 1px {colors.gray.300/5}"}}});var ct=(e,t=[])=>({parts:(...r)=>{if(iie(t))return ct(e,r);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...r)=>ct(e,[...t,...r]),rename:r=>ct(r,t),keys:()=>t,build:()=>[...new Set(t)].reduce((r,n)=>Object.assign(r,{[n]:{selector:[`&[data-scope="${Id(e)}"][data-part="${Id(n)}"]`,`& [data-scope="${Id(e)}"][data-part="${Id(n)}"]`].join(", "),attrs:{"data-scope":Id(e),"data-part":Id(n)}}}),{})}),Id=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),iie=e=>e.length===0,c$=ct("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator");c$.build();var Xo=Cr({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`accordion:${e.id}`},getItemId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.item)==null?void 0:n.call(r,t))??`accordion:${e.id}:item:${t}`},getItemContentId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.itemContent)==null?void 0:n.call(r,t))??`accordion:${e.id}:content:${t}`},getItemTriggerId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.itemTrigger)==null?void 0:n.call(r,t))??`accordion:${e.id}:trigger:${t}`},getRootEl:e=>Xo.getById(e,Xo.getRootId(e)),getTriggerEls:e=>{const r=`[aria-controls][data-ownedby='${CSS.escape(Xo.getRootId(e))}']:not([disabled])`;return ls(Xo.getRootEl(e),r)},getFirstTriggerEl:e=>x4(Xo.getTriggerEls(e)),getLastTriggerEl:e=>R4(Xo.getTriggerEls(e)),getNextTriggerEl:(e,t)=>u4(Xo.getTriggerEls(e),Xo.getItemTriggerId(e,t)),getPrevTriggerEl:(e,t)=>c4(Xo.getTriggerEls(e),Xo.getItemTriggerId(e,t))});At()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value"]);At()(["value","disabled"]);var d$=ct("collapsible").parts("root","trigger","content");d$.build();var Ed=Cr({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`collapsible:${e.id}`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`collapsible:${e.id}:content`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`collapsible:${e.id}:trigger`},getRootEl:e=>Ed.getById(e,Ed.getRootId(e)),getContentEl:e=>Ed.getById(e,Ed.getContentId(e)),getTriggerEl:e=>Ed.getById(e,Ed.getTriggerId(e))});At()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","open.controlled","open"]);const[ZWe,tI]=Qv({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}}),oie=["top","right","bottom","left"],Vl=Math.min,pi=Math.max,Xw=Math.round,Hy=Math.floor,Ca=e=>({x:e,y:e}),aie={left:"right",right:"left",bottom:"top",top:"bottom"},sie={start:"end",end:"start"};function eP(e,t,r){return pi(e,Vl(t,r))}function Ss(e,t){return typeof e=="function"?e(t):e}function xs(e){return e.split("-")[0]}function df(e){return e.split("-")[1]}function rI(e){return e==="x"?"y":"x"}function nI(e){return e==="y"?"height":"width"}function Gl(e){return["top","bottom"].includes(xs(e))?"y":"x"}function iI(e){return rI(Gl(e))}function lie(e,t,r){r===void 0&&(r=!1);const n=df(e),i=iI(e),o=nI(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=qw(a)),[a,qw(a)]}function uie(e){const t=qw(e);return[tP(e),t,tP(t)]}function tP(e){return e.replace(/start|end/g,t=>sie[t])}function cie(e,t,r){const n=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?o:a;default:return[]}}function die(e,t,r,n){const i=df(e);let o=cie(xs(e),r==="start",n);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(tP)))),o}function qw(e){return e.replace(/left|right|bottom|top/g,t=>aie[t])}function hie(e){return{top:0,right:0,bottom:0,left:0,...e}}function h$(e){return typeof e!="number"?hie(e):{top:e,right:e,bottom:e,left:e}}function Zw(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function r2(e,t,r){let{reference:n,floating:i}=e;const o=Gl(t),a=iI(t),s=nI(a),l=xs(t),u=o==="y",c=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,h=n[s]/2-i[s]/2;let f;switch(l){case"top":f={x:c,y:n.y-i.height};break;case"bottom":f={x:c,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-i.width,y:d};break;default:f={x:n.x,y:n.y}}switch(df(t)){case"start":f[a]-=h*(r&&u?-1:1);break;case"end":f[a]+=h*(r&&u?-1:1);break}return f}const fie=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=r2(u,n,l),h=n,f={},g=0;for(let m=0;m<s.length;m++){const{name:y,fn:C}=s[m],{x:w,y:S,data:x,reset:R}=await C({x:c,y:d,initialPlacement:n,placement:h,strategy:i,middlewareData:f,rects:u,platform:a,elements:{reference:e,floating:t}});c=w??c,d=S??d,f={...f,[y]:{...f[y],...x}},R&&g<=50&&(g++,typeof R=="object"&&(R.placement&&(h=R.placement),R.rects&&(u=R.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):R.rects),{x:c,y:d}=r2(u,h,l)),m=-1)}return{x:c,y:d,placement:h,strategy:i,middlewareData:f}};async function av(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Ss(t,e),g=h$(f),y=s[h?d==="floating"?"reference":"floating":d],C=Zw(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(y)))==null||r?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),w=d==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),x=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},R=Zw(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:S,strategy:l}):w);return{top:(C.top-R.top+g.top)/x.y,bottom:(R.bottom-C.bottom+g.bottom)/x.y,left:(C.left-R.left+g.left)/x.x,right:(R.right-C.right+g.right)/x.x}}const pie=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=Ss(e,t)||{};if(u==null)return{};const d=h$(c),h={x:r,y:n},f=iI(i),g=nI(f),m=await a.getDimensions(u),y=f==="y",C=y?"top":"left",w=y?"bottom":"right",S=y?"clientHeight":"clientWidth",x=o.reference[g]+o.reference[f]-h[f]-o.floating[g],R=h[f]-o.reference[f],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let P=T?T[S]:0;(!P||!await(a.isElement==null?void 0:a.isElement(T)))&&(P=s.floating[S]||o.floating[g]);const D=x/2-R/2,I=P/2-m[g]/2-1,E=Vl(d[C],I),k=Vl(d[w],I),L=E,N=P-m[g]-k,B=P/2-m[g]/2+D,V=eP(L,B,N),W=!l.arrow&&df(i)!=null&&B!==V&&o.reference[g]/2-(B<L?E:k)-m[g]/2<0,j=W?B<L?B-L:B-N:0;return{[f]:h[f]+j,data:{[f]:V,centerOffset:B-V-j,...W&&{alignmentOffset:j}},reset:W}}}),gie=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...y}=Ss(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const C=xs(i),w=Gl(s),S=xs(s)===s,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),R=h||(S||!m?[qw(s)]:uie(s)),T=g!=="none";!h&&T&&R.push(...die(s,m,g,x));const P=[s,...R],D=await av(t,y),I=[];let E=((n=o.flip)==null?void 0:n.overflows)||[];if(c&&I.push(D[C]),d){const B=lie(i,a,x);I.push(D[B[0]],D[B[1]])}if(E=[...E,{placement:i,overflows:I}],!I.every(B=>B<=0)){var k,L;const B=(((k=o.flip)==null?void 0:k.index)||0)+1,V=P[B];if(V)return{data:{index:B,overflows:E},reset:{placement:V}};let W=(L=E.filter(j=>j.overflows[0]<=0).sort((j,G)=>j.overflows[1]-G.overflows[1])[0])==null?void 0:L.placement;if(!W)switch(f){case"bestFit":{var N;const j=(N=E.filter(G=>{if(T){const $=Gl(G.placement);return $===w||$==="y"}return!0}).map(G=>[G.placement,G.overflows.filter($=>$>0).reduce(($,K)=>$+K,0)]).sort((G,$)=>G[1]-$[1])[0])==null?void 0:N[0];j&&(W=j);break}case"initialPlacement":W=s;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function n2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function i2(e){return oie.some(t=>e[t]>=0)}const vie=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Ss(e,t);switch(n){case"referenceHidden":{const o=await av(t,{...i,elementContext:"reference"}),a=n2(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:i2(a)}}}case"escaped":{const o=await av(t,{...i,altBoundary:!0}),a=n2(o,r.floating);return{data:{escapedOffsets:a,escaped:i2(a)}}}default:return{}}}}};async function mie(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=xs(r),s=df(r),l=Gl(r)==="y",u=["left","top"].includes(a)?-1:1,c=o&&l?-1:1,d=Ss(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof g=="number"&&(f=s==="end"?g*-1:g),l?{x:f*c,y:h*u}:{x:h*u,y:f*c}}const yie=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await mie(t,e);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},Cie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:y=>{let{x:C,y:w}=y;return{x:C,y:w}}},...l}=Ss(e,t),u={x:r,y:n},c=await av(t,l),d=Gl(xs(i)),h=rI(d);let f=u[h],g=u[d];if(o){const y=h==="y"?"top":"left",C=h==="y"?"bottom":"right",w=f+c[y],S=f-c[C];f=eP(w,f,S)}if(a){const y=d==="y"?"top":"left",C=d==="y"?"bottom":"right",w=g+c[y],S=g-c[C];g=eP(w,g,S)}const m=s.fn({...t,[h]:f,[d]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:o,[d]:a}}}}}},wie=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=Ss(e,t),c={x:r,y:n},d=Gl(i),h=rI(d);let f=c[h],g=c[d];const m=Ss(s,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const S=h==="y"?"height":"width",x=o.reference[h]-o.floating[S]+y.mainAxis,R=o.reference[h]+o.reference[S]-y.mainAxis;f<x?f=x:f>R&&(f=R)}if(u){var C,w;const S=h==="y"?"width":"height",x=["top","left"].includes(xs(i)),R=o.reference[d]-o.floating[S]+(x&&((C=a.offset)==null?void 0:C[d])||0)+(x?0:y.crossAxis),T=o.reference[d]+o.reference[S]+(x?0:((w=a.offset)==null?void 0:w[d])||0)-(x?y.crossAxis:0);g<R?g=R:g>T&&(g=T)}return{[h]:f,[d]:g}}}},bie=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:o,platform:a,elements:s}=t,{apply:l=()=>{},...u}=Ss(e,t),c=await av(t,u),d=xs(i),h=df(i),f=Gl(i)==="y",{width:g,height:m}=o.floating;let y,C;d==="top"||d==="bottom"?(y=d,C=h===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(C=d,y=h==="end"?"top":"bottom");const w=m-c.top-c.bottom,S=g-c.left-c.right,x=Vl(m-c[y],w),R=Vl(g-c[C],S),T=!t.middlewareData.shift;let P=x,D=R;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(D=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(P=w),T&&!h){const E=pi(c.left,0),k=pi(c.right,0),L=pi(c.top,0),N=pi(c.bottom,0);f?D=g-2*(E!==0||k!==0?E+k:pi(c.left,c.right)):P=m-2*(L!==0||N!==0?L+N:pi(c.top,c.bottom))}await l({...t,availableWidth:D,availableHeight:P});const I=await a.getDimensions(s.floating);return g!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function _b(){return typeof window<"u"}function hf(e){return f$(e)?(e.nodeName||"").toLowerCase():"#document"}function bi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ka(e){var t;return(t=(f$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function f$(e){return _b()?e instanceof Node||e instanceof bi(e).Node:!1}function Lo(e){return _b()?e instanceof Element||e instanceof bi(e).Element:!1}function Da(e){return _b()?e instanceof HTMLElement||e instanceof bi(e).HTMLElement:!1}function o2(e){return!_b()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof bi(e).ShadowRoot}function Jv(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Oo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function Sie(e){return["table","td","th"].includes(hf(e))}function Tb(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function oI(e){const t=aI(),r=Lo(e)?Oo(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function xie(e){let t=Hl(e);for(;Da(t)&&!Gh(t);){if(oI(t))return t;if(Tb(t))return null;t=Hl(t)}return null}function aI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Gh(e){return["html","body","#document"].includes(hf(e))}function Oo(e){return bi(e).getComputedStyle(e)}function Pb(e){return Lo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Hl(e){if(hf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||o2(e)&&e.host||ka(e);return o2(t)?t.host:t}function p$(e){const t=Hl(e);return Gh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Da(t)&&Jv(t)?t:p$(t)}function sv(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=p$(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),a=bi(i);if(o){const s=rP(a);return t.concat(a,a.visualViewport||[],Jv(i)?i:[],s&&r?sv(s):[])}return t.concat(i,sv(i,[],r))}function rP(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function g$(e){const t=Oo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Da(e),o=i?e.offsetWidth:r,a=i?e.offsetHeight:n,s=Xw(r)!==o||Xw(n)!==a;return s&&(r=o,n=a),{width:r,height:n,$:s}}function sI(e){return Lo(e)?e:e.contextElement}function xh(e){const t=sI(e);if(!Da(t))return Ca(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=g$(t);let a=(o?Xw(r.width):r.width)/n,s=(o?Xw(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const Rie=Ca(0);function v$(e){const t=bi(e);return!aI()||!t.visualViewport?Rie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _ie(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==bi(e)?!1:t}function Pc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=sI(e);let a=Ca(1);t&&(n?Lo(n)&&(a=xh(n)):a=xh(e));const s=_ie(o,r,n)?v$(o):Ca(0);let l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,c=i.width/a.x,d=i.height/a.y;if(o){const h=bi(o),f=n&&Lo(n)?bi(n):n;let g=h,m=rP(g);for(;m&&n&&f!==g;){const y=xh(m),C=m.getBoundingClientRect(),w=Oo(m),S=C.left+(m.clientLeft+parseFloat(w.paddingLeft))*y.x,x=C.top+(m.clientTop+parseFloat(w.paddingTop))*y.y;l*=y.x,u*=y.y,c*=y.x,d*=y.y,l+=S,u+=x,g=bi(m),m=rP(g)}}return Zw({width:c,height:d,x:l,y:u})}function lI(e,t){const r=Pb(e).scrollLeft;return t?t.left+r:Pc(ka(e)).left+r}function m$(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:lI(e,n)),o=n.top+t.scrollTop;return{x:i,y:o}}function Tie(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",a=ka(n),s=t?Tb(t.floating):!1;if(n===a||s&&o)return r;let l={scrollLeft:0,scrollTop:0},u=Ca(1);const c=Ca(0),d=Da(n);if((d||!d&&!o)&&((hf(n)!=="body"||Jv(a))&&(l=Pb(n)),Da(n))){const f=Pc(n);u=xh(n),c.x=f.x+n.clientLeft,c.y=f.y+n.clientTop}const h=a&&!d&&!o?m$(a,l,!0):Ca(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x+h.x,y:r.y*u.y-l.scrollTop*u.y+c.y+h.y}}function Pie(e){return Array.from(e.getClientRects())}function Die(e){const t=ka(e),r=Pb(e),n=e.ownerDocument.body,i=pi(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=pi(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+lI(e);const s=-r.scrollTop;return Oo(n).direction==="rtl"&&(a+=pi(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:s}}function Aie(e,t){const r=bi(e),n=ka(e),i=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=aI();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function Iie(e,t){const r=Pc(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=Da(e)?xh(e):Ca(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,u=n*o.y;return{width:a,height:s,x:l,y:u}}function a2(e,t,r){let n;if(t==="viewport")n=Aie(e,r);else if(t==="document")n=Die(ka(e));else if(Lo(t))n=Iie(t,r);else{const i=v$(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Zw(n)}function y$(e,t){const r=Hl(e);return r===t||!Lo(r)||Gh(r)?!1:Oo(r).position==="fixed"||y$(r,t)}function Eie(e,t){const r=t.get(e);if(r)return r;let n=sv(e,[],!1).filter(s=>Lo(s)&&hf(s)!=="body"),i=null;const o=Oo(e).position==="fixed";let a=o?Hl(e):e;for(;Lo(a)&&!Gh(a);){const s=Oo(a),l=oI(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Jv(a)&&!l&&y$(e,a))?n=n.filter(c=>c!==a):i=s,a=Hl(a)}return t.set(e,n),n}function Mie(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const a=[...r==="clippingAncestors"?Tb(t)?[]:Eie(t,this._c):[].concat(r),n],s=a[0],l=a.reduce((u,c)=>{const d=a2(t,c,i);return u.top=pi(d.top,u.top),u.right=Vl(d.right,u.right),u.bottom=Vl(d.bottom,u.bottom),u.left=pi(d.left,u.left),u},a2(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function kie(e){const{width:t,height:r}=g$(e);return{width:t,height:r}}function Fie(e,t,r){const n=Da(t),i=ka(t),o=r==="fixed",a=Pc(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=Ca(0);if(n||!n&&!o)if((hf(t)!=="body"||Jv(i))&&(s=Pb(t)),n){const h=Pc(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=lI(i));const u=i&&!n&&!o?m$(i,s):Ca(0),c=a.left+s.scrollLeft-l.x-u.x,d=a.top+s.scrollTop-l.y-u.y;return{x:c,y:d,width:a.width,height:a.height}}function F1(e){return Oo(e).position==="static"}function s2(e,t){if(!Da(e)||Oo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ka(e)===r&&(r=r.ownerDocument.body),r}function C$(e,t){const r=bi(e);if(Tb(e))return r;if(!Da(e)){let i=Hl(e);for(;i&&!Gh(i);){if(Lo(i)&&!F1(i))return i;i=Hl(i)}return r}let n=s2(e,t);for(;n&&Sie(n)&&F1(n);)n=s2(n,t);return n&&Gh(n)&&F1(n)&&!oI(n)?r:n||xie(e)||r}const Lie=async function(e){const t=this.getOffsetParent||C$,r=this.getDimensions,n=await r(e.floating);return{reference:Fie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Oie(e){return Oo(e).direction==="rtl"}const Nie={convertOffsetParentRelativeRectToViewportRelativeRect:Tie,getDocumentElement:ka,getClippingRect:Mie,getOffsetParent:C$,getElementRects:Lie,getClientRects:Pie,getDimensions:kie,getScale:xh,isElement:Lo,isRTL:Oie};function zie(e,t){let r=null,n;const i=ka(e);function o(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const{left:u,top:c,width:d,height:h}=e.getBoundingClientRect();if(s||t(),!d||!h)return;const f=Hy(c),g=Hy(i.clientWidth-(u+d)),m=Hy(i.clientHeight-(c+h)),y=Hy(u),w={rootMargin:-f+"px "+-g+"px "+-m+"px "+-y+"px",threshold:pi(0,Vl(1,l))||1};let S=!0;function x(R){const T=R[0].intersectionRatio;if(T!==l){if(!S)return a();T?a(!1,T):n=setTimeout(()=>{a(!1,1e-7)},1e3)}S=!1}try{r=new IntersectionObserver(x,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(x,w)}r.observe(e)}return a(!0),o}function Bie(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=sI(e),c=i||o?[...u?sv(u):[],...sv(t)]:[];c.forEach(C=>{i&&C.addEventListener("scroll",r,{passive:!0}),o&&C.addEventListener("resize",r)});const d=u&&s?zie(u,r):null;let h=-1,f=null;a&&(f=new ResizeObserver(C=>{let[w]=C;w&&w.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=f)==null||S.observe(t)})),r()}),u&&!l&&f.observe(u),f.observe(t));let g,m=l?Pc(e):null;l&&y();function y(){const C=Pc(e);m&&(C.x!==m.x||C.y!==m.y||C.width!==m.width||C.height!==m.height)&&r(),m=C,g=requestAnimationFrame(y)}return r(),()=>{var C;c.forEach(w=>{i&&w.removeEventListener("scroll",r),o&&w.removeEventListener("resize",r)}),d==null||d(),(C=f)==null||C.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const Vie=yie,Gie=Cie,Hie=gie,Wie=bie,$ie=vie,Uie=pie,jie=wie,Yie=(e,t,r)=>{const n=new Map,i={platform:Nie,...r},o={...i.platform,_c:n};return fie(e,t,{...i,platform:o})};function l2(e=0,t=0,r=0,n=0){if(typeof DOMRect=="function")return new DOMRect(e,t,r,n);const i={x:e,y:t,width:r,height:n,top:t,right:e+r,bottom:t+n,left:e};return{...i,toJSON:()=>i}}function Kie(e){if(!e)return l2();const{x:t,y:r,width:n,height:i}=e;return l2(t,r,n,i)}function Xie(e,t){return{contextElement:qr(e)?e:void 0,getBoundingClientRect:()=>{const r=e,n=t==null?void 0:t(r);return n||!r?Kie(n):r.getBoundingClientRect()}}}var Dp=e=>({variable:e,reference:`var(${e})`}),ns={arrowSize:Dp("--arrow-size"),arrowSizeHalf:Dp("--arrow-size-half"),arrowBg:Dp("--arrow-background"),transformOrigin:Dp("--transform-origin"),arrowOffset:Dp("--arrow-offset")},qie=e=>({top:"bottom center","top-start":e?`${e.x}px bottom`:"left bottom","top-end":e?`${e.x}px bottom`:"right bottom",bottom:"top center","bottom-start":e?`${e.x}px top`:"top left","bottom-end":e?`${e.x}px top`:"top right",left:"right center","left-start":e?`right ${e.y}px`:"right top","left-end":e?`right ${e.y}px`:"right bottom",right:"left center","right-start":e?`left ${e.y}px`:"left top","right-end":e?`left ${e.y}px`:"left bottom"}),Zie={name:"transformOrigin",fn({placement:e,elements:t,middlewareData:r}){const{arrow:n}=r,i=qie(n)[e],{floating:o}=t;return o.style.setProperty(ns.transformOrigin.variable,i),{data:{transformOrigin:i}}}},Qie={name:"rects",fn({rects:e}){return{data:e}}},Jie=e=>{if(e)return{name:"shiftArrow",fn({placement:t,middlewareData:r}){if(!r.arrow)return{};const{x:n,y:i}=r.arrow,o=t.split("-")[0];return Object.assign(e.style,{left:n!=null?`${n}px`:"",top:i!=null?`${i}px`:"",[o]:`calc(100% + ${ns.arrowOffset.reference})`}),{}}}};function eoe(e){const[t,r]=e.split("-");return{side:t,align:r,hasAlign:r!=null}}var toe={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function u2(e,t){const r=e.devicePixelRatio||1;return Math.round(t*r)/r}function w$(e){return jT(e.boundary)}function roe(e,t){if(e)return Uie({element:e,padding:t.arrowPadding})}function noe(e,t){if(!wte(t.offset??t.gutter))return Vie(({placement:r})=>{var u,c;const n=((e==null?void 0:e.clientHeight)||0)/2,i=((u=t.offset)==null?void 0:u.mainAxis)??t.gutter,o=typeof i=="number"?i+n:i??n,{hasAlign:a}=eoe(r),s=a?void 0:t.shift,l=((c=t.offset)==null?void 0:c.crossAxis)??s;return Tc({crossAxis:l,mainAxis:o,alignmentAxis:t.shift})})}function ioe(e){if(e.flip)return Hie({boundary:w$(e),padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip})}function ooe(e){if(!(!e.slide&&!e.overlap))return Gie({boundary:w$(e),mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:jie()})}function aoe(e){return Wie({padding:e.overflowPadding,apply({elements:t,rects:r,availableHeight:n,availableWidth:i}){const o=t.floating,a=Math.round(r.reference.width);i=Math.floor(i),n=Math.floor(n),o.style.setProperty("--reference-width",`${a}px`),o.style.setProperty("--available-width",`${i}px`),o.style.setProperty("--available-height",`${n}px`)}})}function soe(e){var t;if(e.hideWhenDetached)return $ie({strategy:"referenceHidden",boundary:((t=e.boundary)==null?void 0:t.call(e))??"clippingAncestors"})}function loe(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function uoe(e,t,r={}){const n=Xie(e,r.getAnchorRect);if(!t||!n)return;const i=Object.assign({},toe,r),o=t.querySelector("[data-part=arrow]"),a=[noe(o,i),ioe(i),ooe(i),roe(o,i),Jie(o),Zie,aoe(i),soe(i),Qie],{placement:s,strategy:l,onComplete:u,onPositioned:c}=i,d=async()=>{var x;if(!n||!t)return;const m=await Yie(n,t,{placement:s,middleware:a,strategy:l});u==null||u(m),c==null||c({placed:!0});const y=Wc(t),C=u2(y,m.x),w=u2(y,m.y);t.style.setProperty("--x",`${C}px`),t.style.setProperty("--y",`${w}px`),i.hideWhenDetached&&(((x=m.middlewareData.hide)==null?void 0:x.referenceHidden)?(t.style.setProperty("visibility","hidden"),t.style.setProperty("pointer-events","none")):(t.style.removeProperty("visibility"),t.style.removeProperty("pointer-events")));const S=t.firstElementChild;if(S){const R=Cee(S);t.style.setProperty("--z-index",R.zIndex)}},h=async()=>{r.updatePosition?(await r.updatePosition({updatePosition:d}),c==null||c({placed:!0})):await d()},f=loe(i.listeners),g=i.listeners?Bie(n,t,h,f):_4;return h(),()=>{g==null||g(),c==null||c({placed:!1})}}function c2(e,t,r={}){const{defer:n,...i}=r,o=n?Ji:s=>s(),a=[];return a.push(o(()=>{const s=typeof e=="function"?e():e,l=typeof t=="function"?t():t;a.push(uoe(s,l,i))})),()=>{a.forEach(s=>s==null?void 0:s())}}var coe={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function doe(e={}){const{placement:t,sameWidth:r,fitViewport:n,strategy:i="absolute"}=e;return{arrow:{position:"absolute",width:ns.arrowSize.reference,height:ns.arrowSize.reference,[ns.arrowSizeHalf.variable]:`calc(${ns.arrowSize.reference} / 2)`,[ns.arrowOffset.variable]:`calc(${ns.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:t?coe[t.split("-")[0]]:void 0,background:ns.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:i,isolation:"isolate",minWidth:r?void 0:"max-content",width:r?"var(--reference-width)":void 0,maxWidth:n?"var(--available-width)":void 0,maxHeight:n?"var(--available-height)":void 0,top:"0px",left:"0px",transform:t?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}function hoe(e){const t={each(r){var n;for(let i=0;i<((n=e.frames)==null?void 0:n.length);i+=1){const o=e.frames[i];o&&r(o)}},addEventListener(r,n,i){return t.each(o=>{try{o.document.addEventListener(r,n,i)}catch{}}),()=>{try{t.removeEventListener(r,n,i)}catch{}}},removeEventListener(r,n,i){t.each(o=>{try{o.document.removeEventListener(r,n,i)}catch{}})}};return t}function foe(e){const t=e.frameElement!=null?e.parent:null;return{addEventListener:(r,n,i)=>{try{t==null||t.addEventListener(r,n,i)}catch{}return()=>{try{t==null||t.removeEventListener(r,n,i)}catch{}}},removeEventListener:(r,n,i)=>{try{t==null||t.removeEventListener(r,n,i)}catch{}}}}var d2="pointerdown.outside",h2="focus.outside";function poe(e){for(const t of e)if(qr(t)&&El(t))return!0;return!1}var b$=e=>"clientY"in e;function goe(e,t){if(!b$(t)||!e)return!1;const r=e.getBoundingClientRect();return r.width===0||r.height===0?!1:r.top<=t.clientY&&t.clientY<=r.top+r.height&&r.left<=t.clientX&&t.clientX<=r.left+r.width}function voe(e,t){return e.y<=t.y&&t.y<=e.y+e.height&&e.x<=t.x&&t.x<=e.x+e.width}function f2(e,t){if(!t||!b$(e))return!1;const r=t.scrollHeight>t.clientHeight,n=r&&e.clientX>t.offsetLeft+t.clientWidth,i=t.scrollWidth>t.clientWidth,o=i&&e.clientY>t.offsetTop+t.clientHeight,a={x:t.offsetLeft,y:t.offsetTop,width:t.clientWidth+(r?16:0),height:t.clientHeight+(i?16:0)},s={x:e.clientX,y:e.clientY};return voe(a,s)?n||o:!1}function moe(e,t){const{exclude:r,onFocusOutside:n,onPointerDownOutside:i,onInteractOutside:o,defer:a}=t;if(!e)return;const s=ks(e),l=Wc(e),u=hoe(l),c=foe(l);function d(C){const w=Sl(C);if(!qr(w)||!w.isConnected||$w(e,w)||goe(e,C))return!1;const S=s.querySelector(`[aria-controls="${e.id}"]`);if(S){const R=BT(S);if(f2(C,R))return!1}const x=BT(e);return f2(C,x)?!1:!(r!=null&&r(w))}const h=new Set;function f(C){function w(){var R;const S=a?Ji:T=>T(),x=((R=C.composedPath)==null?void 0:R.call(C))??[C.target];S(()=>{if(!(!e||!d(C))){if(i||o){const T=YT(i,o);e.addEventListener(d2,T,{once:!0})}p2(e,d2,{bubbles:!1,cancelable:!0,detail:{originalEvent:C,contextmenu:Tee(C),focusable:poe(x)}})}})}C.pointerType==="touch"?(h.forEach(S=>S()),h.add(Po(s,"click",w,{once:!0})),h.add(c.addEventListener("click",w,{once:!0})),h.add(u.addEventListener("click",w,{once:!0}))):w()}const g=new Set,m=setTimeout(()=>{g.add(Po(s,"pointerdown",f,!0)),g.add(c.addEventListener("pointerdown",f,!0)),g.add(u.addEventListener("pointerdown",f,!0))},0);function y(C){(a?Ji:S=>S())(()=>{if(!(!e||!d(C))){if(n||o){const S=YT(n,o);e.addEventListener(h2,S,{once:!0})}p2(e,h2,{bubbles:!1,cancelable:!0,detail:{originalEvent:C,contextmenu:!1,focusable:El(Sl(C))}})}})}return g.add(Po(s,"focusin",y,!0)),g.add(c.addEventListener("focusin",y,!0)),g.add(u.addEventListener("focusin",y,!0)),()=>{clearTimeout(m),h.forEach(C=>C()),g.forEach(C=>C())}}function yoe(e,t){const{defer:r}=t,n=r?Ji:o=>o(),i=[];return i.push(n(()=>{const o=typeof e=="function"?e():e;i.push(moe(o,t))})),()=>{i.forEach(o=>o==null?void 0:o())}}function p2(e,t,r){const n=e.ownerDocument.defaultView||window,i=new n.CustomEvent(t,r);return e.dispatchEvent(i)}function Coe(e,t){const r=n=>{n.key==="Escape"&&(n.isComposing||t==null||t(n))};return Po(ks(e),"keydown",r,{capture:!0})}var _o={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(e=>e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){var n;const t=this.indexOf(e),r=this.topMostPointerBlockingLayer()?this.indexOf((n=this.topMostPointerBlockingLayer())==null?void 0:n.node):-1;return t<r},isTopMost(e){const t=this.layers[this.count()-1];return(t==null?void 0:t.node)===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},isInNestedLayer(e,t){return this.getNestedLayers(e).some(r=>$w(r.node,t))},isInBranch(e){return Array.from(this.branches).some(t=>$w(t,e))},add(e){const t=this.layers.push(e);e.node.style.setProperty("--layer-index",`${t}`)},addBranch(e){this.branches.push(e)},remove(e){const t=this.indexOf(e);t<0||(t<this.count()-1&&this.getNestedLayers(e).forEach(n=>n.dismiss()),this.layers.splice(t,1),e.style.removeProperty("--layer-index"))},removeBranch(e){const t=this.branches.indexOf(e);t>=0&&this.branches.splice(t,1)},indexOf(e){return this.layers.findIndex(t=>t.node===e)},dismiss(e){var t;(t=this.layers[this.indexOf(e)])==null||t.dismiss()},clear(){this.remove(this.layers[0].node)}},g2;function v2(){_o.layers.forEach(({node:e})=>{e.style.pointerEvents=_o.isBelowPointerBlockingLayer(e)?"none":"auto"})}function woe(e){e.style.pointerEvents=""}function boe(e,t){const r=ks(e),n=[];if(_o.hasPointerBlockingLayer()&&!r.body.hasAttribute("data-inert")&&(g2=document.body.style.pointerEvents,queueMicrotask(()=>{r.body.style.pointerEvents="none",r.body.setAttribute("data-inert","")})),t){const i=ete(t,o=>{n.push(Kee(o,{pointerEvents:"auto"}))});n.push(i)}return()=>{_o.hasPointerBlockingLayer()||(queueMicrotask(()=>{r.body.style.pointerEvents=g2,r.body.removeAttribute("data-inert"),r.body.style.length===0&&r.body.removeAttribute("style")}),n.forEach(i=>i()))}}function Soe(e,t){if(!e){cw("[@zag-js/dismissable] node is `null` or `undefined`");return}const{onDismiss:r,pointerBlocking:n,exclude:i,debug:o}=t,a={dismiss:r,node:e,pointerBlocking:n};_o.add(a),v2();function s(h){var g,m;const f=Sl(h.detail.originalEvent);_o.isBelowPointerBlockingLayer(e)||_o.isInBranch(f)||((g=t.onPointerDownOutside)==null||g.call(t,h),(m=t.onInteractOutside)==null||m.call(t,h),!h.defaultPrevented&&(o&&console.log("onPointerDownOutside:",h.detail.originalEvent),r==null||r()))}function l(h){var g,m;const f=Sl(h.detail.originalEvent);_o.isInBranch(f)||((g=t.onFocusOutside)==null||g.call(t,h),(m=t.onInteractOutside)==null||m.call(t,h),!h.defaultPrevented&&(o&&console.log("onFocusOutside:",h.detail.originalEvent),r==null||r()))}function u(h){var f;_o.isTopMost(e)&&((f=t.onEscapeKeyDown)==null||f.call(t,h),!h.defaultPrevented&&r&&(h.preventDefault(),r()))}function c(h){var y;if(!e)return!1;const f=typeof i=="function"?i():i,g=Array.isArray(f)?f:[f],m=(y=t.persistentElements)==null?void 0:y.map(C=>C()).filter(qr);return m&&g.push(...m),g.some(C=>$w(C,h))||_o.isInNestedLayer(e,h)}const d=[n?boe(e,t.persistentElements):void 0,Coe(e,u),yoe(e,{exclude:c,onFocusOutside:l,onPointerDownOutside:s,defer:t.defer})];return()=>{_o.remove(e),v2(),woe(e),d.forEach(h=>h==null?void 0:h())}}function xoe(e,t){const{defer:r}=t,n=r?Ji:o=>o(),i=[];return i.push(n(()=>{const o=Yw(e)?e():e;i.push(Soe(o,t))})),()=>{n(()=>{i.forEach(o=>o==null?void 0:o())})}}var S$=ct("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]);S$.build();var $t=Cr({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`color-picker:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`color-picker:${e.id}:label`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`color-picker:${e.id}:hidden-input`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`color-picker:${e.id}:control`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`color-picker:${e.id}:trigger`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`color-picker:${e.id}:content`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`color-picker:${e.id}:positioner`},getFormatSelectId:e=>{var t;return((t=e.ids)==null?void 0:t.formatSelect)??`color-picker:${e.id}:format-select`},getAreaId:e=>{var t;return((t=e.ids)==null?void 0:t.area)??`color-picker:${e.id}:area`},getAreaGradientId:e=>{var t;return((t=e.ids)==null?void 0:t.areaGradient)??`color-picker:${e.id}:area-gradient`},getAreaThumbId:e=>{var t;return((t=e.ids)==null?void 0:t.areaThumb)??`color-picker:${e.id}:area-thumb`},getChannelSliderTrackId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.channelSliderTrack)==null?void 0:n.call(r,t))??`color-picker:${e.id}:slider-track:${t}`},getChannelSliderThumbId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.channelSliderThumb)==null?void 0:n.call(r,t))??`color-picker:${e.id}:slider-thumb:${t}`},getContentEl:e=>$t.getById(e,$t.getContentId(e)),getAreaThumbEl:e=>$t.getById(e,$t.getAreaThumbId(e)),getChannelSliderThumbEl:(e,t)=>$t.getById(e,$t.getChannelSliderThumbId(e,t)),getChannelInputEl:(e,t)=>{const r=`input[data-channel="${t}"]`;return[...ls($t.getContentEl(e),r),...ls($t.getControlEl(e),r)]},getFormatSelectEl:e=>$t.getById(e,$t.getFormatSelectId(e)),getHiddenInputEl:e=>$t.getById(e,$t.getHiddenInputId(e)),getAreaEl:e=>$t.getById(e,$t.getAreaId(e)),getAreaValueFromPoint(e,t){const r=$t.getAreaEl(e);if(!r)return;const{percent:n}=VT(t,r);return n},getControlEl:e=>$t.getById(e,$t.getControlId(e)),getTriggerEl:e=>$t.getById(e,$t.getTriggerId(e)),getPositionerEl:e=>$t.getById(e,$t.getPositionerId(e)),getChannelSliderTrackEl:(e,t)=>$t.getById(e,$t.getChannelSliderTrackId(e,t)),getChannelSliderValueFromPoint(e,t,r){const n=$t.getChannelSliderTrackEl(e,r);if(!n)return;const{percent:i}=VT(t,n);return i},getChannelInputEls:e=>[...ls($t.getContentEl(e),"input[data-channel]"),...ls($t.getControlEl(e),"input[data-channel]")]}),Md=new WeakMap,Wy=new WeakMap,$y={},L1=0,x$=e=>e&&(e.host||x$(e.parentNode)),Roe=(e,t)=>t.map(r=>{if(e.contains(r))return r;const n=x$(r);return n&&e.contains(n)?n:(console.error("[zag-js > ariaHidden] target",r,"in not contained inside",e,". Doing nothing"),null)}).filter(r=>!!r),_oe=e=>e.localName==="next-route-announcer"||e.localName==="script"||e.hasAttribute("aria-live")?!0:e.matches("[data-live-announcer]"),Toe=(e,t)=>{const{parentNode:r,markerName:n,controlAttribute:i}=t,o=Roe(r,Array.isArray(e)?e:[e]);$y[n]||($y[n]=new WeakMap);const a=$y[n],s=[],l=new Set,u=new Set(o),c=h=>{!h||l.has(h)||(l.add(h),c(h.parentNode))};o.forEach(c);const d=h=>{!h||u.has(h)||Array.prototype.forEach.call(h.children,f=>{if(l.has(f))d(f);else try{if(_oe(f))return;const g=f.getAttribute(i),m=g!==null&&g!=="false",y=(Md.get(f)||0)+1,C=(a.get(f)||0)+1;Md.set(f,y),a.set(f,C),s.push(f),y===1&&m&&Wy.set(f,!0),C===1&&f.setAttribute(n,""),m||f.setAttribute(i,"")}catch(g){console.error("[zag-js > ariaHidden] cannot operate on ",f,g)}})};return d(r),l.clear(),L1++,()=>{s.forEach(h=>{const f=Md.get(h)-1,g=a.get(h)-1;Md.set(h,f),a.set(h,g),f||(Wy.has(h)||h.removeAttribute(i),Wy.delete(h)),g||h.removeAttribute(n)}),L1--,L1||(Md=new WeakMap,Md=new WeakMap,Wy=new WeakMap,$y={})}},Poe=e=>(Array.isArray(e)?e[0]:e).ownerDocument.body,Doe=(e,t=Poe(e),r="data-aria-hidden")=>{if(t)return Toe(e,{parentNode:t,markerName:r,controlAttribute:"aria-hidden"})},Aoe=e=>{const t=requestAnimationFrame(()=>e());return()=>cancelAnimationFrame(t)};function Ioe(e,t={}){const{defer:r=!0}=t,n=r?Aoe:o=>o(),i=[];return i.push(n(()=>{const a=(typeof e=="function"?e():e).filter(Boolean);a.length!==0&&i.push(Doe(a))})),()=>{i.forEach(o=>o==null?void 0:o())}}var Eoe=Object.defineProperty,Moe=(e,t,r)=>t in e?Eoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,er=(e,t,r)=>Moe(e,typeof t!="symbol"?t+"":t,r),m2={activateTrap(e,t){if(e.length>0){const n=e[e.length-1];n!==t&&n.pause()}const r=e.indexOf(t);r===-1||e.splice(r,1),e.push(t)},deactivateTrap(e,t){const r=e.indexOf(t);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},koe=[],Foe=class{constructor(e,t){er(this,"trapStack"),er(this,"config"),er(this,"doc"),er(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),er(this,"listenerCleanups",[]),er(this,"handleFocus",n=>{const i=Sl(n),o=this.findContainerIndex(i,n)>=0;if(o||NA(i))o&&(this.state.mostRecentlyFocusedNode=i);else{n.stopImmediatePropagation();let a,s=!0;if(this.state.mostRecentlyFocusedNode)if(Tp(this.state.mostRecentlyFocusedNode)>0){const l=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:u}=this.state.containerGroups[l];if(u.length>0){const c=u.findIndex(d=>d===this.state.mostRecentlyFocusedNode);c>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?c+1<u.length&&(a=u[c+1],s=!1):c-1>=0&&(a=u[c-1],s=!1))}}else this.state.containerGroups.some(l=>l.tabbableNodes.some(u=>Tp(u)>0))||(s=!1);else s=!1;s&&(a=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),a?this.tryFocus(a):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),er(this,"handlePointerDown",n=>{const i=Sl(n);if(!(this.findContainerIndex(i,n)>=0)){if(Ip(this.config.clickOutsideDeactivates,n)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}Ip(this.config.allowOutsideClick,n)||n.preventDefault()}}),er(this,"handleClick",n=>{const i=Sl(n);this.findContainerIndex(i,n)>=0||Ip(this.config.clickOutsideDeactivates,n)||Ip(this.config.allowOutsideClick,n)||(n.preventDefault(),n.stopImmediatePropagation())}),er(this,"handleTabKey",n=>{if(this.config.isKeyForward(n)||this.config.isKeyBackward(n)){this.state.recentNavEvent=n;const i=this.config.isKeyBackward(n),o=this.findNextNavNode({event:n,isBackward:i});if(!o)return;Ap(n)&&n.preventDefault(),this.tryFocus(o)}}),er(this,"handleEscapeKey",n=>{Loe(n)&&Ip(this.config.escapeDeactivates,n)!==!1&&(n.preventDefault(),this.deactivate())}),er(this,"_mutationObserver"),er(this,"setupMutationObserver",()=>{const n=this.doc.defaultView||window;this._mutationObserver=new n.MutationObserver(i=>{i.some(a=>Array.from(a.removedNodes).some(l=>l===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode())})}),er(this,"updateObservedNodes",()=>{var n;(n=this._mutationObserver)==null||n.disconnect(),this.state.active&&!this.state.paused&&this.state.containers.map(i=>{var o;(o=this._mutationObserver)==null||o.observe(i,{subtree:!0,childList:!0})})}),er(this,"getInitialFocusNode",()=>{let n=this.getNodeForOption("initialFocus",{hasFallback:!0});if(n===!1)return!1;if(n===void 0||n&&!El(n))if(this.findContainerIndex(this.doc.activeElement)>=0)n=this.doc.activeElement;else{const i=this.state.tabbableGroups[0];n=i&&i.firstTabbableNode||this.getNodeForOption("fallbackFocus")}else n===null&&(n=this.getNodeForOption("fallbackFocus"));if(!n)throw new Error("Your focus-trap needs to have at least one focusable element");return n.isConnected||(n=this.getNodeForOption("fallbackFocus")),n}),er(this,"tryFocus",n=>{if(n!==!1&&n!==n4(this.doc)){if(!n||!n.focus){this.tryFocus(this.getInitialFocusNode());return}n.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=n,Ooe(n)&&n.select()}}),er(this,"deactivate",n=>{if(!this.state.active)return this;const i={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...n};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),m2.deactivateTrap(this.trapStack,this);const o=this.getOption(i,"onDeactivate"),a=this.getOption(i,"onPostDeactivate"),s=this.getOption(i,"checkCanReturnFocus"),l=this.getOption(i,"returnFocus","returnFocusOnDeactivate");o==null||o();const u=()=>{y2(()=>{if(l){const c=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(c)}a==null||a()})};if(l&&s){const c=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return s(c).then(u,u),this}return u(),this}),er(this,"pause",n=>{if(this.state.paused||!this.state.active)return this;const i=this.getOption(n,"onPause"),o=this.getOption(n,"onPostPause");return this.state.paused=!0,i==null||i(),this.removeListeners(),this.updateObservedNodes(),o==null||o(),this}),er(this,"unpause",n=>{if(!this.state.paused||!this.state.active)return this;const i=this.getOption(n,"onUnpause"),o=this.getOption(n,"onPostUnpause");return this.state.paused=!1,i==null||i(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),o==null||o(),this}),er(this,"updateContainerElements",n=>(this.state.containers=Array.isArray(n)?n.filter(Boolean):[n].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),er(this,"getReturnFocusNode",n=>{const i=this.getNodeForOption("setReturnFocus",{params:[n]});return i||(i===!1?!1:n)}),er(this,"getOption",(n,i,o)=>n&&n[i]!==void 0?n[i]:this.config[o||i]),er(this,"getNodeForOption",(n,{hasFallback:i=!1,params:o=[]}={})=>{let a=this.config[n];if(typeof a=="function"&&(a=a(...o)),a===!0&&(a=void 0),!a){if(a===void 0||a===!1)return a;throw new Error(`\`${n}\` was specified but was not a node, or did not return a node`)}let s=a;if(typeof a=="string"){try{s=this.doc.querySelector(a)}catch(l){throw new Error(`\`${n}\` appears to be an invalid selector; error="${l.message}"`)}if(!s&&!i)throw new Error(`\`${n}\` as selector refers to no known node`)}return s}),er(this,"findNextNavNode",n=>{const{event:i,isBackward:o=!1}=n,a=n.target||Sl(i);this.updateTabbableNodes();let s=null;if(this.state.tabbableGroups.length>0){const l=this.findContainerIndex(a,i),u=l>=0?this.state.containerGroups[l]:void 0;if(l<0)o?s=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:s=this.state.tabbableGroups[0].firstTabbableNode;else if(o){let c=this.state.tabbableGroups.findIndex(({firstTabbableNode:d})=>a===d);if(c<0&&((u==null?void 0:u.container)===a||El(a)&&!ml(a)&&!(u!=null&&u.nextTabbableNode(a,!1)))&&(c=l),c>=0){const d=c===0?this.state.tabbableGroups.length-1:c-1,h=this.state.tabbableGroups[d];s=Tp(a)>=0?h.lastTabbableNode:h.lastDomTabbableNode}else Ap(i)||(s=u==null?void 0:u.nextTabbableNode(a,!1))}else{let c=this.state.tabbableGroups.findIndex(({lastTabbableNode:d})=>a===d);if(c<0&&((u==null?void 0:u.container)===a||El(a)&&!ml(a)&&!(u!=null&&u.nextTabbableNode(a)))&&(c=l),c>=0){const d=c===this.state.tabbableGroups.length-1?0:c+1,h=this.state.tabbableGroups[d];s=Tp(a)>=0?h.firstTabbableNode:h.firstDomTabbableNode}else Ap(i)||(s=u==null?void 0:u.nextTabbableNode(a))}}else s=this.getNodeForOption("fallbackFocus");return s}),this.trapStack=t.trapStack||koe;const r={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward(n){return Ap(n)&&!n.shiftKey},isKeyBackward(n){return Ap(n)&&n.shiftKey},...t};this.doc=r.document||ks(Array.isArray(e)?e[0]:e),this.config=r,this.updateContainerElements(e),this.setupMutationObserver()}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(e,t){const r=typeof(t==null?void 0:t.composedPath)=="function"?t.composedPath():void 0;return this.state.containerGroups.findIndex(({container:n,tabbableNodes:i})=>n.contains(e)||(r==null?void 0:r.includes(n))||i.find(o=>o===e))}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(e=>{const t=Zv(e),r=VA(e),n=t.length>0?t[0]:void 0,i=t.length>0?t[t.length-1]:void 0,o=r.find(u=>ml(u)),a=r.slice().reverse().find(u=>ml(u)),s=!!t.find(u=>Tp(u)>0);function l(u,c=!0){const d=t.indexOf(u);return d<0?c?r.slice(r.indexOf(u)+1).find(h=>ml(h)):r.slice(0,r.indexOf(u)).reverse().find(h=>ml(h)):t[d+(c?1:-1)]}return{container:e,tabbableNodes:t,focusableNodes:r,posTabIndexesFound:s,firstTabbableNode:n,lastTabbableNode:i,firstDomTabbableNode:o,lastDomTabbableNode:a,nextTabbableNode:l}}),this.state.tabbableGroups=this.state.containerGroups.filter(e=>e.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(e=>e.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return m2.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?y2(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(Po(this.doc,"focusin",this.handleFocus,!0),Po(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),Po(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),Po(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),Po(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),Po(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(e=>e()),this.listenerCleanups=[],this}activate(e){if(this.state.active)return this;const t=this.getOption(e,"onActivate"),r=this.getOption(e,"onPostActivate"),n=this.getOption(e,"checkCanFocusTrap");n||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=this.doc.activeElement||null,t==null||t();const i=()=>{n&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),r==null||r()};return n?(n(this.state.containers.concat()).then(i,i),this):(i(),this)}},Ap=e=>e.key==="Tab",Ip=(e,...t)=>typeof e=="function"?e(...t):e,Loe=e=>!e.isComposing&&e.key==="Escape",y2=e=>setTimeout(e,0),Ooe=e=>e.localName==="input"&&"select"in e&&typeof e.select=="function";function Noe(e,t={}){let r;const n=Ji(()=>{const i=typeof e=="function"?e():e;if(i){r=new Foe(i,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:i,...t,document:ks(i)});try{r.activate()}catch{}}});return function(){r==null||r.deactivate(),n()}}var O1="data-scroll-lock";function C2(e,t){if(!e)return;const r=Object.keys(t).reduce((n,i)=>(n[i]=e.style.getPropertyValue(i),n),{});return Object.assign(e.style,t),()=>{Object.assign(e.style,r)}}function zoe(e,t,r){if(!e)return;const n=e.style.getPropertyValue(t);return e.style.setProperty(t,r),()=>{n?e.style.setProperty(t,n):e.style.removeProperty(t)}}function Boe(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function Voe(e){const t=e??document,r=t.defaultView??window,{documentElement:n,body:i}=t;if(i.hasAttribute(O1))return;i.setAttribute(O1,"");const a=r.innerWidth-n.clientWidth,s=()=>zoe(n,"--scrollbar-width",`${a}px`),l=Boe(n),u=()=>C2(i,{overflow:"hidden",[l]:`${a}px`}),c=()=>{const{scrollX:h,scrollY:f,visualViewport:g}=r,m=(g==null?void 0:g.offsetLeft)??0,y=(g==null?void 0:g.offsetTop)??0,C=C2(i,{position:"fixed",overflow:"hidden",top:`${-(f-Math.floor(y))}px`,left:`${-(h-Math.floor(m))}px`,right:"0",[l]:`${a}px`});return()=>{C==null||C(),r.scrollTo({left:h,top:f,behavior:"instant"})}},d=[s(),Ree()?c():u()];return()=>{d.forEach(h=>h==null?void 0:h()),i.removeAttribute(O1)}}var uI=ct("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger");uI.build();var Yn=Cr({getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`dialog:${e.id}:positioner`},getBackdropId:e=>{var t;return((t=e.ids)==null?void 0:t.backdrop)??`dialog:${e.id}:backdrop`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`dialog:${e.id}:content`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`dialog:${e.id}:trigger`},getTitleId:e=>{var t;return((t=e.ids)==null?void 0:t.title)??`dialog:${e.id}:title`},getDescriptionId:e=>{var t;return((t=e.ids)==null?void 0:t.description)??`dialog:${e.id}:description`},getCloseTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.closeTrigger)??`dialog:${e.id}:close`},getContentEl:e=>Yn.getById(e,Yn.getContentId(e)),getPositionerEl:e=>Yn.getById(e,Yn.getPositionerId(e)),getBackdropEl:e=>Yn.getById(e,Yn.getBackdropId(e)),getTriggerEl:e=>Yn.getById(e,Yn.getTriggerId(e)),getTitleEl:e=>Yn.getById(e,Yn.getTitleId(e)),getDescriptionEl:e=>Yn.getById(e,Yn.getDescriptionId(e)),getCloseTriggerEl:e=>Yn.getById(e,Yn.getCloseTriggerId(e))});At()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);var R$=ct("editable").parts("root","area","label","preview","input","editTrigger","submitTrigger","cancelTrigger","control");R$.build();var qo=Cr({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`editable:${e.id}`},getAreaId:e=>{var t;return((t=e.ids)==null?void 0:t.area)??`editable:${e.id}:area`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`editable:${e.id}:label`},getPreviewId:e=>{var t;return((t=e.ids)==null?void 0:t.preview)??`editable:${e.id}:preview`},getInputId:e=>{var t;return((t=e.ids)==null?void 0:t.input)??`editable:${e.id}:input`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`editable:${e.id}:control`},getSubmitTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.submitTrigger)??`editable:${e.id}:submit`},getCancelTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.cancelTrigger)??`editable:${e.id}:cancel`},getEditTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.editTrigger)??`editable:${e.id}:edit`},getInputEl:e=>qo.getById(e,qo.getInputId(e)),getPreviewEl:e=>qo.getById(e,qo.getPreviewId(e)),getSubmitTriggerEl:e=>qo.getById(e,qo.getSubmitTriggerId(e)),getCancelTriggerEl:e=>qo.getById(e,qo.getCancelTriggerId(e)),getEditTriggerEl:e=>qo.getById(e,qo.getEditTriggerId(e))});At()(["activationMode","autoResize","dir","disabled","finalFocusEl","form","getRootNode","id","ids","invalid","maxLength","name","onEditChange","onFocusOutside","onInteractOutside","onPointerDownOutside","onValueChange","onValueCommit","onValueRevert","placeholder","readOnly","required","selectOnFocus","edit","edit.controlled","submitMode","translations","value"]);const _$=ct("field").parts("root","errorText","helperText","input","label","select","textarea","requiredIndicator");_$.build();const T$=ct("fieldset").parts("root","errorText","helperText","legend");T$.build();var P$=ct("file-upload").parts("root","dropzone","item","itemDeleteTrigger","itemGroup","itemName","itemPreview","itemPreviewImage","itemSizeText","label","trigger","clearTrigger");P$.build();var kd=Cr({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`file:${e.id}`},getDropzoneId:e=>{var t;return((t=e.ids)==null?void 0:t.dropzone)??`file:${e.id}:dropzone`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`file:${e.id}:input`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`file:${e.id}:trigger`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`file:${e.id}:label`},getItemId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.item)==null?void 0:n.call(r,t))??`file:${e.id}:item:${t}`},getItemNameId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.itemName)==null?void 0:n.call(r,t))??`file:${e.id}:item-name:${t}`},getItemSizeTextId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.itemSizeText)==null?void 0:n.call(r,t))??`file:${e.id}:item-size:${t}`},getItemPreviewId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.itemPreview)==null?void 0:n.call(r,t))??`file:${e.id}:item-preview:${t}`},getRootEl:e=>kd.getById(e,kd.getRootId(e)),getHiddenInputEl:e=>kd.getById(e,kd.getHiddenInputId(e)),getDropzoneEl:e=>kd.getById(e,kd.getDropzoneId(e))});At()(["accept","allowDrop","capture","dir","directory","disabled","getRootNode","id","ids","locale","maxFiles","maxFileSize","minFileSize","name","invalid","onFileAccept","onFileReject","onFileChange","preventDocumentDrop","required","translations","validate"]);At()(["file"]);var D$=ct("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem");D$.build();var sn=Cr({getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`menu:${e.id}:trigger`},getContextTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.contextTrigger)??`menu:${e.id}:ctx-trigger`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`menu:${e.id}:content`},getArrowId:e=>{var t;return((t=e.ids)==null?void 0:t.arrow)??`menu:${e.id}:arrow`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`menu:${e.id}:popper`},getGroupId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.group)==null?void 0:n.call(r,t))??`menu:${e.id}:group:${t}`},getGroupLabelId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.groupLabel)==null?void 0:n.call(r,t))??`menu:${e.id}:group-label:${t}`},getContentEl:e=>sn.getById(e,sn.getContentId(e)),getPositionerEl:e=>sn.getById(e,sn.getPositionerId(e)),getTriggerEl:e=>sn.getById(e,sn.getTriggerId(e)),getHighlightedItemEl:e=>e.highlightedValue?sn.getById(e,e.highlightedValue):null,getArrowEl:e=>sn.getById(e,sn.getArrowId(e)),getElements:e=>{const r=`[role^="menuitem"][data-ownedby=${CSS.escape(sn.getContentId(e))}]:not([data-disabled])`;return ls(sn.getContentEl(e),r)},getFirstEl:e=>x4(sn.getElements(e)),getLastEl:e=>R4(sn.getElements(e)),getNextEl:(e,t)=>u4(sn.getElements(e),e.highlightedValue,t??e.loopFocus),getPrevEl:(e,t)=>c4(sn.getElements(e),e.highlightedValue,t??e.loopFocus),getElemByKey:(e,t)=>qee(sn.getElements(e),{state:e.typeaheadState,key:t,activeId:e.highlightedValue}),isTargetDisabled:e=>qr(e)&&(e.dataset.disabled===""||e.hasAttribute("disabled")),isTriggerItem:e=>{var t;return!!((t=e==null?void 0:e.getAttribute("role"))!=null&&t.startsWith("menuitem"))&&!!(e!=null&&e.hasAttribute("aria-controls"))},getOptionFromItemEl(e){return{id:e.id,name:e.dataset.name,value:e.dataset.value,valueText:e.dataset.valueText,type:e.dataset.type}}});At()(["anchorPoint","aria-label","closeOnSelect","composite","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open.controlled","open","positioning","typeahead"]);At()(["closeOnSelect","disabled","value","valueText"]);At()(["htmlFor"]);At()(["id"]);At()(["disabled","valueText","closeOnSelect","type","value","checked","onCheckedChange"]);const[A$,Fa]=Qv({name:"PopoverContext",hookName:"usePopoverContext",providerName:"<PopoverProvider />"}),I$=O.forwardRef((e,t)=>{const r=Fa(),n=en(r.getAnchorProps(),e);return J.jsx(si.div,{...n,ref:t})});I$.displayName="PopoverAnchor";const E$=O.forwardRef((e,t)=>{const r=Fa(),n=en(r.getArrowProps(),e);return J.jsx(si.div,{...n,ref:t})});E$.displayName="PopoverArrow";const M$=O.forwardRef((e,t)=>{const r=Fa(),n=en(r.getArrowTipProps(),e);return J.jsx(si.div,{...n,ref:t})});M$.displayName="PopoverArrowTip";const k$=O.forwardRef((e,t)=>{const r=Fa(),n=en(r.getCloseTriggerProps(),e);return J.jsx(si.button,{...n,ref:t})});k$.displayName="PopoverCloseTrigger";const F$=O.forwardRef((e,t)=>{const r=Fa(),n=ZA(),i=en(r.getContentProps(),n.getPresenceProps(),e);return n.unmounted?null:J.jsx(si.div,{...i,ref:h4(n.ref,t)})});F$.displayName="PopoverContent";const L$=O.forwardRef((e,t)=>{const r=Fa(),n=en(r.getDescriptionProps(),e);return J.jsx(si.div,{...n,ref:t})});L$.displayName="PopoverDescription";const O$=O.forwardRef((e,t)=>{const r=Fa(),n=en(r.getIndicatorProps(),e);return J.jsx(si.div,{...n,ref:t})});O$.displayName="PopoverIndicator";const N$=O.forwardRef((e,t)=>{const r=Fa(),n=ZA(),i=en(r.getPositionerProps(),e);return n.unmounted?null:J.jsx(si.div,{...i,ref:t})});N$.displayName="PopoverPositioner";var z$=ct("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger"),Zo=z$.build(),ut=Cr({getAnchorId:e=>{var t;return((t=e.ids)==null?void 0:t.anchor)??`popover:${e.id}:anchor`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`popover:${e.id}:trigger`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`popover:${e.id}:content`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`popover:${e.id}:popper`},getArrowId:e=>{var t;return((t=e.ids)==null?void 0:t.arrow)??`popover:${e.id}:arrow`},getTitleId:e=>{var t;return((t=e.ids)==null?void 0:t.title)??`popover:${e.id}:title`},getDescriptionId:e=>{var t;return((t=e.ids)==null?void 0:t.description)??`popover:${e.id}:desc`},getCloseTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.closeTrigger)??`popover:${e.id}:close`},getAnchorEl:e=>ut.getById(e,ut.getAnchorId(e)),getTriggerEl:e=>ut.getById(e,ut.getTriggerId(e)),getContentEl:e=>ut.getById(e,ut.getContentId(e)),getPositionerEl:e=>ut.getById(e,ut.getPositionerId(e)),getTitleEl:e=>ut.getById(e,ut.getTitleId(e)),getDescriptionEl:e=>ut.getById(e,ut.getDescriptionId(e)),getFocusableEls:e=>VA(ut.getContentEl(e)),getFirstFocusableEl:e=>ut.getFocusableEls(e)[0]});function Goe(e,t,r){const n=e.matches("open"),i=e.context.currentPlacement,o=e.context.currentPortalled,a=e.context.renderedElements,s=doe({...e.context.positioning,placement:i});return{portalled:o,open:n,setOpen(l){l!==n&&t(l?"OPEN":"CLOSE")},reposition(l={}){t({type:"POSITIONING.SET",options:l})},getArrowProps(){return r.element({id:ut.getArrowId(e.context),...Zo.arrow.attrs,dir:e.context.dir,style:s.arrow})},getArrowTipProps(){return r.element({...Zo.arrowTip.attrs,dir:e.context.dir,style:s.arrowTip})},getAnchorProps(){return r.element({...Zo.anchor.attrs,dir:e.context.dir,id:ut.getAnchorId(e.context)})},getTriggerProps(){return r.button({...Zo.trigger.attrs,dir:e.context.dir,type:"button","data-placement":i,id:ut.getTriggerId(e.context),"aria-haspopup":"dialog","aria-expanded":n,"data-state":n?"open":"closed","aria-controls":ut.getContentId(e.context),onPointerDown(l){o4()&&l.currentTarget.focus()},onClick(l){l.defaultPrevented||t("TOGGLE")},onBlur(l){t({type:"TRIGGER_BLUR",target:l.relatedTarget})}})},getIndicatorProps(){return r.element({...Zo.indicator.attrs,dir:e.context.dir,"data-state":n?"open":"closed"})},getPositionerProps(){return r.element({id:ut.getPositionerId(e.context),...Zo.positioner.attrs,dir:e.context.dir,style:s.floating})},getContentProps(){return r.element({...Zo.content.attrs,dir:e.context.dir,id:ut.getContentId(e.context),tabIndex:-1,role:"dialog",hidden:!n,"data-state":n?"open":"closed","data-expanded":aee(n),"aria-labelledby":a.title?ut.getTitleId(e.context):void 0,"aria-describedby":a.description?ut.getDescriptionId(e.context):void 0,"data-placement":i})},getTitleProps(){return r.element({...Zo.title.attrs,id:ut.getTitleId(e.context),dir:e.context.dir})},getDescriptionProps(){return r.element({...Zo.description.attrs,id:ut.getDescriptionId(e.context),dir:e.context.dir})},getCloseTriggerProps(){return r.button({...Zo.closeTrigger.attrs,dir:e.context.dir,id:ut.getCloseTriggerId(e.context),type:"button","aria-label":"close",onClick(l){l.defaultPrevented||t("CLOSE")}})}}}function Hoe(e){const t=Tc(e);return jA({id:"popover",initial:t.open?"open":"closed",context:{closeOnInteractOutside:!0,closeOnEscape:!0,autoFocus:!0,modal:!1,portalled:!0,positioning:{placement:"bottom",...t.positioning},currentPlacement:void 0,...t,renderedElements:{title:!0,description:!0}},computed:{currentPortalled:r=>!!r.modal||!!r.portalled},watch:{open:["toggleVisibility"]},entry:["checkRenderedElements"],states:{closed:{on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}]}},open:{activities:["trapFocus","preventScroll","hideContentBelow","trackPositioning","trackDismissableElement","proxyTabFocus"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:"reposition"}}}}},{guards:{isOpenControlled:r=>!!r["open.controlled"]},activities:{trackPositioning(r){r.currentPlacement=r.positioning.placement;const n=ut.getAnchorEl(r)??ut.getTriggerEl(r);return c2(n,()=>ut.getPositionerEl(r),{...r.positioning,defer:!0,onComplete(o){r.currentPlacement=o.placement}})},trackDismissableElement(r,n,{send:i}){const o=()=>ut.getContentEl(r);let a=!0;return xoe(o,{pointerBlocking:r.modal,exclude:ut.getTriggerEl(r),defer:!0,onEscapeKeyDown(s){var l;(l=r.onEscapeKeyDown)==null||l.call(r,s),!r.closeOnEscape&&s.preventDefault()},onInteractOutside(s){var l;(l=r.onInteractOutside)==null||l.call(r,s),!s.defaultPrevented&&(a=!(s.detail.focusable||s.detail.contextmenu),r.closeOnInteractOutside||s.preventDefault())},onPointerDownOutside:r.onPointerDownOutside,onFocusOutside:r.onFocusOutside,persistentElements:r.persistentElements,onDismiss(){i({type:"CLOSE",src:"interact-outside",restoreFocus:a})}})},proxyTabFocus(r){return r.modal||!r.portalled?void 0:Vee(()=>ut.getContentEl(r),{triggerElement:ut.getTriggerEl(r),defer:!0,onFocus(i){i.focus({preventScroll:!0})}})},hideContentBelow(r){return r.modal?Ioe(()=>[ut.getContentEl(r),ut.getTriggerEl(r)],{defer:!0}):void 0},preventScroll(r){if(r.modal)return Voe(ut.getDoc(r))},trapFocus(r){return r.modal?Noe(()=>ut.getContentEl(r),{initialFocus:()=>EO({root:ut.getContentEl(r),getInitialEl:r.initialFocusEl,enabled:r.autoFocus})}):void 0}},actions:{reposition(r,n){const i=ut.getAnchorEl(r)??ut.getTriggerEl(r);c2(i,()=>ut.getPositionerEl(r),{...r.positioning,...n.options,defer:!0,listeners:!1,onComplete(a){r.currentPlacement=a.placement}})},checkRenderedElements(r){Ji(()=>{Object.assign(r.renderedElements,{title:!!ut.getTitleEl(r),description:!!ut.getDescriptionEl(r)})})},setInitialFocus(r){r.modal||Ji(()=>{const n=EO({root:ut.getContentEl(r),getInitialEl:r.initialFocusEl,enabled:r.autoFocus});n==null||n.focus({preventScroll:!0})})},setFinalFocus(r,n){var o;const i=n.restoreFocus??((o=n.previousEvent)==null?void 0:o.restoreFocus);i!=null&&!i||Ji(()=>{const a=ut.getTriggerEl(r);a==null||a.focus({preventScroll:!0})})},invokeOnOpen(r){var n;(n=r.onOpenChange)==null||n.call(r,{open:!0})},invokeOnClose(r){var n;(n=r.onOpenChange)==null||n.call(r,{open:!1})},toggleVisibility(r,n,{send:i}){i({type:r.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}})}At()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","portalled","positioning"]);const Woe=(e={})=>{const{getRootNode:t}=tI(),{dir:r}=d4(),n={id:O.useId(),dir:r,getRootNode:t,open:e.defaultOpen,"open.controlled":e.open!==void 0,...e},i={...n,open:e.open,onOpenChange:qA(e.onOpenChange,{sync:!0})},[o,a]=XA(Hoe(n),{context:i});return Goe(o,a,F4)},$oe=e=>{const[t,{children:r,...n}]=k4(e),i=Woe(n),o=O4(en({present:i.open},t));return J.jsx(A$,{value:i,children:J.jsx(N4,{value:o,children:r})})},Uoe=e=>{const[t,{value:r,children:n}]=k4(e),i=O4(en({present:r.open},t));return J.jsx(A$,{value:r,children:J.jsx(N4,{value:i,children:n})})},B$=O.forwardRef((e,t)=>{const r=Fa(),n=en(r.getTitleProps(),e);return J.jsx(si.div,{...n,ref:t})});B$.displayName="PopoverTitle";const V$=O.forwardRef((e,t)=>{const r=Fa(),n=ZA(),i=en({...r.getTriggerProps(),"aria-controls":n.unmounted?void 0:r.getTriggerProps()["aria-controls"]},e);return J.jsx(si.button,{...i,ref:t})});V$.displayName="PopoverTrigger";var cI=ct("radio-group").parts("root","label","item","itemText","itemControl","indicator");cI.build();var ln=Cr({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`radio-group:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`radio-group:${e.id}:label`},getItemId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.item)==null?void 0:n.call(r,t))??`radio-group:${e.id}:radio:${t}`},getItemHiddenInputId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.itemHiddenInput)==null?void 0:n.call(r,t))??`radio-group:${e.id}:radio:input:${t}`},getItemControlId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.itemControl)==null?void 0:n.call(r,t))??`radio-group:${e.id}:radio:control:${t}`},getItemLabelId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.itemLabel)==null?void 0:n.call(r,t))??`radio-group:${e.id}:radio:label:${t}`},getIndicatorId:e=>{var t;return((t=e.ids)==null?void 0:t.indicator)??`radio-group:${e.id}:indicator`},getRootEl:e=>ln.getById(e,ln.getRootId(e)),getItemHiddenInputEl:(e,t)=>ln.getById(e,ln.getItemHiddenInputId(e,t)),getIndicatorEl:e=>ln.getById(e,ln.getIndicatorId(e)),getFirstEnabledInputEl:e=>{var t;return(t=ln.getRootEl(e))==null?void 0:t.querySelector("input:not(:disabled)")},getFirstEnabledAndCheckedInputEl:e=>{var t;return(t=ln.getRootEl(e))==null?void 0:t.querySelector("input:not(:disabled):checked")},getInputEls:e=>{const r=`input[type=radio][data-ownedby='${CSS.escape(ln.getRootId(e))}']:not([disabled])`;return ls(ln.getRootEl(e),r)},getActiveRadioEl:e=>{if(e.value)return ln.getById(e,ln.getItemId(e,e.value))},getOffsetRect:e=>({left:(e==null?void 0:e.offsetLeft)??0,top:(e==null?void 0:e.offsetTop)??0,width:(e==null?void 0:e.offsetWidth)??0,height:(e==null?void 0:e.offsetHeight)??0}),getRectById:(e,t)=>{const r=ln.getById(e,ln.getItemId(e,t));if(r)return ln.resolveRect(ln.getOffsetRect(r))},resolveRect:e=>({width:`${e.width}px`,height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`})});At()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value"]);At()(["value","disabled","invalid"]);var G$=ct("rating-group").parts("root","label","item","control");G$.build();var rl=Cr({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`rating:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`rating:${e.id}:label`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`rating:${e.id}:input`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`rating:${e.id}:control`},getItemId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.item)==null?void 0:n.call(r,t))??`rating:${e.id}:item:${t}`},getRootEl:e=>rl.getById(e,rl.getRootId(e)),getControlEl:e=>rl.getById(e,rl.getControlId(e)),getRadioEl:(e,t=e.value)=>{const r=`[role=radio][aria-posinset='${Math.ceil(t)}']`;return Gee(rl.getControlEl(e),r)},getHiddenInputEl:e=>rl.getById(e,rl.getHiddenInputId(e)),dispatchChangeEvent:e=>{const t=rl.getHiddenInputEl(e);t&&s4(t,{value:e.value})}});At()(["allowHalf","autoFocus","count","dir","disabled","form","getRootNode","id","ids","name","onHoverChange","onValueChange","required","readOnly","translations","value"]);At()(["index"]);var H$=ct("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText");H$.build();var Kn=Cr({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`select:${e.id}`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`select:${e.id}:content`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`select:${e.id}:trigger`},getClearTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.clearTrigger)??`select:${e.id}:clear-trigger`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`select:${e.id}:label`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`select:${e.id}:control`},getItemId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.item)==null?void 0:n.call(r,t))??`select:${e.id}:option:${t}`},getHiddenSelectId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenSelect)??`select:${e.id}:select`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`select:${e.id}:positioner`},getItemGroupId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.itemGroup)==null?void 0:n.call(r,t))??`select:${e.id}:optgroup:${t}`},getItemGroupLabelId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.itemGroupLabel)==null?void 0:n.call(r,t))??`select:${e.id}:optgroup-label:${t}`},getHiddenSelectEl:e=>Kn.getById(e,Kn.getHiddenSelectId(e)),getContentEl:e=>Kn.getById(e,Kn.getContentId(e)),getControlEl:e=>Kn.getById(e,Kn.getControlId(e)),getTriggerEl:e=>Kn.getById(e,Kn.getTriggerId(e)),getClearTriggerEl:e=>Kn.getById(e,Kn.getClearTriggerId(e)),getPositionerEl:e=>Kn.getById(e,Kn.getPositionerId(e)),getHighlightedOptionEl(e){return e.highlightedValue?Kn.getById(e,Kn.getItemId(e,e.highlightedValue)):null}});At()(["closeOnSelect","collection","dir","disabled","deselectable","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open.controlled","open","composite","positioning","required","readOnly","scrollToIndexFn","value"]);At()(["item","persistFocus"]);At()(["id"]);At()(["htmlFor"]);var W$=ct("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator");W$.build();function joe(e){const t=e[0],r=e[e.length-1];return[t,r]}function Yoe(e){const[t,r]=joe(e.valuePercent);if(e.valuePercent.length===1){if(e.origin==="center"){const n=e.valuePercent[0]<50,i=n?`${e.valuePercent[0]}%`:"50%",o=n?"50%":`${100-e.valuePercent[0]}%`;return{start:i,end:o}}return{start:"0%",end:`${100-r}%`}}return{start:`${t}%`,end:`${100-r}%`}}function Koe(e){return e.isVertical?{position:"absolute",bottom:"var(--slider-range-start)",top:"var(--slider-range-end)"}:{position:"absolute",[e.isRtl?"right":"left"]:"var(--slider-range-start)",[e.isRtl?"left":"right"]:"var(--slider-range-end)"}}function Xoe(e){const{height:t=0}=e.thumbSize??{},r=KT([e.min,e.max],[-t/2,t/2]);return parseFloat(r(e.value).toFixed(2))}function qoe(e){const{width:t=0}=e.thumbSize??{};if(e.isRtl){const n=KT([e.max,e.min],[-t/2,t/2]);return-1*parseFloat(n(e.value).toFixed(2))}const r=KT([e.min,e.max],[-t/2,t/2]);return parseFloat(r(e.value).toFixed(2))}function Zoe(e,t){if(e.thumbAlignment==="center")return`${t}%`;const r=e.isVertical?Xoe(e):qoe(e);return`calc(${t}% - ${r}px)`}function $$(e){let t=Ete(e.value,e.min,e.max)*100;return Zoe(e,t)}function U$(e){let t="visible";return e.thumbAlignment==="contain"&&!e.hasMeasuredThumbSize&&(t="hidden"),t}function Qoe(e,t){const r=e.isVertical?"bottom":"insetInlineStart";return{visibility:U$(e),position:"absolute",transform:"var(--slider-thumb-transform)",[r]:`var(--slider-thumb-offset-${t})`}}function Joe(){return{touchAction:"none",userSelect:"none",WebkitUserSelect:"none",position:"relative"}}function eae(e){const t=Yoe(e);return{...e.value.reduce((n,i,o)=>{const a=$$({...e,value:i});return{...n,[`--slider-thumb-offset-${o}`]:a}},{}),"--slider-thumb-transform":e.isVertical?"translateY(50%)":e.isRtl?"translateX(50%)":"translateX(-50%)","--slider-range-start":t.start,"--slider-range-end":t.end}}function tae(e,t){return{visibility:U$(e),position:"absolute",pointerEvents:"none",[e.isHorizontal?"insetInlineStart":"bottom"]:$$({...e,value:t}),translate:"var(--tx) var(--ty)","--tx":e.isHorizontal?e.isRtl?"50%":"-50%":"0%","--ty":e.isHorizontal?"0%":"50%"}}function rae(){return{userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none",position:"relative"}}var nae={getRootStyle:eae,getControlStyle:Joe,getThumbStyle:Qoe,getRangeStyle:Koe,getMarkerStyle:tae,getMarkerGroupStyle:rae},Xn=Cr({...nae,getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`slider:${e.id}`},getThumbId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.thumb)==null?void 0:n.call(r,t))??`slider:${e.id}:thumb:${t}`},getHiddenInputId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.hiddenInput)==null?void 0:n.call(r,t))??`slider:${e.id}:input:${t}`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`slider:${e.id}:control`},getTrackId:e=>{var t;return((t=e.ids)==null?void 0:t.track)??`slider:${e.id}:track`},getRangeId:e=>{var t;return((t=e.ids)==null?void 0:t.range)??`slider:${e.id}:range`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`slider:${e.id}:label`},getValueTextId:e=>{var t;return((t=e.ids)==null?void 0:t.valueText)??`slider:${e.id}:value-text`},getMarkerId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.marker)==null?void 0:n.call(r,t))??`slider:${e.id}:marker:${t}`},getRootEl:e=>Xn.getById(e,Xn.getRootId(e)),getThumbEl:(e,t)=>Xn.getById(e,Xn.getThumbId(e,t)),getHiddenInputEl:(e,t)=>Xn.getById(e,Xn.getHiddenInputId(e,t)),getControlEl:e=>Xn.getById(e,Xn.getControlId(e)),getElements:e=>ls(Xn.getControlEl(e),"[role=slider]"),getFirstEl:e=>Xn.getElements(e)[0],getRangeEl:e=>Xn.getById(e,Xn.getRangeId(e)),getValueFromPoint(e,t){const r=Xn.getControlEl(e);if(!r)return;const i=VT(t,r).getPercentValue({orientation:e.orientation,dir:e.dir,inverted:{y:!0}});return Mte(i,e.min,e.max,e.step)},dispatchChangeEvent(e){Array.from(e.value).forEach((r,n)=>{const i=Xn.getHiddenInputEl(e,n);i&&s4(i,{value:r})})}});At()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value"]);At()(["index","name"]);var j$=ct("switch").parts("root","label","control","thumb");j$.build();var Uy=Cr({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`switch:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`switch:${e.id}:label`},getThumbId:e=>{var t;return((t=e.ids)==null?void 0:t.thumb)??`switch:${e.id}:thumb`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`switch:${e.id}:control`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`switch:${e.id}:input`},getRootEl:e=>Uy.getById(e,Uy.getRootId(e)),getHiddenInputEl:e=>Uy.getById(e,Uy.getHiddenInputId(e))});At()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const[Y$,K$]=Qv({name:"AvatarContext",hookName:"useAvatarContext",providerName:"<AvatarProvider />"}),X$=O.forwardRef((e,t)=>{const r=K$(),n=en(r.getFallbackProps(),e);return J.jsx(si.span,{...n,ref:t})});X$.displayName="AvatarFallback";const q$=O.forwardRef((e,t)=>{const r=K$(),n=en(r.getImageProps(),e);return J.jsx(si.img,{...n,ref:t})});q$.displayName="AvatarImage";var Z$=ct("avatar").parts("root","image","fallback"),N1=Z$.build(),pa=Cr({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`avatar:${e.id}`},getImageId:e=>{var t;return((t=e.ids)==null?void 0:t.image)??`avatar:${e.id}:image`},getFallbackId:e=>{var t;return((t=e.ids)==null?void 0:t.fallback)??`avatar:${e.id}:fallback`},getRootEl:e=>pa.getById(e,pa.getRootId(e)),getImageEl:e=>pa.getById(e,pa.getImageId(e))});function iae(e,t,r){const n=e.matches("loaded");return{loaded:n,setSrc(i){t({type:"SRC.SET",src:i})},setLoaded(){t({type:"IMG.LOADED",src:"api"})},setError(){t({type:"IMG.ERROR",src:"api"})},getRootProps(){return r.element({...N1.root.attrs,dir:e.context.dir,id:pa.getRootId(e.context)})},getImageProps(){return r.img({...N1.image.attrs,hidden:!n,dir:e.context.dir,id:pa.getImageId(e.context),"data-state":n?"visible":"hidden",onLoad(){t({type:"IMG.LOADED",src:"element"})},onError(){t({type:"IMG.ERROR",src:"element"})}})},getFallbackProps(){return r.element({...N1.fallback.attrs,dir:e.context.dir,id:pa.getFallbackId(e.context),hidden:n,"data-state":n?"hidden":"visible"})}}}function oae(e){const t=Tc(e);return jA({id:"avatar",initial:"loading",activities:["trackImageRemoval"],context:t,on:{"SRC.CHANGE":{target:"loading"},"IMG.UNMOUNT":{target:"error"}},states:{loading:{activities:["trackSrcChange"],entry:["checkImageStatus"],on:{"IMG.LOADED":{target:"loaded",actions:["invokeOnLoad"]},"IMG.ERROR":{target:"error",actions:["invokeOnError"]}}},error:{activities:["trackSrcChange"],on:{"IMG.LOADED":{target:"loaded",actions:["invokeOnLoad"]}}},loaded:{activities:["trackSrcChange"],on:{"IMG.ERROR":{target:"error",actions:["invokeOnError"]}}}}},{activities:{trackSrcChange(r,n,{send:i}){const o=pa.getImageEl(r);return Fee(o,{attributes:["src","srcset"],callback(){i({type:"SRC.CHANGE"})}})},trackImageRemoval(r,n,{send:i}){const o=pa.getRootEl(r);return Oee(o,{callback(a){Array.from(a[0].removedNodes).find(u=>u.nodeType===Node.ELEMENT_NODE&&u.matches("[data-scope=avatar][data-part=image]"))&&i({type:"IMG.UNMOUNT"})}})}},actions:{invokeOnLoad(r){var n;(n=r.onStatusChange)==null||n.call(r,{status:"loaded"})},invokeOnError(r){var n;(n=r.onStatusChange)==null||n.call(r,{status:"error"})},checkImageStatus(r,n,{send:i}){const o=pa.getImageEl(r);if(o!=null&&o.complete){const a=aae(o)?"IMG.LOADED":"IMG.ERROR";i({type:a,src:"ssr"})}}}})}function aae(e){return e.complete&&e.naturalWidth!==0&&e.naturalHeight!==0}At()(["dir","id","ids","onStatusChange","getRootNode"]);const sae=(e={})=>{const{getRootNode:t}=tI(),{dir:r}=d4(),n={id:O.useId(),dir:r,getRootNode:t,...e},i={...n,onStatusChange:qA(e.onStatusChange)},[o,a]=XA(oae(n),{context:i});return iae(o,a,F4)},Q$=O.forwardRef((e,t)=>{const[r,n]=YA()(e,["id","ids","onStatusChange"]),i=sae(r),o=en(i.getRootProps(),n);return J.jsx(Y$,{value:i,children:J.jsx(si.div,{...o,ref:t})})});Q$.displayName="AvatarRoot";const J$=O.forwardRef((e,t)=>{const[{value:r},n]=YA()(e,["value"]),i=en(r.getRootProps(),n);return J.jsx(Y$,{value:r,children:J.jsx(si.div,{...i,ref:t})})});J$.displayName="AvatarRootProvider";var e6=ct("checkbox").parts("root","label","control","indicator");e6.build();var jy=Cr({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`checkbox:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`checkbox:${e.id}:label`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`checkbox:${e.id}:control`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`checkbox:${e.id}:input`},getRootEl:e=>jy.getById(e,jy.getRootId(e)),getHiddenInputEl:e=>jy.getById(e,jy.getHiddenInputId(e))});At()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const lae=e6.extendWith("group"),uae=S$.extendWith("view");var t6=ct("hoverCard").parts("arrow","arrowTip","trigger","positioner","content");t6.build();var Fd=Cr({getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`hover-card:${e.id}:trigger`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`hover-card:${e.id}:content`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`hover-card:${e.id}:popper`},getArrowId:e=>{var t;return((t=e.ids)==null?void 0:t.arrow)??`hover-card:${e.id}:arrow`},getTriggerEl:e=>Fd.getById(e,Fd.getTriggerId(e)),getContentEl:e=>Fd.getById(e,Fd.getContentId(e)),getPositionerEl:e=>Fd.getById(e,Fd.getPositionerId(e))});At()(["closeDelay","dir","getRootNode","id","ids","onOpenChange","open.controlled","open","openDelay","positioning"]);var r6=ct("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber");r6.build();var Vr=Cr({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`number-input:${e.id}`},getInputId:e=>{var t;return((t=e.ids)==null?void 0:t.input)??`number-input:${e.id}:input`},getIncrementTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.incrementTrigger)??`number-input:${e.id}:inc`},getDecrementTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.decrementTrigger)??`number-input:${e.id}:dec`},getScrubberId:e=>{var t;return((t=e.ids)==null?void 0:t.scrubber)??`number-input:${e.id}:scrubber`},getCursorId:e=>`number-input:${e.id}:cursor`,getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`number-input:${e.id}:label`},getInputEl:e=>Vr.getById(e,Vr.getInputId(e)),getIncrementTriggerEl:e=>Vr.getById(e,Vr.getIncrementTriggerId(e)),getDecrementTriggerEl:e=>Vr.getById(e,Vr.getDecrementTriggerId(e)),getScrubberEl:e=>Vr.getById(e,Vr.getScrubberId(e)),getCursorEl:e=>Vr.getDoc(e).getElementById(Vr.getCursorId(e)),getPressedTriggerEl:(e,t=e.hint)=>{let r=null;return t==="increment"&&(r=Vr.getIncrementTriggerEl(e)),t==="decrement"&&(r=Vr.getDecrementTriggerEl(e)),r},setupVirtualCursor(e){if(!o4())return Vr.createVirtualCursor(e),()=>{var t;(t=Vr.getCursorEl(e))==null||t.remove()}},preventTextSelection(e){const t=Vr.getDoc(e),r=t.documentElement,n=t.body;return n.style.pointerEvents="none",r.style.userSelect="none",r.style.cursor="ew-resize",()=>{n.style.pointerEvents="",r.style.userSelect="",r.style.cursor="",r.style.length||r.removeAttribute("style"),n.style.length||n.removeAttribute("style")}},getMousemoveValue(e,t){const r=Vr.getWin(e),n=I1(t.movementX,r.devicePixelRatio),i=I1(t.movementY,r.devicePixelRatio);let o=n>0?"increment":n<0?"decrement":null;e.isRtl&&o==="increment"&&(o="decrement"),e.isRtl&&o==="decrement"&&(o="increment");const a={x:e.scrubberCursorPoint.x+n,y:e.scrubberCursorPoint.y+i},s=r.innerWidth,l=I1(7.5,r.devicePixelRatio);return a.x=Dte(a.x+l,s)-l,{hint:o,point:a}},createVirtualCursor(e){const t=Vr.getDoc(e),r=t.createElement("div");r.className="scrubber--cursor",r.id=Vr.getCursorId(e),Object.assign(r.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:oee,transform:e.scrubberCursorPoint?`translate3d(${e.scrubberCursorPoint.x}px, ${e.scrubberCursorPoint.y}px, 0px)`:void 0,willChange:"transform"}),r.innerHTML=`
        <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
          <g transform="translate(2 3)">
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
          </g>
        </svg>`,t.body.appendChild(r)}}),n6=ct("pinInput").parts("root","label","input","control");n6.build();var Qo=Cr({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`pin-input:${e.id}`},getInputId:(e,t)=>{var r,n;return((n=(r=e.ids)==null?void 0:r.input)==null?void 0:n.call(r,t))??`pin-input:${e.id}:${t}`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`pin-input:${e.id}:hidden`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`pin-input:${e.id}:label`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`pin-input:${e.id}:control`},getRootEl:e=>Qo.getById(e,Qo.getRootId(e)),getInputEls:e=>{const r=`input[data-ownedby=${CSS.escape(Qo.getRootId(e))}]`;return ls(Qo.getRootEl(e),r)},getInputEl:(e,t)=>Qo.getById(e,Qo.getInputId(e,t)),getFocusedInputEl:e=>Qo.getInputEls(e)[e.focusedIndex],getFirstInputEl:e=>Qo.getInputEls(e)[0],getHiddenInputEl:e=>Qo.getById(e,Qo.getHiddenInputId(e))}),dI=ct("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange");dI.build();Cr({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`progress-${e.id}`},getTrackId:e=>{var t;return((t=e.ids)==null?void 0:t.track)??`progress-${e.id}-track`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`progress-${e.id}-label`},getCircleId:e=>{var t;return((t=e.ids)==null?void 0:t.circle)??`progress-${e.id}-circle`}});At()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange"]);var i6=ct("qr-code").parts("root","frame","pattern","overlay","downloadTrigger");i6.build();var w2=Cr({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`qrcode:${e.id}:root`},getFrameId:e=>{var t;return((t=e.ids)==null?void 0:t.frame)??`qrcode:${e.id}:frame`},getFrameEl:e=>w2.getById(e,w2.getFrameId(e))});At()(["ids","value","id","encoding","dir","getRootNode","onValueChange"]);const o6=cI.rename("segment-group");o6.build();var a6=ct("tooltip").parts("trigger","arrow","arrowTip","positioner","content");a6.build();var nl=Cr({getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`tooltip:${e.id}:trigger`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`tooltip:${e.id}:content`},getArrowId:e=>{var t;return((t=e.ids)==null?void 0:t.arrow)??`tooltip:${e.id}:arrow`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`tooltip:${e.id}:popper`},getTriggerEl:e=>nl.getById(e,nl.getTriggerId(e)),getContentEl:e=>nl.getById(e,nl.getContentId(e)),getPositionerEl:e=>nl.getById(e,nl.getPositionerId(e)),getArrowEl:e=>nl.getById(e,nl.getArrowId(e))});Sb({id:null,prevId:null,setId(e){this.prevId=this.id,this.id=e}});At()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","open.controlled","open","openDelay","positioning"]);const cae=c$.extendWith("itemBody"),dae=ct("action-bar").parts("positioner","content","separator","selectionTrigger","closeTrigger"),hae=ct("alert").parts("title","description","root","indicator","content"),fae=ct("breadcrumb").parts("link","currentLink","item","list","root","ellipsis","separator"),pae=ct("blockquote").parts("root","icon","content","caption"),gae=ct("card").parts("root","header","body","footer","title","description"),vae=ct("checkbox-card",["root","control","label","description","addon","indicator","content"]),mae=ct("data-list").parts("root","item","itemLabel","itemValue"),yae=uI.extendWith("header","body","footer","backdrop"),Cae=uI.extendWith("header","body","footer","backdrop"),wae=R$.extendWith("textarea"),bae=ct("empty-state",["root","content","indicator","title","description"]),Sae=_$.extendWith("requiredIndicator"),xae=T$.extendWith("content"),Rae=P$.extendWith("itemContent","dropzoneContent"),_ae=ct("list").parts("root","item","indicator"),Tae=D$.extendWith("itemCommand"),Pae=ct("select").parts("root","field","indicator"),Dae=z$.extendWith("header","body","footer"),s6=cI.extendWith("itemAddon","itemIndicator"),Aae=s6.extendWith("itemContent","itemDescription"),Iae=G$.extendWith("itemIndicator"),Eae=H$.extendWith("indicatorGroup"),Mae=W$.extendWith("markerIndicator"),kae=ct("stat").parts("root","label","helpText","valueText","valueUnit","indicator"),Fae=ct("status").parts("root","indicator"),Lae=ct("steps",["root","list","item","trigger","indicator","separator","content","title","description","nextTrigger","prevTrigger","progress"]),Oae=j$.extendWith("indicator"),Nae=ct("table").parts("root","header","body","row","columnHeader","cell","footer","caption"),zae=ct("toast").parts("root","title","description","indicator","closeTrigger","actionTrigger"),Bae=ct("tabs").parts("root","trigger","list","content","contentGroup","indicator"),Vae=ct("tag").parts("root","label","closeTrigger","startElement","endElement"),Gae=ct("timeline").parts("root","item","content","separator","indicator","connector","title","description"),Hae=lt({className:"chakra-accordion",slots:cae.keys(),base:{root:{width:"full","--accordion-radius":"radii.l2"},item:{overflowAnchor:"none"},itemTrigger:{display:"flex",alignItems:"center",width:"full",outline:"0",gap:"3",fontWeight:"medium",borderRadius:"var(--accordion-radius)",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{layerStyle:"disabled"}},itemBody:{pt:"var(--accordion-padding-y)",pb:"calc(var(--accordion-padding-y) * 2)"},itemContent:{overflow:"hidden",borderRadius:"var(--accordion-radius)",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}},itemIndicator:{transition:"rotate 0.2s",transformOrigin:"center",color:"fg.subtle",_open:{rotate:"180deg"},_icon:{width:"1.2em",height:"1.2em"}}},variants:{variant:{outline:{item:{borderBottomWidth:"1px"}},subtle:{itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{borderRadius:"var(--accordion-radius)",_open:{bg:"colorPalette.subtle"}}},enclosed:{root:{borderWidth:"1px",borderRadius:"var(--accordion-radius)",divideY:"1px",overflow:"hidden"},itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{_open:{bg:"bg.subtle"}}},plain:{}},size:{sm:{root:{"--accordion-padding-x":"spacing.3","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"sm",py:"var(--accordion-padding-y)"}},md:{root:{"--accordion-padding-x":"spacing.4","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"md",py:"var(--accordion-padding-y)"}},lg:{root:{"--accordion-padding-x":"spacing.4.5","--accordion-padding-y":"spacing.2.5"},itemTrigger:{textStyle:"lg",py:"var(--accordion-padding-y)"}}}},defaultVariants:{size:"md",variant:"outline"}}),Wae=lt({className:"chakra-action-bar",slots:dae.keys(),base:{positioner:{position:"fixed",display:"flex",justifyContent:"center",pointerEvents:"none",insetInline:"0",top:"unset",bottom:"calc(env(safe-area-inset-bottom) + 20px)"},content:{bg:"bg.panel",shadow:"md",display:"flex",alignItems:"center",gap:"3",borderRadius:"l3",py:"2.5",px:"3",pointerEvents:"auto",translate:"calc(-1 * var(--scrollbar-width) / 2) 0px",_open:{animationName:"slide-from-bottom, fade-in",animationDuration:"moderate"},_closed:{animationName:"slide-to-bottom, fade-out",animationDuration:"faster"}},separator:{width:"1px",height:"5",bg:"border"},selectionTrigger:{display:"inline-flex",alignItems:"center",gap:"2",alignSelf:"stretch",textStyle:"sm",px:"4",py:"1",borderRadius:"l2",borderWidth:"1px",borderStyle:"dashed"}}}),$ae=lt({slots:hae.keys(),className:"chakra-alert",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",borderRadius:"l3"},title:{fontWeight:"medium"},description:{display:"inline"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",width:"1em",height:"1em",_icon:{boxSize:"full"}},content:{display:"flex",flex:"1",gap:"1"}},variants:{status:{info:{root:{colorPalette:"blue"}},warning:{root:{colorPalette:"orange"}},success:{root:{colorPalette:"green"}},error:{root:{colorPalette:"red"}},neutral:{root:{colorPalette:"gray"}}},inline:{true:{content:{display:"inline-flex",flexDirection:"row",alignItems:"center"}},false:{content:{display:"flex",flexDirection:"column"}}},variant:{subtle:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg"}},surface:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"},indicator:{color:"colorPalette.contrast"}}},size:{sm:{root:{gap:"2",px:"3",py:"3",textStyle:"xs"},indicator:{textStyle:"lg"}},md:{root:{gap:"3",px:"4",py:"4",textStyle:"sm"},indicator:{textStyle:"xl"}},lg:{root:{gap:"3",px:"4",py:"4",textStyle:"md"},indicator:{textStyle:"2xl"}}}},defaultVariants:{status:"info",variant:"subtle",size:"md",inline:!1}}),Uae=lt({slots:Z$.keys(),className:"chakra-avatar",base:{root:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:"medium",position:"relative",verticalAlign:"top",flexShrink:"0",userSelect:"none",width:"var(--avatar-size)",height:"var(--avatar-size)",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)","&[data-group-item]":{borderWidth:"2px",borderColor:"bg"}},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"var(--avatar-radius)"},fallback:{lineHeight:"1",textTransform:"uppercase",fontWeight:"medium",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)"}},variants:{size:{full:{root:{"--avatar-size":"100%","--avatar-font-size":"100%"}},"2xs":{root:{"--avatar-font-size":"fontSizes.2xs","--avatar-size":"sizes.6"}},xs:{root:{"--avatar-font-size":"fontSizes.xs","--avatar-size":"sizes.8"}},sm:{root:{"--avatar-font-size":"fontSizes.sm","--avatar-size":"sizes.9"}},md:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.10"}},lg:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.11"}},xl:{root:{"--avatar-font-size":"fontSizes.lg","--avatar-size":"sizes.12"}},"2xl":{root:{"--avatar-font-size":"fontSizes.xl","--avatar-size":"sizes.16"}}},variant:{solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},subtle:{root:{bg:"colorPalette.muted",color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",borderWidth:"1px",borderColor:"colorPalette.muted"}}},shape:{square:{},rounded:{root:{"--avatar-radius":"radii.l3"}},full:{root:{"--avatar-radius":"radii.full"}}},borderless:{true:{root:{"&[data-group-item]":{borderWidth:"0px"}}}}},defaultVariants:{size:"md",shape:"full",variant:"subtle"}}),jae=lt({className:"chakra-blockquote",slots:pae.keys(),base:{root:{position:"relative",display:"flex",flexDirection:"column",gap:"2"},caption:{textStyle:"sm",color:"fg.muted"},icon:{boxSize:"5"}},variants:{justify:{start:{root:{alignItems:"flex-start",textAlign:"start"}},center:{root:{alignItems:"center",textAlign:"center"}},end:{root:{alignItems:"flex-end",textAlign:"end"}}},variant:{subtle:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.muted"},icon:{color:"colorPalette.fg"}},solid:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.solid"},icon:{color:"colorPalette.solid"}},plain:{root:{paddingX:"5"},icon:{color:"colorPalette.solid"}}}},defaultVariants:{variant:"subtle",justify:"start"}}),Yae=lt({className:"chakra-breadcrumb",slots:fae.keys(),base:{list:{display:"flex",alignItems:"center",wordBreak:"break-word",color:"fg.muted"},link:{outline:"0",textDecoration:"none",borderRadius:"l1",focusRing:"outside",display:"inline-flex",alignItems:"center",gap:"2"},item:{display:"inline-flex",alignItems:"center"},separator:{color:"fg.muted",opacity:"0.8",_icon:{boxSize:"1em"}},ellipsis:{display:"inline-flex",alignItems:"center",justifyContent:"center",_icon:{boxSize:"1em"}}},variants:{variant:{underline:{link:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"0.2em",textDecorationColor:"colorPalette.muted"},currentLink:{color:"colorPalette.fg"}},plain:{link:{color:"fg.muted",_hover:{color:"fg"}},currentLink:{color:"fg"}}},size:{sm:{list:{gap:"1",textStyle:"xs"}},md:{list:{gap:"1.5",textStyle:"sm"}},lg:{list:{gap:"2",textStyle:"md"}}}},defaultVariants:{variant:"plain",size:"md"}}),Kae=lt({className:"chakra-card",slots:gae.keys(),base:{root:{display:"flex",flexDirection:"column",position:"relative",minWidth:"0",wordWrap:"break-word",borderRadius:"l3",color:"fg",textAlign:"start"},title:{fontWeight:"semibold"},description:{color:"fg.muted",fontSize:"sm"},header:{paddingInline:"var(--card-padding)",paddingTop:"var(--card-padding)",display:"flex",flexDirection:"column",gap:"1.5"},body:{padding:"var(--card-padding)",flex:"1",display:"flex",flexDirection:"column"},footer:{display:"flex",alignItems:"center",gap:"2",paddingInline:"var(--card-padding)",paddingBottom:"var(--card-padding)"}},variants:{size:{sm:{root:{"--card-padding":"spacing.4"},title:{textStyle:"md"}},md:{root:{"--card-padding":"spacing.6"},title:{textStyle:"lg"}},lg:{root:{"--card-padding":"spacing.7"},title:{textStyle:"xl"}}},variant:{elevated:{root:{bg:"bg.panel",boxShadow:"md"}},outline:{root:{bg:"bg.panel",borderWidth:"1px",borderColor:"border"}},subtle:{root:{bg:"bg.muted"}}}},defaultVariants:{variant:"outline",size:"md"}});var A5,I5,E5,M5,k5,F5,L5,O5,N5,z5,B5,V5,G5,H5;const Xae=lt({slots:lae.keys(),className:"chakra-checkbox",base:{root:{display:"inline-flex",gap:"2",alignItems:"center",verticalAlign:"top",position:"relative"},control:jr.base,label:{fontWeight:"medium",userSelect:"none",_disabled:{opacity:"0.5"}}},variants:{size:{xs:{root:{gap:"1.5"},label:{textStyle:"xs"},control:(I5=(A5=jr.variants)==null?void 0:A5.size)==null?void 0:I5.xs},sm:{root:{gap:"2"},label:{textStyle:"sm"},control:(M5=(E5=jr.variants)==null?void 0:E5.size)==null?void 0:M5.sm},md:{root:{gap:"2.5"},label:{textStyle:"sm"},control:(F5=(k5=jr.variants)==null?void 0:k5.size)==null?void 0:F5.md},lg:{root:{gap:"3"},label:{textStyle:"md"},control:(O5=(L5=jr.variants)==null?void 0:L5.size)==null?void 0:O5.lg}},variant:{outline:{control:(z5=(N5=jr.variants)==null?void 0:N5.variant)==null?void 0:z5.outline},solid:{control:(V5=(B5=jr.variants)==null?void 0:B5.variant)==null?void 0:V5.solid},subtle:{control:(H5=(G5=jr.variants)==null?void 0:G5.variant)==null?void 0:H5.subtle}}},defaultVariants:{variant:"solid",size:"md"}});var W5,$5,U5,j5,Y5,K5,X5;const qae=lt({slots:vae.keys(),className:"chakra-checkbox-card",base:{root:{display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",flex:"1",focusVisibleRing:"outside",_disabled:{opacity:"0.8",borderColor:"border.subtle"},_invalid:{outline:"2px solid",outlineColor:"border.error"}},control:{display:"inline-flex",flex:"1",position:"relative",borderRadius:"inherit",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"},label:{fontWeight:"medium",display:"flex",alignItems:"center",gap:"2",_disabled:{opacity:"0.5"}},description:{opacity:"0.64",textStyle:"sm"},addon:{_disabled:{opacity:"0.5"}},indicator:jr.base,content:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"}},variants:{size:{sm:{root:{textStyle:"sm"},control:{padding:"3",gap:"1.5"},addon:{px:"3",py:"1.5",borderTopWidth:"1px"},indicator:(W5=jr.variants)==null?void 0:W5.size.sm},md:{root:{textStyle:"sm"},control:{padding:"4",gap:"2.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:($5=jr.variants)==null?void 0:$5.size.md},lg:{root:{textStyle:"md"},control:{padding:"4",gap:"3.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(U5=jr.variants)==null?void 0:U5.size.lg}},variant:{surface:{root:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"},_disabled:{bg:"bg.muted"}},indicator:(j5=jr.variants)==null?void 0:j5.variant.solid},subtle:{root:{bg:"bg.muted"},control:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},indicator:(Y5=jr.variants)==null?void 0:Y5.variant.plain},outline:{root:{borderWidth:"1px",borderColor:"border",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},indicator:(K5=jr.variants)==null?void 0:K5.variant.solid},solid:{root:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},indicator:(X5=jr.variants)==null?void 0:X5.variant.inverted}},justify:{start:{root:{"--checkbox-card-justify":"flex-start"}},end:{root:{"--checkbox-card-justify":"flex-end"}},center:{root:{"--checkbox-card-justify":"center"}}},align:{start:{root:{"--checkbox-card-align":"flex-start"},content:{textAlign:"start"}},end:{root:{"--checkbox-card-align":"flex-end"},content:{textAlign:"end"}},center:{root:{"--checkbox-card-align":"center"},content:{textAlign:"center"}}},orientation:{vertical:{control:{flexDirection:"column"}},horizontal:{control:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}}),Zae=lt({slots:d$.keys(),className:"chakra-collapsible",base:{content:{overflow:"hidden",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}}}});var q5,Z5,Q5,J5,e3,t3,r3,n3,i3,o3,a3,s3,l3,u3,c3,d3,h3,f3;const Qae=lt({className:"colorPicker",slots:uae.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5"},label:{color:"fg",fontWeight:"medium",textStyle:"sm"},valueText:{textAlign:"start"},control:{display:"flex",alignItems:"center",flexDirection:"row",gap:"2",position:"relative"},swatchTrigger:{display:"flex",alignItems:"center",justifyContent:"center"},trigger:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",flexShrink:"0",gap:"2",textStyle:"sm",minH:"var(--input-height)",minW:"var(--input-height)",px:"1",rounded:"l2",_disabled:{opacity:"0.5"},"--focus-color":"colors.colorPalette.focusRing","&:focus-visible":{borderColor:"var(--focus-color)",outline:"1px solid var(--focus-color)"},"&[data-fit-content]":{"--input-height":"unset",px:"0",border:"0"}},content:{display:"flex",flexDirection:"column",bg:"bg.panel",borderRadius:"l3",boxShadow:"lg",width:"64",p:"4",gap:"3",zIndex:"dropdown",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},area:{height:"180px",borderRadius:"l2",overflow:"hidden"},areaThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",focusVisibleRing:"mixed",focusRingColor:"white"},areaBackground:{height:"full"},channelSlider:{borderRadius:"l2",flex:"1"},channelSliderTrack:{height:"var(--slider-height)",borderRadius:"inherit",boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"},swatchGroup:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"2"},swatch:{...u$.base,borderRadius:"l1"},swatchIndicator:{color:"white",rounded:"full"},channelSliderThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",transform:"translate(-50%, -50%)",focusVisibleRing:"outside",focusRingOffset:"1px"},channelInput:{...br.base,"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0}},formatSelect:{textStyle:"xs",textTransform:"uppercase",borderWidth:"1px",minH:"6",focusRing:"inside",rounded:"l2"},transparencyGrid:{borderRadius:"l2"},view:{display:"flex",flexDirection:"column",gap:"2"}},variants:{size:{"2xs":{channelInput:(Z5=(q5=br.variants)==null?void 0:q5.size)==null?void 0:Z5["2xs"],swatch:{"--swatch-size":"sizes.4.5"},trigger:{"--input-height":"sizes.7"},area:{"--thumb-size":"sizes.3"},channelSlider:{"--slider-height":"sizes.3","--thumb-size":"sizes.3"}},xs:{channelInput:(J5=(Q5=br.variants)==null?void 0:Q5.size)==null?void 0:J5.xs,swatch:{"--swatch-size":"sizes.5"},trigger:{"--input-height":"sizes.8"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},sm:{channelInput:(t3=(e3=br.variants)==null?void 0:e3.size)==null?void 0:t3.sm,swatch:{"--swatch-size":"sizes.6"},trigger:{"--input-height":"sizes.9"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},md:{channelInput:(n3=(r3=br.variants)==null?void 0:r3.size)==null?void 0:n3.md,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.10"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},lg:{channelInput:(o3=(i3=br.variants)==null?void 0:i3.size)==null?void 0:o3.lg,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.11"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},xl:{channelInput:(s3=(a3=br.variants)==null?void 0:a3.size)==null?void 0:s3.xl,swatch:{"--swatch-size":"sizes.8"},trigger:{"--input-height":"sizes.12"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},"2xl":{channelInput:(u3=(l3=br.variants)==null?void 0:l3.size)==null?void 0:u3["2xl"],swatch:{"--swatch-size":"sizes.10"},trigger:{"--input-height":"sizes.16"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}}},variant:{outline:{channelInput:(d3=(c3=br.variants)==null?void 0:c3.variant)==null?void 0:d3.outline,trigger:{borderWidth:"1px"}},subtle:{channelInput:(f3=(h3=br.variants)==null?void 0:h3.variant)==null?void 0:f3.subtle,trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}}},defaultVariants:{size:"md",variant:"outline"}}),Jae=lt({slots:mae.keys(),className:"chakra-data-list",base:{itemLabel:{display:"flex",alignItems:"center",gap:"1"},itemValue:{display:"flex",minWidth:"0",flex:"1"}},variants:{orientation:{horizontal:{root:{display:"flex",flexDirection:"column"},item:{display:"inline-flex",alignItems:"center",gap:"4"},itemLabel:{minWidth:"120px"}},vertical:{root:{display:"flex",flexDirection:"column"},item:{display:"flex",flexDirection:"column",gap:"1"}}},size:{sm:{root:{gap:"3"},item:{textStyle:"xs"}},md:{root:{gap:"4"},item:{textStyle:"sm"}},lg:{root:{gap:"5"},item:{textStyle:"md"}}},variant:{subtle:{itemLabel:{color:"fg.muted"}},bold:{itemLabel:{fontWeight:"medium"},itemValue:{color:"fg.muted"}}}},defaultVariants:{size:"md",orientation:"vertical",variant:"subtle"}}),ese=lt({slots:yae.keys(),className:"chakra-dialog",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",left:0,top:0,w:"100vw",h:"100dvh",zIndex:"modal",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",left:0,top:0,"--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",justifyContent:"center",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,borderRadius:"l3",textStyle:"sm",my:"var(--dialog-margin, var(--dialog-base-margin))","--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"moderate"},_closed:{animationDuration:"faster"}},header:{flex:0,px:"6",pt:"6",pb:"4"},body:{flex:"1",px:"6",pt:"2",pb:"6"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"}},variants:{placement:{center:{positioner:{alignItems:"center"},content:{"--dialog-base-margin":"auto",mx:"auto"}},top:{positioner:{alignItems:"flex-start"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}},bottom:{positioner:{alignItems:"flex-end"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}}},scrollBehavior:{inside:{positioner:{overflow:"hidden"},content:{maxH:"calc(100% - 7.5rem)"},body:{overflow:"auto"}},outside:{positioner:{overflow:"auto",pointerEvents:"auto"}}},size:{xs:{content:{maxW:"sm"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},cover:{positioner:{padding:"10"},content:{width:"100%",height:"100%","--dialog-margin":"0"}},full:{content:{maxW:"100vw",minH:"100vh","--dialog-margin":"0",borderRadius:"0"}}},motionPreset:{scale:{content:{_open:{animationName:"scale-in, fade-in"},_closed:{animationName:"scale-out, fade-out"}}},"slide-in-bottom":{content:{_open:{animationName:"slide-from-bottom, fade-in"},_closed:{animationName:"slide-to-bottom, fade-out"}}},"slide-in-top":{content:{_open:{animationName:"slide-from-top, fade-in"},_closed:{animationName:"slide-to-top, fade-out"}}},"slide-in-left":{content:{_open:{animationName:"slide-from-left, fade-in"},_closed:{animationName:"slide-to-left, fade-out"}}},"slide-in-right":{content:{_open:{animationName:"slide-from-right, fade-in"},_closed:{animationName:"slide-to-right, fade-out"}}},none:{}}},defaultVariants:{size:"md",scrollBehavior:"outside",placement:"top",motionPreset:"scale"}}),tse=lt({slots:Cae.keys(),className:"chakra-drawer",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",insetInlineStart:0,top:0,w:"100vw",h:"100dvh",zIndex:"modal",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",insetInlineStart:0,top:0,zIndex:"modal",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,zIndex:"modal",textStyle:"sm",maxH:"100dvh",color:"inherit",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"slowest",animationTimingFunction:"ease-in-smooth"},_closed:{animationDuration:"slower",animationTimingFunction:"ease-in-smooth"}},header:{flex:0,px:"6",pt:"6",pb:"4"},body:{px:"6",py:"2",flex:"1",overflow:"auto"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"}},variants:{size:{xs:{content:{maxW:"xs"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},full:{content:{maxW:"100vw",h:"100dvh"}}},placement:{start:{positioner:{justifyContent:"flex-start"},content:{_open:{animationName:{base:"slide-from-left-full, fade-in",_rtl:"slide-from-right-full, fade-in"}},_closed:{animationName:{base:"slide-to-left-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},end:{positioner:{justifyContent:"flex-end"},content:{_open:{animationName:{base:"slide-from-right-full, fade-in",_rtl:"slide-from-left-full, fade-in"}},_closed:{animationName:{base:"slide-to-right-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},top:{positioner:{alignItems:"flex-start"},content:{maxW:"100%",_open:{animationName:"slide-from-top-full, fade-in"},_closed:{animationName:"slide-to-top-full, fade-out"}}},bottom:{positioner:{alignItems:"flex-end"},content:{maxW:"100%",_open:{animationName:"slide-from-bottom-full, fade-in"},_closed:{animationName:"slide-to-bottom-full, fade-out"}}}},contained:{true:{positioner:{padding:"4"},content:{borderRadius:"l3"}}}},defaultVariants:{size:"xs",placement:"end"}}),b2=z4({fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent",borderRadius:"l2"}),rse=lt({slots:wae.keys(),className:"chakra-editable",base:{root:{display:"inline-flex",alignItems:"center",position:"relative",gap:"1.5",width:"full"},preview:{...b2,py:"1",px:"1",display:"inline-flex",alignItems:"center",transitionProperty:"common",transitionDuration:"normal",cursor:"text",_hover:{bg:"bg.muted"},_disabled:{userSelect:"none"}},input:{...b2,outline:"0",py:"1",px:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",focusVisibleRing:"inside",focusRingWidth:"2px",_placeholder:{opacity:.6}},control:{display:"inline-flex",alignItems:"center",gap:"1.5"}},variants:{size:{sm:{root:{textStyle:"sm"},preview:{minH:"8"},input:{minH:"8"}},md:{root:{textStyle:"sm"},preview:{minH:"9"},input:{minH:"9"}},lg:{root:{textStyle:"md"},preview:{minH:"10"},input:{minH:"10"}}}},defaultVariants:{size:"md"}}),nse=lt({slots:bae.keys(),className:"chakra-empty-state",base:{root:{width:"full"},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:"fg.subtle",_icon:{boxSize:"1em"}},title:{fontWeight:"semibold"},description:{textStyle:"sm",color:"fg.muted"}},variants:{size:{sm:{root:{px:"4",py:"6"},title:{textStyle:"md"},content:{gap:"4"},indicator:{textStyle:"2xl"}},md:{root:{px:"8",py:"12"},title:{textStyle:"lg"},content:{gap:"6"},indicator:{textStyle:"4xl"}},lg:{root:{px:"12",py:"16"},title:{textStyle:"xl"},content:{gap:"8"},indicator:{textStyle:"6xl"}}}},defaultVariants:{size:"md"}}),ise=lt({className:"chakra-field",slots:Sae.keys(),base:{requiredIndicator:{color:"fg.error",lineHeight:"1"},root:{display:"flex",width:"100%",position:"relative",gap:"1.5"},label:{display:"flex",alignItems:"center",textAlign:"start",textStyle:"sm",fontWeight:"medium",gap:"1",userSelect:"none",_disabled:{opacity:"0.5"}},errorText:{display:"inline-flex",alignItems:"center",fontWeight:"medium",gap:"1",color:"fg.error",textStyle:"xs"},helperText:{color:"fg.muted",textStyle:"xs"}},variants:{orientation:{vertical:{root:{flexDirection:"column",alignItems:"flex-start"}},horizontal:{root:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},label:{flex:"0 0 var(--field-label-width, 80px)"}}}},defaultVariants:{orientation:"vertical"}}),ose=lt({className:"fieldset",slots:xae.keys(),base:{root:{display:"flex",flexDirection:"column",width:"full"},content:{display:"flex",flexDirection:"column",width:"full"},legend:{color:"fg",fontWeight:"medium",_disabled:{opacity:"0.5"}},helperText:{color:"fg.muted",textStyle:"sm"},errorText:{display:"inline-flex",alignItems:"center",color:"fg.error",gap:"2",fontWeight:"medium",textStyle:"sm"}},variants:{size:{sm:{root:{spaceY:"2"},content:{gap:"1.5"},legend:{textStyle:"sm"}},md:{root:{spaceY:"4"},content:{gap:"4"},legend:{textStyle:"sm"}},lg:{root:{spaceY:"6"},content:{gap:"4"},legend:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),ase=lt({className:"chakra-file-upload",slots:Rae.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"4",width:"100%",alignItems:"flex-start"},label:{fontWeight:"medium",textStyle:"sm"},dropzone:{background:"bg",borderRadius:"l3",borderWidth:"2px",borderStyle:"dashed",display:"flex",alignItems:"center",flexDirection:"column",gap:"4",justifyContent:"center",minHeight:"2xs",px:"3",py:"2",transition:"backgrounds",focusVisibleRing:"outside",_hover:{bg:"bg.subtle"},_dragging:{bg:"colorPalette.subtle",borderStyle:"solid",borderColor:"colorPalette.solid"}},dropzoneContent:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"1",textStyle:"sm"},item:{textStyle:"sm",animationName:"fade-in",animationDuration:"moderate",background:"bg",borderRadius:"l2",borderWidth:"1px",width:"100%",display:"flex",alignItems:"center",gap:"3",p:"4"},itemGroup:{width:"100%",display:"flex",flexDirection:"column",gap:"3"},itemName:{color:"fg",fontWeight:"medium",lineClamp:"1"},itemContent:{display:"flex",flexDirection:"column",gap:"0.5",flex:"1"},itemSizeText:{color:"fg.muted",textStyle:"xs"},itemDeleteTrigger:{alignSelf:"flex-start"},itemPreviewImage:{width:"10",height:"10",objectFit:"scale-down"}},defaultVariants:{}}),sse=lt({className:"chakra-hover-card",slots:t6.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--hovercard-bg":"colors.bg.panel",bg:"var(--hovercard-bg)",boxShadow:"lg",maxWidth:"80",borderRadius:"l3",zIndex:"popover",transformOrigin:"var(--transform-origin)",outline:"0",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--hovercard-bg)"},arrowTip:{borderTopWidth:"0.5px",borderInlineStartWidth:"0.5px"}},variants:{size:{xs:{content:{padding:"3"}},sm:{content:{padding:"4"}},md:{content:{padding:"5"}},lg:{content:{padding:"6"}}}},defaultVariants:{size:"md"}}),lse=lt({className:"chakra-list",slots:_ae.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"var(--list-gap)","& :where(ul, ol)":{marginTop:"var(--list-gap)"}},item:{whiteSpace:"normal",display:"list-item"},indicator:{marginEnd:"2",minHeight:"1lh",flexShrink:0,display:"inline-block",verticalAlign:"middle"}},variants:{variant:{marker:{root:{listStyle:"revert"},item:{_marker:{color:"fg.subtle"}}},plain:{item:{alignItems:"flex-start",display:"inline-flex"}}},align:{center:{item:{alignItems:"center"}},start:{item:{alignItems:"flex-start"}},end:{item:{alignItems:"flex-end"}}}},defaultVariants:{variant:"marker"}}),use=lt({className:"chakra-menu",slots:Tae.keys(),base:{content:{outline:0,bg:"bg.panel",boxShadow:"lg",color:"fg",maxHeight:"var(--available-height)","--menu-z-index":"zIndex.dropdown",zIndex:"calc(var(--menu-z-index) + var(--layer-index, 0))",borderRadius:"l2",overflow:"hidden",overflowY:"auto",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},item:{textDecoration:"none",color:"fg",userSelect:"none",borderRadius:"l1",width:"100%",display:"flex",cursor:"menuitem",alignItems:"center",textAlign:"start",position:"relative",flex:"0 0 auto",outline:0,_disabled:{layerStyle:"disabled"}},itemText:{flex:"1"},itemGroupLabel:{px:"2",py:"1.5",fontWeight:"semibold",textStyle:"sm"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},itemCommand:{opacity:"0.6",textStyle:"xs",ms:"auto",ps:"4",letterSpacing:"widest"},separator:{height:"1px",bg:"bg.muted",my:"1",mx:"-1"}},variants:{variant:{subtle:{item:{_highlighted:{bg:"bg.emphasized/60"}}},solid:{item:{_highlighted:{bg:"colorPalette.solid",color:"colorPalette.contrast"}}}},size:{sm:{content:{minW:"8rem",padding:"1"},item:{gap:"1",textStyle:"xs",py:"1",px:"1.5"}},md:{content:{minW:"8rem",padding:"1.5"},item:{gap:"2",textStyle:"sm",py:"1.5",px:"2"}}}},defaultVariants:{size:"md",variant:"subtle"}}),fw=lt({className:"chakra-select",slots:Eae.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},trigger:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"full",minH:"var(--select-trigger-height)",px:"var(--select-trigger-padding-x)",borderRadius:"l2",userSelect:"none",textAlign:"start",focusVisibleRing:"inside",_placeholderShown:{color:"fg.muted/80"},_disabled:{layerStyle:"disabled"},_invalid:{borderColor:"border.error"}},indicatorGroup:{display:"flex",alignItems:"center",gap:"1",pos:"absolute",right:"0",top:"0",bottom:"0",px:"var(--select-trigger-padding-x)",pointerEvents:"none"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:{base:"fg.muted",_disabled:"fg.subtle",_invalid:"fg.error"}},content:{background:"bg.panel",display:"flex",flexDirection:"column",zIndex:"dropdown",borderRadius:"l2",outline:0,maxH:"96",overflowY:"auto",boxShadow:"md",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"fastest"}},item:{position:"relative",userSelect:"none",display:"flex",alignItems:"center",gap:"2",cursor:"option",justifyContent:"space-between",flex:"1",textAlign:"start",borderRadius:"l1",_highlighted:{bg:"bg.emphasized/60"},_disabled:{pointerEvents:"none",opacity:"0.5"},_icon:{width:"4",height:"4"}},control:{pos:"relative"},itemText:{flex:"1"},itemGroup:{_first:{mt:"0"}},itemGroupLabel:{py:"1",fontWeight:"medium"},label:{fontWeight:"medium",userSelect:"none",textStyle:"sm",_disabled:{layerStyle:"disabled"}},valueText:{lineClamp:"1",maxW:"80%"}},variants:{variant:{outline:{trigger:{bg:"transparent",borderWidth:"1px",borderColor:"border",_expanded:{borderColor:"border.emphasized"}}},subtle:{trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}},size:{xs:{root:{"--select-trigger-height":"sizes.8","--select-trigger-padding-x":"spacing.2"},content:{p:"1",gap:"1",textStyle:"xs"},trigger:{textStyle:"xs",gap:"1"},item:{py:"1",px:"2"},itemGroupLabel:{py:"1",px:"2"},indicator:{_icon:{width:"3.5",height:"3.5"}}},sm:{root:{"--select-trigger-height":"sizes.9","--select-trigger-padding-x":"spacing.2.5"},content:{p:"1",textStyle:"sm"},trigger:{textStyle:"sm",gap:"1"},indicator:{_icon:{width:"4",height:"4"}},item:{py:"1",px:"1.5"},itemGroup:{mt:"1"},itemGroupLabel:{py:"1",px:"1.5"}},md:{root:{"--select-trigger-height":"sizes.10","--select-trigger-padding-x":"spacing.3"},content:{p:"1",textStyle:"sm"},itemGroup:{mt:"1.5"},item:{py:"1.5",px:"2"},itemIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},itemGroupLabel:{py:"1.5",px:"2"},trigger:{textStyle:"sm",gap:"2"},indicator:{_icon:{width:"4",height:"4"}}},lg:{root:{"--select-trigger-height":"sizes.12","--select-trigger-padding-x":"spacing.4"},content:{p:"1.5",textStyle:"md"},itemGroup:{mt:"2"},item:{py:"2",px:"3"},itemGroupLabel:{py:"2",px:"3"},trigger:{textStyle:"md",py:"3",gap:"2"},indicator:{_icon:{width:"5",height:"5"}}}}},defaultVariants:{size:"md",variant:"outline"}});var p3,g3;const cse=lt({className:"chakra-native-select",slots:Pae.keys(),base:{root:{height:"fit-content",display:"flex",width:"100%",position:"relative"},field:{width:"100%",minWidth:"0",outline:"0",appearance:"none",borderRadius:"l2","--error-color":"colors.border.error",_disabled:{layerStyle:"disabled"},_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"},focusVisibleRing:"inside",lineHeight:"normal","& > option, & > optgroup":{bg:"bg"}},indicator:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)",height:"100%",color:"fg.muted",_disabled:{opacity:"0.5"},_invalid:{color:"fg.error"},_icon:{width:"1em",height:"1em"}}},variants:{variant:{outline:{field:(p3=fw.variants)==null?void 0:p3.variant.outline.trigger},subtle:{field:(g3=fw.variants)==null?void 0:g3.variant.subtle.trigger},plain:{field:{bg:"transparent",color:"fg",focusRingWidth:"2px"}}},size:{xs:{field:{textStyle:"xs",ps:"2",pe:"6",height:"6"},indicator:{textStyle:"sm",insetEnd:"1.5"}},sm:{field:{textStyle:"sm",ps:"2.5",pe:"8",height:"8"},indicator:{textStyle:"md",insetEnd:"2"}},md:{field:{textStyle:"sm",ps:"3",pe:"8",height:"10"},indicator:{textStyle:"lg",insetEnd:"2"}},lg:{field:{textStyle:"md",ps:"4",pe:"8",height:"11"},indicator:{textStyle:"xl",insetEnd:"3"}},xl:{field:{textStyle:"md",ps:"4.5",pe:"10",height:"12"},indicator:{textStyle:"xl",insetEnd:"3"}}}},defaultVariants:fw.defaultVariants});function nP(e,t){const r={};for(const n in e){const i=t(n,e[n]);r[i[0]]=i[1]}return r}const S2=z4({display:"flex",justifyContent:"center",alignItems:"center",flex:"1",userSelect:"none",cursor:"button",lineHeight:"1",color:"fg.muted","--stepper-base-radius":"radii.l1","--stepper-radius":"calc(var(--stepper-base-radius) + 1px)",_icon:{boxSize:"1em"},_disabled:{opacity:"0.5"},_hover:{bg:"bg.muted"},_active:{bg:"bg.emphasized"}}),dse=lt({className:"chakra-number-input",slots:r6.keys(),base:{root:{position:"relative",zIndex:"0",isolation:"isolate"},input:{...br.base,verticalAlign:"top",pe:"calc(var(--stepper-width) + 0.5rem)"},control:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",width:"var(--stepper-width)",height:"calc(100% - 2px)",zIndex:"1",borderStartWidth:"1px",divideY:"1px"},incrementTrigger:{...S2,borderTopEndRadius:"var(--stepper-radius)"},decrementTrigger:{...S2,borderBottomEndRadius:"var(--stepper-radius)"},valueText:{fontWeight:"medium",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}},variants:{size:{xs:{input:br.variants.size.xs,control:{fontSize:"2xs","--stepper-width":"sizes.4"}},sm:{input:br.variants.size.sm,control:{fontSize:"xs","--stepper-width":"sizes.5"}},md:{input:br.variants.size.md,control:{fontSize:"sm","--stepper-width":"sizes.6"}},lg:{input:br.variants.size.lg,control:{fontSize:"sm","--stepper-width":"sizes.6"}}},variant:nP(br.variants.variant,(e,t)=>[e,{input:t}])},defaultVariants:{size:"md",variant:"outline"}}),{variants:x2,defaultVariants:hse}=br,fse=lt({className:"chakra-pin-input",slots:n6.keys(),base:{input:{...br.base,textAlign:"center",width:"var(--input-height)"}},variants:{size:nP(x2.size,(e,t)=>[e,{input:t}]),variant:nP(x2.variant,(e,t)=>[e,{input:t}])},defaultVariants:hse}),pse=lt({className:"chakra-popover",slots:Dae.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--popover-bg":"colors.bg.panel",bg:"var(--popover-bg)",boxShadow:"lg","--popover-size":"sizes.xs","--popover-mobile-size":"calc(100dvw - 1rem)",width:{base:"min(var(--popover-mobile-size), var(--popover-size))",sm:"var(--popover-size)"},borderRadius:"l3","--popover-z-index":"zIndex.popover",zIndex:"calc(var(--popover-z-index) + var(--layer-index, 0))",outline:"0",transformOrigin:"var(--transform-origin)",maxHeight:"var(--available-height)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"faster"}},header:{paddingInline:"var(--popover-padding)",paddingTop:"var(--popover-padding)"},body:{padding:"var(--popover-padding)",flex:"1"},footer:{display:"flex",alignItems:"center",paddingInline:"var(--popover-padding)",paddingBottom:"var(--popover-padding)"},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--popover-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px"}},variants:{size:{xs:{content:{"--popover-padding":"spacing.3"}},sm:{content:{"--popover-padding":"spacing.4"}},md:{content:{"--popover-padding":"spacing.5"}},lg:{content:{"--popover-padding":"spacing.6"}}}},defaultVariants:{size:"md"}}),gse=lt({slots:dI.keys(),className:"chakra-progress",base:{root:{textStyle:"sm",position:"relative"},track:{overflow:"hidden",position:"relative"},range:{display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"width, height",transitionDuration:"slow",height:"100%",bgColor:"var(--track-color)",_indeterminate:{"--animate-from-x":"-40%","--animate-to-x":"100%",position:"absolute",willChange:"left",minWidth:"50%",animation:"position 1s ease infinite normal none running",backgroundImage:"linear-gradient(to right, transparent 0%, var(--track-color) 50%, transparent 100%)"}},label:{display:"inline-flex",fontWeight:"medium",alignItems:"center",gap:"1"},valueText:{textStyle:"xs",lineHeight:"1",fontWeight:"medium"}},variants:{variant:{outline:{track:{shadow:"inset",bgColor:"bg.muted"},range:{bgColor:"colorPalette.solid"}},subtle:{track:{bgColor:"colorPalette.muted"},range:{bgColor:"colorPalette.solid/72"}}},shape:{square:{},rounded:{track:{borderRadius:"l1"}},full:{track:{borderRadius:"full"}}},striped:{true:{range:{backgroundImage:"linear-gradient(45deg, var(--stripe-color) 25%, transparent 25%, transparent 50%, var(--stripe-color) 50%, var(--stripe-color) 75%, transparent 75%, transparent)",backgroundSize:"var(--stripe-size) var(--stripe-size)","--stripe-size":"1rem","--stripe-color":{_light:"rgba(255, 255, 255, 0.3)",_dark:"rgba(0, 0, 0, 0.3)"}}}},animated:{true:{range:{"--animate-from":"var(--stripe-size)",animation:"bg-position 1s linear infinite"}}},size:{xs:{track:{h:"1.5"}},sm:{track:{h:"2"}},md:{track:{h:"2.5"}},lg:{track:{h:"3"}},xl:{track:{h:"4"}}}},defaultVariants:{variant:"outline",size:"md",shape:"rounded"}}),vse=lt({className:"chakra-progress-circle",slots:dI.keys(),base:{root:{display:"inline-flex",textStyle:"sm",position:"relative"},circle:{_indeterminate:{animation:"spin 2s linear infinite"}},circleTrack:{"--track-color":"colors.colorPalette.muted",stroke:"var(--track-color)"},circleRange:{stroke:"colorPalette.solid",transitionProperty:"stroke-dasharray",transitionDuration:"0.6s",_indeterminate:{animation:"circular-progress 1.5s linear infinite"}},label:{display:"inline-flex"},valueText:{lineHeight:"1",fontWeight:"medium",letterSpacing:"tight",fontVariantNumeric:"tabular-nums"}},variants:{size:{xs:{circle:{"--size":"24px","--thickness":"4px"},valueText:{textStyle:"2xs"}},sm:{circle:{"--size":"32px","--thickness":"5px"},valueText:{textStyle:"2xs"}},md:{circle:{"--size":"40px","--thickness":"6px"},valueText:{textStyle:"xs"}},lg:{circle:{"--size":"48px","--thickness":"7px"},valueText:{textStyle:"sm"}},xl:{circle:{"--size":"64px","--thickness":"8px"},valueText:{textStyle:"sm"}}}},defaultVariants:{size:"md"}}),mse=lt({slots:i6.keys(),className:"chakra-qr-code",base:{root:{position:"relative",width:"fit-content","--qr-code-overlay-size":"calc(var(--qr-code-size) / 3)"},frame:{width:"var(--qr-code-size)",height:"var(--qr-code-size)",fill:"currentColor"},overlay:{display:"flex",alignItems:"center",justifyContent:"center",width:"var(--qr-code-overlay-size)",height:"var(--qr-code-overlay-size)",padding:"1",bg:"bg",rounded:"l1"}},variants:{size:{"2xs":{root:{"--qr-code-size":"40px"}},xs:{root:{"--qr-code-size":"64px"}},sm:{root:{"--qr-code-size":"80px"}},md:{root:{"--qr-code-size":"120px"}},lg:{root:{"--qr-code-size":"160px"}},xl:{root:{"--qr-code-size":"200px"}},"2xl":{root:{"--qr-code-size":"240px"}},full:{root:{"--qr-code-size":"100%"}}}},defaultVariants:{size:"md"}});var v3,m3,y3,C3,w3,b3,S3;const yse=lt({className:"chakra-radio-card",slots:Aae.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",isolation:"isolate"},item:{flex:"1",display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",_focus:{bg:"colorPalette.muted/20"},_disabled:{opacity:"0.8",borderColor:"border.disabled"},_checked:{zIndex:"1"}},label:{display:"inline-flex",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},itemText:{fontWeight:"medium"},itemDescription:{opacity:"0.64",textStyle:"sm"},itemControl:{display:"inline-flex",flex:"1",pos:"relative",rounded:"inherit",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)",_disabled:{bg:"bg.muted"}},itemIndicator:Yr.base,itemAddon:{roundedBottom:"inherit",_disabled:{color:"fg.muted"}},itemContent:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)"}},variants:{size:{sm:{item:{textStyle:"sm"},itemControl:{padding:"3",gap:"1.5"},itemAddon:{px:"3",py:"1.5",borderTopWidth:"1px"},itemIndicator:(v3=Yr.variants)==null?void 0:v3.size.sm},md:{item:{textStyle:"sm"},itemControl:{padding:"4",gap:"2.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(m3=Yr.variants)==null?void 0:m3.size.md},lg:{item:{textStyle:"md"},itemControl:{padding:"4",gap:"3.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(y3=Yr.variants)==null?void 0:y3.size.lg}},variant:{surface:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"}},itemIndicator:(C3=Yr.variants)==null?void 0:C3.variant.solid},subtle:{item:{bg:"bg.muted"},itemControl:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},itemIndicator:(w3=Yr.variants)==null?void 0:w3.variant.outline},outline:{item:{borderWidth:"1px",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},itemIndicator:(b3=Yr.variants)==null?void 0:b3.variant.solid},solid:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},itemIndicator:(S3=Yr.variants)==null?void 0:S3.variant.inverted}},justify:{start:{item:{"--radio-card-justify":"flex-start"}},end:{item:{"--radio-card-justify":"flex-end"}},center:{item:{"--radio-card-justify":"center"}}},align:{start:{item:{"--radio-card-align":"flex-start"},itemControl:{textAlign:"start"}},end:{item:{"--radio-card-align":"flex-end"},itemControl:{textAlign:"end"}},center:{item:{"--radio-card-align":"center"},itemControl:{textAlign:"center"}}},orientation:{vertical:{itemControl:{flexDirection:"column"}},horizontal:{itemControl:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}});var x3,R3,_3,T3,P3,D3,A3,I3,E3,M3,k3,F3,L3,O3;const Cse=lt({className:"chakra-radio-group",slots:s6.keys(),base:{item:{display:"inline-flex",alignItems:"center",position:"relative",fontWeight:"medium",_disabled:{cursor:"disabled"}},itemControl:Yr.base,label:{userSelect:"none",textStyle:"sm",_disabled:{opacity:"0.5"}}},variants:{variant:{outline:{itemControl:(R3=(x3=Yr.variants)==null?void 0:x3.variant)==null?void 0:R3.outline},subtle:{itemControl:(T3=(_3=Yr.variants)==null?void 0:_3.variant)==null?void 0:T3.subtle},solid:{itemControl:(D3=(P3=Yr.variants)==null?void 0:P3.variant)==null?void 0:D3.solid}},size:{xs:{item:{textStyle:"xs",gap:"1.5"},itemControl:(I3=(A3=Yr.variants)==null?void 0:A3.size)==null?void 0:I3.xs},sm:{item:{textStyle:"sm",gap:"2"},itemControl:(M3=(E3=Yr.variants)==null?void 0:E3.size)==null?void 0:M3.sm},md:{item:{textStyle:"sm",gap:"2.5"},itemControl:(F3=(k3=Yr.variants)==null?void 0:k3.size)==null?void 0:F3.md},lg:{item:{textStyle:"md",gap:"3"},itemControl:(O3=(L3=Yr.variants)==null?void 0:L3.size)==null?void 0:O3.lg}}},defaultVariants:{size:"md",variant:"solid"}}),wse=lt({className:"chakra-rating-group",slots:Iae.keys(),base:{root:{display:"inline-flex"},control:{display:"inline-flex",alignItems:"center"},item:{display:"inline-flex",alignItems:"center",justifyContent:"center",userSelect:"none"},itemIndicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",height:"1em",position:"relative",_icon:{stroke:"currentColor",width:"100%",height:"100%",display:"inline-block",flexShrink:0,position:"absolute",left:0,top:0},"& [data-bg]":{color:"bg.emphasized"},"& [data-fg]":{color:"transparent"},"&[data-highlighted]:not([data-half])":{"& [data-fg]":{color:"colorPalette.solid"}},"&[data-half]":{"& [data-fg]":{color:"colorPalette.solid",clipPath:"inset(0 50% 0 0)"}}}},variants:{size:{xs:{item:{textStyle:"sm"}},sm:{item:{textStyle:"md"}},md:{item:{textStyle:"xl"}},lg:{item:{textStyle:"2xl"}}}},defaultVariants:{size:"md"}}),bse=lt({className:"chakra-segment-group",slots:o6.keys(),base:{root:{"--segment-radius":"radii.l2",borderRadius:"l2",display:"inline-flex",boxShadow:"inset",minW:"max-content",textAlign:"center",position:"relative",isolation:"isolate",bg:"bg.muted"},item:{display:"flex",alignItems:"center",userSelect:"none",fontSize:"sm",position:"relative",color:"fg",borderRadius:"var(--segment-radius)",_disabled:{opacity:"0.5"},"&:has(input:focus-visible)":{focusRing:"outside"},_before:{content:'""',position:"absolute",insetInlineStart:0,insetBlock:"1.5",bg:"border",width:"1px",transition:"opacity 0.2s"},"& + &[data-state=checked], &[data-state=checked] + &, &:first-of-type":{_before:{opacity:"0"}},"&[data-state=checked][data-ssr]":{shadow:"sm",bg:"bg",borderRadius:"var(--segment-radius)"}},indicator:{shadow:"sm",pos:"absolute",bg:{_light:"bg",_dark:"bg.emphasized"},width:"var(--width)",height:"var(--height)",top:"var(--top)",left:"var(--left)",zIndex:-1,borderRadius:"var(--segment-radius)"}},variants:{size:{xs:{root:{height:"6"},item:{textStyle:"xs",px:"3",gap:"1"}},sm:{root:{height:"8"},item:{textStyle:"sm",px:"4",gap:"2"}},md:{root:{height:"10"},item:{textStyle:"sm",px:"4",gap:"2"}},lg:{root:{height:"10"},item:{textStyle:"md",px:"5",gap:"3"}}}},defaultVariants:{size:"md"}}),Sse=lt({className:"chakra-slider",slots:Mae.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",textStyle:"sm",position:"relative",isolation:"isolate",touchAction:"none"},label:{fontWeight:"medium",textStyle:"sm"},control:{display:"inline-flex",alignItems:"center",position:"relative"},track:{overflow:"hidden",borderRadius:"full",flex:"1"},range:{width:"inherit",height:"inherit",_disabled:{bg:"border.emphasized!"}},markerGroup:{position:"absolute!",zIndex:"1"},marker:{"--marker-bg":{base:"white",_underValue:"colors.bg"},display:"flex",alignItems:"center",gap:"calc(var(--slider-thumb-size) / 2)",color:"fg.muted",textStyle:"xs"},markerIndicator:{width:"var(--slider-marker-size)",height:"var(--slider-marker-size)",borderRadius:"full",bg:"var(--marker-bg)"},thumb:{width:"var(--slider-thumb-size)",height:"var(--slider-thumb-size)",display:"flex",alignItems:"center",justifyContent:"center",outline:0,zIndex:"2",borderRadius:"full",_focusVisible:{ring:"2px",ringColor:"colorPalette.focusRing",ringOffset:"2px",ringOffsetColor:"bg"}}},variants:{size:{sm:{root:{"--slider-thumb-size":"sizes.4","--slider-track-size":"sizes.1.5","--slider-marker-center":"6px","--slider-marker-size":"sizes.1","--slider-marker-inset":"3px"}},md:{root:{"--slider-thumb-size":"sizes.5","--slider-track-size":"sizes.2","--slider-marker-center":"8px","--slider-marker-size":"sizes.1","--slider-marker-inset":"4px"}},lg:{root:{"--slider-thumb-size":"sizes.6","--slider-track-size":"sizes.2.5","--slider-marker-center":"9px","--slider-marker-size":"sizes.1.5","--slider-marker-inset":"5px"}}},variant:{outline:{track:{shadow:"inset",bg:"bg.emphasized/72"},range:{bg:"colorPalette.solid"},thumb:{borderWidth:"2px",borderColor:"colorPalette.solid",bg:"bg",_disabled:{bg:"border.emphasized",borderColor:"border.emphasized"}}},solid:{track:{bg:"colorPalette.subtle",_disabled:{bg:"bg.muted"}},range:{bg:"colorPalette.solid"},thumb:{bg:"colorPalette.solid",_disabled:{bg:"border.emphasized"}}}},orientation:{vertical:{root:{display:"inline-flex"},control:{flexDirection:"column",height:"100%",minWidth:"var(--slider-thumb-size)","&[data-has-mark-label]":{marginEnd:"4"}},track:{width:"var(--slider-track-size)"},thumb:{left:"50%",translate:"-50% 0"},markerGroup:{insetStart:"var(--slider-marker-center)",insetBlock:"var(--slider-marker-inset)"},marker:{flexDirection:"row"}},horizontal:{control:{flexDirection:"row",width:"100%",minHeight:"var(--slider-thumb-size)","&[data-has-mark-label]":{marginBottom:"4"}},track:{height:"var(--slider-track-size)"},thumb:{top:"50%",translate:"0 -50%"},markerGroup:{top:"var(--slider-marker-center)",insetInline:"var(--slider-marker-inset)"},marker:{flexDirection:"column"}}}},defaultVariants:{size:"md",variant:"outline",orientation:"horizontal"}}),xse=lt({className:"chakra-stat",slots:kae.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",position:"relative",flex:"1"},label:{display:"inline-flex",gap:"1.5",alignItems:"center",color:"fg.muted",textStyle:"sm"},helpText:{color:"fg.muted",textStyle:"xs"},valueUnit:{color:"fg.muted",textStyle:"xs",fontWeight:"initial",letterSpacing:"initial"},valueText:{verticalAlign:"baseline",fontWeight:"semibold",letterSpacing:"tight",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums",display:"inline-flex",gap:"1"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",marginEnd:1,"& :where(svg)":{w:"1em",h:"1em"},"&[data-type=up]":{color:"fg.success"},"&[data-type=down]":{color:"fg.error"}}},variants:{size:{sm:{valueText:{textStyle:"xl"}},md:{valueText:{textStyle:"2xl"}},lg:{valueText:{textStyle:"3xl"}}}},defaultVariants:{size:"md"}}),Rse=lt({className:"chakra-status",slots:Fae.keys(),base:{root:{display:"inline-flex",alignItems:"center",gap:"2"},indicator:{width:"0.64em",height:"0.64em",flexShrink:0,borderRadius:"full",forcedColorAdjust:"none",bg:"colorPalette.solid"}},variants:{size:{sm:{root:{textStyle:"xs"}},md:{root:{textStyle:"sm"}},lg:{root:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),_se=lt({className:"chakra-steps",slots:Lae.keys(),base:{root:{display:"flex",width:"full"},list:{display:"flex",justifyContent:"space-between","--steps-gutter":"spacing.3","--steps-thickness":"2px"},title:{fontWeight:"medium",color:"fg"},description:{color:"fg.muted"},separator:{bg:"border",flex:"1"},indicator:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0",borderRadius:"full",fontWeight:"medium",width:"var(--steps-size)",height:"var(--steps-size)",_icon:{flexShrink:"0",width:"var(--steps-icon-size)",height:"var(--steps-icon-size)"}},item:{position:"relative",display:"flex",flex:"1 0 0","&:last-of-type":{flex:"initial","& [data-part=separator]":{display:"none"}}},trigger:{display:"flex",alignItems:"center",gap:"3",textAlign:"start",focusVisibleRing:"outside",borderRadius:"l2"},content:{focusVisibleRing:"outside"}},variants:{orientation:{vertical:{root:{flexDirection:"row",height:"100%"},list:{flexDirection:"column",alignItems:"flex-start"},separator:{position:"absolute",width:"var(--steps-thickness)",height:"100%",maxHeight:"calc(100% - var(--steps-size) - var(--steps-gutter) * 2)",top:"calc(var(--steps-size) + var(--steps-gutter))",insetStart:"calc(var(--steps-size) / 2 - 1px)"},item:{alignItems:"flex-start"}},horizontal:{root:{flexDirection:"column",width:"100%"},list:{flexDirection:"row",alignItems:"center"},separator:{width:"100%",height:"var(--steps-thickness)",marginX:"var(--steps-gutter)"},item:{alignItems:"center"}}},variant:{solid:{indicator:{_incomplete:{borderWidth:"var(--steps-thickness)"},_current:{bg:"colorPalette.muted",borderWidth:"var(--steps-thickness)",borderColor:"colorPalette.solid",color:"colorPalette.fg"},_complete:{bg:"colorPalette.solid",borderColor:"colorPalette.solid",color:"colorPalette.contrast"}},separator:{_complete:{bg:"colorPalette.solid"}}},subtle:{indicator:{_incomplete:{bg:"bg.muted"},_current:{bg:"colorPalette.muted",color:"colorPalette.fg"},_complete:{bg:"colorPalette.emphasized",color:"colorPalette.fg"}},separator:{_complete:{bg:"colorPalette.emphasized"}}}},size:{xs:{root:{gap:"2.5"},list:{"--steps-size":"sizes.6","--steps-icon-size":"sizes.3.5",textStyle:"xs"},title:{textStyle:"sm"}},sm:{root:{gap:"3"},list:{"--steps-size":"sizes.8","--steps-icon-size":"sizes.4",textStyle:"xs"},title:{textStyle:"sm"}},md:{root:{gap:"4"},list:{"--steps-size":"sizes.10","--steps-icon-size":"sizes.4",textStyle:"sm"},title:{textStyle:"sm"}},lg:{root:{gap:"6"},list:{"--steps-size":"sizes.11","--steps-icon-size":"sizes.5",textStyle:"md"},title:{textStyle:"md"}}}},defaultVariants:{size:"md",variant:"solid",orientation:"horizontal"}}),Tse=lt({slots:Oae.keys(),className:"chakra-switch",base:{root:{display:"inline-flex",gap:"2.5",alignItems:"center",position:"relative",verticalAlign:"middle","--switch-diff":"calc(var(--switch-width) - var(--switch-height))","--switch-x":{base:"var(--switch-diff)",_rtl:"calc(var(--switch-diff) * -1)"}},label:{lineHeight:"1",userSelect:"none",fontSize:"sm",fontWeight:"medium",_disabled:{opacity:"0.5"}},indicator:{position:"absolute",height:"var(--switch-height)",width:"var(--switch-height)",fontSize:"var(--switch-indicator-font-size)",fontWeight:"medium",flexShrink:0,userSelect:"none",display:"grid",placeContent:"center",transition:"inset-inline-start 0.12s ease",insetInlineStart:"calc(var(--switch-x) - 2px)",_checked:{insetInlineStart:"2px"}},control:{display:"inline-flex",gap:"0.5rem",flexShrink:0,justifyContent:"flex-start",cursor:"switch",borderRadius:"full",position:"relative",width:"var(--switch-width)",height:"var(--switch-height)",_disabled:{opacity:"0.5",cursor:"not-allowed"},_invalid:{outline:"2px solid",outlineColor:"border.error",outlineOffset:"2px"}},thumb:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transitionProperty:"translate",transitionDuration:"fast",borderRadius:"inherit",_checked:{translate:"var(--switch-x) 0"}}},variants:{variant:{solid:{control:{borderRadius:"full",bg:"bg.emphasized",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}},thumb:{bg:"white",width:"var(--switch-height)",height:"var(--switch-height)",scale:"0.8",boxShadow:"sm",_checked:{bg:"colorPalette.contrast"}}},raised:{control:{borderRadius:"full",height:"calc(var(--switch-height) / 2)",bg:"bg.muted",boxShadow:"inset",_checked:{bg:"colorPalette.solid/60"}},thumb:{width:"var(--switch-height)",height:"var(--switch-height)",position:"relative",top:"calc(var(--switch-height) * -0.25)",bg:"white",boxShadow:"xs",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}}}},size:{xs:{root:{"--switch-width":"sizes.6","--switch-height":"sizes.3","--switch-indicator-font-size":"fontSizes.xs"}},sm:{root:{"--switch-width":"sizes.8","--switch-height":"sizes.4","--switch-indicator-font-size":"fontSizes.xs"}},md:{root:{"--switch-width":"sizes.10","--switch-height":"sizes.5","--switch-indicator-font-size":"fontSizes.sm"}},lg:{root:{"--switch-width":"sizes.12","--switch-height":"sizes.6","--switch-indicator-font-size":"fontSizes.md"}}}},defaultVariants:{variant:"solid",size:"md"}}),Pse=lt({className:"chakra-table",slots:Nae.keys(),base:{root:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full",textAlign:"start",verticalAlign:"top"},row:{_selected:{bg:"colorPalette.subtle"}},cell:{textAlign:"start",alignItems:"center"},columnHeader:{fontWeight:"medium",textAlign:"start",color:"fg"},caption:{fontWeight:"medium",textStyle:"xs"},footer:{fontWeight:"medium"}},variants:{interactive:{true:{body:{"& tr":{_hover:{bg:"colorPalette.subtle"}}}}},stickyHeader:{true:{header:{"& :where(tr)":{top:"var(--table-sticky-offset, 0)",position:"sticky",zIndex:1}}}},striped:{true:{row:{"&:nth-of-type(odd) td":{bg:"bg.muted"}}}},showColumnBorder:{true:{columnHeader:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}},cell:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}}}},variant:{line:{columnHeader:{borderBottomWidth:"1px"},cell:{borderBottomWidth:"1px"},row:{bg:"bg"}},outline:{root:{boxShadow:"0 0 0 1px {colors.border}",overflow:"hidden"},columnHeader:{borderBottomWidth:"1px"},header:{bg:"bg.muted"},row:{"&:not(:last-of-type)":{borderBottomWidth:"1px"}},footer:{borderTopWidth:"1px"}}},size:{sm:{root:{textStyle:"sm"},columnHeader:{px:"2",py:"2"},cell:{px:"2",py:"2"}},md:{root:{textStyle:"sm"},columnHeader:{px:"3",py:"3"},cell:{px:"3",py:"3"}},lg:{root:{textStyle:"md"},columnHeader:{px:"4",py:"3"},cell:{px:"4",py:"3"}}}},defaultVariants:{variant:"line",size:"md"}}),Dse=lt({slots:Bae.keys(),className:"chakra-tabs",base:{root:{"--tabs-trigger-radius":"radii.l2",position:"relative",_horizontal:{display:"block"},_vertical:{display:"flex"}},list:{display:"inline-flex",position:"relative",isolation:"isolate","--tabs-indicator-shadow":"shadows.xs","--tabs-indicator-bg":"colors.bg",minH:"var(--tabs-height)",_horizontal:{flexDirection:"row"},_vertical:{flexDirection:"column"}},trigger:{outline:"0",minW:"var(--tabs-height)",height:"var(--tabs-height)",display:"flex",alignItems:"center",fontWeight:"medium",position:"relative",cursor:"button",gap:"2",_focusVisible:{zIndex:1,outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{cursor:"not-allowed",opacity:.5}},content:{focusVisibleRing:"inside",_horizontal:{width:"100%",pt:"var(--tabs-content-padding)"},_vertical:{height:"100%",ps:"var(--tabs-content-padding)"}},indicator:{width:"var(--width)",height:"var(--height)",borderRadius:"var(--tabs-indicator-radius)",bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",zIndex:-1}},variants:{fitted:{true:{list:{display:"flex"},trigger:{flex:1,textAlign:"center",justifyContent:"center"}}},justify:{start:{list:{justifyContent:"flex-start"}},center:{list:{justifyContent:"center"}},end:{list:{justifyContent:"flex-end"}}},size:{sm:{root:{"--tabs-height":"sizes.9","--tabs-content-padding":"spacing.3"},trigger:{py:"1",px:"3",textStyle:"sm"}},md:{root:{"--tabs-height":"sizes.10","--tabs-content-padding":"spacing.4"},trigger:{py:"2",px:"4",textStyle:"sm"}},lg:{root:{"--tabs-height":"sizes.11","--tabs-content-padding":"spacing.4.5"},trigger:{py:"2",px:"4.5",textStyle:"md"}}},variant:{line:{list:{display:"flex",borderColor:"border",_horizontal:{borderBottomWidth:"1px"},_vertical:{borderEndWidth:"1px"}},trigger:{color:"fg.muted",_disabled:{_active:{bg:"initial"}},_selected:{color:"fg",_horizontal:{layerStyle:"indicator.bottom","--indicator-offset-y":"-1px","--indicator-color":"colors.colorPalette.solid"},_vertical:{layerStyle:"indicator.end","--indicator-offset-x":"-1px"}}}},subtle:{trigger:{borderRadius:"var(--tabs-trigger-radius)",color:"fg.muted",_selected:{bg:"colorPalette.subtle",color:"colorPalette.fg"}}},enclosed:{list:{bg:"bg.muted",padding:"1",borderRadius:"l3",minH:"calc(var(--tabs-height) - 4px)"},trigger:{justifyContent:"center",color:"fg.muted",borderRadius:"var(--tabs-trigger-radius)",_selected:{bg:"bg",color:"colorPalette.fg",shadow:"xs"}}},outline:{list:{"--line-thickness":"1px","--line-offset":"calc(var(--line-thickness) * -1)",borderColor:"border",display:"flex",_horizontal:{_before:{content:'""',position:"absolute",bottom:"0px",width:"100%",borderBottomWidth:"var(--line-thickness)",borderBottomColor:"border"}},_vertical:{_before:{content:'""',position:"absolute",insetInline:"var(--line-offset)",height:"calc(100% - calc(var(--line-thickness) * 2))",borderEndWidth:"var(--line-thickness)",borderEndColor:"border"}}},trigger:{color:"fg.muted",borderWidth:"1px",borderColor:"transparent",_selected:{bg:"currentBg",color:"colorPalette.fg"},_horizontal:{borderTopRadius:"var(--tabs-trigger-radius)",marginBottom:"var(--line-offset)",marginEnd:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderBottomColor:"transparent"}},_vertical:{borderStartRadius:"var(--tabs-trigger-radius)",marginEnd:"var(--line-offset)",marginBottom:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderEndColor:"transparent"}}}},plain:{trigger:{color:"fg.muted",_selected:{color:"colorPalette.fg"},borderRadius:"var(--tabs-trigger-radius)","&[data-selected][data-ssr]":{bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",borderRadius:"var(--tabs-indicator-radius)"}}}}},defaultVariants:{size:"md",variant:"line"}});var N3;const ki=(N3=eI.variants)==null?void 0:N3.variant,Ase=lt({slots:Vae.keys(),className:"chakra-tag",base:{root:{display:"inline-flex",alignItems:"center",verticalAlign:"top",maxWidth:"100%",userSelect:"none",borderRadius:"l2",focusVisibleRing:"outside"},label:{lineClamp:"1"},closeTrigger:{display:"flex",alignItems:"center",justifyContent:"center",outline:"0",borderRadius:"l1",color:"currentColor",focusVisibleRing:"inside",focusRingWidth:"2px"},startElement:{flexShrink:0,boxSize:"var(--tag-element-size)",ms:"var(--tag-element-offset)","&:has([data-scope=avatar])":{boxSize:"var(--tag-avatar-size)",ms:"calc(var(--tag-element-offset) * 1.5)"},_icon:{boxSize:"100%"}},endElement:{flexShrink:0,boxSize:"var(--tag-element-size)",me:"var(--tag-element-offset)",_icon:{boxSize:"100%"},"&:has(button)":{ms:"calc(var(--tag-element-offset) * -1)"}}},variants:{size:{sm:{root:{px:"1.5",minH:"4.5",gap:"1","--tag-avatar-size":"spacing.3","--tag-element-size":"spacing.3","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},md:{root:{px:"1.5",minH:"5",gap:"1","--tag-avatar-size":"spacing.3.5","--tag-element-size":"spacing.3.5","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},lg:{root:{px:"2",minH:"6",gap:"1.5","--tag-avatar-size":"spacing.4.5","--tag-element-size":"spacing.4","--tag-element-offset":"-3px"},label:{textStyle:"sm"}},xl:{root:{px:"2.5",minH:"8",gap:"1.5","--tag-avatar-size":"spacing.6","--tag-element-size":"spacing.4.5","--tag-element-offset":"-4px"},label:{textStyle:"sm"}}},variant:{subtle:{root:ki==null?void 0:ki.subtle},solid:{root:ki==null?void 0:ki.solid},outline:{root:ki==null?void 0:ki.outline},surface:{root:ki==null?void 0:ki.surface}}},defaultVariants:{size:"md",variant:"surface"}}),Ise=lt({slots:Gae.keys(),className:"chakra-timeline",base:{root:{display:"flex",flexDirection:"column",width:"full","--timeline-thickness":"1px","--timeline-gutter":"4px"},item:{display:"flex",position:"relative",alignItems:"flex-start",flexShrink:0,gap:"4",_last:{"& :where(.chakra-timeline__separator)":{display:"none"}}},separator:{position:"absolute",borderStartWidth:"var(--timeline-thickness)",ms:"calc(-1 * var(--timeline-thickness) / 2)",insetInlineStart:"calc(var(--timeline-indicator-size) / 2)",insetBlock:"0",borderColor:"border"},indicator:{outline:"2px solid {colors.bg}",position:"relative",flexShrink:"0",boxSize:"var(--timeline-indicator-size)",fontSize:"var(--timeline-font-size)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"full",fontWeight:"medium"},connector:{alignSelf:"stretch",position:"relative"},content:{pb:"6",display:"flex",flexDirection:"column",width:"full",gap:"2"},title:{display:"flex",fontWeight:"medium",flexWrap:"wrap",gap:"1.5",alignItems:"center",mt:"var(--timeline-margin)"},description:{color:"fg.muted",textStyle:"xs"}},variants:{variant:{subtle:{indicator:{bg:"colorPalette.muted"}},solid:{indicator:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},outline:{indicator:{bg:"currentBg",borderWidth:"1px",borderColor:"colorPalette.muted"}},plain:{}},size:{sm:{root:{"--timeline-indicator-size":"sizes.4","--timeline-font-size":"fontSizes.2xs"},title:{textStyle:"xs"}},md:{root:{"--timeline-indicator-size":"sizes.5","--timeline-font-size":"fontSizes.xs"},title:{textStyle:"sm"}},lg:{root:{"--timeline-indicator-size":"sizes.6","--timeline-font-size":"fontSizes.xs"},title:{mt:"0.5",textStyle:"sm"}},xl:{root:{"--timeline-indicator-size":"sizes.8","--timeline-font-size":"fontSizes.sm"},title:{mt:"1.5",textStyle:"sm"}}}},defaultVariants:{size:"md",variant:"solid"}}),Ese=lt({slots:zae.keys(),className:"chakra-toast",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",gap:"3",py:"4",ps:"4",pe:"6",borderRadius:"l2",translate:"var(--x) var(--y)",scale:"var(--scale)",zIndex:"var(--z-index)",height:"var(--height)",opacity:"var(--opacity)",willChange:"translate, opacity, scale",transition:"translate 400ms, scale 400ms, opacity 400ms, height 400ms, box-shadow 200ms",transitionTimingFunction:"cubic-bezier(0.21, 1.02, 0.73, 1)",_closed:{transition:"translate 400ms, scale 400ms, opacity 200ms",transitionTimingFunction:"cubic-bezier(0.06, 0.71, 0.55, 1)"},bg:"bg.panel",color:"fg",boxShadow:"xl","--toast-trigger-bg":"colors.bg.muted","&[data-type=warning]":{bg:"orange.solid",color:"orange.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=success]":{bg:"green.solid",color:"green.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=error]":{bg:"red.solid",color:"red.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"}},title:{fontWeight:"medium",textStyle:"sm",marginEnd:"2"},description:{display:"inline",textStyle:"sm",opacity:"0.8"},indicator:{flexShrink:"0",boxSize:"5"},actionTrigger:{textStyle:"sm",fontWeight:"medium",height:"8",px:"3",borderRadius:"l2",alignSelf:"center",borderWidth:"1px",borderColor:"var(--toast-border-color, inherit)",transition:"background 200ms",_hover:{bg:"var(--toast-trigger-bg)"}},closeTrigger:{position:"absolute",top:"1",insetEnd:"1",padding:"1",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"{currentColor/60}",borderRadius:"l2",textStyle:"md",transition:"background 200ms",_icon:{boxSize:"1em"}}}}),Mse=lt({slots:a6.keys(),className:"chakra-tooltip",base:{content:{"--tooltip-bg":"colors.bg.inverted",bg:"var(--tooltip-bg)",color:"fg.inverted",px:"2.5",py:"1",borderRadius:"l2",fontWeight:"medium",textStyle:"xs",boxShadow:"md",maxW:"xs",zIndex:"tooltip",transformOrigin:"var(--transform-origin)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"fast"}},arrow:{"--arrow-size":"sizes.2","--arrow-background":"var(--tooltip-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px",borderColor:"var(--tooltip-bg)"}}}),kse={accordion:Hae,actionBar:Wae,alert:$ae,avatar:Uae,blockquote:jae,breadcrumb:Yae,card:Kae,checkbox:Xae,checkboxCard:qae,collapsible:Zae,dataList:Jae,dialog:ese,drawer:tse,editable:rse,emptyState:nse,field:ise,fieldset:ose,fileUpload:ase,hoverCard:sse,list:lse,menu:use,nativeSelect:cse,numberInput:dse,pinInput:fse,popover:pse,progress:gse,progressCircle:vse,radioCard:yse,radioGroup:Cse,ratingGroup:wse,segmentGroup:bse,select:fw,slider:Sse,stat:xse,steps:_se,switch:Tse,table:Pse,tabs:Dse,tag:Ase,toast:Ese,tooltip:Mse,status:Rse,timeline:Ise,colorPicker:Qae,qrCode:mse},Fse=dre({"2xs":{value:{fontSize:"2xs",lineHeight:"0.75rem"}},xs:{value:{fontSize:"xs",lineHeight:"1rem"}},sm:{value:{fontSize:"sm",lineHeight:"1.25rem"}},md:{value:{fontSize:"md",lineHeight:"1.5rem"}},lg:{value:{fontSize:"lg",lineHeight:"1.75rem"}},xl:{value:{fontSize:"xl",lineHeight:"1.875rem"}},"2xl":{value:{fontSize:"2xl",lineHeight:"2rem"}},"3xl":{value:{fontSize:"3xl",lineHeight:"2.375rem"}},"4xl":{value:{fontSize:"4xl",lineHeight:"2.75rem",letterSpacing:"-0.025em"}},"5xl":{value:{fontSize:"5xl",lineHeight:"3.75rem",letterSpacing:"-0.025em"}},"6xl":{value:{fontSize:"6xl",lineHeight:"4.5rem",letterSpacing:"-0.025em"}},"7xl":{value:{fontSize:"7xl",lineHeight:"5.75rem",letterSpacing:"-0.025em"}},none:{value:{}}}),Lse=_r.animations({spin:{value:"spin 1s linear infinite"},ping:{value:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite"},pulse:{value:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},bounce:{value:"bounce 1s infinite"}}),Ose=_r.aspectRatios({square:{value:"1 / 1"},landscape:{value:"4 / 3"},portrait:{value:"3 / 4"},wide:{value:"16 / 9"},ultrawide:{value:"18 / 5"},golden:{value:"1.618 / 1"}}),Nse=_r.blurs({none:{value:" "},sm:{value:"4px"},md:{value:"8px"},lg:{value:"12px"},xl:{value:"16px"},"2xl":{value:"24px"},"3xl":{value:"40px"},"4xl":{value:"64px"}}),zse=_r.borders({xs:{value:"0.5px solid"},sm:{value:"1px solid"},md:{value:"2px solid"},lg:{value:"4px solid"},xl:{value:"8px solid"}}),Bse=_r.colors({transparent:{value:"transparent"},current:{value:"currentColor"},black:{value:"#09090B"},white:{value:"#FFFFFF"},whiteAlpha:{50:{value:"rgba(255, 255, 255, 0.04)"},100:{value:"rgba(255, 255, 255, 0.06)"},200:{value:"rgba(255, 255, 255, 0.08)"},300:{value:"rgba(255, 255, 255, 0.16)"},400:{value:"rgba(255, 255, 255, 0.24)"},500:{value:"rgba(255, 255, 255, 0.36)"},600:{value:"rgba(255, 255, 255, 0.48)"},700:{value:"rgba(255, 255, 255, 0.64)"},800:{value:"rgba(255, 255, 255, 0.80)"},900:{value:"rgba(255, 255, 255, 0.92)"},950:{value:"rgba(255, 255, 255, 0.95)"}},blackAlpha:{50:{value:"rgba(0, 0, 0, 0.04)"},100:{value:"rgba(0, 0, 0, 0.06)"},200:{value:"rgba(0, 0, 0, 0.08)"},300:{value:"rgba(0, 0, 0, 0.16)"},400:{value:"rgba(0, 0, 0, 0.24)"},500:{value:"rgba(0, 0, 0, 0.36)"},600:{value:"rgba(0, 0, 0, 0.48)"},700:{value:"rgba(0, 0, 0, 0.64)"},800:{value:"rgba(0, 0, 0, 0.80)"},900:{value:"rgba(0, 0, 0, 0.92)"},950:{value:"rgba(0, 0, 0, 0.95)"}},gray:{50:{value:"#fafafa"},100:{value:"#f4f4f5"},200:{value:"#e4e4e7"},300:{value:"#d4d4d8"},400:{value:"#a1a1aa"},500:{value:"#71717a"},600:{value:"#52525b"},700:{value:"#3f3f46"},800:{value:"#27272a"},900:{value:"#18181b"},950:{value:"#111111"}},red:{50:{value:"#fef2f2"},100:{value:"#fee2e2"},200:{value:"#fecaca"},300:{value:"#fca5a5"},400:{value:"#f87171"},500:{value:"#ef4444"},600:{value:"#dc2626"},700:{value:"#991919"},800:{value:"#511111"},900:{value:"#300c0c"},950:{value:"#1f0808"}},orange:{50:{value:"#fff7ed"},100:{value:"#ffedd5"},200:{value:"#fed7aa"},300:{value:"#fdba74"},400:{value:"#fb923c"},500:{value:"#f97316"},600:{value:"#ea580c"},700:{value:"#92310a"},800:{value:"#6c2710"},900:{value:"#3b1106"},950:{value:"#220a04"}},yellow:{50:{value:"#fefce8"},100:{value:"#fef9c3"},200:{value:"#fef08a"},300:{value:"#fde047"},400:{value:"#facc15"},500:{value:"#eab308"},600:{value:"#ca8a04"},700:{value:"#845209"},800:{value:"#713f12"},900:{value:"#422006"},950:{value:"#281304"}},green:{50:{value:"#f0fdf4"},100:{value:"#dcfce7"},200:{value:"#bbf7d0"},300:{value:"#86efac"},400:{value:"#4ade80"},500:{value:"#22c55e"},600:{value:"#16a34a"},700:{value:"#116932"},800:{value:"#124a28"},900:{value:"#042713"},950:{value:"#03190c"}},teal:{50:{value:"#f0fdfa"},100:{value:"#ccfbf1"},200:{value:"#99f6e4"},300:{value:"#5eead4"},400:{value:"#2dd4bf"},500:{value:"#14b8a6"},600:{value:"#0d9488"},700:{value:"#0c5d56"},800:{value:"#114240"},900:{value:"#032726"},950:{value:"#021716"}},blue:{50:{value:"#eff6ff"},100:{value:"#dbeafe"},200:{value:"#bfdbfe"},300:{value:"#a3cfff"},400:{value:"#60a5fa"},500:{value:"#3b82f6"},600:{value:"#2563eb"},700:{value:"#173da6"},800:{value:"#1a3478"},900:{value:"#14204a"},950:{value:"#0c142e"}},cyan:{50:{value:"#ecfeff"},100:{value:"#cffafe"},200:{value:"#a5f3fc"},300:{value:"#67e8f9"},400:{value:"#22d3ee"},500:{value:"#06b6d4"},600:{value:"#0891b2"},700:{value:"#0c5c72"},800:{value:"#134152"},900:{value:"#072a38"},950:{value:"#051b24"}},purple:{50:{value:"#faf5ff"},100:{value:"#f3e8ff"},200:{value:"#e9d5ff"},300:{value:"#d8b4fe"},400:{value:"#c084fc"},500:{value:"#a855f7"},600:{value:"#9333ea"},700:{value:"#641ba3"},800:{value:"#4a1772"},900:{value:"#2f0553"},950:{value:"#1a032e"}},pink:{50:{value:"#fdf2f8"},100:{value:"#fce7f3"},200:{value:"#fbcfe8"},300:{value:"#f9a8d4"},400:{value:"#f472b6"},500:{value:"#ec4899"},600:{value:"#db2777"},700:{value:"#a41752"},800:{value:"#6d0e34"},900:{value:"#45061f"},950:{value:"#2c0514"}}}),Vse=_r.cursor({button:{value:"pointer"},checkbox:{value:"default"},disabled:{value:"not-allowed"},menuitem:{value:"default"},option:{value:"default"},radio:{value:"default"},slider:{value:"default"},switch:{value:"pointer"}}),Gse=_r.durations({fastest:{value:"50ms"},faster:{value:"100ms"},fast:{value:"150ms"},moderate:{value:"200ms"},slow:{value:"300ms"},slower:{value:"400ms"},slowest:{value:"500ms"}}),Hse=_r.easings({"ease-in":{value:"cubic-bezier(0.42, 0, 1, 1)"},"ease-out":{value:"cubic-bezier(0, 0, 0.58, 1)"},"ease-in-out":{value:"cubic-bezier(0.42, 0, 0.58, 1)"},"ease-in-smooth":{value:"cubic-bezier(0.32, 0.72, 0, 1)"}}),Wse=_r.fontSizes({"2xs":{value:"0.625rem"},xs:{value:"0.75rem"},sm:{value:"0.875rem"},md:{value:"1rem"},lg:{value:"1.125rem"},xl:{value:"1.25rem"},"2xl":{value:"1.5rem"},"3xl":{value:"1.875rem"},"4xl":{value:"2.25rem"},"5xl":{value:"3rem"},"6xl":{value:"3.75rem"},"7xl":{value:"4.5rem"},"8xl":{value:"6rem"},"9xl":{value:"8rem"}}),$se=_r.fontWeights({thin:{value:"100"},extralight:{value:"200"},light:{value:"300"},normal:{value:"400"},medium:{value:"500"},semibold:{value:"600"},bold:{value:"700"},extrabold:{value:"800"},black:{value:"900"}}),R2='-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',Use=_r.fonts({heading:{value:`Inter, ${R2}`},body:{value:`Inter, ${R2}`},mono:{value:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'}}),jse=ure({spin:{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},pulse:{"50%":{opacity:"0.5"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}},"bg-position":{from:{backgroundPosition:"var(--animate-from, 1rem) 0"},to:{backgroundPosition:"var(--animate-to, 0) 0"}},position:{from:{insetInlineStart:"var(--animate-from-x)",insetBlockStart:"var(--animate-from-y)"},to:{insetInlineStart:"var(--animate-to-x)",insetBlockStart:"var(--animate-to-y)"}},"circular-progress":{"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100%"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260%"}},"expand-height":{from:{height:"0"},to:{height:"var(--height)"}},"collapse-height":{from:{height:"var(--height)"},to:{height:"0"}},"expand-width":{from:{width:"0"},to:{width:"var(--width)"}},"collapse-width":{from:{height:"var(--width)"},to:{height:"0"}},"fade-in":{from:{opacity:0},to:{opacity:1}},"fade-out":{from:{opacity:1},to:{opacity:0}},"slide-from-left-full":{from:{translate:"-100% 0"},to:{translate:"0 0"}},"slide-from-right-full":{from:{translate:"100% 0"},to:{translate:"0 0"}},"slide-from-top-full":{from:{translate:"0 -100%"},to:{translate:"0 0"}},"slide-from-bottom-full":{from:{translate:"0 100%"},to:{translate:"0 0"}},"slide-to-left-full":{from:{translate:"0 0"},to:{translate:"-100% 0"}},"slide-to-right-full":{from:{translate:"0 0"},to:{translate:"100% 0"}},"slide-to-top-full":{from:{translate:"0 0"},to:{translate:"0 -100%"}},"slide-to-bottom-full":{from:{translate:"0 0"},to:{translate:"0 100%"}},"slide-from-top":{"0%":{translate:"0 -0.5rem"},to:{translate:"0"}},"slide-from-bottom":{"0%":{translate:"0 0.5rem"},to:{translate:"0"}},"slide-from-left":{"0%":{translate:"-0.5rem 0"},to:{translate:"0"}},"slide-from-right":{"0%":{translate:"0.5rem 0"},to:{translate:"0"}},"slide-to-top":{"0%":{translate:"0"},to:{translate:"0 -0.5rem"}},"slide-to-bottom":{"0%":{translate:"0"},to:{translate:"0 0.5rem"}},"slide-to-left":{"0%":{translate:"0"},to:{translate:"-0.5rem 0"}},"slide-to-right":{"0%":{translate:"0"},to:{translate:"0.5rem 0"}},"scale-in":{from:{scale:"0.95"},to:{scale:"1"}},"scale-out":{from:{scale:"1"},to:{scale:"0.95"}}}),Yse=_r.letterSpacings({tighter:{value:"-0.05em"},tight:{value:"-0.025em"},wide:{value:"0.025em"},wider:{value:"0.05em"},widest:{value:"0.1em"}}),Kse=_r.lineHeights({shorter:{value:1.25},short:{value:1.375},moderate:{value:1.5},tall:{value:1.625},taller:{value:2}}),Xse=_r.radii({none:{value:"0"},"2xs":{value:"0.0625rem"},xs:{value:"0.125rem"},sm:{value:"0.25rem"},md:{value:"0.375rem"},lg:{value:"0.5rem"},xl:{value:"0.75rem"},"2xl":{value:"1rem"},"3xl":{value:"1.5rem"},"4xl":{value:"2rem"},full:{value:"9999px"}}),l6=_r.spacing({.5:{value:"0.125rem"},1:{value:"0.25rem"},1.5:{value:"0.375rem"},2:{value:"0.5rem"},2.5:{value:"0.625rem"},3:{value:"0.75rem"},3.5:{value:"0.875rem"},4:{value:"1rem"},4.5:{value:"1.125rem"},5:{value:"1.25rem"},6:{value:"1.5rem"},7:{value:"1.75rem"},8:{value:"2rem"},9:{value:"2.25rem"},10:{value:"2.5rem"},11:{value:"2.75rem"},12:{value:"3rem"},14:{value:"3.5rem"},16:{value:"4rem"},20:{value:"5rem"},24:{value:"6rem"},28:{value:"7rem"},32:{value:"8rem"},36:{value:"9rem"},40:{value:"10rem"},44:{value:"11rem"},48:{value:"12rem"},52:{value:"13rem"},56:{value:"14rem"},60:{value:"15rem"},64:{value:"16rem"},72:{value:"18rem"},80:{value:"20rem"},96:{value:"24rem"}}),qse=_r.sizes({"3xs":{value:"14rem"},"2xs":{value:"16rem"},xs:{value:"20rem"},sm:{value:"24rem"},md:{value:"28rem"},lg:{value:"32rem"},xl:{value:"36rem"},"2xl":{value:"42rem"},"3xl":{value:"48rem"},"4xl":{value:"56rem"},"5xl":{value:"64rem"},"6xl":{value:"72rem"},"7xl":{value:"80rem"},"8xl":{value:"90rem"}}),Zse=_r.sizes({max:{value:"max-content"},min:{value:"min-content"},fit:{value:"fit-content"},prose:{value:"60ch"},full:{value:"100%"},dvh:{value:"100dvh"},svh:{value:"100svh"},lvh:{value:"100lvh"},dvw:{value:"100dvw"},svw:{value:"100svw"},lvw:{value:"100lvw"},vw:{value:"100vw"},vh:{value:"100vh"}}),Qse=_r.sizes({"1/2":{value:"50%"},"1/3":{value:"33.333333%"},"2/3":{value:"66.666667%"},"1/4":{value:"25%"},"3/4":{value:"75%"},"1/5":{value:"20%"},"2/5":{value:"40%"},"3/5":{value:"60%"},"4/5":{value:"80%"},"1/6":{value:"16.666667%"},"2/6":{value:"33.333333%"},"3/6":{value:"50%"},"4/6":{value:"66.666667%"},"5/6":{value:"83.333333%"},"1/12":{value:"8.333333%"},"2/12":{value:"16.666667%"},"3/12":{value:"25%"},"4/12":{value:"33.333333%"},"5/12":{value:"41.666667%"},"6/12":{value:"50%"},"7/12":{value:"58.333333%"},"8/12":{value:"66.666667%"},"9/12":{value:"75%"},"10/12":{value:"83.333333%"},"11/12":{value:"91.666667%"}}),Jse=_r.sizes({...qse,...l6,...Qse,...Zse}),ele=_r.zIndex({hide:{value:-1},base:{value:0},docked:{value:10},dropdown:{value:1e3},sticky:{value:1100},banner:{value:1200},overlay:{value:1300},modal:{value:1400},popover:{value:1500},skipNav:{value:1600},toast:{value:1700},tooltip:{value:1800},max:{value:2147483647}}),tle=V4({preflight:!0,cssVarsPrefix:"chakra",cssVarsRoot:":where(html, .chakra-theme)",globalCss:Lne,theme:{breakpoints:Fne,keyframes:jse,tokens:{aspectRatios:Ose,animations:Lse,blurs:Nse,borders:zse,colors:Bse,durations:Gse,easings:Hse,fonts:Use,fontSizes:Wse,fontWeights:$se,letterSpacings:Yse,lineHeights:Kse,radii:Xse,spacing:l6,sizes:Jse,zIndex:ele,cursor:Vse},semanticTokens:{colors:tie,shadows:nie,radii:rie},recipes:eie,slotRecipes:kse,textStyles:Fse,layerStyles:One,animationStyles:Nne}}),rle=G4(bre,tle),nle=Mne(rle);function hI(e){const{key:t,recipe:r}=e,n=wb();return O.useMemo(()=>{const i=r||(t!=null?n.getSlotRecipe(t):{});return n.sva(structuredClone(i))},[t,r,n])}const ile=e=>e.charAt(0).toUpperCase()+e.slice(1),Db=e=>{const{key:t,recipe:r}=e,n=ile(t||r.className||"Component"),[i,o]=Dg({name:`${n}StylesContext`,errorMessage:`use${n}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${n}.Root />" `}),[a,s]=Dg({name:`${n}ClassNameContext`,errorMessage:`use${n}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${n}.Root />" `,strict:!1}),[l,u]=Dg({strict:!1,name:`${n}PropsContext`,providerName:`${n}PropsContext`,defaultValue:{}});function c(g){const{unstyled:m,...y}=g,C=hI({key:t,recipe:y.recipe||r}),[w,S]=C.splitVariantProps(y);return{styles:m?jQ:C(w),classNames:C.classNameMap,props:S}}function d(g,m={}){const{defaultProps:y}=m,C=w=>{const S=tv(y,u(),w),{styles:x,classNames:R,props:T}=c(S);return J.jsx(i,{value:x,children:J.jsx(a,{value:R,children:J.jsx(g,{...T})})})};return C.displayName=g.displayName||g.name,C}return{StylesProvider:i,ClassNamesProvider:a,PropsProvider:l,usePropsContext:u,useRecipeResult:c,withProvider:(g,m,y)=>{const{defaultProps:C,...w}=y??{},S=Nn(g,{},w),x=O.forwardRef((R,T)=>{var N;const P=tv(C??{},u(),R),{styles:D,props:I,classNames:E}=c(P),k=E[m],L=J.jsx(i,{value:D,children:J.jsx(a,{value:E,children:J.jsx(S,{ref:T,...I,css:[D[m],P.css],className:Ci(P.className,k)})})});return((N=y==null?void 0:y.wrapElement)==null?void 0:N.call(y,L,P))??L});return x.displayName=g.displayName||g.name,x},withContext:(g,m,y)=>{const C=Nn(g,{},y),w=O.forwardRef((S,x)=>{const R=o(),T=s(),P=T==null?void 0:T[m];return J.jsx(C,{...S,css:[m?R[m]:void 0,S.css],ref:x,className:Ci(S.className,P)})});return w.displayName=g.displayName||g.name,w},withRootProvider:d,useStyles:o,useClassNames:s}},ole=e=>J.jsxs(Nn.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[J.jsx("path",{d:"m5 12 7-7 7 7"}),J.jsx("path",{d:"M12 19V5"})]}),ale=e=>J.jsxs(Nn.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[J.jsx("path",{d:"M12 5v14"}),J.jsx("path",{d:"m19 12-7 7-7-7"})]}),z1=e=>e?"":void 0,sle=Nn("div",{base:{display:"inline-flex",gap:"0.5rem",isolation:"isolate",position:"relative","& [data-group-item]":{_focusVisible:{zIndex:1}}},variants:{orientation:{horizontal:{flexDirection:"row"},vertical:{flexDirection:"column"}},attached:{true:{gap:"0!"}},grow:{true:{display:"flex","& > *":{flex:1}}},stacking:{"first-on-top":{"& > [data-group-item]":{zIndex:"calc(var(--group-count) - var(--group-index))"}},"last-on-top":{"& > [data-group-item]":{zIndex:"var(--group-index)"}}}},compoundVariants:[{orientation:"horizontal",attached:!0,css:{"& > *[data-first]":{borderEndRadius:"0!",marginEnd:"-1px"},"& > *[data-between]":{borderRadius:"0!",marginEnd:"-1px"},"& > *[data-last]":{borderStartRadius:"0!"}}},{orientation:"vertical",attached:!0,css:{"& > *[data-first]":{borderBottomRadius:"0!",marginBottom:"-1px"},"& > *[data-between]":{borderRadius:"0!",marginBottom:"-1px"},"& > *[data-last]":{borderTopRadius:"0!"}}}],defaultVariants:{orientation:"horizontal"}}),lle=O.memo(O.forwardRef(function(t,r){const{align:n="center",justify:i="flex-start",children:o,wrap:a,...s}=t,l=O.Children.count(o),u=O.useMemo(()=>O.Children.toArray(o).filter(O.isValidElement).map((d,h)=>{const f=d.props;return O.cloneElement(d,{...f,"data-group-item":"","data-first":z1(h===0),"data-last":z1(h===l-1),"data-between":z1(h>0&&h<l-1),style:{"--group-count":l,"--group-index":h,...(f==null?void 0:f.style)??{}}})}),[o,l]);return J.jsx(sle,{ref:r,alignItems:n,justifyContent:i,flexWrap:a,...s,children:u})})),{withProvider:u6,withContext:ule,useStyles:cle,useClassNames:dle,PropsProvider:hle}=Db({key:"avatar"});u6(J$,"root",{forwardAsChild:!0});const fle=u6(Q$,"root",{forwardAsChild:!0}),ple=Nn(X$,{},{forwardAsChild:!0});function gle(e){return e.children||e.asChild?e.children:e.name?vle(e.name):J.jsx(Cle,{})}function vle(e){const t=e.trim().split(" "),r=t[0]!=null?t[0]:"",n=t.length>1?t[t.length-1]:"";return r&&n?`${r.charAt(0)}${n.charAt(0)}`:r.charAt(0)}const mle=O.forwardRef(function(t,r){const n=cle(),i=dle(),{name:o,...a}=t;return J.jsx(ple,{ref:r,...a,className:Ci(t.className,i.fallback),css:[n.fallback,t.css],children:gle(t)})}),yle=ule(q$,"image",{forwardAsChild:!0,defaultProps:{draggable:"false",referrerPolicy:"no-referrer"}}),Cle=O.forwardRef(function(t,r){return J.jsx(Nn.svg,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1.2em",width:"1.2em",ref:r,...t,children:J.jsx("path",{d:"M20 22H18V20C18 18.3431 16.6569 17 15 17H9C7.34315 17 6 18.3431 6 20V22H4V20C4 17.2386 6.23858 15 9 15H15C17.7614 15 20 17.2386 20 20V22ZM12 13C8.68629 13 6 10.3137 6 7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7C18 10.3137 15.3137 13 12 13ZM12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z"})})});O.forwardRef(function(t,r){const n=hI({key:"avatar"}),[i,o]=n.splitVariantProps(t);return J.jsx(hle,{value:i,children:J.jsx(lle,{gap:"0",spaceX:"-3",ref:r,...o})})});const{withContext:wle}=Hc({key:"badge"}),c6=wle("span"),$i=Nn("div");$i.displayName="Box";const Yy=Nn("span"),d6=Nn("div",{base:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},variants:{axis:{horizontal:{insetStart:"50%",translate:"-50%",_rtl:{translate:"50%"}},vertical:{top:"50%",translate:"0 -50%"},both:{insetStart:"50%",top:"50%",translate:"-50% -50%",_rtl:{translate:"50% -50%"}}}},defaultVariants:{axis:"both"}});d6.displayName="AbsoluteCenter";const{withContext:ble}=Hc({key:"spinner"}),Sle=ble("span"),xle=O.forwardRef(function(t,r){const{spinner:n=J.jsx(Sle,{size:"inherit",borderWidth:"0.125em",color:"inherit"}),spinnerPlacement:i="start",children:o,text:a,visible:s=!0,...l}=t;return s?a?J.jsxs(Yy,{ref:r,display:"contents",...l,children:[i==="start"&&n,a,i==="end"&&n]}):n?J.jsxs(Yy,{ref:r,display:"contents",...l,children:[J.jsx(d6,{display:"inline-flex",children:n}),J.jsx(Yy,{opacity:0,children:o})]}):J.jsx(Yy,{ref:r,display:"contents",...l,children:o}):o}),{useRecipeResult:Rle,usePropsContext:_le}=Hc({key:"button"}),Tle=O.forwardRef(function(t,r){const n=_le(),i=O.useMemo(()=>tv(n,t),[n,t]),o=Rle(i),{loading:a,loadingText:s,children:l,spinner:u,spinnerPlacement:c,...d}=o.props;return J.jsx(Nn.button,{type:"button",ref:r,...d,disabled:a||d.disabled,className:Ci(o.className,i.className),css:[o.styles,i.css],children:!i.asChild&&a?J.jsx(xle,{spinner:u,text:s,spinnerPlacement:c,children:l}):l})}),h6=O.forwardRef(function(t,r){return J.jsx(Tle,{px:"0",py:"0",_icon:{fontSize:"1.2em"},ref:r,...t})}),{withProvider:Ple,withContext:em}=Db({key:"card"}),Dle=Ple("div","root"),Ale=em("div","body");em("div","header");em("div","footer");const Ile=em("h3","title"),Ele=em("p","description");function Mle(e){const{when:t,fallback:r,children:n}=e;let i;return t?i=typeof n=="function"?n(t):n:i=r,O.isValidElement(i)?i:J.jsx(J.Fragment,{children:i})}const kle=e=>{const{children:t,fallback:r}=e,[n,i]=O.useState(!1);return O.useEffect(()=>{i(!0)},[]),J.jsx(Mle,{when:n,fallback:r,children:t})},{withContext:Fle}=Hc({key:"container"}),Ab=Fle("div"),Lle=O.forwardRef(function(t,r){const{align:n,fit:i="cover",...o}=t;return J.jsx(Nn.img,{ref:r,objectFit:i,objectPosition:n,className:Ci("chakra-image",t.className),...o})}),{withContext:Ole}=Hc({key:"link"}),_2=Ole("a"),{withRootProvider:f6,withContext:_i}=Db({key:"popover"});f6(Uoe);const Nle=f6($oe),zle=_i(V$,"trigger",{forwardAsChild:!0}),Ble=_i(N$,"positioner",{forwardAsChild:!0}),Vle=_i(F$,"content",{forwardAsChild:!0}),Gle=_i(E$,"arrow",{forwardAsChild:!0}),Hle=_i(M$,"arrowTip",{forwardAsChild:!0});_i(k$,"closeTrigger",{forwardAsChild:!0});_i(O$,"indicator",{forwardAsChild:!0});_i(B$,"title",{forwardAsChild:!0});_i(L$,"description",{forwardAsChild:!0});_i("footer","footer");_i("header","header");_i("div","body");_i(I$,void 0,{forwardAsChild:!0});const Wle=e=>{var l;const{children:t,disabled:r}=e,[n,i]=O.useState((l=e.container)==null?void 0:l.current),o=O.useSyncExternalStore(Ule,()=>!1,()=>!0),{getRootNode:a}=tI();if(O.useEffect(()=>{i(()=>{var u;return(u=e.container)==null?void 0:u.current})},[e.container]),o||r)return J.jsx(J.Fragment,{children:t});const s=n??$le(a);return J.jsx(J.Fragment,{children:O.Children.map(t,u=>xb.createPortal(u,s))})},$le=e=>{const t=e==null?void 0:e(),r=t.getRootNode();return ov(r)?r:ks(t).body},Ule=()=>()=>{},{withContext:jle}=Hc({key:"skeleton"}),Yle=jle("div");function Kle(e){const{gap:t,direction:r}=e,n={column:{marginY:t,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},"column-reverse":{marginY:t,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},row:{marginX:t,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0},"row-reverse":{marginX:t,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0}};return{"&":W4(r,i=>n[i])}}function Xle(e){return O.Children.toArray(e).filter(t=>O.isValidElement(t))}const sa=O.forwardRef(function(t,r){const{direction:n="column",align:i,justify:o,gap:a="0.5rem",wrap:s,children:l,separator:u,className:c,...d}=t,h=O.useMemo(()=>Kle({gap:a,direction:n}),[a,n]),f=O.useMemo(()=>u?Xle(l).map((g,m,y)=>{const C=typeof g.key<"u"?g.key:m,w=O.cloneElement(u,{css:[h,u.props.css]});return J.jsxs(O.Fragment,{children:[g,m===y.length-1?null:w]},C)}):l,[l,u,h]);return J.jsx(Nn.div,{ref:r,display:"flex",alignItems:i,justifyContent:o,flexDirection:n,flexWrap:s,gap:u?void 0:a,className:Ci("chakra-stack",c),...d,children:f})}),Ib=O.forwardRef(function(t,r){return J.jsx(sa,{align:"center",...t,direction:"row",ref:r})}),qle=O.forwardRef(function(t,r){return J.jsx(sa,{align:"center",...t,direction:"column",ref:r})}),{withProvider:Zle,withContext:ff,PropsProvider:Qle}=Db({key:"stat"}),Jle=Zle("dl","root"),eue=ff("dt","label"),tue=ff("dd","valueText"),rue=ff("span","helpText");ff("span","valueUnit");const nue=ff("span","indicator",{defaultProps:{"data-type":"up",children:J.jsx(ole,{})}});ff("span","indicator",{defaultProps:{"data-type":"down",children:J.jsx(ale,{})}});O.forwardRef(function(t,r){const n=hI({key:"stat"}),[i,o]=n.splitVariantProps(t);return J.jsx(Qle,{value:i,children:J.jsx(Nn.div,{ref:r,role:"group",display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start",...o})})});const{withContext:iue}=Hc({key:"text"}),nc=iue("p");var oue=(e,t,r,n,i,o,a,s)=>{let l=document.documentElement,u=["light","dark"];function c(f){(Array.isArray(e)?e:[e]).forEach(g=>{let m=g==="class",y=m&&o?i.map(C=>o[C]||C):i;m?(l.classList.remove(...y),l.classList.add(f)):l.setAttribute(g,f)}),d(f)}function d(f){s&&u.includes(f)&&(l.style.colorScheme=f)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)c(n);else try{let f=localStorage.getItem(t)||r,g=a&&f==="system"?h():f;c(g)}catch{}},T2=["light","dark"],p6="(prefers-color-scheme: dark)",aue=typeof window>"u",fI=O.createContext(void 0),sue={setTheme:e=>{},themes:[]},lue=()=>{var e;return(e=O.useContext(fI))!=null?e:sue},uue=e=>O.useContext(fI)?O.createElement(O.Fragment,null,e.children):O.createElement(due,{...e}),cue=["light","dark"],due=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:i="theme",themes:o=cue,defaultTheme:a=r?"system":"light",attribute:s="data-theme",value:l,children:u,nonce:c,scriptProps:d})=>{let[h,f]=O.useState(()=>P2(i,a)),[g,m]=O.useState(()=>P2(i)),y=l?Object.values(l):o,C=O.useCallback(R=>{let T=R;if(!T)return;R==="system"&&r&&(T=D2());let P=l?l[T]:T,D=t?fue(c):null,I=document.documentElement,E=k=>{k==="class"?(I.classList.remove(...y),P&&I.classList.add(P)):k.startsWith("data-")&&(P?I.setAttribute(k,P):I.removeAttribute(k))};if(Array.isArray(s)?s.forEach(E):E(s),n){let k=T2.includes(a)?a:null,L=T2.includes(T)?T:k;I.style.colorScheme=L}D==null||D()},[c]),w=O.useCallback(R=>{let T=typeof R=="function"?R(h):R;f(T);try{localStorage.setItem(i,T)}catch{}},[h]),S=O.useCallback(R=>{let T=D2(R);m(T),h==="system"&&r&&!e&&C("system")},[h,e]);O.useEffect(()=>{let R=window.matchMedia(p6);return R.addListener(S),S(R),()=>R.removeListener(S)},[S]),O.useEffect(()=>{let R=T=>{T.key===i&&(T.newValue?f(T.newValue):w(a))};return window.addEventListener("storage",R),()=>window.removeEventListener("storage",R)},[w]),O.useEffect(()=>{C(e??h)},[e,h]);let x=O.useMemo(()=>({theme:h,setTheme:w,forcedTheme:e,resolvedTheme:h==="system"?g:h,themes:r?[...o,"system"]:o,systemTheme:r?g:void 0}),[h,w,e,g,r,o]);return O.createElement(fI.Provider,{value:x},O.createElement(hue,{forcedTheme:e,storageKey:i,attribute:s,enableSystem:r,enableColorScheme:n,defaultTheme:a,value:l,themes:o,nonce:c,scriptProps:d}),u)},hue=O.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:o,value:a,themes:s,nonce:l,scriptProps:u})=>{let c=JSON.stringify([r,t,o,e,s,a,n,i]).slice(1,-1);return O.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${oue.toString()})(${c})`}})}),P2=(e,t)=>{if(aue)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},fue=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},D2=e=>(e||(e=window.matchMedia(p6)),e.matches?"dark":"light"),g6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},A2=ge.createContext&&ge.createContext(g6),pue=["attr","size","title"];function gue(e,t){if(e==null)return{};var r=vue(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qw.apply(this,arguments)}function I2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(r),!0).forEach(function(n){mue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mue(e,t,r){return t=yue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yue(e){var t=Cue(e,"string");return typeof t=="symbol"?t:t+""}function Cue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v6(e){return e&&e.map((t,r)=>ge.createElement(t.tag,Jw({key:r},t.attr),v6(t.child)))}function tm(e){return t=>ge.createElement(wue,Qw({attr:Jw({},e.attr)},t),v6(e.child))}function wue(e){var t=r=>{var{attr:n,size:i,title:o}=e,a=gue(e,pue),s=i||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),ge.createElement("svg",Qw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:l,style:Jw(Jw({color:e.color||r.color},r.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&ge.createElement("title",null,o),e.children)};return A2!==void 0?ge.createElement(A2.Consumer,null,r=>t(r)):t(g6)}function bue(e){return tm({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},child:[]}]})(e)}function Sue(e){return tm({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M12 2v2"},child:[]},{tag:"path",attr:{d:"M12 20v2"},child:[]},{tag:"path",attr:{d:"m4.93 4.93 1.41 1.41"},child:[]},{tag:"path",attr:{d:"m17.66 17.66 1.41 1.41"},child:[]},{tag:"path",attr:{d:"M2 12h2"},child:[]},{tag:"path",attr:{d:"M20 12h2"},child:[]},{tag:"path",attr:{d:"m6.34 17.66-1.41 1.41"},child:[]},{tag:"path",attr:{d:"m19.07 4.93-1.41 1.41"},child:[]}]})(e)}function xue(e){return J.jsx(uue,{attribute:"class",disableTransitionOnChange:!0,...e})}function m6(){const{resolvedTheme:e,setTheme:t}=lue();return{colorMode:e,setColorMode:t,toggleColorMode:()=>{t(e==="light"?"dark":"light")}}}function Rue(){const{colorMode:e}=m6();return e==="dark"?J.jsx(bue,{}):J.jsx(Sue,{})}O.forwardRef(function(t,r){const{toggleColorMode:n}=m6();return J.jsx(kle,{fallback:J.jsx(Yle,{boxSize:"8"}),children:J.jsx(h6,{onClick:n,variant:"ghost","aria-label":"Toggle color mode",size:"sm",ref:r,...t,css:{_icon:{width:"5",height:"5"}},children:J.jsx(Rue,{})})})});function _ue(e){return J.jsx(WJ,{value:nle,children:J.jsx(xue,{...e})})}function Tue(e){return tm({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"},child:[]}]})(e)}function Pue(e){return tm({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM349.3 793.7H230.6V411.9h118.7v381.8zm-59.3-434a68.8 68.8 0 1 1 68.8-68.8c-.1 38-30.9 68.8-68.8 68.8zm503.7 434H675.1V608c0-44.3-.8-101.2-61.7-101.2-61.7 0-71.2 48.2-71.2 98v188.9H423.7V411.9h113.8v52.2h1.6c15.8-30 54.5-61.7 112.3-61.7 120.2 0 142.3 79.1 142.3 181.9v209.4z"},child:[]}]})(e)}const Due=()=>J.jsx(Ab,{maxW:"container",fluid:!0,p:5,display:"flex",direction:"column",justifyContent:"center",alignItems:"center",borderTopWidth:2,borderTopColor:"gray.600",children:J.jsxs(qle,{spacing:2,children:[J.jsxs(Ib,{spacing:6,children:[J.jsx(nc,{fontSize:"lg",fontWeight:"bold",p:2,textAlign:"center",color:"white",children:"Made with  by Shubhankar Kaushik"}),J.jsx(_2,{href:"https://github.com/Punosie",isExternal:!0,children:J.jsx(Tue,{size:30,color:"white"})}),J.jsx(_2,{href:"https://www.linkedin.com/in/shubhankar-kaushik/",isExternal:!0,children:J.jsx(Pue,{size:30,color:"white"})})]}),J.jsx(nc,{fontSize:"sm",p:2,color:"white",children:" 2025 Shubhankar Kaushik. All rights reserved."})]})}),Aue=({src:e})=>J.jsx(Ib,{gap:"4",children:J.jsxs(fle,{shape:"full",size:"lg",children:[J.jsx(mle,{name:"Random User"}),J.jsx(yle,{src:e})]})}),Iue=()=>J.jsxs(Ab,{maxW:"container",fluid:!0,p:5,display:"flex",justifyContent:"space-between",alignItems:"center",borderBottomWidth:2,children:[J.jsx(nc,{fontSize:"2xl",fontWeight:"bold",p:2,flexGrow:1,textAlign:"center",children:"STREAMIFY DASHBOARD"}),J.jsx($i,{children:J.jsx(Aue,{src:"https://i.pinimg.com/236x/a4/53/4d/a4534df18706fcf45740d163a8097e5e.jpg"})})]});function Eue(e){return tm({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(e)}const Mue=O.forwardRef(function(t,r){const{showArrow:n,children:i,portalled:o=!0,content:a,portalRef:s,...l}=t;return J.jsxs(Nle,{...l,positioning:{...l.positioning,gutter:4},children:[J.jsx(zle,{asChild:!0,children:i}),J.jsx(Wle,{disabled:!o,container:s,children:J.jsx(Ble,{children:J.jsxs(Vle,{width:"auto",px:"2",py:"1",textStyle:"xs",rounded:"sm",ref:r,children:[n&&J.jsx(Gle,{children:J.jsx(Hle,{})}),a]})})})]})}),kue=O.forwardRef(function(t,r){const{children:n,...i}=t;return J.jsx(Mue,{content:n,...i,ref:r,children:J.jsx(h6,{variant:"ghost","aria-label":"info",size:"2xs",colorPalette:"gray",children:J.jsx(Eue,{})})})}),E2=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e,Ld=({label:e,value:t,info:r,indicator:n})=>{const i=E2(t),o=E2(n);return J.jsxs(Jle,{maxW:"240px",borderWidth:"1px",radius:"md",p:5,width:"100%",children:[J.jsxs(eue,{whiteSpace:"nowrap",children:[e,J.jsx(kue,{children:r})]}),J.jsxs(Ib,{children:[J.jsx(tue,{children:i}),J.jsxs(c6,{colorPalette:"green",gap:"0",variant:"outline",children:[J.jsx(nue,{}),o]})]}),J.jsx(rue,{children:"since last month"})]})},Gi={totalUsers:1e4,activeUsers:5e3,totalStreams:12e5,revenue:{subscriptions:75e3,ads:25e3,premiumFeatures:15e3,merchandise:1e4,partnerships:2e4,donations:5e3,liveEvents:12e3,licensing:8e3,affiliateMarketing:4e3},topArtists:[{name:"The Weeknd",genre:["Pop","R&B"],albumCover:"https://upload.wikimedia.org/wikipedia/en/3/39/The_Weeknd_-_Starboy.png",totalStreams:5e5,mostPopularSong:"Blinding Lights",bio:"The Weeknd is a Canadian singer, songwriter, and record producer known for his hit songs and unique voice blending pop and R&B."},{name:"Rina Sawayama",genre:["Pop","Rock","Electronic"],albumCover:"https://upload.wikimedia.org/wikipedia/en/8/83/Sawayama_by_Rina_Sawayama_album_cover_%28digital%29.png",totalStreams:25e4,mostPopularSong:"STFU!",bio:"Rina Sawayama is a British-Japanese singer, songwriter, and model, blending genres like pop, rock, and electronic in innovative ways."},{name:"Fujii Kaze",genre:["Pop","R&B","Jazz"],albumCover:"https://upload.wikimedia.org/wikipedia/en/thumb/0/03/Fujii_Kaze_-_Help_Ever_Hurt_Never.png/220px-Fujii_Kaze_-_Help_Ever_Hurt_Never.png",totalStreams:3e5,mostPopularSong:"Shinunoga E-Wa",bio:"Fujii Kaze is a Japanese singer-songwriter known for his soulful, genre-blending music that mixes pop, R&B, and jazz elements."}],userGrowth:[{month:"Jan",total:8e3,active:4e3},{month:"Feb",total:8500,active:4200},{month:"Mar",total:9e3,active:4500},{month:"Apr",total:1e4,active:5e3},{month:"May",total:10500,active:5300},{month:"Jun",total:11e3,active:5500},{month:"Jul",total:11500,active:5700},{month:"Aug",total:12e3,active:6e3},{month:"Sep",total:12500,active:6300},{month:"Oct",total:13e3,active:6500},{month:"Nov",total:13500,active:6700},{month:"Dec",total:14e3,active:7e3}],topSongs:[{name:"Blinding Lights",streams:5e4},{name:"Save Your Tears",streams:45e3},{name:"Levitating",streams:4e4},{name:"Peaches",streams:38e3},{name:"Stay",streams:35e3},{name:"Thank U, Next",streams:3e4},{name:"Bad Guy",streams:28e3},{name:"Shinunoga E-Wa",streams:27e3},{name:"STFU!",streams:25e3},{name:"Blinding Lights",streams:24e3}],recentStreams:[{song:"Stay",artist:"Justin Bieber",date:"2025-02-01",count:5e3,userId:"123"},{song:"Peaches",artist:"Justin Bieber",date:"2025-02-02",count:4e3,userId:"124"},{song:"Blinding Lights",artist:"The Weeknd",date:"2025-02-03",count:3e3,userId:"125"},{song:"Levitating",artist:"Dua Lipa",date:"2025-02-04",count:4500,userId:"126"},{song:"Save Your Tears",artist:"The Weeknd",date:"2025-02-05",count:5500,userId:"127"},{song:"Bad Guy",artist:"Billie Eilish",date:"2025-02-06",count:6e3,userId:"128"},{song:"Shinunoga E-Wa",artist:"Fujii Kaze",date:"2025-02-07",count:4e3,userId:"129"},{song:"STFU!",artist:"Rina Sawayama",date:"2025-02-08",count:3700,userId:"130"},{song:"Levitating",artist:"Dua Lipa",date:"2025-02-09",count:4800,userId:"131"},{song:"Blinding Lights",artist:"The Weeknd",date:"2025-02-10",count:5100,userId:"132"},{song:"Save Your Tears",artist:"The Weeknd",date:"2025-02-11",count:5300,userId:"133"},{song:"Peaches",artist:"Justin Bieber",date:"2025-02-12",count:4100,userId:"134"},{song:"STFU!",artist:"Rina Sawayama",date:"2025-02-13",count:3600,userId:"135"},{song:"Shinunoga E-Wa",artist:"Fujii Kaze",date:"2025-02-14",count:3900,userId:"136"},{song:"Bad Guy",artist:"Billie Eilish",date:"2025-02-15",count:6100,userId:"137"},{song:"Blinding Lights",artist:"The Weeknd",date:"2025-02-16",count:3200,userId:"138"},{song:"Levitating",artist:"Dua Lipa",date:"2025-02-17",count:4700,userId:"139"},{song:"Stay",artist:"Justin Bieber",date:"2025-02-18",count:5100,userId:"140"},{song:"Blinding Lights",artist:"The Weeknd",date:"2025-02-19",count:5500,userId:"141"},{song:"Shinunoga E-Wa",artist:"Fujii Kaze",date:"2025-02-20",count:4200,userId:"142"},{song:"Bad Guy",artist:"Billie Eilish",date:"2025-02-21",count:5800,userId:"143"},{song:"Levitating",artist:"Dua Lipa",date:"2025-02-22",count:4900,userId:"144"},{song:"Save Your Tears",artist:"The Weeknd",date:"2025-02-23",count:5600,userId:"145"},{song:"STFU!",artist:"Rina Sawayama",date:"2025-02-24",count:3800,userId:"146"},{song:"Peaches",artist:"Justin Bieber",date:"2025-02-25",count:4200,userId:"147"},{song:"Blinding Lights",artist:"The Weeknd",date:"2025-02-26",count:5300,userId:"148"},{song:"Shinunoga E-Wa",artist:"Fujii Kaze",date:"2025-02-27",count:4300,userId:"149"}]},Fue=({src:e,title:t,description:r,badges:n})=>{const i=o=>{switch(o){case"Pop":return"blue";case"Rap":return"red";case"Jazz":return"yellow";case"Rock":return"green";case"Electronic":return"pink";case"Country":return"orange";default:return"purple"}};return J.jsxs(Dle,{flexDirection:{base:"column",md:"row"},maxW:"xl",p:5,textAlign:"center",alignItems:"center",children:[J.jsx(Lle,{objectFit:"cover",maxW:"200px",src:e,alt:"Album Cover"}),J.jsx($i,{children:J.jsxs(Ale,{alignItems:"center",children:[J.jsx(Ile,{mb:"2",children:t}),J.jsx(Ele,{children:r}),J.jsx(Ib,{mt:"4",children:n==null?void 0:n.map((o,a)=>J.jsx(c6,{colorPalette:i(o),gap:"0",children:o},a))})]})})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var iP=function(e,t){return iP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},iP(e,t)};function q(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");iP(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var oP=function(){return oP=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},oP.apply(this,arguments)},Lue=function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e}(),Oue=function(){function e(){this.browser=new Lue,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e}(),rt=new Oue;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(rt.wxa=!0,rt.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?rt.worker=!0:!rt.hasGlobalWindow||"Deno"in window?(rt.node=!0,rt.svgSupported=!0):Nue(navigator.userAgent,rt);function Nue(e,t){var r=t.browser,n=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(e);n&&(r.firefox=!0,r.version=n[1]),i&&(r.ie=!0,r.version=i[1]),o&&(r.edge=!0,r.version=o[1],r.newEdge=+o[1].split(".")[0]>18),a&&(r.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,t.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),t.domSupported=typeof document<"u";var s=document.documentElement.style;t.transform3dSupported=(r.ie&&"transition"in s||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||r.ie&&+r.version>=9}var pI=12,y6="sans-serif",Wl=pI+"px "+y6,zue=20,Bue=100,Vue="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function Gue(e){var t={};if(typeof JSON>"u")return t;for(var r=0;r<e.length;r++){var n=String.fromCharCode(r+32),i=(e.charCodeAt(r)-zue)/Bue;t[n]=i}return t}var Hue=Gue(Vue),No={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var e,t;return function(r,n){if(!e){var i=No.createCanvas();e=i&&i.getContext("2d")}if(e)return t!==n&&(t=e.font=n||Wl),e.measureText(r);r=r||"",n=n||Wl;var o=/((?:\d+)?\.?\d*)px/.exec(n),a=o&&+o[1]||pI,s=0;if(n.indexOf("mono")>=0)s=a*r.length;else for(var l=0;l<r.length;l++){var u=Hue[r[l]];s+=u==null?a:u*a}return{width:s}}}(),loadImage:function(e,t,r){var n=new Image;return n.onload=t,n.onerror=r,n.src=e,n}};function C6(e){for(var t in No)e[t]&&(No[t]=e[t])}var w6=no(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),b6=no(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),pf=Object.prototype.toString,Eb=Array.prototype,Wue=Eb.forEach,$ue=Eb.filter,gI=Eb.slice,Uue=Eb.map,M2=(function(){}).constructor,Ky=M2?M2.prototype:null,vI="__proto__",jue=2311;function mI(){return jue++}function Mb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function Fe(e){if(e==null||typeof e!="object")return e;var t=e,r=pf.call(e);if(r==="[object Array]"){if(!Rh(e)){t=[];for(var n=0,i=e.length;n<i;n++)t[n]=Fe(e[n])}}else if(b6[r]){if(!Rh(e)){var o=e.constructor;if(o.from)t=o.from(e);else{t=new o(e.length);for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}}}else if(!w6[r]&&!Rh(e)&&!Dc(e)){t={};for(var a in e)e.hasOwnProperty(a)&&a!==vI&&(t[a]=Fe(e[a]))}return t}function Ke(e,t,r){if(!ke(t)||!ke(e))return r?Fe(t):e;for(var n in t)if(t.hasOwnProperty(n)&&n!==vI){var i=e[n],o=t[n];ke(o)&&ke(i)&&!se(o)&&!se(i)&&!Dc(o)&&!Dc(i)&&!aP(o)&&!aP(i)&&!Rh(o)&&!Rh(i)?Ke(i,o,r):(r||!(n in e))&&(e[n]=Fe(t[n]))}return e}function kb(e,t){for(var r=e[0],n=1,i=e.length;n<i;n++)r=Ke(r,e[n],t);return r}function ie(e,t){if(Object.assign)Object.assign(e,t);else for(var r in t)t.hasOwnProperty(r)&&r!==vI&&(e[r]=t[r]);return e}function Ee(e,t,r){for(var n=at(t),i=0,o=n.length;i<o;i++){var a=n[i];(r?t[a]!=null:e[a]==null)&&(e[a]=t[a])}return e}var Yue=No.createCanvas;function Ze(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r}return-1}function yI(e,t){var r=e.prototype;function n(){}n.prototype=t.prototype,e.prototype=new n;for(var i in r)r.hasOwnProperty(i)&&(e.prototype[i]=r[i]);e.prototype.constructor=e,e.superClass=t}function ar(e,t,r){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var o=n[i];o!=="constructor"&&(r?t[o]!=null:e[o]==null)&&(e[o]=t[o])}else Ee(e,t,r)}function Zr(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function F(e,t,r){if(e&&t)if(e.forEach&&e.forEach===Wue)e.forEach(t,r);else if(e.length===+e.length)for(var n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(r,e[o],o,e)}function le(e,t,r){if(!e)return[];if(!t)return Fb(e);if(e.map&&e.map===Uue)return e.map(t,r);for(var n=[],i=0,o=e.length;i<o;i++)n.push(t.call(r,e[i],i,e));return n}function no(e,t,r,n){if(e&&t){for(var i=0,o=e.length;i<o;i++)r=t.call(n,r,e[i],i,e);return r}}function mt(e,t,r){if(!e)return[];if(!t)return Fb(e);if(e.filter&&e.filter===$ue)return e.filter(t,r);for(var n=[],i=0,o=e.length;i<o;i++)t.call(r,e[i],i,e)&&n.push(e[i]);return n}function S6(e,t,r){if(e&&t){for(var n=0,i=e.length;n<i;n++)if(t.call(r,e[n],n,e))return e[n]}}function at(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}function Kue(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return e.apply(t,r.concat(gI.call(arguments)))}}var Se=Ky&&Ie(Ky.bind)?Ky.call.bind(Ky.bind):Kue;function je(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(){return e.apply(this,t.concat(gI.call(arguments)))}}function se(e){return Array.isArray?Array.isArray(e):pf.call(e)==="[object Array]"}function Ie(e){return typeof e=="function"}function we(e){return typeof e=="string"}function e0(e){return pf.call(e)==="[object String]"}function pt(e){return typeof e=="number"}function ke(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function aP(e){return!!w6[pf.call(e)]}function zn(e){return!!b6[pf.call(e)]}function Dc(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function rm(e){return e.colorStops!=null}function x6(e){return e.image!=null}function R6(e){return pf.call(e)==="[object RegExp]"}function Hh(e){return e!==e}function Ar(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e.length;r<n;r++)if(e[r]!=null)return e[r]}function Ue(e,t){return e??t}function Io(e,t,r){return e??t??r}function Fb(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return gI.apply(e,t)}function Lb(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function Cn(e,t){if(!e)throw new Error(t)}function Xi(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var _6="__ec_primitive__";function lv(e){e[_6]=!0}function Rh(e){return e[_6]}var Xue=function(){function e(){this.data={}}return e.prototype.delete=function(t){var r=this.has(t);return r&&delete this.data[t],r},e.prototype.has=function(t){return this.data.hasOwnProperty(t)},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,r){return this.data[t]=r,this},e.prototype.keys=function(){return at(this.data)},e.prototype.forEach=function(t){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&t(r[n],n)},e}(),T6=typeof Map=="function";function que(){return T6?new Map:new Xue}var P6=function(){function e(t){var r=se(t);this.data=que();var n=this;t instanceof e?t.each(i):t&&F(t,i);function i(o,a){r?n.set(o,a):n.set(a,o)}}return e.prototype.hasKey=function(t){return this.data.has(t)},e.prototype.get=function(t){return this.data.get(t)},e.prototype.set=function(t,r){return this.data.set(t,r),r},e.prototype.each=function(t,r){this.data.forEach(function(n,i){t.call(r,n,i)})},e.prototype.keys=function(){var t=this.data.keys();return T6?Array.from(t):t},e.prototype.removeKey=function(t){this.data.delete(t)},e}();function Pe(e){return new P6(e)}function Wh(e,t){for(var r=new e.constructor(e.length+t.length),n=0;n<e.length;n++)r[n]=e[n];for(var i=e.length,n=0;n<t.length;n++)r[n+i]=t[n];return r}function nm(e,t){var r;if(Object.create)r=Object.create(e);else{var n=function(){};n.prototype=e,r=new n}return t&&ie(r,t),r}function CI(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function _e(e,t){return e.hasOwnProperty(t)}function ir(){}var Eg=180/Math.PI;const Zue=Object.freeze(Object.defineProperty({__proto__:null,HashMap:P6,RADIAN_TO_DEGREE:Eg,assert:Cn,bind:Se,clone:Fe,concatArray:Wh,createCanvas:Yue,createHashMap:Pe,createObject:nm,curry:je,defaults:Ee,disableUserSelect:CI,each:F,eqNaN:Hh,extend:ie,filter:mt,find:S6,guid:mI,hasOwn:_e,indexOf:Ze,inherits:yI,isArray:se,isArrayLike:Zr,isBuiltInObject:aP,isDom:Dc,isFunction:Ie,isGradientObject:rm,isImagePatternObject:x6,isNumber:pt,isObject:ke,isPrimitive:Rh,isRegExp:R6,isString:we,isStringSafe:e0,isTypedArray:zn,keys:at,logError:Mb,map:le,merge:Ke,mergeAll:kb,mixin:ar,noop:ir,normalizeCssArray:Lb,reduce:no,retrieve:Ar,retrieve2:Ue,retrieve3:Io,setAsPrimitive:lv,slice:Fb,trim:Xi},Symbol.toStringTag,{value:"Module"}));function Zl(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function fn(e,t){return e[0]=t[0],e[1]=t[1],e}function wa(e){return[e[0],e[1]]}function D6(e,t,r){return e[0]=t,e[1]=r,e}function sP(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function t0(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function Rl(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function uv(e){return Math.sqrt(wI(e))}var Que=uv;function wI(e){return e[0]*e[0]+e[1]*e[1]}var Jue=wI;function ece(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function tce(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function rce(e,t){return e[0]*t[0]+e[1]*t[1]}function Mg(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function $c(e,t){var r=uv(t);return r===0?(e[0]=0,e[1]=0):(e[0]=t[0]/r,e[1]=t[1]/r),e}function r0(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var us=r0;function A6(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Ml=A6;function nce(e,t){return e[0]=-t[0],e[1]=-t[1],e}function kg(e,t,r,n){return e[0]=t[0]+n*(r[0]-t[0]),e[1]=t[1]+n*(r[1]-t[1]),e}function Hr(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function cs(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function ds(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}const ice=Object.freeze(Object.defineProperty({__proto__:null,add:sP,applyTransform:Hr,clone:wa,copy:fn,create:Zl,dist:us,distSquare:Ml,distance:r0,distanceSquare:A6,div:tce,dot:rce,len:uv,lenSquare:wI,length:Que,lengthSquare:Jue,lerp:kg,max:ds,min:cs,mul:ece,negate:nce,normalize:$c,scale:Mg,scaleAndAdd:t0,set:D6,sub:Rl},Symbol.toStringTag,{value:"Module"}));var Od=function(){function e(t,r){this.target=t,this.topTarget=r&&r.topTarget}return e}(),oce=function(){function e(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(t){for(var r=t.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Od(r,t),"dragstart",t.event))},e.prototype._drag=function(t){var r=this._draggingTarget;if(r){var n=t.offsetX,i=t.offsetY,o=n-this._x,a=i-this._y;this._x=n,this._y=i,r.drift(o,a,t),this.handler.dispatchToElement(new Od(r,t),"drag",t.event);var s=this.handler.findHover(n,i,r).target,l=this._dropTarget;this._dropTarget=s,r!==s&&(l&&s!==l&&this.handler.dispatchToElement(new Od(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new Od(s,t),"dragenter",t.event))}},e.prototype._dragEnd=function(t){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new Od(r,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Od(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},e}(),oo=function(){function e(t){t&&(this._$eventProcessor=t)}return e.prototype.on=function(t,r,n,i){this._$handlers||(this._$handlers={});var o=this._$handlers;if(typeof r=="function"&&(i=n,n=r,r=null),!n||!t)return this;var a=this._$eventProcessor;r!=null&&a&&a.normalizeQuery&&(r=a.normalizeQuery(r)),o[t]||(o[t]=[]);for(var s=0;s<o[t].length;s++)if(o[t][s].h===n)return this;var l={h:n,query:r,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},u=o[t].length-1,c=o[t][u];return c&&c.callAtLast?o[t].splice(u,0,l):o[t].push(l),this},e.prototype.isSilent=function(t){var r=this._$handlers;return!r||!r[t]||!r[t].length},e.prototype.off=function(t,r){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(r){if(n[t]){for(var i=[],o=0,a=n[t].length;o<a;o++)n[t][o].h!==r&&i.push(n[t][o]);n[t]=i}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},e.prototype.trigger=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],o=this._$eventProcessor;if(i)for(var a=r.length,s=i.length,l=0;l<s;l++){var u=i[l];if(!(o&&o.filter&&u.query!=null&&!o.filter(t,u.query)))switch(a){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,r[0]);break;case 2:u.h.call(u.ctx,r[0],r[1]);break;default:u.h.apply(u.ctx,r);break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},e.prototype.triggerWithContext=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],o=this._$eventProcessor;if(i)for(var a=r.length,s=r[a-1],l=i.length,u=0;u<l;u++){var c=i[u];if(!(o&&o.filter&&c.query!=null&&!o.filter(t,c.query)))switch(a){case 0:c.h.call(s);break;case 1:c.h.call(s,r[0]);break;case 2:c.h.call(s,r[0],r[1]);break;default:c.h.apply(s,r.slice(1,a-1));break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},e}(),ace=Math.log(2);function lP(e,t,r,n,i,o){var a=n+"-"+i,s=e.length;if(o.hasOwnProperty(a))return o[a];if(t===1){var l=Math.round(Math.log((1<<s)-1&~i)/ace);return e[r][l]}for(var u=n|1<<r,c=r+1;n&1<<c;)c++;for(var d=0,h=0,f=0;h<s;h++){var g=1<<h;g&i||(d+=(f%2?-1:1)*e[r][h]*lP(e,t-1,c,u,i|g,o),f++)}return o[a]=d,d}function k2(e,t){var r=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],n={},i=lP(r,8,0,0,0,n);if(i!==0){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)o[s]==null&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*lP(r,7,a===0?1:0,1<<a,1<<s,n)/i*t[a];return function(l,u,c){var d=u*o[6]+c*o[7]+1;l[0]=(u*o[0]+c*o[1]+o[2])/d,l[1]=(u*o[3]+c*o[4]+o[5])/d}}}var F2="___zrEVENTSAVED",B1=[];function sce(e,t,r,n,i){return uP(B1,t,n,i,!0)&&uP(e,r,B1[0],B1[1])}function uP(e,t,r,n,i){if(t.getBoundingClientRect&&rt.domSupported&&!I6(t)){var o=t[F2]||(t[F2]={}),a=lce(t,o),s=uce(a,o,i);if(s)return s(e,r,n),!0}return!1}function lce(e,t){var r=t.markers;if(r)return r;r=t.markers=[];for(var n=["left","right"],i=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=a.style,l=o%2,u=(o>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",i[u]+":0",n[1-l]+":auto",i[1-u]+":auto",""].join("!important;"),e.appendChild(a),r.push(a)}return r}function uce(e,t,r){for(var n=r?"invTrans":"trans",i=t[n],o=t.srcCoords,a=[],s=[],l=!0,u=0;u<4;u++){var c=e[u].getBoundingClientRect(),d=2*u,h=c.left,f=c.top;a.push(h,f),l=l&&o&&h===o[d]&&f===o[d+1],s.push(e[u].offsetLeft,e[u].offsetTop)}return l&&i?i:(t.srcCoords=a,t[n]=r?k2(s,a):k2(a,s))}function I6(e){return e.nodeName.toUpperCase()==="CANVAS"}var cce=/([&<>"'])/g,dce={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function gn(e){return e==null?"":(e+"").replace(cce,function(t,r){return dce[r]})}var hce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,V1=[],fce=rt.browser.firefox&&+rt.browser.version.split(".")[0]<39;function cP(e,t,r,n){return r=r||{},n?L2(e,t,r):fce&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):L2(e,t,r),r}function L2(e,t,r){if(rt.domSupported&&e.getBoundingClientRect){var n=t.clientX,i=t.clientY;if(I6(e)){var o=e.getBoundingClientRect();r.zrX=n-o.left,r.zrY=i-o.top;return}else if(uP(V1,e,n,i)){r.zrX=V1[0],r.zrY=V1[1];return}}r.zrX=r.zrY=0}function bI(e){return e||window.event}function Bi(e,t,r){if(t=bI(t),t.zrX!=null)return t;var n=t.type,i=n&&n.indexOf("touch")>=0;if(i){var a=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];a&&cP(e,a,t,r)}else{cP(e,t,t,r);var o=pce(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var s=t.button;return t.which==null&&s!==void 0&&hce.test(t.type)&&(t.which=s&1?1:s&2?3:s&4?2:0),t}function pce(e){var t=e.wheelDelta;if(t)return t;var r=e.deltaX,n=e.deltaY;if(r==null||n==null)return t;var i=Math.abs(n!==0?n:r),o=n>0?-1:n<0?1:r>0?-1:1;return 3*i*o}function dP(e,t,r,n){e.addEventListener(t,r,n)}function gce(e,t,r,n){e.removeEventListener(t,r,n)}var Rs=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function O2(e){return e.which===2||e.which===3}var vce=function(){function e(){this._track=[]}return e.prototype.recognize=function(t,r,n){return this._doTrack(t,r,n),this._recognize(t)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(t,r,n){var i=t.touches;if(i){for(var o={points:[],touches:[],target:r,event:t},a=0,s=i.length;a<s;a++){var l=i[a],u=cP(n,l,{});o.points.push([u.zrX,u.zrY]),o.touches.push(l)}this._track.push(o)}},e.prototype._recognize=function(t){for(var r in G1)if(G1.hasOwnProperty(r)){var n=G1[r](this._track,t);if(n)return n}},e}();function N2(e){var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];return Math.sqrt(t*t+r*r)}function mce(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var G1={pinch:function(e,t){var r=e.length;if(r){var n=(e[r-1]||{}).points,i=(e[r-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var o=N2(n)/N2(i);!isFinite(o)&&(o=1),t.pinchScale=o;var a=mce(n);return t.pinchX=a[0],t.pinchY=a[1],{type:"pinch",target:e[0].target,event:t}}}}};function oi(){return[1,0,0,1,0,0]}function im(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Ob(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function ba(e,t,r){var n=t[0]*r[0]+t[2]*r[1],i=t[1]*r[0]+t[3]*r[1],o=t[0]*r[2]+t[2]*r[3],a=t[1]*r[2]+t[3]*r[3],s=t[0]*r[4]+t[2]*r[5]+t[4],l=t[1]*r[4]+t[3]*r[5]+t[5];return e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e}function zo(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+r[0],e[5]=t[5]+r[1],e}function Ql(e,t,r,n){n===void 0&&(n=[0,0]);var i=t[0],o=t[2],a=t[4],s=t[1],l=t[3],u=t[5],c=Math.sin(r),d=Math.cos(r);return e[0]=i*d+s*c,e[1]=-i*c+s*d,e[2]=o*d+l*c,e[3]=-o*c+d*l,e[4]=d*(a-n[0])+c*(u-n[1])+n[0],e[5]=d*(u-n[1])-c*(a-n[0])+n[1],e}function Nb(e,t,r){var n=r[0],i=r[1];return e[0]=t[0]*n,e[1]=t[1]*i,e[2]=t[2]*n,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*i,e}function Uc(e,t){var r=t[0],n=t[2],i=t[4],o=t[1],a=t[3],s=t[5],l=r*a-o*n;return l?(l=1/l,e[0]=a*l,e[1]=-o*l,e[2]=-n*l,e[3]=r*l,e[4]=(n*s-a*i)*l,e[5]=(o*i-r*s)*l,e):null}function E6(e){var t=oi();return Ob(t,e),t}const yce=Object.freeze(Object.defineProperty({__proto__:null,clone:E6,copy:Ob,create:oi,identity:im,invert:Uc,mul:ba,rotate:Ql,scale:Nb,translate:zo},Symbol.toStringTag,{value:"Module"}));var Xe=function(){function e(t,r){this.x=t||0,this.y=r||0}return e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,r){return this.x=t,this.y=r,this},e.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.scale=function(t){this.x*=t,this.y*=t},e.prototype.scaleAndAdd=function(t,r){this.x+=t.x*r,this.y+=t.y*r},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},e.prototype.distance=function(t){var r=this.x-t.x,n=this.y-t.y;return Math.sqrt(r*r+n*n)},e.prototype.distanceSquare=function(t){var r=this.x-t.x,n=this.y-t.y;return r*r+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(t){if(t){var r=this.x,n=this.y;return this.x=t[0]*r+t[2]*n+t[4],this.y=t[1]*r+t[3]*n+t[5],this}},e.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},e.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},e.set=function(t,r,n){t.x=r,t.y=n},e.copy=function(t,r){t.x=r.x,t.y=r.y},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.lenSquare=function(t){return t.x*t.x+t.y*t.y},e.dot=function(t,r){return t.x*r.x+t.y*r.y},e.add=function(t,r,n){t.x=r.x+n.x,t.y=r.y+n.y},e.sub=function(t,r,n){t.x=r.x-n.x,t.y=r.y-n.y},e.scale=function(t,r,n){t.x=r.x*n,t.y=r.y*n},e.scaleAndAdd=function(t,r,n,i){t.x=r.x+n.x*i,t.y=r.y+n.y*i},e.lerp=function(t,r,n,i){var o=1-i;t.x=o*r.x+i*n.x,t.y=o*r.y+i*n.y},e}(),Xy=Math.min,qy=Math.max,Cu=new Xe,wu=new Xe,bu=new Xe,Su=new Xe,Ep=new Xe,Mp=new Xe,qe=function(){function e(t,r,n,i){n<0&&(t=t+n,n=-n),i<0&&(r=r+i,i=-i),this.x=t,this.y=r,this.width=n,this.height=i}return e.prototype.union=function(t){var r=Xy(t.x,this.x),n=Xy(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=qy(t.x+t.width,this.x+this.width)-r:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=qy(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=r,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(t){var r=this,n=t.width/r.width,i=t.height/r.height,o=oi();return zo(o,o,[-r.x,-r.y]),Nb(o,o,[n,i]),zo(o,o,[t.x,t.y]),o},e.prototype.intersect=function(t,r){if(!t)return!1;t instanceof e||(t=e.create(t));var n=this,i=n.x,o=n.x+n.width,a=n.y,s=n.y+n.height,l=t.x,u=t.x+t.width,c=t.y,d=t.y+t.height,h=!(o<l||u<i||s<c||d<a);if(r){var f=1/0,g=0,m=Math.abs(o-l),y=Math.abs(u-i),C=Math.abs(s-c),w=Math.abs(d-a),S=Math.min(m,y),x=Math.min(C,w);o<l||u<i?S>g&&(g=S,m<y?Xe.set(Mp,-m,0):Xe.set(Mp,y,0)):S<f&&(f=S,m<y?Xe.set(Ep,m,0):Xe.set(Ep,-y,0)),s<c||d<a?x>g&&(g=x,C<w?Xe.set(Mp,0,-C):Xe.set(Mp,0,w)):S<f&&(f=S,C<w?Xe.set(Ep,0,C):Xe.set(Ep,0,-w))}return r&&Xe.copy(r,h?Ep:Mp),h},e.prototype.contain=function(t,r){var n=this;return t>=n.x&&t<=n.x+n.width&&r>=n.y&&r<=n.y+n.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(t,r){t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height},e.applyTransform=function(t,r,n){if(!n){t!==r&&e.copy(t,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],o=n[3],a=n[4],s=n[5];t.x=r.x*i+a,t.y=r.y*o+s,t.width=r.width*i,t.height=r.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}Cu.x=bu.x=r.x,Cu.y=Su.y=r.y,wu.x=Su.x=r.x+r.width,wu.y=bu.y=r.y+r.height,Cu.transform(n),Su.transform(n),wu.transform(n),bu.transform(n),t.x=Xy(Cu.x,wu.x,bu.x,Su.x),t.y=Xy(Cu.y,wu.y,bu.y,Su.y);var l=qy(Cu.x,wu.x,bu.x,Su.x),u=qy(Cu.y,wu.y,bu.y,Su.y);t.width=l-t.x,t.height=u-t.y},e}(),M6="silent";function Cce(e,t,r){return{type:e,event:r,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:wce}}function wce(){Rs(this.event)}var bce=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.handler=null,r}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(oo),kp=function(){function e(t,r){this.x=t,this.y=r}return e}(),Sce=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],H1=new qe(0,0,0,0),k6=function(e){q(t,e);function t(r,n,i,o,a){var s=e.call(this)||this;return s._hovered=new kp(0,0),s.storage=r,s.painter=n,s.painterRoot=o,s._pointerSize=a,i=i||new bce,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new oce(s),s}return t.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(F(Sce,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},t.prototype.mousemove=function(r){var n=r.zrX,i=r.zrY,o=F6(this,n,i),a=this._hovered,s=a.target;s&&!s.__zr&&(a=this.findHover(a.x,a.y),s=a.target);var l=this._hovered=o?new kp(n,i):this.findHover(n,i),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(a,"mouseout",r),this.dispatchToElement(l,"mousemove",r),u&&u!==s&&this.dispatchToElement(l,"mouseover",r)},t.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},t.prototype.resize=function(){this._hovered=new kp(0,0)},t.prototype.dispatch=function(r,n){var i=this[r];i&&i.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},t.prototype.dispatchToElement=function(r,n,i){r=r||{};var o=r.target;if(!(o&&o.silent)){for(var a="on"+n,s=Cce(n,r,i);o&&(o[a]&&(s.cancelBubble=!!o[a].call(o,s)),o.trigger(n,s),o=o.__hostTarget?o.__hostTarget:o.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[a]=="function"&&l[a].call(l,s),l.trigger&&l.trigger(n,s)}))}},t.prototype.findHover=function(r,n,i){var o=this.storage.getDisplayList(),a=new kp(r,n);if(z2(o,a,r,n,i),this._pointerSize&&!a.target){for(var s=[],l=this._pointerSize,u=l/2,c=new qe(r-u,n-u,l,l),d=o.length-1;d>=0;d--){var h=o[d];h!==i&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(H1.copy(h.getBoundingRect()),h.transform&&H1.applyTransform(h.transform),H1.intersect(c)&&s.push(h))}if(s.length)for(var f=4,g=Math.PI/12,m=Math.PI*2,y=0;y<u;y+=f)for(var C=0;C<m;C+=g){var w=r+y*Math.cos(C),S=n+y*Math.sin(C);if(z2(s,a,w,S,i),a.target)return a}}return a},t.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new vce);var i=this._gestureMgr;n==="start"&&i.clear();var o=i.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),o){var a=o.type;r.gestureEvent=a;var s=new kp;s.target=o.target,this.dispatchToElement(s,a,o.event)}},t}(oo);F(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){k6.prototype[e]=function(t){var r=t.zrX,n=t.zrY,i=F6(this,r,n),o,a;if((e!=="mouseup"||!i)&&(o=this.findHover(r,n),a=o.target),e==="mousedown")this._downEl=a,this._downPoint=[t.zrX,t.zrY],this._upEl=a;else if(e==="mouseup")this._upEl=a;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||us(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,e,t)}});function xce(e,t,r){if(e[e.rectHover?"rectContain":"contain"](t,r)){for(var n=e,i=void 0,o=!1;n;){if(n.ignoreClip&&(o=!0),!o){var a=n.getClipPath();if(a&&!a.contain(t,r))return!1}n.silent&&(i=!0);var s=n.__hostTarget;n=s||n.parent}return i?M6:!0}return!1}function z2(e,t,r,n,i){for(var o=e.length-1;o>=0;o--){var a=e[o],s=void 0;if(a!==i&&!a.ignore&&(s=xce(a,r,n))&&(!t.topTarget&&(t.topTarget=a),s!==M6)){t.target=a;break}}}function F6(e,t,r){var n=e.painter;return t<0||t>n.getWidth()||r<0||r>n.getHeight()}var L6=32,Fp=7;function Rce(e){for(var t=0;e>=L6;)t|=e&1,e>>=1;return e+t}function B2(e,t,r,n){var i=t+1;if(i===r)return 1;if(n(e[i++],e[t])<0){for(;i<r&&n(e[i],e[i-1])<0;)i++;_ce(e,t,i)}else for(;i<r&&n(e[i],e[i-1])>=0;)i++;return i-t}function _ce(e,t,r){for(r--;t<r;){var n=e[t];e[t++]=e[r],e[r--]=n}}function V2(e,t,r,n,i){for(n===t&&n++;n<r;n++){for(var o=e[n],a=t,s=n,l;a<s;)l=a+s>>>1,i(o,e[l])<0?s=l:a=l+1;var u=n-a;switch(u){case 3:e[a+3]=e[a+2];case 2:e[a+2]=e[a+1];case 1:e[a+1]=e[a];break;default:for(;u>0;)e[a+u]=e[a+u-1],u--}e[a]=o}}function W1(e,t,r,n,i,o){var a=0,s=0,l=1;if(o(e,t[r+i])>0){for(s=n-i;l<s&&o(e,t[r+i+l])>0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),a+=i,l+=i}else{for(s=i+1;l<s&&o(e,t[r+i-l])<=0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=a;a=i-l,l=i-u}for(a++;a<l;){var c=a+(l-a>>>1);o(e,t[r+c])>0?a=c+1:l=c}return l}function $1(e,t,r,n,i,o){var a=0,s=0,l=1;if(o(e,t[r+i])<0){for(s=i+1;l<s&&o(e,t[r+i-l])<0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=a;a=i-l,l=i-u}else{for(s=n-i;l<s&&o(e,t[r+i+l])>=0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),a+=i,l+=i}for(a++;a<l;){var c=a+(l-a>>>1);o(e,t[r+c])<0?l=c:a=c+1}return l}function Tce(e,t){var r=Fp,n,i,o=0,a=[];n=[],i=[];function s(f,g){n[o]=f,i[o]=g,o+=1}function l(){for(;o>1;){var f=o-2;if(f>=1&&i[f-1]<=i[f]+i[f+1]||f>=2&&i[f-2]<=i[f]+i[f-1])i[f-1]<i[f+1]&&f--;else if(i[f]>i[f+1])break;c(f)}}function u(){for(;o>1;){var f=o-2;f>0&&i[f-1]<i[f+1]&&f--,c(f)}}function c(f){var g=n[f],m=i[f],y=n[f+1],C=i[f+1];i[f]=m+C,f===o-3&&(n[f+1]=n[f+2],i[f+1]=i[f+2]),o--;var w=$1(e[y],e,g,m,0,t);g+=w,m-=w,m!==0&&(C=W1(e[g+m-1],e,y,C,C-1,t),C!==0&&(m<=C?d(g,m,y,C):h(g,m,y,C)))}function d(f,g,m,y){var C=0;for(C=0;C<g;C++)a[C]=e[f+C];var w=0,S=m,x=f;if(e[x++]=e[S++],--y===0){for(C=0;C<g;C++)e[x+C]=a[w+C];return}if(g===1){for(C=0;C<y;C++)e[x+C]=e[S+C];e[x+y]=a[w];return}for(var R=r,T,P,D;;){T=0,P=0,D=!1;do if(t(e[S],a[w])<0){if(e[x++]=e[S++],P++,T=0,--y===0){D=!0;break}}else if(e[x++]=a[w++],T++,P=0,--g===1){D=!0;break}while((T|P)<R);if(D)break;do{if(T=$1(e[S],a,w,g,0,t),T!==0){for(C=0;C<T;C++)e[x+C]=a[w+C];if(x+=T,w+=T,g-=T,g<=1){D=!0;break}}if(e[x++]=e[S++],--y===0){D=!0;break}if(P=W1(a[w],e,S,y,0,t),P!==0){for(C=0;C<P;C++)e[x+C]=e[S+C];if(x+=P,S+=P,y-=P,y===0){D=!0;break}}if(e[x++]=a[w++],--g===1){D=!0;break}R--}while(T>=Fp||P>=Fp);if(D)break;R<0&&(R=0),R+=2}if(r=R,r<1&&(r=1),g===1){for(C=0;C<y;C++)e[x+C]=e[S+C];e[x+y]=a[w]}else{if(g===0)throw new Error;for(C=0;C<g;C++)e[x+C]=a[w+C]}}function h(f,g,m,y){var C=0;for(C=0;C<y;C++)a[C]=e[m+C];var w=f+g-1,S=y-1,x=m+y-1,R=0,T=0;if(e[x--]=e[w--],--g===0){for(R=x-(y-1),C=0;C<y;C++)e[R+C]=a[C];return}if(y===1){for(x-=g,w-=g,T=x+1,R=w+1,C=g-1;C>=0;C--)e[T+C]=e[R+C];e[x]=a[S];return}for(var P=r;;){var D=0,I=0,E=!1;do if(t(a[S],e[w])<0){if(e[x--]=e[w--],D++,I=0,--g===0){E=!0;break}}else if(e[x--]=a[S--],I++,D=0,--y===1){E=!0;break}while((D|I)<P);if(E)break;do{if(D=g-$1(a[S],e,f,g,g-1,t),D!==0){for(x-=D,w-=D,g-=D,T=x+1,R=w+1,C=D-1;C>=0;C--)e[T+C]=e[R+C];if(g===0){E=!0;break}}if(e[x--]=a[S--],--y===1){E=!0;break}if(I=y-W1(e[w],a,0,y,y-1,t),I!==0){for(x-=I,S-=I,y-=I,T=x+1,R=S+1,C=0;C<I;C++)e[T+C]=a[R+C];if(y<=1){E=!0;break}}if(e[x--]=e[w--],--g===0){E=!0;break}P--}while(D>=Fp||I>=Fp);if(E)break;P<0&&(P=0),P+=2}if(r=P,r<1&&(r=1),y===1){for(x-=g,w-=g,T=x+1,R=w+1,C=g-1;C>=0;C--)e[T+C]=e[R+C];e[x]=a[S]}else{if(y===0)throw new Error;for(R=x-(y-1),C=0;C<y;C++)e[R+C]=a[C]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function pw(e,t,r,n){r||(r=0),n||(n=e.length);var i=n-r;if(!(i<2)){var o=0;if(i<L6){o=B2(e,r,n,t),V2(e,r,n,r+o,t);return}var a=Tce(e,t),s=Rce(i);do{if(o=B2(e,r,n,t),o<s){var l=i;l>s&&(l=s),V2(e,r,r+l,r+o,t),o=l}a.pushRun(r,o),a.mergeRuns(),i-=o,r+=o}while(i!==0);a.forceMergeRuns()}}var Sa=1,gw=2,pg=4,G2=!1;function U1(){G2||(G2=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function H2(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var Pce=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=H2}return e.prototype.traverse=function(t,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,r)},e.prototype.getDisplayList=function(t,r){r=r||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(r),n},e.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var r=this._roots,n=this._displayList,i=0,o=r.length;i<o;i++)this._updateAndAddDisplayable(r[i],null,t);n.length=this._displayListLen,pw(n,H2)},e.prototype._updateAndAddDisplayable=function(t,r,n){if(!(t.ignore&&!n)){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)r=null;else if(i){r?r=r.slice():r=[];for(var o=i,a=t;o;)o.parent=a,o.updateTransform(),r.push(o),a=o,o=o.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),l=0;l<s.length;l++){var u=s[l];t.__dirty&&(u.__dirty|=Sa),this._updateAndAddDisplayable(u,r,n)}t.__dirty=0}else{var c=t;r&&r.length?c.__clipPaths=r:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(U1(),c.z=0),isNaN(c.z2)&&(U1(),c.z2=0),isNaN(c.zlevel)&&(U1(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var d=t.getDecalElement&&t.getDecalElement();d&&this._updateAndAddDisplayable(d,r,n);var h=t.getTextGuideLine();h&&this._updateAndAddDisplayable(h,r,n);var f=t.getTextContent();f&&this._updateAndAddDisplayable(f,r,n)}},e.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},e.prototype.delRoot=function(t){if(t instanceof Array){for(var r=0,n=t.length;r<n;r++)this.delRoot(t[r]);return}var i=Ze(this._roots,t);i>=0&&this._roots.splice(i,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}(),n0;n0=rt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var Fg={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)))},elasticOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},elasticInOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-Fg.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?Fg.bounceIn(e*2)*.5:Fg.bounceOut(e*2-1)*.5+.5}},Zy=Math.pow,kl=Math.sqrt,O6=1e-8,N6=1e-4,W2=kl(3),Qy=1/3,da=Zl(),Ui=Zl(),_h=Zl();function _l(e){return e>-1e-8&&e<O6}function z6(e){return e>O6||e<-1e-8}function Dr(e,t,r,n,i){var o=1-i;return o*o*(o*e+3*i*t)+i*i*(i*n+3*o*r)}function $2(e,t,r,n,i){var o=1-i;return 3*(((t-e)*o+2*(r-t)*i)*o+(n-r)*i*i)}function i0(e,t,r,n,i,o){var a=n+3*(t-r)-e,s=3*(r-t*2+e),l=3*(t-e),u=e-i,c=s*s-3*a*l,d=s*l-9*a*u,h=l*l-3*s*u,f=0;if(_l(c)&&_l(d))if(_l(s))o[0]=0;else{var g=-l/s;g>=0&&g<=1&&(o[f++]=g)}else{var m=d*d-4*c*h;if(_l(m)){var y=d/c,g=-s/a+y,C=-y/2;g>=0&&g<=1&&(o[f++]=g),C>=0&&C<=1&&(o[f++]=C)}else if(m>0){var w=kl(m),S=c*s+1.5*a*(-d+w),x=c*s+1.5*a*(-d-w);S<0?S=-Zy(-S,Qy):S=Zy(S,Qy),x<0?x=-Zy(-x,Qy):x=Zy(x,Qy);var g=(-s-(S+x))/(3*a);g>=0&&g<=1&&(o[f++]=g)}else{var R=(2*c*s-3*a*d)/(2*kl(c*c*c)),T=Math.acos(R)/3,P=kl(c),D=Math.cos(T),g=(-s-2*P*D)/(3*a),C=(-s+P*(D+W2*Math.sin(T)))/(3*a),I=(-s+P*(D-W2*Math.sin(T)))/(3*a);g>=0&&g<=1&&(o[f++]=g),C>=0&&C<=1&&(o[f++]=C),I>=0&&I<=1&&(o[f++]=I)}}return f}function B6(e,t,r,n,i){var o=6*r-12*t+6*e,a=9*t+3*n-3*e-9*r,s=3*t-3*e,l=0;if(_l(a)){if(z6(o)){var u=-s/o;u>=0&&u<=1&&(i[l++]=u)}}else{var c=o*o-4*a*s;if(_l(c))i[0]=-o/(2*a);else if(c>0){var d=kl(c),u=(-o+d)/(2*a),h=(-o-d)/(2*a);u>=0&&u<=1&&(i[l++]=u),h>=0&&h<=1&&(i[l++]=h)}}return l}function $l(e,t,r,n,i,o){var a=(t-e)*i+e,s=(r-t)*i+t,l=(n-r)*i+r,u=(s-a)*i+a,c=(l-s)*i+s,d=(c-u)*i+u;o[0]=e,o[1]=a,o[2]=u,o[3]=d,o[4]=d,o[5]=c,o[6]=l,o[7]=n}function V6(e,t,r,n,i,o,a,s,l,u,c){var d,h=.005,f=1/0,g,m,y,C;da[0]=l,da[1]=u;for(var w=0;w<1;w+=.05)Ui[0]=Dr(e,r,i,a,w),Ui[1]=Dr(t,n,o,s,w),y=Ml(da,Ui),y<f&&(d=w,f=y);f=1/0;for(var S=0;S<32&&!(h<N6);S++)g=d-h,m=d+h,Ui[0]=Dr(e,r,i,a,g),Ui[1]=Dr(t,n,o,s,g),y=Ml(Ui,da),g>=0&&y<f?(d=g,f=y):(_h[0]=Dr(e,r,i,a,m),_h[1]=Dr(t,n,o,s,m),C=Ml(_h,da),m<=1&&C<f?(d=m,f=C):h*=.5);return c&&(c[0]=Dr(e,r,i,a,d),c[1]=Dr(t,n,o,s,d)),kl(f)}function Dce(e,t,r,n,i,o,a,s,l){for(var u=e,c=t,d=0,h=1/l,f=1;f<=l;f++){var g=f*h,m=Dr(e,r,i,a,g),y=Dr(t,n,o,s,g),C=m-u,w=y-c;d+=Math.sqrt(C*C+w*w),u=m,c=y}return d}function Gr(e,t,r,n){var i=1-n;return i*(i*e+2*n*t)+n*n*r}function hP(e,t,r,n){return 2*((1-n)*(t-e)+n*(r-t))}function Ace(e,t,r,n,i){var o=e-2*t+r,a=2*(t-e),s=e-n,l=0;if(_l(o)){if(z6(a)){var u=-s/a;u>=0&&u<=1&&(i[l++]=u)}}else{var c=a*a-4*o*s;if(_l(c)){var u=-a/(2*o);u>=0&&u<=1&&(i[l++]=u)}else if(c>0){var d=kl(c),u=(-a+d)/(2*o),h=(-a-d)/(2*o);u>=0&&u<=1&&(i[l++]=u),h>=0&&h<=1&&(i[l++]=h)}}return l}function G6(e,t,r){var n=e+r-2*t;return n===0?.5:(e-t)/n}function cv(e,t,r,n,i){var o=(t-e)*n+e,a=(r-t)*n+t,s=(a-o)*n+o;i[0]=e,i[1]=o,i[2]=s,i[3]=s,i[4]=a,i[5]=r}function H6(e,t,r,n,i,o,a,s,l){var u,c=.005,d=1/0;da[0]=a,da[1]=s;for(var h=0;h<1;h+=.05){Ui[0]=Gr(e,r,i,h),Ui[1]=Gr(t,n,o,h);var f=Ml(da,Ui);f<d&&(u=h,d=f)}d=1/0;for(var g=0;g<32&&!(c<N6);g++){var m=u-c,y=u+c;Ui[0]=Gr(e,r,i,m),Ui[1]=Gr(t,n,o,m);var f=Ml(Ui,da);if(m>=0&&f<d)u=m,d=f;else{_h[0]=Gr(e,r,i,y),_h[1]=Gr(t,n,o,y);var C=Ml(_h,da);y<=1&&C<d?(u=y,d=C):c*=.5}}return l&&(l[0]=Gr(e,r,i,u),l[1]=Gr(t,n,o,u)),kl(d)}function Ice(e,t,r,n,i,o,a){for(var s=e,l=t,u=0,c=1/a,d=1;d<=a;d++){var h=d*c,f=Gr(e,r,i,h),g=Gr(t,n,o,h),m=f-s,y=g-l;u+=Math.sqrt(m*m+y*y),s=f,l=g}return u}var Ece=/cubic-bezier\(([0-9,\.e ]+)\)/;function SI(e){var t=e&&Ece.exec(e);if(t){var r=t[1].split(","),n=+Xi(r[0]),i=+Xi(r[1]),o=+Xi(r[2]),a=+Xi(r[3]);if(isNaN(n+i+o+a))return;var s=[];return function(l){return l<=0?0:l>=1?1:i0(0,n,o,1,l,s)&&Dr(0,i,a,1,s[0])}}}var Mce=function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||ir,this.ondestroy=t.ondestroy||ir,this.onrestart=t.onrestart||ir,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,r){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,i=t-this._startTime-this._pausedTime,o=i/n;o<0&&(o=0),o=Math.min(o,1);var a=this.easingFunc,s=a?a(o):o;if(this.onframe(s),o===1)if(this.loop){var l=i%n;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Ie(t)?t:Fg[t]||SI(t)},e}(),W6=function(){function e(t){this.value=t}return e}(),kce=function(){function e(){this._len=0}return e.prototype.insert=function(t){var r=new W6(t);return this.insertEntry(r),r},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var r=t.prev,n=t.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),om=function(){function e(t){this._list=new kce,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,r){var n=this._list,i=this._map,o=null;if(i[t]==null){var a=n.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=n.head;n.remove(l),delete i[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=r:s=new W6(r),s.key=t,n.insertEntry(s),i[t]=s}return o},e.prototype.get=function(t){var r=this._map[t],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}(),U2={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Eo(e){return e=Math.round(e),e<0?0:e>255?255:e}function Fce(e){return e=Math.round(e),e<0?0:e>360?360:e}function dv(e){return e<0?0:e>1?1:e}function j1(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?Eo(parseFloat(t)/100*255):Eo(parseInt(t,10))}function fc(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?dv(parseFloat(t)/100):dv(parseFloat(t))}function Y1(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function Tl(e,t,r){return e+(t-e)*r}function zi(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function fP(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var $6=new om(20),Jy=null;function Nd(e,t){Jy&&fP(Jy,t),Jy=$6.put(e,Jy||t.slice())}function Ln(e,t){if(e){t=t||[];var r=$6.get(e);if(r)return fP(t,r);e=e+"";var n=e.replace(/ /g,"").toLowerCase();if(n in U2)return fP(t,U2[n]),Nd(e,t),t;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var o=parseInt(n.slice(1,4),16);if(!(o>=0&&o<=4095)){zi(t,0,0,0,1);return}return zi(t,(o&3840)>>4|(o&3840)>>8,o&240|(o&240)>>4,o&15|(o&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),Nd(e,t),t}else if(i===7||i===9){var o=parseInt(n.slice(1,7),16);if(!(o>=0&&o<=16777215)){zi(t,0,0,0,1);return}return zi(t,(o&16711680)>>16,(o&65280)>>8,o&255,i===9?parseInt(n.slice(7),16)/255:1),Nd(e,t),t}return}var a=n.indexOf("("),s=n.indexOf(")");if(a!==-1&&s+1===i){var l=n.substr(0,a),u=n.substr(a+1,s-(a+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?zi(t,+u[0],+u[1],+u[2],1):zi(t,0,0,0,1);c=fc(u.pop());case"rgb":if(u.length>=3)return zi(t,j1(u[0]),j1(u[1]),j1(u[2]),u.length===3?c:fc(u[3])),Nd(e,t),t;zi(t,0,0,0,1);return;case"hsla":if(u.length!==4){zi(t,0,0,0,1);return}return u[3]=fc(u[3]),pP(u,t),Nd(e,t),t;case"hsl":if(u.length!==3){zi(t,0,0,0,1);return}return pP(u,t),Nd(e,t),t;default:return}}zi(t,0,0,0,1)}}function pP(e,t){var r=(parseFloat(e[0])%360+360)%360/360,n=fc(e[1]),i=fc(e[2]),o=i<=.5?i*(n+1):i+n-i*n,a=i*2-o;return t=t||[],zi(t,Eo(Y1(a,o,r+1/3)*255),Eo(Y1(a,o,r)*255),Eo(Y1(a,o,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function Lce(e){if(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),o=Math.max(t,r,n),a=o-i,s=(o+i)/2,l,u;if(a===0)l=0,u=0;else{s<.5?u=a/(o+i):u=a/(2-o-i);var c=((o-t)/6+a/2)/a,d=((o-r)/6+a/2)/a,h=((o-n)/6+a/2)/a;t===o?l=h-d:r===o?l=1/3+c-h:n===o&&(l=2/3+d-c),l<0&&(l+=1),l>1&&(l-=1)}var f=[l*360,u,s];return e[3]!=null&&f.push(e[3]),f}}function o0(e,t){var r=Ln(e);if(r){for(var n=0;n<3;n++)t<0?r[n]=r[n]*(1-t)|0:r[n]=(255-r[n])*t+r[n]|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return Mo(r,r.length===4?"rgba":"rgb")}}function Oce(e){var t=Ln(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function Lg(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){r=r||[];var n=e*(t.length-1),i=Math.floor(n),o=Math.ceil(n),a=t[i],s=t[o],l=n-i;return r[0]=Eo(Tl(a[0],s[0],l)),r[1]=Eo(Tl(a[1],s[1],l)),r[2]=Eo(Tl(a[2],s[2],l)),r[3]=dv(Tl(a[3],s[3],l)),r}}var Nce=Lg;function xI(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var n=e*(t.length-1),i=Math.floor(n),o=Math.ceil(n),a=Ln(t[i]),s=Ln(t[o]),l=n-i,u=Mo([Eo(Tl(a[0],s[0],l)),Eo(Tl(a[1],s[1],l)),Eo(Tl(a[2],s[2],l)),dv(Tl(a[3],s[3],l))],"rgba");return r?{color:u,leftIndex:i,rightIndex:o,value:n}:u}}var zce=xI;function Th(e,t,r,n){var i=Ln(e);if(e)return i=Lce(i),t!=null&&(i[0]=Fce(t)),r!=null&&(i[1]=fc(r)),n!=null&&(i[2]=fc(n)),Mo(pP(i),"rgba")}function hv(e,t){var r=Ln(e);if(r&&t!=null)return r[3]=dv(t),Mo(r,"rgba")}function Mo(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}}function fv(e,t){var r=Ln(e);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*t:0}function Bce(){return Mo([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var j2=new om(100);function a0(e){if(we(e)){var t=j2.get(e);return t||(t=o0(e,-.1),j2.put(e,t)),t}else if(rm(e)){var r=ie({},e);return r.colorStops=le(e.colorStops,function(n){return{offset:n.offset,color:o0(n.color,-.1)}}),r}return e}const Vce=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:Lg,fastMapToColor:Nce,lerp:xI,lift:o0,liftColor:a0,lum:fv,mapToColor:zce,modifyAlpha:hv,modifyHSL:Th,parse:Ln,random:Bce,stringify:Mo,toHex:Oce},Symbol.toStringTag,{value:"Module"}));var s0=Math.round;function pv(e){var t;if(!e||e==="transparent")e="none";else if(typeof e=="string"&&e.indexOf("rgba")>-1){var r=Ln(e);r&&(e="rgb("+r[0]+","+r[1]+","+r[2]+")",t=r[3])}return{color:e,opacity:t??1}}var Gce=1e-4;function Pl(e){return e<Gce&&e>-1e-4}function eC(e){return s0(e*1e3)/1e3}function gP(e){return s0(e*1e4)/1e4}function Hce(e){return"matrix("+eC(e[0])+","+eC(e[1])+","+eC(e[2])+","+eC(e[3])+","+gP(e[4])+","+gP(e[5])+")"}var Wce={left:"start",right:"end",center:"middle",middle:"middle"};function $ce(e,t,r){return r==="top"?e+=t/2:r==="bottom"&&(e-=t/2),e}function Uce(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}function jce(e){var t=e.style,r=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function U6(e){return e&&!!e.image}function Yce(e){return e&&!!e.svgElement}function RI(e){return U6(e)||Yce(e)}function j6(e){return e.type==="linear"}function Y6(e){return e.type==="radial"}function K6(e){return e&&(e.type==="linear"||e.type==="radial")}function zb(e){return"url(#"+e+")"}function X6(e){var t=e.getGlobalScale(),r=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function q6(e){var t=e.x||0,r=e.y||0,n=(e.rotation||0)*Eg,i=Ue(e.scaleX,1),o=Ue(e.scaleY,1),a=e.skewX||0,s=e.skewY||0,l=[];return(t||r)&&l.push("translate("+t+"px,"+r+"px)"),n&&l.push("rotate("+n+")"),(i!==1||o!==1)&&l.push("scale("+i+","+o+")"),(a||s)&&l.push("skew("+s0(a*Eg)+"deg, "+s0(s*Eg)+"deg)"),l.join(" ")}var Kce=function(){return rt.hasGlobalWindow&&Ie(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}}(),vP=Array.prototype.slice;function is(e,t,r){return(t-e)*r+e}function K1(e,t,r,n){for(var i=t.length,o=0;o<i;o++)e[o]=is(t[o],r[o],n);return e}function Xce(e,t,r,n){for(var i=t.length,o=i&&t[0].length,a=0;a<i;a++){e[a]||(e[a]=[]);for(var s=0;s<o;s++)e[a][s]=is(t[a][s],r[a][s],n)}return e}function tC(e,t,r,n){for(var i=t.length,o=0;o<i;o++)e[o]=t[o]+r[o]*n;return e}function Y2(e,t,r,n){for(var i=t.length,o=i&&t[0].length,a=0;a<i;a++){e[a]||(e[a]=[]);for(var s=0;s<o;s++)e[a][s]=t[a][s]+r[a][s]*n}return e}function qce(e,t){for(var r=e.length,n=t.length,i=r>n?t:e,o=Math.min(r,n),a=i[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(r,n);s++)i.push({offset:a.offset,color:a.color.slice()})}function Zce(e,t,r){var n=e,i=t;if(!(!n.push||!i.push)){var o=n.length,a=i.length;if(o!==a){var s=o>a;if(s)n.length=a;else for(var l=o;l<a;l++)n.push(r===1?i[l]:vP.call(i[l]))}for(var u=n[0]&&n[0].length,l=0;l<n.length;l++)if(r===1)isNaN(n[l])&&(n[l]=i[l]);else for(var c=0;c<u;c++)isNaN(n[l][c])&&(n[l][c]=i[l][c])}}function Og(e){if(Zr(e)){var t=e.length;if(Zr(e[0])){for(var r=[],n=0;n<t;n++)r.push(vP.call(e[n]));return r}return vP.call(e)}return e}function vw(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function Qce(e){return Zr(e&&e[0])?2:1}var rC=0,mw=1,Z6=2,gg=3,mP=4,yP=5,K2=6;function X2(e){return e===mP||e===yP}function nC(e){return e===mw||e===Z6}var Lp=[0,0,0,0],Jce=function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,r,n){this._needsSort=!0;var i=this.keyframes,o=i.length,a=!1,s=K2,l=r;if(Zr(r)){var u=Qce(r);s=u,(u===1&&!pt(r[0])||u===2&&!pt(r[0][0]))&&(a=!0)}else if(pt(r)&&!Hh(r))s=rC;else if(we(r))if(!isNaN(+r))s=rC;else{var c=Ln(r);c&&(l=c,s=gg)}else if(rm(r)){var d=ie({},l);d.colorStops=le(r.colorStops,function(f){return{offset:f.offset,color:Ln(f.color)}}),j6(r)?s=mP:Y6(r)&&(s=yP),l=d}o===0?this.valType=s:(s!==this.valType||s===K2)&&(a=!0),this.discrete=this.discrete||a;var h={time:t,value:l,rawValue:r,percent:0};return n&&(h.easing=n,h.easingFunc=Ie(n)?n:Fg[n]||SI(n)),i.push(h),h},e.prototype.prepare=function(t,r){var n=this.keyframes;this._needsSort&&n.sort(function(m,y){return m.time-y.time});for(var i=this.valType,o=n.length,a=n[o-1],s=this.discrete,l=nC(i),u=X2(i),c=0;c<o;c++){var d=n[c],h=d.value,f=a.value;d.percent=d.time/t,s||(l&&c!==o-1?Zce(h,f,i):u&&qce(h.colorStops,f.colorStops))}if(!s&&i!==yP&&r&&this.needsAnimate()&&r.needsAnimate()&&i===r.valType&&!r._finished){this._additiveTrack=r;for(var g=n[0].value,c=0;c<o;c++)i===rC?n[c].additiveValue=n[c].value-g:i===gg?n[c].additiveValue=tC([],n[c].value,g,-1):nC(i)&&(n[c].additiveValue=i===mw?tC([],n[c].value,g,-1):Y2([],n[c].value,g,-1))}},e.prototype.step=function(t,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",o=this.valType,a=this.keyframes,s=a.length,l=this.propName,u=o===gg,c,d=this._lastFr,h=Math.min,f,g;if(s===1)f=g=a[0];else{if(r<0)c=0;else if(r<this._lastFrP){var m=h(d+1,s-1);for(c=m;c>=0&&!(a[c].percent<=r);c--);c=h(c,s-2)}else{for(c=d;c<s&&!(a[c].percent>r);c++);c=h(c-1,s-2)}g=a[c+1],f=a[c]}if(f&&g){this._lastFr=c,this._lastFrP=r;var y=g.percent-f.percent,C=y===0?1:h((r-f.percent)/y,1);g.easingFunc&&(C=g.easingFunc(C));var w=n?this._additiveValue:u?Lp:t[l];if((nC(o)||u)&&!w&&(w=this._additiveValue=[]),this.discrete)t[l]=C<1?f.rawValue:g.rawValue;else if(nC(o))o===mw?K1(w,f[i],g[i],C):Xce(w,f[i],g[i],C);else if(X2(o)){var S=f[i],x=g[i],R=o===mP;t[l]={type:R?"linear":"radial",x:is(S.x,x.x,C),y:is(S.y,x.y,C),colorStops:le(S.colorStops,function(P,D){var I=x.colorStops[D];return{offset:is(P.offset,I.offset,C),color:vw(K1([],P.color,I.color,C))}}),global:x.global},R?(t[l].x2=is(S.x2,x.x2,C),t[l].y2=is(S.y2,x.y2,C)):t[l].r=is(S.r,x.r,C)}else if(u)K1(w,f[i],g[i],C),n||(t[l]=vw(w));else{var T=is(f[i],g[i],C);n?this._additiveValue=T:t[l]=T}n&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var r=this.valType,n=this.propName,i=this._additiveValue;r===rC?t[n]=t[n]+i:r===gg?(Ln(t[n],Lp),tC(Lp,Lp,i,1),t[n]=vw(Lp)):r===mw?tC(t[n],t[n],i,1):r===Z6&&Y2(t[n],t[n],i,1)},e}(),_I=function(){function e(t,r,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=r,r&&i){Mb("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,r,n){return this.whenWithKeys(t,r,at(r),n)},e.prototype.whenWithKeys=function(t,r,n,i){for(var o=this._tracks,a=0;a<n.length;a++){var s=n[a],l=o[s];if(!l){l=o[s]=new Jce(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var d=c.keyframes,h=d[d.length-1];u=h&&h.value,c.valType===gg&&u&&(u=vw(u))}else u=this._target[s];if(u==null)continue;t>0&&l.addKeyframe(0,Og(u),i),this._trackKeys.push(s)}l.addKeyframe(t,Og(r[s]),i)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var r=t.length,n=0;n<r;n++)t[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,r=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)t[r[n]].setFinished()},e.prototype._getAdditiveTrack=function(t){var r,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var o=n[i].getTrack(t);o&&(r=o)}return r},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var r=this,n=[],i=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],s=this._tracks[a],l=this._getAdditiveTrack(a),u=s.keyframes,c=u.length;if(s.prepare(i,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var d=u[c-1];d&&(r._target[s.propName]=d.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var h=new Mce({life:i,loop:this._loop,delay:this._delay||0,onframe:function(f){r._started=2;var g=r._additiveAnimators;if(g){for(var m=!1,y=0;y<g.length;y++)if(g[y]._clip){m=!0;break}m||(r._additiveAnimators=null)}for(var y=0;y<n.length;y++)n[y].step(r._target,f);var C=r._onframeCbs;if(C)for(var y=0;y<C.length;y++)C[y](r._target,f)},ondestroy:function(){r._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),t&&h.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var r=this._clip;t&&r.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return le(this._trackKeys,function(r){return t._tracks[r]})},e.prototype.stopTracks=function(t,r){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,o=0;o<t.length;o++){var a=n[t[o]];a&&!a.isFinished()&&(r?a.step(this._target,1):this._started===1&&a.step(this._target,0),a.setFinished())}for(var s=!0,o=0;o<i.length;o++)if(!n[i[o]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},e.prototype.saveTo=function(t,r,n){if(t){r=r||this._trackKeys;for(var i=0;i<r.length;i++){var o=r[i],a=this._tracks[o];if(!(!a||a.isFinished())){var s=a.keyframes,l=s[n?0:s.length-1];l&&(t[o]=Og(l.rawValue))}}}},e.prototype.__changeFinalValue=function(t,r){r=r||at(t);for(var n=0;n<r.length;n++){var i=r[n],o=this._tracks[i];if(o){var a=o.keyframes;if(a.length>1){var s=a.pop();o.addKeyframe(s.time,t[i]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},e}();function fh(){return new Date().getTime()}var ede=function(e){q(t,e);function t(r){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return t.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},t.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(r){if(r.animation){var n=r.prev,i=r.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},t.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},t.prototype.update=function(r){for(var n=fh()-this._pausedTime,i=n-this._time,o=this._head;o;){var a=o.next,s=o.step(n,i);s&&(o.ondestroy(),this.removeClip(o)),o=a}this._time=n,r||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(n0(n),!r._paused&&r.update())}n0(n)},t.prototype.start=function(){this._running||(this._time=fh(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=fh(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=fh()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(r,n){n=n||{},this.start();var i=new _I(r,n.loop);return this.addAnimator(i),i},t}(oo),tde=300,X1=rt.domSupported,q1=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=le(e,function(i){var o=i.replace("mouse","pointer");return r.hasOwnProperty(o)?o:i});return{mouse:e,touch:t,pointer:n}}(),q2={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},Z2=!1;function CP(e){var t=e.pointerType;return t==="pen"||t==="touch"}function rde(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function Z1(e){e&&(e.zrByTouch=!0)}function nde(e,t){return Bi(e.dom,new ide(e,t),!0)}function Q6(e,t){for(var r=t,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==t&&r===e.painterRoot);)r=r.parentNode;return n}var ide=function(){function e(t,r){this.stopPropagation=ir,this.stopImmediatePropagation=ir,this.preventDefault=ir,this.type=r.type,this.target=this.currentTarget=t.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return e}(),So={mousedown:function(e){e=Bi(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Bi(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=Bi(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=Bi(this.dom,e);var t=e.toElement||e.relatedTarget;Q6(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){Z2=!0,e=Bi(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){Z2||(e=Bi(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=Bi(this.dom,e),Z1(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),So.mousemove.call(this,e),So.mousedown.call(this,e)},touchmove:function(e){e=Bi(this.dom,e),Z1(e),this.handler.processGesture(e,"change"),So.mousemove.call(this,e)},touchend:function(e){e=Bi(this.dom,e),Z1(e),this.handler.processGesture(e,"end"),So.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<tde&&So.click.call(this,e)},pointerdown:function(e){So.mousedown.call(this,e)},pointermove:function(e){CP(e)||So.mousemove.call(this,e)},pointerup:function(e){So.mouseup.call(this,e)},pointerout:function(e){CP(e)||So.mouseout.call(this,e)}};F(["click","dblclick","contextmenu"],function(e){So[e]=function(t){t=Bi(this.dom,t),this.trigger(e,t)}});var wP={pointermove:function(e){CP(e)||wP.mousemove.call(this,e)},pointerup:function(e){wP.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function ode(e,t){var r=t.domHandlers;rt.pointerEventsSupported?F(q1.pointer,function(n){yw(t,n,function(i){r[n].call(e,i)})}):(rt.touchEventsSupported&&F(q1.touch,function(n){yw(t,n,function(i){r[n].call(e,i),rde(t)})}),F(q1.mouse,function(n){yw(t,n,function(i){i=bI(i),t.touching||r[n].call(e,i)})}))}function ade(e,t){rt.pointerEventsSupported?F(q2.pointer,r):rt.touchEventsSupported||F(q2.mouse,r);function r(n){function i(o){o=bI(o),Q6(e,o.target)||(o=nde(e,o),t.domHandlers[n].call(e,o))}yw(t,n,i,{capture:!0})}}function yw(e,t,r,n){e.mounted[t]=r,e.listenerOpts[t]=n,dP(e.domTarget,t,r,n)}function Q1(e){var t=e.mounted;for(var r in t)t.hasOwnProperty(r)&&gce(e.domTarget,r,t[r],e.listenerOpts[r]);e.mounted={}}var Q2=function(){function e(t,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=r}return e}(),sde=function(e){q(t,e);function t(r,n){var i=e.call(this)||this;return i.__pointerCapturing=!1,i.dom=r,i.painterRoot=n,i._localHandlerScope=new Q2(r,So),X1&&(i._globalHandlerScope=new Q2(document,wP)),ode(i,i._localHandlerScope),i}return t.prototype.dispose=function(){Q1(this._localHandlerScope),X1&&Q1(this._globalHandlerScope)},t.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},t.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,X1&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?ade(this,n):Q1(n)}},t}(oo),J6=1;rt.hasGlobalWindow&&(J6=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var l0=J6,bP=.4,SP="#333",xP="#ccc",lde="#eee",J2=im,ude=5e-5;function xu(e){return e>ude||e<-5e-5}var Ru=[],zd=[],J1=oi(),eR=Math.abs,hs=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},e.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},e.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},e.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},e.prototype.needLocalTransform=function(){return xu(this.rotation)||xu(this.x)||xu(this.y)||xu(this.scaleX-1)||xu(this.scaleY-1)||xu(this.skewX)||xu(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||t)){n&&(J2(n),this.invTransform=null);return}n=n||oi(),r?this.getLocalTransform(n):J2(n),t&&(r?ba(n,t,n):Ob(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)},e.prototype._resolveGlobalScaleRatio=function(t){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(Ru);var n=Ru[0]<0?-1:1,i=Ru[1]<0?-1:1,o=((Ru[0]-n)*r+n)/Ru[0]||0,a=((Ru[1]-i)*r+i)/Ru[1]||0;t[0]*=o,t[1]*=o,t[2]*=a,t[3]*=a}this.invTransform=this.invTransform||oi(),Uc(this.invTransform,t)},e.prototype.getComputedTransform=function(){for(var t=this,r=[];t;)r.push(t),t=t.parent;for(;t=r.pop();)t.updateTransform();return this.transform},e.prototype.setLocalTransform=function(t){if(t){var r=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),o=Math.PI/2+i-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(o),r=Math.sqrt(r),this.skewX=o,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,r=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||oi(),ba(zd,t.invTransform,r),r=zd);var n=this.originX,i=this.originY;(n||i)&&(J1[4]=n,J1[5]=i,ba(zd,r,J1),zd[4]-=n,zd[5]-=i,r=zd),this.setLocalTransform(r)}},e.prototype.getGlobalScale=function(t){var r=this.transform;return t=t||[],r?(t[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),t[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(t[0]=-t[0]),r[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},e.prototype.transformCoordToLocal=function(t,r){var n=[t,r],i=this.invTransform;return i&&Hr(n,n,i),n},e.prototype.transformCoordToGlobal=function(t,r){var n=[t,r],i=this.transform;return i&&Hr(n,n,i),n},e.prototype.getLineScale=function(){var t=this.transform;return t&&eR(t[0]-1)>1e-10&&eR(t[3]-1)>1e-10?Math.sqrt(eR(t[0]*t[3]-t[2]*t[1])):1},e.prototype.copyTransform=function(t){eU(this,t)},e.getLocalTransform=function(t,r){r=r||[];var n=t.originX||0,i=t.originY||0,o=t.scaleX,a=t.scaleY,s=t.anchorX,l=t.anchorY,u=t.rotation||0,c=t.x,d=t.y,h=t.skewX?Math.tan(t.skewX):0,f=t.skewY?Math.tan(-t.skewY):0;if(n||i||s||l){var g=n+s,m=i+l;r[4]=-g*o-h*m*a,r[5]=-m*a-f*g*o}else r[4]=r[5]=0;return r[0]=o,r[3]=a,r[1]=f*o,r[2]=h*a,u&&Ql(r,r,u),r[4]+=n+c,r[5]+=i+d,r},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),Aa=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function eU(e,t){for(var r=0;r<Aa.length;r++){var n=Aa[r];e[n]=t[n]}}var eN={};function Si(e,t){t=t||Wl;var r=eN[t];r||(r=eN[t]=new om(500));var n=r.get(e);return n==null&&(n=No.measureText(e,t).width,r.put(e,n)),n}function tN(e,t,r,n){var i=Si(e,t),o=Bb(t),a=vg(0,i,r),s=sh(0,o,n),l=new qe(a,s,i,o);return l}function am(e,t,r,n){var i=((e||"")+"").split(`
`),o=i.length;if(o===1)return tN(i[0],t,r,n);for(var a=new qe(0,0,0,0),s=0;s<i.length;s++){var l=tN(i[s],t,r,n);s===0?a.copy(l):a.union(l)}return a}function vg(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function sh(e,t,r){return r==="middle"?e-=t/2:r==="bottom"&&(e-=t),e}function Bb(e){return Si("",e)}function Bo(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function u0(e,t,r){var n=t.position||"inside",i=t.distance!=null?t.distance:5,o=r.height,a=r.width,s=o/2,l=r.x,u=r.y,c="left",d="top";if(n instanceof Array)l+=Bo(n[0],r.width),u+=Bo(n[1],r.height),c=null,d=null;else switch(n){case"left":l-=i,u+=s,c="right",d="middle";break;case"right":l+=i+a,u+=s,d="middle";break;case"top":l+=a/2,u-=i,c="center",d="bottom";break;case"bottom":l+=a/2,u+=o+i,c="center";break;case"inside":l+=a/2,u+=s,c="center",d="middle";break;case"insideLeft":l+=i,u+=s,d="middle";break;case"insideRight":l+=a-i,u+=s,c="right",d="middle";break;case"insideTop":l+=a/2,u+=i,c="center";break;case"insideBottom":l+=a/2,u+=o-i,c="center",d="bottom";break;case"insideTopLeft":l+=i,u+=i;break;case"insideTopRight":l+=a-i,u+=i,c="right";break;case"insideBottomLeft":l+=i,u+=o-i,d="bottom";break;case"insideBottomRight":l+=a-i,u+=o-i,c="right",d="bottom";break}return e=e||{},e.x=l,e.y=u,e.align=c,e.verticalAlign=d,e}var tR="__zr_normal__",rR=Aa.concat(["ignore"]),cde=no(Aa,function(e,t){return e[t]=!0,e},{ignore:!1}),Bd={},dde=new qe(0,0,0,0),Vb=function(){function e(t){this.id=mI(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return e.prototype._init=function(t){this.attr(t)},e.prototype.drift=function(t,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":t=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=r,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(t){var r=this._textContent;if(r&&(!r.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,o=r.innerTransformable,a=void 0,s=void 0,l=!1;o.parent=i?this:null;var u=!1;if(o.copyTransform(r),n.position!=null){var c=dde;n.layoutRect?c.copy(n.layoutRect):c.copy(this.getBoundingRect()),i||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Bd,n,c):u0(Bd,n,c),o.x=Bd.x,o.y=Bd.y,a=Bd.align,s=Bd.verticalAlign;var d=n.origin;if(d&&n.rotation!=null){var h=void 0,f=void 0;d==="center"?(h=c.width*.5,f=c.height*.5):(h=Bo(d[0],c.width),f=Bo(d[1],c.height)),u=!0,o.originX=-o.x+h+(i?0:c.x),o.originY=-o.y+f+(i?0:c.y)}}n.rotation!=null&&(o.rotation=n.rotation);var g=n.offset;g&&(o.x+=g[0],o.y+=g[1],u||(o.originX=-g[0],o.originY=-g[1]));var m=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,y=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),C=void 0,w=void 0,S=void 0;m&&this.canBeInsideText()?(C=n.insideFill,w=n.insideStroke,(C==null||C==="auto")&&(C=this.getInsideTextFill()),(w==null||w==="auto")&&(w=this.getInsideTextStroke(C),S=!0)):(C=n.outsideFill,w=n.outsideStroke,(C==null||C==="auto")&&(C=this.getOutsideFill()),(w==null||w==="auto")&&(w=this.getOutsideStroke(C),S=!0)),C=C||"#000",(C!==y.fill||w!==y.stroke||S!==y.autoStroke||a!==y.align||s!==y.verticalAlign)&&(l=!0,y.fill=C,y.stroke=w,y.autoStroke=S,y.align=a,y.verticalAlign=s,r.setDefaultTextStyle(y)),r.__dirty|=Sa,l&&r.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(t){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?xP:SP},e.prototype.getOutsideStroke=function(t){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&Ln(r);n||(n=[255,255,255,1]);for(var i=n[3],o=this.__zr.isDarkMode(),a=0;a<3;a++)n[a]=n[a]*i+(o?0:255)*(1-i);return n[3]=1,Mo(n,"rgba")},e.prototype.traverse=function(t,r){},e.prototype.attrKV=function(t,r){t==="textConfig"?this.setTextConfig(r):t==="textContent"?this.setTextContent(r):t==="clipPath"?this.setClipPath(r):t==="extra"?(this.extra=this.extra||{},ie(this.extra,r)):this[t]=r},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(t,r){if(typeof t=="string")this.attrKV(t,r);else if(ke(t))for(var n=t,i=at(n),o=0;o<i.length;o++){var a=i[o];this.attrKV(a,t[a])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var r=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],o=i.__fromStateTransition;if(!(i.getLoop()||o&&o!==tR)){var a=i.targetName,s=a?r[a]:r;i.saveTo(s)}}},e.prototype._innerSaveToNormal=function(t){var r=this._normalState;r||(r=this._normalState={}),t.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(t,r,rR)},e.prototype._savePrimaryToNormal=function(t,r,n){for(var i=0;i<n.length;i++){var o=n[i];t[o]!=null&&!(o in r)&&(r[o]=this[o])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(t){return this.states[t]},e.prototype.ensureState=function(t){var r=this.states;return r[t]||(r[t]={}),r[t]},e.prototype.clearStates=function(t){this.useState(tR,!1,t)},e.prototype.useState=function(t,r,n,i){var o=t===tR,a=this.hasState();if(!(!a&&o)){var s=this.currentStates,l=this.stateTransition;if(!(Ze(s,t)>=0&&(r||s.length===1))){var u;if(this.stateProxy&&!o&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),!u&&!o){Mb("State "+t+" not exists.");return}o||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,r,!n&&!this.__inHover&&l&&l.duration>0,l);var d=this._textContent,h=this._textGuide;return d&&d.useState(t,r,n,c),h&&h.useState(t,r,n,c),o?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),u}}},e.prototype.useStates=function(t,r,n){if(!t.length)this.clearStates();else{var i=[],o=this.currentStates,a=t.length,s=a===o.length;if(s){for(var l=0;l<a;l++)if(t[l]!==o[l]){s=!1;break}}if(s)return;for(var l=0;l<a;l++){var u=t[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,t)),c||(c=this.states[u]),c&&i.push(c)}var d=i[a-1],h=!!(d&&d.hoverLayer||n);h&&this._toggleHoverLayerFlag(!0);var f=this._mergeStates(i),g=this.stateTransition;this.saveCurrentToNormalState(f),this._applyStateObj(t.join(","),f,this._normalState,!1,!r&&!this.__inHover&&g&&g.duration>0,g);var m=this._textContent,y=this._textGuide;m&&m.useStates(t,r,h),y&&y.useStates(t,r,h),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}},e.prototype.isSilent=function(){for(var t=this.silent,r=this.parent;!t&&r;){if(r.silent){t=!0;break}r=r.parent}return t},e.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var r=this.animators[t];r.targetName&&r.changeTarget(this[r.targetName])}},e.prototype.removeState=function(t){var r=Ze(this.currentStates,t);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},e.prototype.replaceState=function(t,r,n){var i=this.currentStates.slice(),o=Ze(i,t),a=Ze(i,r)>=0;o>=0?a?i.splice(o,1):i[o]=r:n&&!a&&i.push(r),this.useStates(i)},e.prototype.toggleState=function(t,r){r?this.useState(t,!0):this.removeState(t)},e.prototype._mergeStates=function(t){for(var r={},n,i=0;i<t.length;i++){var o=t[i];ie(r,o),o.textConfig&&(n=n||{},ie(n,o.textConfig))}return n&&(r.textConfig=n),r},e.prototype._applyStateObj=function(t,r,n,i,o,a){var s=!(r&&i);r&&r.textConfig?(this.textConfig=ie({},i?this.textConfig:n.textConfig),ie(this.textConfig,r.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,c=0;c<rR.length;c++){var d=rR[c],h=o&&cde[d];r&&r[d]!=null?h?(u=!0,l[d]=r[d]):this[d]=r[d]:s&&n[d]!=null&&(h?(u=!0,l[d]=n[d]):this[d]=n[d])}if(!o)for(var c=0;c<this.animators.length;c++){var f=this.animators[c],g=f.targetName;f.getLoop()||f.__changeFinalValue(g?(r||n)[g]:r||n)}u&&this._transitionState(t,l,a)},e.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var r=this.__zr;r&&t.addSelfToZr(r),t.__zr=r,t.__hostTarget=this}},e.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},e.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(t){var r=this._textContent;r!==t&&(r&&r!==t&&this.removeTextContent(),t.innerTransformable=new hs,this._attachComponent(t),this._textContent=t,this.markRedraw())},e.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),ie(this.textConfig,t),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=Sa;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=t),n&&(n.__inHover=t)},e.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},e.prototype.animate=function(t,r,n){var i=t?this[t]:this,o=new _I(i,r,n);return t&&(o.targetName=t),this.addAnimator(o,t),o},e.prototype.addAnimator=function(t,r){var n=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(r)}).done(function(){var o=i.animators,a=Ze(o,t);a>=0&&o.splice(a,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(t){this.markRedraw()},e.prototype.stopAnimation=function(t,r){for(var n=this.animators,i=n.length,o=[],a=0;a<i;a++){var s=n[a];!t||t===s.scope?s.stop(r):o.push(s)}return this.animators=o,this},e.prototype.animateTo=function(t,r,n){nR(this,t,r,n)},e.prototype.animateFrom=function(t,r,n){nR(this,t,r,n,!0)},e.prototype._transitionState=function(t,r,n,i){for(var o=nR(this,r,n,i),a=0;a<o.length;a++)o[a].__fromStateTransition=t},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Sa;function r(n,i,o,a){Object.defineProperty(t,n,{get:function(){if(!this[i]){var l=this[i]=[];s(this,l)}return this[i]},set:function(l){this[o]=l[0],this[a]=l[1],this[i]=l,s(this,l)}});function s(l,u){Object.defineProperty(u,0,{get:function(){return l[o]},set:function(c){l[o]=c}}),Object.defineProperty(u,1,{get:function(){return l[a]},set:function(c){l[a]=c}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),e}();ar(Vb,oo);ar(Vb,hs);function nR(e,t,r,n,i){r=r||{};var o=[];tU(e,"",e,t,r,n,o,i);var a=o.length,s=!1,l=r.done,u=r.aborted,c=function(){s=!0,a--,a<=0&&(s?l&&l():u&&u())},d=function(){a--,a<=0&&(s?l&&l():u&&u())};a||l&&l(),o.length>0&&r.during&&o[0].during(function(g,m){r.during(m)});for(var h=0;h<o.length;h++){var f=o[h];c&&f.done(c),d&&f.aborted(d),r.force&&f.duration(r.duration),f.start(r.easing)}return o}function iR(e,t,r){for(var n=0;n<r;n++)e[n]=t[n]}function hde(e){return Zr(e[0])}function fde(e,t,r){if(Zr(t[r]))if(Zr(e[r])||(e[r]=[]),zn(t[r])){var n=t[r].length;e[r].length!==n&&(e[r]=new t[r].constructor(n),iR(e[r],t[r],n))}else{var i=t[r],o=e[r],a=i.length;if(hde(i))for(var s=i[0].length,l=0;l<a;l++)o[l]?iR(o[l],i[l],s):o[l]=Array.prototype.slice.call(i[l]);else iR(o,i,a);o.length=i.length}else e[r]=t[r]}function pde(e,t){return e===t||Zr(e)&&Zr(t)&&gde(e,t)}function gde(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function tU(e,t,r,n,i,o,a,s){for(var l=at(n),u=i.duration,c=i.delay,d=i.additive,h=i.setToFinal,f=!ke(o),g=e.animators,m=[],y=0;y<l.length;y++){var C=l[y],w=n[C];if(w!=null&&r[C]!=null&&(f||o[C]))if(ke(w)&&!Zr(w)&&!rm(w)){if(t){s||(r[C]=w,e.updateDuringAnimation(t));continue}tU(e,C,r[C],w,i,o&&o[C],a,s)}else m.push(C);else s||(r[C]=w,e.updateDuringAnimation(t),m.push(C))}var S=m.length;if(!d&&S)for(var x=0;x<g.length;x++){var R=g[x];if(R.targetName===t){var T=R.stopTracks(m);if(T){var P=Ze(g,R);g.splice(P,1)}}}if(i.force||(m=mt(m,function(k){return!pde(n[k],r[k])}),S=m.length),S>0||i.force&&!a.length){var D=void 0,I=void 0,E=void 0;if(s){I={},h&&(D={});for(var x=0;x<S;x++){var C=m[x];I[C]=r[C],h?D[C]=n[C]:r[C]=n[C]}}else if(h){E={};for(var x=0;x<S;x++){var C=m[x];E[C]=Og(r[C]),fde(r,n,C)}}var R=new _I(r,!1,!1,d?mt(g,function(L){return L.targetName===t}):null);R.targetName=t,i.scope&&(R.scope=i.scope),h&&D&&R.whenWithKeys(0,D,m),E&&R.whenWithKeys(0,E,m),R.whenWithKeys(u??500,s?I:n,m).delay(c||0),e.addAnimator(R,t),a.push(R)}}var Ne=function(e){q(t,e);function t(r){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(r){return this._children[r]},t.prototype.childOfName=function(r){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===r)return n[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},t.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var i=this._children,o=i.indexOf(n);o>=0&&(i.splice(o,0,r),this._doAdd(r))}return this},t.prototype.replace=function(r,n){var i=Ze(this._children,r);return i>=0&&this.replaceAt(n,i),this},t.prototype.replaceAt=function(r,n){var i=this._children,o=i[n];if(r&&r!==this&&r.parent!==this&&r!==o){i[n]=r,o.parent=null;var a=this.__zr;a&&o.removeSelfFromZr(a),this._doAdd(r)}return this},t.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(r){var n=this.__zr,i=this._children,o=Ze(i,r);return o<0?this:(i.splice(o,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},t.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,i=0;i<r.length;i++){var o=r[i];n&&o.removeSelfFromZr(n),o.parent=null}return r.length=0,this},t.prototype.eachChild=function(r,n){for(var i=this._children,o=0;o<i.length;o++){var a=i[o];r.call(n,a,o)}return this},t.prototype.traverse=function(r,n){for(var i=0;i<this._children.length;i++){var o=this._children[i],a=r.call(n,o);o.isGroup&&!a&&o.traverse(r,n)}return this},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(r)}},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(r)}},t.prototype.getBoundingRect=function(r){for(var n=new qe(0,0,0,0),i=r||this._children,o=[],a=null,s=0;s<i.length;s++){var l=i[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(o);c?(qe.applyTransform(n,u,c),a=a||n.clone(),a.union(n)):(a=a||u.clone(),a.union(u))}}return a||n},t}(Vb);Ne.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var Cw={},ic={};function vde(e){delete ic[e]}function mde(e){if(!e)return!1;if(typeof e=="string")return fv(e,1)<bP;if(e.colorStops){for(var t=e.colorStops,r=0,n=t.length,i=0;i<n;i++)r+=fv(t[i].color,1);return r/=n,r<bP}return!1}var yde=function(){function e(t,r,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=t;var o=new Pce,a=n.renderer||"canvas";Cw[a]||(a=at(Cw)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var s=new Cw[a](r,o,n,t),l=n.ssr||s.ssrOnly;this.storage=o,this.painter=s;var u=!rt.node&&!rt.worker&&!l?new sde(s.getViewportRoot(),s.root):null,c=n.useCoarsePointer,d=c==null||c==="auto"?rt.touchEventsSupported:!!c,h=44,f;d&&(f=Ue(n.pointerSize,h)),this.handler=new k6(o,s,u,s.root,f),this.animation=new ede({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},e.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(t,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,r),this.refresh())},e.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=mde(t))},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(t){this._darkMode=t},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},e.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},e.prototype.flush=function(){this._disposed||this._flush(!1)},e.prototype._flush=function(t){var r,n=fh();this._needsRefresh&&(r=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var i=fh();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},e.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},e.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},e.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},e.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},e.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},e.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},e.prototype.findHover=function(t,r){if(!this._disposed)return this.handler.findHover(t,r)},e.prototype.on=function(t,r,n){return this._disposed||this.handler.on(t,r,n),this},e.prototype.off=function(t,r){this._disposed||this.handler.off(t,r)},e.prototype.trigger=function(t,r){this._disposed||this.handler.trigger(t,r)},e.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),r=0;r<t.length;r++)t[r]instanceof Ne&&t[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},e.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,vde(this.id))},e}();function RP(e,t){var r=new yde(mI(),e,t);return ic[r.id]=r,r}function Cde(e){e.dispose()}function wde(){for(var e in ic)ic.hasOwnProperty(e)&&ic[e].dispose();ic={}}function bde(e){return ic[e]}function rU(e,t){Cw[e]=t}var _P;function nU(e){if(typeof _P=="function")return _P(e)}function iU(e){_P=e}var Sde="5.6.1";const xde=Object.freeze(Object.defineProperty({__proto__:null,dispose:Cde,disposeAll:wde,getElementSSRData:nU,getInstance:bde,init:RP,registerPainter:rU,registerSSRDataGetter:iU,version:Sde},Symbol.toStringTag,{value:"Module"}));var Rde=1e-4,oU=20;function _de(e){return e.replace(/^\s+|\s+$/g,"")}function Ct(e,t,r,n){var i=t[0],o=t[1],a=r[0],s=r[1],l=o-i,u=s-a;if(l===0)return u===0?a:(a+s)/2;if(n)if(l>0){if(e<=i)return a;if(e>=o)return s}else{if(e>=i)return a;if(e<=o)return s}else{if(e===i)return a;if(e===o)return s}return(e-i)/l*u+a}function me(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return we(e)?_de(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function Zt(e,t,r){return t==null&&(t=10),t=Math.min(Math.max(0,t),oU),e=(+e).toFixed(t),r?e:+e}function mi(e){return e.sort(function(t,r){return t-r}),e}function Do(e){if(e=+e,isNaN(e))return 0;if(e>1e-14){for(var t=1,r=0;r<15;r++,t*=10)if(Math.round(e*t)/t===e)return r}return aU(e)}function aU(e){var t=e.toString().toLowerCase(),r=t.indexOf("e"),n=r>0?+t.slice(r+1):0,i=r>0?r:t.length,o=t.indexOf("."),a=o<0?0:i-1-o;return Math.max(0,a-n)}function TI(e,t){var r=Math.log,n=Math.LN10,i=Math.floor(r(e[1]-e[0])/n),o=Math.round(r(Math.abs(t[1]-t[0]))/n),a=Math.min(Math.max(-i+o,0),20);return isFinite(a)?a:20}function Tde(e,t,r){if(!e[t])return 0;var n=sU(e,r);return n[t]||0}function sU(e,t){var r=no(e,function(f,g){return f+(isNaN(g)?0:g)},0);if(r===0)return[];for(var n=Math.pow(10,t),i=le(e,function(f){return(isNaN(f)?0:f)/r*n*100}),o=n*100,a=le(i,function(f){return Math.floor(f)}),s=no(a,function(f,g){return f+g},0),l=le(i,function(f,g){return f-a[g]});s<o;){for(var u=Number.NEGATIVE_INFINITY,c=null,d=0,h=l.length;d<h;++d)l[d]>u&&(u=l[d],c=d);++a[c],l[c]=0,++s}return le(a,function(f){return f/n})}function Pde(e,t){var r=Math.max(Do(e),Do(t)),n=e+t;return r>oU?n:Zt(n,r)}var TP=9007199254740991;function PI(e){var t=Math.PI*2;return(e%t+t)%t}function $h(e){return e>-1e-4&&e<Rde}var Dde=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function xi(e){if(e instanceof Date)return e;if(we(e)){var t=Dde.exec(e);if(!t)return new Date(NaN);if(t[8]){var r=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(r-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,r,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function lU(e){return Math.pow(10,Gb(e))}function Gb(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function DI(e,t){var r=Gb(e),n=Math.pow(10,r),i=e/n,o;return t?i<1.5?o=1:i<2.5?o=2:i<4?o=3:i<7?o=5:o=10:i<1?o=1:i<2?o=2:i<3?o=3:i<5?o=5:o=10,e=o*n,r>=-20?+e.toFixed(r<0?-r:0):e}function ww(e,t){var r=(e.length-1)*t+1,n=Math.floor(r),i=+e[n-1],o=r-n;return o?i+o*(e[n]-i):i}function PP(e){e.sort(function(l,u){return s(l,u,0)?-1:1});for(var t=-1/0,r=1,n=0;n<e.length;){for(var i=e[n].interval,o=e[n].close,a=0;a<2;a++)i[a]<=t&&(i[a]=t,o[a]=a?1:1-r),t=i[a],r=o[a];i[0]===i[1]&&o[0]*o[1]!==1?e.splice(n,1):n++}return e;function s(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&s(l,u,1))}}function Ia(e){var t=parseFloat(e);return t==e&&(t!==0||!we(e)||e.indexOf("x")<=0)?t:NaN}function AI(e){return!isNaN(Ia(e))}function uU(){return Math.round(Math.random()*9)}function cU(e,t){return t===0?e:cU(t,e%t)}function rN(e,t){return e==null?t:t==null?e:e*t/cU(e,t)}function wt(e){throw new Error(e)}function nN(e,t,r){return(t-e)*r+e}var dU="series\0",hU="\0_ec_\0";function _t(e){return e instanceof Array?e:e==null?[]:[e]}function Ac(e,t,r){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var n=0,i=r.length;n<i;n++){var o=r[n];!e.emphasis[t].hasOwnProperty(o)&&e[t].hasOwnProperty(o)&&(e.emphasis[t][o]=e[t][o])}}}var iN=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function gf(e){return ke(e)&&!se(e)&&!(e instanceof Date)?e.value:e}function Ade(e){return ke(e)&&!(e instanceof Array)}function fU(e,t,r){var n=r==="normalMerge",i=r==="replaceMerge",o=r==="replaceAll";e=e||[],t=(t||[]).slice();var a=Pe();F(t,function(l,u){if(!ke(l)){t[u]=null;return}});var s=Ide(e,a,r);return(n||i)&&Ede(s,e,a,t),n&&Mde(s,t),n||i?kde(s,t,i):o&&Fde(s,t),Lde(s),s}function Ide(e,t,r){var n=[];if(r==="replaceAll")return n;for(var i=0;i<e.length;i++){var o=e[i];o&&o.id!=null&&t.set(o.id,i),n.push({existing:r==="replaceMerge"||gv(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return n}function Ede(e,t,r,n){F(n,function(i,o){if(!(!i||i.id==null)){var a=Ng(i.id),s=r.get(a);if(s!=null){var l=e[s];Cn(!l.newOption,'Duplicated option on id "'+a+'".'),l.newOption=i,l.existing=t[s],n[o]=null}}})}function Mde(e,t){F(t,function(r,n){if(!(!r||r.name==null))for(var i=0;i<e.length;i++){var o=e[i].existing;if(!e[i].newOption&&o&&(o.id==null||r.id==null)&&!gv(r)&&!gv(o)&&pU("name",o,r)){e[i].newOption=r,t[n]=null;return}}})}function kde(e,t,r){F(t,function(n){if(n){for(var i,o=0;(i=e[o])&&(i.newOption||gv(i.existing)||i.existing&&n.id!=null&&!pU("id",n,i.existing));)o++;i?(i.newOption=n,i.brandNew=r):e.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),o++}})}function Fde(e,t){F(t,function(r){e.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function Lde(e){var t=Pe();F(e,function(r){var n=r.existing;n&&t.set(n.id,r)}),F(e,function(r){var n=r.newOption;Cn(!n||n.id==null||!t.get(n.id)||t.get(n.id)===r,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&t.set(n.id,r),!r.keyInfo&&(r.keyInfo={})}),F(e,function(r,n){var i=r.existing,o=r.newOption,a=r.keyInfo;if(ke(o)){if(a.name=o.name!=null?Ng(o.name):i?i.name:dU+n,i)a.id=Ng(i.id);else if(o.id!=null)a.id=Ng(o.id);else{var s=0;do a.id="\0"+a.name+"\0"+s++;while(t.get(a.id))}t.set(a.id,r)}})}function pU(e,t,r){var n=xr(t[e],null),i=xr(r[e],null);return n!=null&&i!=null&&n===i}function Ng(e){return xr(e,"")}function xr(e,t){return e==null?t:we(e)?e:pt(e)||e0(e)?e+"":t}function II(e){var t=e.name;return!!(t&&t.indexOf(dU))}function gv(e){return e&&e.id!=null&&Ng(e.id).indexOf(hU)===0}function Ode(e){return hU+e}function Nde(e,t,r){F(e,function(n){var i=n.newOption;ke(i)&&(n.keyInfo.mainType=t,n.keyInfo.subType=zde(t,i,n.existing,r))})}function zde(e,t,r,n){var i=t.type?t.type:r?r.subType:n.determineSubType(e,t);return i}function Bde(e,t){var r={},n={};return i(e||[],r),i(t||[],n,r),[o(r),o(n)];function i(a,s,l){for(var u=0,c=a.length;u<c;u++){var d=xr(a[u].seriesId,null);if(d==null)return;for(var h=_t(a[u].dataIndex),f=l&&l[d],g=0,m=h.length;g<m;g++){var y=h[g];f&&f[y]?f[y]=null:(s[d]||(s[d]={}))[y]=1}}}function o(a,s){var l=[];for(var u in a)if(a.hasOwnProperty(u)&&a[u]!=null)if(s)l.push(+u);else{var c=o(a[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function Ic(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return se(t.dataIndex)?le(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return se(t.name)?le(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}function ft(){var e="__ec_inner_"+Vde++;return function(t){return t[e]||(t[e]={})}}var Vde=uU();function zg(e,t,r){var n=EI(t,r),i=n.mainTypeSpecified,o=n.queryOptionMap,a=n.others,s=a,l=r?r.defaultMainType:null;return!i&&l&&o.set(l,{}),o.each(function(u,c){var d=sm(e,c,u,{useDefault:l===c,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});s[c+"Models"]=d.models,s[c+"Model"]=d.models[0]}),s}function EI(e,t){var r;if(we(e)){var n={};n[e+"Index"]=0,r=n}else r=e;var i=Pe(),o={},a=!1;return F(r,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){o[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],d=(u[2]||"").toLowerCase();if(!(!c||!d||t&&t.includeMainTypes&&Ze(t.includeMainTypes,c)<0)){a=a||!!c;var h=i.get(c)||i.set(c,{});h[d]=s}}),{mainTypeSpecified:a,queryOptionMap:i,others:o}}var mr={useDefault:!0,enableAll:!1,enableNone:!1},Gde={useDefault:!1,enableAll:!0,enableNone:!0};function sm(e,t,r,n){n=n||mr;var i=r.index,o=r.id,a=r.name,s={models:null,specified:i!=null||o!=null||a!=null};if(!s.specified){var l=void 0;return s.models=n.useDefault&&(l=e.getComponent(t))?[l]:[],s}return i==="none"||i===!1?(Cn(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(i==="all"&&(Cn(n.enableAll,'`"all"` is not a valid value on index option.'),i=o=a=null),s.models=e.queryComponents({mainType:t,index:i,id:o,name:a}),s)}function gU(e,t,r){e.setAttribute?e.setAttribute(t,r):e[t]=r}function Hde(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function Wde(e){return e==="auto"?rt.domSupported?"html":"richText":e||"html"}function DP(e,t){var r=Pe(),n=[];return F(e,function(i){var o=t(i);(r.get(o)||(n.push(o),r.set(o,[]))).push(i)}),{keys:n,buckets:r}}function vU(e,t,r,n,i){var o=t==null||t==="auto";if(n==null)return n;if(pt(n)){var a=nN(r||0,n,i);return Zt(a,o?Math.max(Do(r||0),Do(n)):t)}else{if(we(n))return i<1?r:n;for(var s=[],l=r,u=n,c=Math.max(l?l.length:0,u.length),d=0;d<c;++d){var h=e.getDimensionInfo(d);if(h&&h.type==="ordinal")s[d]=(i<1&&l?l:u)[d];else{var f=l&&l[d]?l[d]:0,g=u[d],a=nN(f,g,i);s[d]=Zt(a,o?Math.max(Do(f),Do(g)):t)}}return s}}var $de=".",_u="___EC__COMPONENT__CONTAINER___",mU="___EC__EXTENDED_CLASS___";function ga(e){var t={main:"",sub:""};if(e){var r=e.split($de);t.main=r[0]||"",t.sub=r[1]||""}return t}function Ude(e){Cn(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function jde(e){return!!(e&&e[mU])}function MI(e,t){e.$constructor=e,e.extend=function(r){var n=this,i;return Yde(n)?i=function(o){q(a,o);function a(){return o.apply(this,arguments)||this}return a}(n):(i=function(){(r.$constructor||n).apply(this,arguments)},yI(i,this)),ie(i.prototype,r),i[mU]=!0,i.extend=this.extend,i.superCall=qde,i.superApply=Zde,i.superClass=n,i}}function Yde(e){return Ie(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function yU(e,t){e.extend=t.extend}var Kde=Math.round(Math.random()*10);function Xde(e){var t=["__\0is_clz",Kde++].join("_");e.prototype[t]=!0,e.isInstance=function(r){return!!(r&&r[t])}}function qde(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.superClass.prototype[t].apply(e,r)}function Zde(e,t,r){return this.superClass.prototype[t].apply(e,r)}function Hb(e){var t={};e.registerClass=function(n){var i=n.type||n.prototype.type;if(i){Ude(i),n.prototype.type=i;var o=ga(i);if(!o.sub)t[o.main]=n;else if(o.sub!==_u){var a=r(o);a[o.sub]=n}}return n},e.getClass=function(n,i,o){var a=t[n];if(a&&a[_u]&&(a=i?a[i]:null),o&&!a)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return a},e.getClassesByMainType=function(n){var i=ga(n),o=[],a=t[i.main];return a&&a[_u]?F(a,function(s,l){l!==_u&&o.push(s)}):o.push(a),o},e.hasClass=function(n){var i=ga(n);return!!t[i.main]},e.getAllClassMainTypes=function(){var n=[];return F(t,function(i,o){n.push(o)}),n},e.hasSubTypes=function(n){var i=ga(n),o=t[i.main];return o&&o[_u]};function r(n){var i=t[n.main];return(!i||!i[_u])&&(i=t[n.main]={},i[_u]=!0),i}}function Ec(e,t){for(var r=0;r<e.length;r++)e[r][1]||(e[r][1]=e[r][0]);return t=t||!1,function(n,i,o){for(var a={},s=0;s<e.length;s++){var l=e[s][1];if(!(i&&Ze(i,l)>=0||o&&Ze(o,l)<0)){var u=n.getShallow(l,t);u!=null&&(a[e[s][0]]=u)}}return a}}var Qde=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Jde=Ec(Qde),ehe=function(){function e(){}return e.prototype.getAreaStyle=function(t,r){return Jde(this,t,r)},e}(),AP=new om(50);function the(e){if(typeof e=="string"){var t=AP.get(e);return t&&t.image}else return e}function kI(e,t,r,n,i){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!r)return t;var o=AP.get(e),a={hostEl:r,cb:n,cbPayload:i};return o?(t=o.image,!Wb(t)&&o.pending.push(a)):(t=No.loadImage(e,oN,oN),t.__zrImageSrc=e,AP.put(e,t.__cachedImgObj={image:t,pending:[a]})),t}else return e;else return t}function oN(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var r=e.pending[t],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function Wb(e){return e&&e.width&&e.height}var oR=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function rhe(e,t,r,n,i){var o={};return CU(o,e,t,r,n,i),o.text}function CU(e,t,r,n,i,o){if(!r){e.text="",e.isTruncated=!1;return}var a=(t+"").split(`
`);o=wU(r,n,i,o);for(var s=!1,l={},u=0,c=a.length;u<c;u++)bU(l,a[u],o),a[u]=l.textLine,s=s||l.isTruncated;e.text=a.join(`
`),e.isTruncated=s}function wU(e,t,r,n){n=n||{};var i=ie({},n);i.font=t,r=Ue(r,"..."),i.maxIterations=Ue(n.maxIterations,2);var o=i.minChar=Ue(n.minChar,0);i.cnCharWidth=Si("",t);var a=i.ascCharWidth=Si("a",t);i.placeholder=Ue(n.placeholder,"");for(var s=e=Math.max(0,e-1),l=0;l<o&&s>=a;l++)s-=a;var u=Si(r,t);return u>s&&(r="",u=0),s=e-u,i.ellipsis=r,i.ellipsisWidth=u,i.contentWidth=s,i.containerWidth=e,i}function bU(e,t,r){var n=r.containerWidth,i=r.font,o=r.contentWidth;if(!n){e.textLine="",e.isTruncated=!1;return}var a=Si(t,i);if(a<=n){e.textLine=t,e.isTruncated=!1;return}for(var s=0;;s++){if(a<=o||s>=r.maxIterations){t+=r.ellipsis;break}var l=s===0?nhe(t,o,r.ascCharWidth,r.cnCharWidth):a>0?Math.floor(t.length*o/a):0;t=t.substr(0,l),a=Si(t,i)}t===""&&(t=r.placeholder),e.textLine=t,e.isTruncated=!0}function nhe(e,t,r,n){for(var i=0,o=0,a=e.length;o<a&&i<t;o++){var s=e.charCodeAt(o);i+=0<=s&&s<=127?r:n}return o}function ihe(e,t){e!=null&&(e+="");var r=t.overflow,n=t.padding,i=t.font,o=r==="truncate",a=Bb(i),s=Ue(t.lineHeight,a),l=!!t.backgroundColor,u=t.lineOverflow==="truncate",c=!1,d=t.width,h;d!=null&&(r==="break"||r==="breakAll")?h=e?SU(e,t.font,d,r==="breakAll",0).lines:[]:h=e?e.split(`
`):[];var f=h.length*s,g=Ue(t.height,f);if(f>g&&u){var m=Math.floor(g/s);c=c||h.length>m,h=h.slice(0,m)}if(e&&o&&d!=null)for(var y=wU(d,i,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),C={},w=0;w<h.length;w++)bU(C,h[w],y),h[w]=C.textLine,c=c||C.isTruncated;for(var S=g,x=0,w=0;w<h.length;w++)x=Math.max(Si(h[w],i),x);d==null&&(d=x);var R=x;return n&&(S+=n[0]+n[2],R+=n[1]+n[3],d+=n[1]+n[3]),l&&(R=d),{lines:h,height:g,outerWidth:R,outerHeight:S,lineHeight:s,calculatedLineHeight:a,contentWidth:x,contentHeight:f,width:d,isTruncated:c}}var ohe=function(){function e(){}return e}(),aN=function(){function e(t){this.tokens=[],t&&(this.tokens=t)}return e}(),ahe=function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return e}();function she(e,t){var r=new ahe;if(e!=null&&(e+=""),!e)return r;for(var n=t.width,i=t.height,o=t.overflow,a=(o==="break"||o==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:o==="breakAll"}:null,s=oR.lastIndex=0,l;(l=oR.exec(e))!=null;){var u=l.index;u>s&&aR(r,e.substring(s,u),t,a),aR(r,l[2],t,a,l[1]),s=oR.lastIndex}s<e.length&&aR(r,e.substring(s,e.length),t,a);var c=[],d=0,h=0,f=t.padding,g=o==="truncate",m=t.lineOverflow==="truncate",y={};function C(K,H,U){K.width=H,K.lineHeight=U,d+=U,h=Math.max(h,H)}e:for(var w=0;w<r.lines.length;w++){for(var S=r.lines[w],x=0,R=0,T=0;T<S.tokens.length;T++){var P=S.tokens[T],D=P.styleName&&t.rich[P.styleName]||{},I=P.textPadding=D.padding,E=I?I[1]+I[3]:0,k=P.font=D.font||t.font;P.contentHeight=Bb(k);var L=Ue(D.height,P.contentHeight);if(P.innerHeight=L,I&&(L+=I[0]+I[2]),P.height=L,P.lineHeight=Io(D.lineHeight,t.lineHeight,L),P.align=D&&D.align||t.align,P.verticalAlign=D&&D.verticalAlign||"middle",m&&i!=null&&d+P.lineHeight>i){var N=r.lines.length;T>0?(S.tokens=S.tokens.slice(0,T),C(S,R,x),r.lines=r.lines.slice(0,w+1)):r.lines=r.lines.slice(0,w),r.isTruncated=r.isTruncated||r.lines.length<N;break e}var B=D.width,V=B==null||B==="auto";if(typeof B=="string"&&B.charAt(B.length-1)==="%")P.percentWidth=B,c.push(P),P.contentWidth=Si(P.text,k);else{if(V){var W=D.backgroundColor,j=W&&W.image;j&&(j=the(j),Wb(j)&&(P.width=Math.max(P.width,j.width*L/j.height)))}var G=g&&n!=null?n-R:null;G!=null&&G<P.width?!V||G<E?(P.text="",P.width=P.contentWidth=0):(CU(y,P.text,G-E,k,t.ellipsis,{minChar:t.truncateMinChar}),P.text=y.text,r.isTruncated=r.isTruncated||y.isTruncated,P.width=P.contentWidth=Si(P.text,k)):P.contentWidth=Si(P.text,k)}P.width+=E,R+=P.width,D&&(x=Math.max(x,P.lineHeight))}C(S,R,x)}r.outerWidth=r.width=Ue(n,h),r.outerHeight=r.height=Ue(i,d),r.contentHeight=d,r.contentWidth=h,f&&(r.outerWidth+=f[1]+f[3],r.outerHeight+=f[0]+f[2]);for(var w=0;w<c.length;w++){var P=c[w],$=P.percentWidth;P.width=parseInt($,10)/100*r.width}return r}function aR(e,t,r,n,i){var o=t==="",a=i&&r.rich[i]||{},s=e.lines,l=a.font||r.font,u=!1,c,d;if(n){var h=a.padding,f=h?h[1]+h[3]:0;if(a.width!=null&&a.width!=="auto"){var g=Bo(a.width,n.width)+f;s.length>0&&g+n.accumWidth>n.width&&(c=t.split(`
`),u=!0),n.accumWidth=g}else{var m=SU(t,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=m.accumWidth+f,d=m.linesWidths,c=m.lines}}else c=t.split(`
`);for(var y=0;y<c.length;y++){var C=c[y],w=new ohe;if(w.styleName=i,w.text=C,w.isLineHolder=!C&&!o,typeof a.width=="number"?w.width=a.width:w.width=d?d[y]:Si(C,l),!y&&!u){var S=(s[s.length-1]||(s[0]=new aN)).tokens,x=S.length;x===1&&S[0].isLineHolder?S[0]=w:(C||!x||o)&&S.push(w)}else s.push(new aN([w]))}}function lhe(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var uhe=no(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function che(e){return lhe(e)?!!uhe[e]:!0}function SU(e,t,r,n,i){for(var o=[],a=[],s="",l="",u=0,c=0,d=0;d<e.length;d++){var h=e.charAt(d);if(h===`
`){l&&(s+=l,c+=u),o.push(s),a.push(c),s="",l="",u=0,c=0;continue}var f=Si(h,t),g=n?!1:!che(h);if(o.length?c+f>r:i+c+f>r){c?(s||l)&&(g?(s||(s=l,l="",u=0,c=u),o.push(s),a.push(c-u),l+=h,u+=f,s="",c=u):(l&&(s+=l,l="",u=0),o.push(s),a.push(c),s=h,c=f)):g?(o.push(l),a.push(u),l=h,u=f):(o.push(h),a.push(f));continue}c+=f,g?(l+=h,u+=f):(l&&(s+=l,l="",u=0),s+=h)}return!o.length&&!s&&(s=e,l="",u=0),l&&(s+=l),s&&(o.push(s),a.push(c)),o.length===1&&(c+=i),{accumWidth:c,lines:o,linesWidths:a}}var IP="__zr_style_"+Math.round(Math.random()*10),pc={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},$b={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};pc[IP]=!0;var sN=["z","z2","invisible"],dhe=["invisible"],io=function(e){q(t,e);function t(r){return e.call(this,r)||this}return t.prototype._init=function(r){for(var n=at(r),i=0;i<n.length;i++){var o=n[i];o==="style"?this.useStyle(r[o]):e.prototype.attrKV.call(this,o,r[o])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(r,n,i,o){var a=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&hhe(this,r,n)||a&&!a[0]&&!a[3])return!1;if(i&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(o&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(r,n){return this.rectContain(r,n)},t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.rectContain=function(r,n){var i=this.transformCoordToLocal(r,n),o=this.getBoundingRect();return o.contain(i[0],i[1])},t.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),o=this.style,a=o.shadowBlur||0,s=o.shadowOffsetX||0,l=o.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new qe(0,0,0,0)),n?qe.applyTransform(r,i,n):r.copy(i),(a||s||l)&&(r.width+=a*2+Math.abs(s),r.height+=a*2+Math.abs(l),r.x=Math.min(r.x,r.x+s-a),r.y=Math.min(r.y,r.y+l-a));var u=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-u),r.y=Math.floor(r.y-u),r.width=Math.ceil(r.width+1+u*2),r.height=Math.ceil(r.height+1+u*2))}return r},t.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new qe(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(r){return this.animate("style",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(r,n){r!=="style"?e.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:ie(this.style,r),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=gw,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&gw)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(r){return nm(pc,r)},t.prototype.useStyle=function(r){r[IP]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},t.prototype.isStyleObject=function(r){return r[IP]},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,sN)},t.prototype._applyStateObj=function(r,n,i,o,a,s){e.prototype._applyStateObj.call(this,r,n,i,o,a,s);var l=!(n&&o),u;if(n&&n.style?a?o?u=n.style:(u=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),o?this.style:i.style),this._mergeStyle(u,n.style)):l&&(u=i.style),u)if(a){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var d=at(c),h=0;h<d.length;h++){var f=d[h];f in u&&(u[f]=u[f],this.style[f]=c[f])}for(var g=at(u),h=0;h<g.length;h++){var f=g[h];this.style[f]=this.style[f]}this._transitionState(r,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var m=this.__inHover?dhe:sN,h=0;h<m.length;h++){var f=m[h];n&&n[f]!=null?this[f]=n[f]:l&&i[f]!=null&&(this[f]=i[f])}},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),i,o=0;o<r.length;o++){var a=r[o];a.style&&(i=i||{},this._mergeStyle(i,a.style))}return i&&(n.style=i),n},t.prototype._mergeStyle=function(r,n){return ie(r,n),r},t.prototype.getAnimationStyleProps=function(){return $b},t.initDefaultProps=function(){var r=t.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=Sa|gw}(),t}(Vb),sR=new qe(0,0,0,0),lR=new qe(0,0,0,0);function hhe(e,t,r){return sR.copy(e.getBoundingRect()),e.transform&&sR.applyTransform(e.transform),lR.width=t,lR.height=r,!sR.intersect(lR)}var ei=Math.min,ti=Math.max,uR=Math.sin,cR=Math.cos,Tu=Math.PI*2,iC=Zl(),oC=Zl(),aC=Zl();function Ub(e,t,r){if(e.length!==0){for(var n=e[0],i=n[0],o=n[0],a=n[1],s=n[1],l=1;l<e.length;l++)n=e[l],i=ei(i,n[0]),o=ti(o,n[0]),a=ei(a,n[1]),s=ti(s,n[1]);t[0]=i,t[1]=a,r[0]=o,r[1]=s}}function lN(e,t,r,n,i,o){i[0]=ei(e,r),i[1]=ei(t,n),o[0]=ti(e,r),o[1]=ti(t,n)}var uN=[],cN=[];function fhe(e,t,r,n,i,o,a,s,l,u){var c=B6,d=Dr,h=c(e,r,i,a,uN);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var f=0;f<h;f++){var g=d(e,r,i,a,uN[f]);l[0]=ei(g,l[0]),u[0]=ti(g,u[0])}h=c(t,n,o,s,cN);for(var f=0;f<h;f++){var m=d(t,n,o,s,cN[f]);l[1]=ei(m,l[1]),u[1]=ti(m,u[1])}l[0]=ei(e,l[0]),u[0]=ti(e,u[0]),l[0]=ei(a,l[0]),u[0]=ti(a,u[0]),l[1]=ei(t,l[1]),u[1]=ti(t,u[1]),l[1]=ei(s,l[1]),u[1]=ti(s,u[1])}function phe(e,t,r,n,i,o,a,s){var l=G6,u=Gr,c=ti(ei(l(e,r,i),1),0),d=ti(ei(l(t,n,o),1),0),h=u(e,r,i,c),f=u(t,n,o,d);a[0]=ei(e,i,h),a[1]=ei(t,o,f),s[0]=ti(e,i,h),s[1]=ti(t,o,f)}function ghe(e,t,r,n,i,o,a,s,l){var u=cs,c=ds,d=Math.abs(i-o);if(d%Tu<1e-4&&d>1e-4){s[0]=e-r,s[1]=t-n,l[0]=e+r,l[1]=t+n;return}if(iC[0]=cR(i)*r+e,iC[1]=uR(i)*n+t,oC[0]=cR(o)*r+e,oC[1]=uR(o)*n+t,u(s,iC,oC),c(l,iC,oC),i=i%Tu,i<0&&(i=i+Tu),o=o%Tu,o<0&&(o=o+Tu),i>o&&!a?o+=Tu:i<o&&a&&(i+=Tu),a){var h=o;o=i,i=h}for(var f=0;f<o;f+=Math.PI/2)f>i&&(aC[0]=cR(f)*r+e,aC[1]=uR(f)*n+t,u(s,aC,s),c(l,aC,l))}var Et={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Pu=[],Du=[],Jo=[],il=[],ea=[],ta=[],dR=Math.min,hR=Math.max,Au=Math.cos,Iu=Math.sin,Za=Math.abs,EP=Math.PI,gl=EP*2,fR=typeof Float32Array<"u",Op=[];function pR(e){var t=Math.round(e/EP*1e8)/1e8;return t%2*EP}function FI(e,t){var r=pR(e[0]);r<0&&(r+=gl);var n=r-e[0],i=e[1];i+=n,!t&&i-r>=gl?i=r+gl:t&&r-i>=gl?i=r-gl:!t&&r>i?i=r+(gl-pR(r-i)):t&&r<i&&(i=r-(gl-pR(i-r))),e[0]=r,e[1]=i}var Ea=function(){function e(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(t,r,n){n=n||0,n>0&&(this._ux=Za(n/l0/t)||0,this._uy=Za(n/l0/r)||0)},e.prototype.setDPR=function(t){this.dpr=t},e.prototype.setContext=function(t){this._ctx=t},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(t,r){return this._drawPendingPt(),this.addData(Et.M,t,r),this._ctx&&this._ctx.moveTo(t,r),this._x0=t,this._y0=r,this._xi=t,this._yi=r,this},e.prototype.lineTo=function(t,r){var n=Za(t-this._xi),i=Za(r-this._yi),o=n>this._ux||i>this._uy;if(this.addData(Et.L,t,r),this._ctx&&o&&this._ctx.lineTo(t,r),o)this._xi=t,this._yi=r,this._pendingPtDist=0;else{var a=n*n+i*i;a>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=r,this._pendingPtDist=a)}return this},e.prototype.bezierCurveTo=function(t,r,n,i,o,a){return this._drawPendingPt(),this.addData(Et.C,t,r,n,i,o,a),this._ctx&&this._ctx.bezierCurveTo(t,r,n,i,o,a),this._xi=o,this._yi=a,this},e.prototype.quadraticCurveTo=function(t,r,n,i){return this._drawPendingPt(),this.addData(Et.Q,t,r,n,i),this._ctx&&this._ctx.quadraticCurveTo(t,r,n,i),this._xi=n,this._yi=i,this},e.prototype.arc=function(t,r,n,i,o,a){this._drawPendingPt(),Op[0]=i,Op[1]=o,FI(Op,a),i=Op[0],o=Op[1];var s=o-i;return this.addData(Et.A,t,r,n,n,i,s,0,a?0:1),this._ctx&&this._ctx.arc(t,r,n,i,o,a),this._xi=Au(o)*n+t,this._yi=Iu(o)*n+r,this},e.prototype.arcTo=function(t,r,n,i,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,r,n,i,o),this},e.prototype.rect=function(t,r,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,r,n,i),this.addData(Et.R,t,r,n,i),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(Et.Z);var t=this._ctx,r=this._x0,n=this._y0;return t&&t.closePath(),this._xi=r,this._yi=n,this},e.prototype.fill=function(t){t&&t.fill(),this.toStatic()},e.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(t){var r=t.length;!(this.data&&this.data.length===r)&&fR&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=t[n];this._len=r},e.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var r=t.length,n=0,i=this._len,o=0;o<r;o++)n+=t[o].len();fR&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var o=0;o<r;o++)for(var a=t[o].data,s=0;s<a.length;s++)this.data[i++]=a[s];this._len=i},e.prototype.addData=function(t,r,n,i,o,a,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var d=0;d<arguments.length;d++)c[this._len++]=arguments[d]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],r=0;r<this._len;r++)t[r]=this.data[r];this.data=t}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,fR&&this._len>11&&(this.data=new Float32Array(t)))}},e.prototype.getBoundingRect=function(){Jo[0]=Jo[1]=ea[0]=ea[1]=Number.MAX_VALUE,il[0]=il[1]=ta[0]=ta[1]=-Number.MAX_VALUE;var t=this.data,r=0,n=0,i=0,o=0,a;for(a=0;a<this._len;){var s=t[a++],l=a===1;switch(l&&(r=t[a],n=t[a+1],i=r,o=n),s){case Et.M:r=i=t[a++],n=o=t[a++],ea[0]=i,ea[1]=o,ta[0]=i,ta[1]=o;break;case Et.L:lN(r,n,t[a],t[a+1],ea,ta),r=t[a++],n=t[a++];break;case Et.C:fhe(r,n,t[a++],t[a++],t[a++],t[a++],t[a],t[a+1],ea,ta),r=t[a++],n=t[a++];break;case Et.Q:phe(r,n,t[a++],t[a++],t[a],t[a+1],ea,ta),r=t[a++],n=t[a++];break;case Et.A:var u=t[a++],c=t[a++],d=t[a++],h=t[a++],f=t[a++],g=t[a++]+f;a+=1;var m=!t[a++];l&&(i=Au(f)*d+u,o=Iu(f)*h+c),ghe(u,c,d,h,f,g,m,ea,ta),r=Au(g)*d+u,n=Iu(g)*h+c;break;case Et.R:i=r=t[a++],o=n=t[a++];var y=t[a++],C=t[a++];lN(i,o,i+y,o+C,ea,ta);break;case Et.Z:r=i,n=o;break}cs(Jo,Jo,ea),ds(il,il,ta)}return a===0&&(Jo[0]=Jo[1]=il[0]=il[1]=0),new qe(Jo[0],Jo[1],il[0]-Jo[0],il[1]-Jo[1])},e.prototype._calculateLength=function(){var t=this.data,r=this._len,n=this._ux,i=this._uy,o=0,a=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,d=0,h=0;h<r;){var f=t[h++],g=h===1;g&&(o=t[h],a=t[h+1],s=o,l=a);var m=-1;switch(f){case Et.M:o=s=t[h++],a=l=t[h++];break;case Et.L:{var y=t[h++],C=t[h++],w=y-o,S=C-a;(Za(w)>n||Za(S)>i||h===r-1)&&(m=Math.sqrt(w*w+S*S),o=y,a=C);break}case Et.C:{var x=t[h++],R=t[h++],y=t[h++],C=t[h++],T=t[h++],P=t[h++];m=Dce(o,a,x,R,y,C,T,P,10),o=T,a=P;break}case Et.Q:{var x=t[h++],R=t[h++],y=t[h++],C=t[h++];m=Ice(o,a,x,R,y,C,10),o=y,a=C;break}case Et.A:var D=t[h++],I=t[h++],E=t[h++],k=t[h++],L=t[h++],N=t[h++],B=N+L;h+=1,g&&(s=Au(L)*E+D,l=Iu(L)*k+I),m=hR(E,k)*dR(gl,Math.abs(N)),o=Au(B)*E+D,a=Iu(B)*k+I;break;case Et.R:{s=o=t[h++],l=a=t[h++];var V=t[h++],W=t[h++];m=V*2+W*2;break}case Et.Z:{var w=s-o,S=l-a;m=Math.sqrt(w*w+S*S),o=s,a=l;break}}m>=0&&(u[d++]=m,c+=m)}return this._pathLen=c,c},e.prototype.rebuildPath=function(t,r){var n=this.data,i=this._ux,o=this._uy,a=this._len,s,l,u,c,d,h,f=r<1,g,m,y=0,C=0,w,S=0,x,R;if(!(f&&(this._pathSegLen||this._calculateLength(),g=this._pathSegLen,m=this._pathLen,w=r*m,!w)))e:for(var T=0;T<a;){var P=n[T++],D=T===1;switch(D&&(u=n[T],c=n[T+1],s=u,l=c),P!==Et.L&&S>0&&(t.lineTo(x,R),S=0),P){case Et.M:s=u=n[T++],l=c=n[T++],t.moveTo(u,c);break;case Et.L:{d=n[T++],h=n[T++];var I=Za(d-u),E=Za(h-c);if(I>i||E>o){if(f){var k=g[C++];if(y+k>w){var L=(w-y)/k;t.lineTo(u*(1-L)+d*L,c*(1-L)+h*L);break e}y+=k}t.lineTo(d,h),u=d,c=h,S=0}else{var N=I*I+E*E;N>S&&(x=d,R=h,S=N)}break}case Et.C:{var B=n[T++],V=n[T++],W=n[T++],j=n[T++],G=n[T++],$=n[T++];if(f){var k=g[C++];if(y+k>w){var L=(w-y)/k;$l(u,B,W,G,L,Pu),$l(c,V,j,$,L,Du),t.bezierCurveTo(Pu[1],Du[1],Pu[2],Du[2],Pu[3],Du[3]);break e}y+=k}t.bezierCurveTo(B,V,W,j,G,$),u=G,c=$;break}case Et.Q:{var B=n[T++],V=n[T++],W=n[T++],j=n[T++];if(f){var k=g[C++];if(y+k>w){var L=(w-y)/k;cv(u,B,W,L,Pu),cv(c,V,j,L,Du),t.quadraticCurveTo(Pu[1],Du[1],Pu[2],Du[2]);break e}y+=k}t.quadraticCurveTo(B,V,W,j),u=W,c=j;break}case Et.A:var K=n[T++],H=n[T++],U=n[T++],ne=n[T++],oe=n[T++],he=n[T++],xe=n[T++],Be=!n[T++],ee=U>ne?U:ne,Z=Za(U-ne)>.001,fe=oe+he,de=!1;if(f){var k=g[C++];y+k>w&&(fe=oe+he*(w-y)/k,de=!0),y+=k}if(Z&&t.ellipse?t.ellipse(K,H,U,ne,xe,oe,fe,Be):t.arc(K,H,ee,oe,fe,Be),de)break e;D&&(s=Au(oe)*U+K,l=Iu(oe)*ne+H),u=Au(fe)*U+K,c=Iu(fe)*ne+H;break;case Et.R:s=u=n[T],l=c=n[T+1],d=n[T++],h=n[T++];var pe=n[T++],Ae=n[T++];if(f){var k=g[C++];if(y+k>w){var Oe=w-y;t.moveTo(d,h),t.lineTo(d+dR(Oe,pe),h),Oe-=pe,Oe>0&&t.lineTo(d+pe,h+dR(Oe,Ae)),Oe-=Ae,Oe>0&&t.lineTo(d+hR(pe-Oe,0),h+Ae),Oe-=pe,Oe>0&&t.lineTo(d,h+hR(Ae-Oe,0));break e}y+=k}t.rect(d,h,pe,Ae);break;case Et.Z:if(f){var k=g[C++];if(y+k>w){var L=(w-y)/k;t.lineTo(u*(1-L)+s*L,c*(1-L)+l*L);break e}y+=k}t.closePath(),u=s,c=l}}},e.prototype.clone=function(){var t=new e,r=this.data;return t.data=r.slice?r.slice():Array.prototype.slice.call(r),t._len=this._len,t},e.CMD=Et,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();function yl(e,t,r,n,i,o,a){if(i===0)return!1;var s=i,l=0,u=e;if(a>t+s&&a>n+s||a<t-s&&a<n-s||o>e+s&&o>r+s||o<e-s&&o<r-s)return!1;if(e!==r)l=(t-n)/(e-r),u=(e*n-r*t)/(e-r);else return Math.abs(o-e)<=s/2;var c=l*o-a+u,d=c*c/(l*l+1);return d<=s/2*s/2}function vhe(e,t,r,n,i,o,a,s,l,u,c){if(l===0)return!1;var d=l;if(c>t+d&&c>n+d&&c>o+d&&c>s+d||c<t-d&&c<n-d&&c<o-d&&c<s-d||u>e+d&&u>r+d&&u>i+d&&u>a+d||u<e-d&&u<r-d&&u<i-d&&u<a-d)return!1;var h=V6(e,t,r,n,i,o,a,s,u,c,null);return h<=d/2}function xU(e,t,r,n,i,o,a,s,l){if(a===0)return!1;var u=a;if(l>t+u&&l>n+u&&l>o+u||l<t-u&&l<n-u&&l<o-u||s>e+u&&s>r+u&&s>i+u||s<e-u&&s<r-u&&s<i-u)return!1;var c=H6(e,t,r,n,i,o,s,l,null);return c<=u/2}var dN=Math.PI*2;function yi(e){return e%=dN,e<0&&(e+=dN),e}var Np=Math.PI*2;function mhe(e,t,r,n,i,o,a,s,l){if(a===0)return!1;var u=a;s-=e,l-=t;var c=Math.sqrt(s*s+l*l);if(c-u>r||c+u<r)return!1;if(Math.abs(n-i)%Np<1e-4)return!0;if(o){var d=n;n=yi(i),i=yi(d)}else n=yi(n),i=yi(i);n>i&&(i+=Np);var h=Math.atan2(l,s);return h<0&&(h+=Np),h>=n&&h<=i||h+Np>=n&&h+Np<=i}function os(e,t,r,n,i,o){if(o>t&&o>n||o<t&&o<n||n===t)return 0;var a=(o-t)/(n-t),s=n<t?1:-1;(a===1||a===0)&&(s=n<t?.5:-.5);var l=a*(r-e)+e;return l===i?1/0:l>i?s:0}var ol=Ea.CMD,Eu=Math.PI*2,yhe=1e-4;function Che(e,t){return Math.abs(e-t)<yhe}var In=[-1,-1,-1],Hi=[-1,-1];function whe(){var e=Hi[0];Hi[0]=Hi[1],Hi[1]=e}function bhe(e,t,r,n,i,o,a,s,l,u){if(u>t&&u>n&&u>o&&u>s||u<t&&u<n&&u<o&&u<s)return 0;var c=i0(t,n,o,s,u,In);if(c===0)return 0;for(var d=0,h=-1,f=void 0,g=void 0,m=0;m<c;m++){var y=In[m],C=y===0||y===1?.5:1,w=Dr(e,r,i,a,y);w<l||(h<0&&(h=B6(t,n,o,s,Hi),Hi[1]<Hi[0]&&h>1&&whe(),f=Dr(t,n,o,s,Hi[0]),h>1&&(g=Dr(t,n,o,s,Hi[1]))),h===2?y<Hi[0]?d+=f<t?C:-C:y<Hi[1]?d+=g<f?C:-C:d+=s<g?C:-C:y<Hi[0]?d+=f<t?C:-C:d+=s<f?C:-C)}return d}function She(e,t,r,n,i,o,a,s){if(s>t&&s>n&&s>o||s<t&&s<n&&s<o)return 0;var l=Ace(t,n,o,s,In);if(l===0)return 0;var u=G6(t,n,o);if(u>=0&&u<=1){for(var c=0,d=Gr(t,n,o,u),h=0;h<l;h++){var f=In[h]===0||In[h]===1?.5:1,g=Gr(e,r,i,In[h]);g<a||(In[h]<u?c+=d<t?f:-f:c+=o<d?f:-f)}return c}else{var f=In[0]===0||In[0]===1?.5:1,g=Gr(e,r,i,In[0]);return g<a?0:o<t?f:-f}}function xhe(e,t,r,n,i,o,a,s){if(s-=t,s>r||s<-r)return 0;var l=Math.sqrt(r*r-s*s);In[0]=-l,In[1]=l;var u=Math.abs(n-i);if(u<1e-4)return 0;if(u>=Eu-1e-4){n=0,i=Eu;var c=o?1:-1;return a>=In[0]+e&&a<=In[1]+e?c:0}if(n>i){var d=n;n=i,i=d}n<0&&(n+=Eu,i+=Eu);for(var h=0,f=0;f<2;f++){var g=In[f];if(g+e>a){var m=Math.atan2(s,g),c=o?1:-1;m<0&&(m=Eu+m),(m>=n&&m<=i||m+Eu>=n&&m+Eu<=i)&&(m>Math.PI/2&&m<Math.PI*1.5&&(c=-c),h+=c)}}return h}function RU(e,t,r,n,i){for(var o=e.data,a=e.len(),s=0,l=0,u=0,c=0,d=0,h,f,g=0;g<a;){var m=o[g++],y=g===1;switch(m===ol.M&&g>1&&(r||(s+=os(l,u,c,d,n,i))),y&&(l=o[g],u=o[g+1],c=l,d=u),m){case ol.M:c=o[g++],d=o[g++],l=c,u=d;break;case ol.L:if(r){if(yl(l,u,o[g],o[g+1],t,n,i))return!0}else s+=os(l,u,o[g],o[g+1],n,i)||0;l=o[g++],u=o[g++];break;case ol.C:if(r){if(vhe(l,u,o[g++],o[g++],o[g++],o[g++],o[g],o[g+1],t,n,i))return!0}else s+=bhe(l,u,o[g++],o[g++],o[g++],o[g++],o[g],o[g+1],n,i)||0;l=o[g++],u=o[g++];break;case ol.Q:if(r){if(xU(l,u,o[g++],o[g++],o[g],o[g+1],t,n,i))return!0}else s+=She(l,u,o[g++],o[g++],o[g],o[g+1],n,i)||0;l=o[g++],u=o[g++];break;case ol.A:var C=o[g++],w=o[g++],S=o[g++],x=o[g++],R=o[g++],T=o[g++];g+=1;var P=!!(1-o[g++]);h=Math.cos(R)*S+C,f=Math.sin(R)*x+w,y?(c=h,d=f):s+=os(l,u,h,f,n,i);var D=(n-C)*x/S+C;if(r){if(mhe(C,w,x,R,R+T,P,t,D,i))return!0}else s+=xhe(C,w,x,R,R+T,P,D,i);l=Math.cos(R+T)*S+C,u=Math.sin(R+T)*x+w;break;case ol.R:c=l=o[g++],d=u=o[g++];var I=o[g++],E=o[g++];if(h=c+I,f=d+E,r){if(yl(c,d,h,d,t,n,i)||yl(h,d,h,f,t,n,i)||yl(h,f,c,f,t,n,i)||yl(c,f,c,d,t,n,i))return!0}else s+=os(h,d,h,f,n,i),s+=os(c,f,c,d,n,i);break;case ol.Z:if(r){if(yl(l,u,c,d,t,n,i))return!0}else s+=os(l,u,c,d,n,i);l=c,u=d;break}}return!r&&!Che(u,d)&&(s+=os(l,u,c,d,n,i)||0),s!==0}function Rhe(e,t,r){return RU(e,0,!1,t,r)}function _he(e,t,r,n){return RU(e,t,!0,r,n)}var c0=Ee({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},pc),The={style:Ee({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},$b.style)},gR=Aa.concat(["invisible","culling","z","z2","zlevel","parent"]),nt=function(e){q(t,e);function t(r){return e.call(this,r)||this}return t.prototype.update=function(){var r=this;e.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(l){r.buildPath(l,r.shape)}),i.silent=!0;var o=i.style;for(var a in n)o[a]!==n[a]&&(o[a]=n[a]);o.fill=n.fill?n.decal:null,o.decal=null,o.shadowColor=null,n.strokeFirst&&(o.stroke=null);for(var s=0;s<gR.length;++s)i[gR[s]]=this[gR[s]];i.__dirty|=Sa}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(r){var n=at(r);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var o=0;o<n.length;o++){var a=n[o],s=r[a];a==="style"?this.style?ie(this.style,s):this.useStyle(s):a==="shape"?ie(this.shape,s):e.prototype.attrKV.call(this,a,s)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(we(r)){var n=fv(r,0);return n>.5?SP:n>.2?lde:xP}else if(r)return xP}return SP},t.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(we(n)){var i=this.__zr,o=!!(i&&i.isDarkMode()),a=fv(r,0)<bP;if(o===a)return n}},t.prototype.buildPath=function(r,n,i){},t.prototype.pathUpdated=function(){this.__dirty&=-5},t.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},t.prototype.createPathProxy=function(){this.path=new Ea(!1)},t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,i=!r;if(i){var o=!1;this.path||(o=!0,this.createPathProxy());var a=this.path;(o||this.__dirty&pg)&&(a.beginPath(),this.buildPath(a,this.shape,!1),this.pathUpdated()),r=a.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||i){s.copy(r);var l=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return r},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),o=this.getBoundingRect(),a=this.style;if(r=i[0],n=i[1],o.contain(r,n)){var s=this.path;if(this.hasStroke()){var l=a.lineWidth,u=a.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),_he(s,l/u,r,n)))return!0}if(this.hasFill())return Rhe(s,r,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=pg,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(r){return this.animate("shape",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):e.prototype.attrKV.call(this,r,n)},t.prototype.setShape=function(r,n){var i=this.shape;return i||(i=this.shape={}),typeof r=="string"?i[r]=n:ie(i,r),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&pg)},t.prototype.createStyle=function(r){return nm(c0,r)},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=ie({},this.shape))},t.prototype._applyStateObj=function(r,n,i,o,a,s){e.prototype._applyStateObj.call(this,r,n,i,o,a,s);var l=!(n&&o),u;if(n&&n.shape?a?o?u=n.shape:(u=ie({},i.shape),ie(u,n.shape)):(u=ie({},o?this.shape:i.shape),ie(u,n.shape)):l&&(u=i.shape),u)if(a){this.shape=ie({},this.shape);for(var c={},d=at(u),h=0;h<d.length;h++){var f=d[h];typeof u[f]=="object"?this.shape[f]=u[f]:c[f]=u[f]}this._transitionState(r,{shape:c},s)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),i,o=0;o<r.length;o++){var a=r[o];a.shape&&(i=i||{},this._mergeStyle(i,a.shape))}return i&&(n.shape=i),n},t.prototype.getAnimationStyleProps=function(){return The},t.prototype.isZeroArea=function(){return!1},t.extend=function(r){var n=function(o){q(a,o);function a(s){var l=o.call(this,s)||this;return r.init&&r.init.call(l,s),l}return a.prototype.getDefaultStyle=function(){return Fe(r.style)},a.prototype.getDefaultShape=function(){return Fe(r.shape)},a}(t);for(var i in r)typeof r[i]=="function"&&(n.prototype[i]=r[i]);return n},t.initDefaultProps=function(){var r=t.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=Sa|gw|pg}(),t}(io),Phe=Ee({strokeFirst:!0,font:Wl,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},c0),Uh=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return n!=null&&n!=="none"&&r.lineWidth>0},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.createStyle=function(r){return nm(Phe,r)},t.prototype.setBoundingRect=function(r){this._rect=r},t.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var n=r.text;n!=null?n+="":n="";var i=am(n,r.font,r.textAlign,r.textBaseline);if(i.x+=r.x||0,i.y+=r.y||0,this.hasStroke()){var o=r.lineWidth;i.x-=o/2,i.y-=o/2,i.width+=o,i.height+=o}this._rect=i}return this._rect},t.initDefaultProps=function(){var r=t.prototype;r.dirtyRectTolerance=10}(),t}(io);Uh.prototype.type="tspan";var Dhe=Ee({x:0,y:0},pc),Ahe={style:Ee({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},$b.style)};function Ihe(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}var Lr=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(r){return nm(Dhe,r)},t.prototype._getSize=function(r){var n=this.style,i=n[r];if(i!=null)return i;var o=Ihe(n.image)?n.image:this.__image;if(!o)return 0;var a=r==="width"?"height":"width",s=n[a];return s==null?o[r]:o[r]/o[a]*s},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return Ahe},t.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new qe(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},t}(io);Lr.prototype.type="image";function Ehe(e,t){var r=t.x,n=t.y,i=t.width,o=t.height,a=t.r,s,l,u,c;i<0&&(r=r+i,i=-i),o<0&&(n=n+o,o=-o),typeof a=="number"?s=l=u=c=a:a instanceof Array?a.length===1?s=l=u=c=a[0]:a.length===2?(s=u=a[0],l=c=a[1]):a.length===3?(s=a[0],l=c=a[1],u=a[2]):(s=a[0],l=a[1],u=a[2],c=a[3]):s=l=u=c=0;var d;s+l>i&&(d=s+l,s*=i/d,l*=i/d),u+c>i&&(d=u+c,u*=i/d,c*=i/d),l+u>o&&(d=l+u,l*=o/d,u*=o/d),s+c>o&&(d=s+c,s*=o/d,c*=o/d),e.moveTo(r+s,n),e.lineTo(r+i-l,n),l!==0&&e.arc(r+i-l,n+l,l,-Math.PI/2,0),e.lineTo(r+i,n+o-u),u!==0&&e.arc(r+i-u,n+o-u,u,0,Math.PI/2),e.lineTo(r+c,n+o),c!==0&&e.arc(r+c,n+o-c,c,Math.PI/2,Math.PI),e.lineTo(r,n+s),s!==0&&e.arc(r+s,n+s,s,Math.PI,Math.PI*1.5)}var ph=Math.round;function _U(e,t,r){if(t){var n=t.x1,i=t.x2,o=t.y1,a=t.y2;e.x1=n,e.x2=i,e.y1=o,e.y2=a;var s=r&&r.lineWidth;return s&&(ph(n*2)===ph(i*2)&&(e.x1=e.x2=oc(n,s,!0)),ph(o*2)===ph(a*2)&&(e.y1=e.y2=oc(o,s,!0))),e}}function TU(e,t,r){if(t){var n=t.x,i=t.y,o=t.width,a=t.height;e.x=n,e.y=i,e.width=o,e.height=a;var s=r&&r.lineWidth;return s&&(e.x=oc(n,s,!0),e.y=oc(i,s,!0),e.width=Math.max(oc(n+o,s,!1)-e.x,o===0?0:1),e.height=Math.max(oc(i+a,s,!1)-e.y,a===0?0:1)),e}}function oc(e,t,r){if(!t)return e;var n=ph(e*2);return(n+ph(t))%2===0?n/2:(n+(r?1:-1))/2}var Mhe=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e}(),khe={},ht=function(e){q(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new Mhe},t.prototype.buildPath=function(r,n){var i,o,a,s;if(this.subPixelOptimize){var l=TU(khe,n,this.style);i=l.x,o=l.y,a=l.width,s=l.height,l.r=n.r,n=l}else i=n.x,o=n.y,a=n.width,s=n.height;n.r?Ehe(r,n):r.rect(i,o,a,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(nt);ht.prototype.type="rect";var hN={fill:"#000"},fN=2,Fhe={style:Ee({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},$b.style)},dt=function(e){q(t,e);function t(r){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=hN,n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):e.prototype.getLocalTransform.call(this,r)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,Nhe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new qe(0,0,0,0),n=this._children,i=[],o=null,a=0;a<n.length;a++){var s=n[a],l=s.getBoundingRect(),u=s.getLocalTransform(i);u?(r.copy(l),r.applyTransform(u),o=o||r.clone(),o.union(r)):(o=o||l.clone(),o.union(l))}this._rect=o||r}return this._rect},t.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||hN},t.prototype.setTextContent=function(r){},t.prototype._mergeStyle=function(r,n){if(!n)return r;var i=n.rich,o=r.rich||i&&{};return ie(r,n),i&&o?(this._mergeRich(o,i),r.rich=o):o&&(r.rich=o),r},t.prototype._mergeRich=function(r,n){for(var i=at(n),o=0;o<i.length;o++){var a=i[o];r[a]=r[a]||{},ie(r[a],n[a])}},t.prototype.getAnimationStyleProps=function(){return Fhe},t.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||Wl,i=r.padding,o=wN(r),a=ihe(o,r),s=vR(r),l=!!r.backgroundColor,u=a.outerHeight,c=a.outerWidth,d=a.contentWidth,h=a.lines,f=a.lineHeight,g=this._defaultStyle;this.isTruncated=!!a.isTruncated;var m=r.x||0,y=r.y||0,C=r.align||g.align||"left",w=r.verticalAlign||g.verticalAlign||"top",S=m,x=sh(y,a.contentHeight,w);if(s||i){var R=vg(m,c,C),T=sh(y,u,w);s&&this._renderBackground(r,r,R,T,c,u)}x+=f/2,i&&(S=CN(m,C,i),w==="top"?x+=i[0]:w==="bottom"&&(x-=i[2]));for(var P=0,D=!1,I=yN("fill"in r?r.fill:(D=!0,g.fill)),E=mN("stroke"in r?r.stroke:!l&&(!g.autoStroke||D)?(P=fN,g.stroke):null),k=r.textShadowBlur>0,L=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),N=a.calculatedLineHeight,B=0;B<h.length;B++){var V=this._getOrCreateChild(Uh),W=V.createStyle();V.useStyle(W),W.text=h[B],W.x=S,W.y=x,W.textAlign=C,W.textBaseline="middle",W.opacity=r.opacity,W.strokeFirst=!0,k&&(W.shadowBlur=r.textShadowBlur||0,W.shadowColor=r.textShadowColor||"transparent",W.shadowOffsetX=r.textShadowOffsetX||0,W.shadowOffsetY=r.textShadowOffsetY||0),W.stroke=E,W.fill=I,E&&(W.lineWidth=r.lineWidth||P,W.lineDash=r.lineDash,W.lineDashOffset=r.lineDashOffset||0),W.font=n,gN(W,r),x+=f,L&&V.setBoundingRect(new qe(vg(W.x,d,W.textAlign),sh(W.y,N,W.textBaseline),d,N))}},t.prototype._updateRichTexts=function(){var r=this.style,n=wN(r),i=she(n,r),o=i.width,a=i.outerWidth,s=i.outerHeight,l=r.padding,u=r.x||0,c=r.y||0,d=this._defaultStyle,h=r.align||d.align,f=r.verticalAlign||d.verticalAlign;this.isTruncated=!!i.isTruncated;var g=vg(u,a,h),m=sh(c,s,f),y=g,C=m;l&&(y+=l[3],C+=l[0]);var w=y+o;vR(r)&&this._renderBackground(r,r,g,m,a,s);for(var S=!!r.backgroundColor,x=0;x<i.lines.length;x++){for(var R=i.lines[x],T=R.tokens,P=T.length,D=R.lineHeight,I=R.width,E=0,k=y,L=w,N=P-1,B=void 0;E<P&&(B=T[E],!B.align||B.align==="left");)this._placeToken(B,r,D,C,k,"left",S),I-=B.width,k+=B.width,E++;for(;N>=0&&(B=T[N],B.align==="right");)this._placeToken(B,r,D,C,L,"right",S),I-=B.width,L-=B.width,N--;for(k+=(o-(k-y)-(w-L)-I)/2;E<=N;)B=T[E],this._placeToken(B,r,D,C,k+B.width/2,"center",S),k+=B.width,E++;C+=D}},t.prototype._placeToken=function(r,n,i,o,a,s,l){var u=n.rich[r.styleName]||{};u.text=r.text;var c=r.verticalAlign,d=o+i/2;c==="top"?d=o+r.height/2:c==="bottom"&&(d=o+i-r.height/2);var h=!r.isLineHolder&&vR(u);h&&this._renderBackground(u,n,s==="right"?a-r.width:s==="center"?a-r.width/2:a,d-r.height/2,r.width,r.height);var f=!!u.backgroundColor,g=r.textPadding;g&&(a=CN(a,s,g),d-=r.height/2-g[0]-r.innerHeight/2);var m=this._getOrCreateChild(Uh),y=m.createStyle();m.useStyle(y);var C=this._defaultStyle,w=!1,S=0,x=yN("fill"in u?u.fill:"fill"in n?n.fill:(w=!0,C.fill)),R=mN("stroke"in u?u.stroke:"stroke"in n?n.stroke:!f&&!l&&(!C.autoStroke||w)?(S=fN,C.stroke):null),T=u.textShadowBlur>0||n.textShadowBlur>0;y.text=r.text,y.x=a,y.y=d,T&&(y.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,y.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",y.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,y.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),y.textAlign=s,y.textBaseline="middle",y.font=r.font||Wl,y.opacity=Io(u.opacity,n.opacity,1),gN(y,u),R&&(y.lineWidth=Io(u.lineWidth,n.lineWidth,S),y.lineDash=Ue(u.lineDash,n.lineDash),y.lineDashOffset=n.lineDashOffset||0,y.stroke=R),x&&(y.fill=x);var P=r.contentWidth,D=r.contentHeight;m.setBoundingRect(new qe(vg(y.x,P,y.textAlign),sh(y.y,D,y.textBaseline),P,D))},t.prototype._renderBackground=function(r,n,i,o,a,s){var l=r.backgroundColor,u=r.borderWidth,c=r.borderColor,d=l&&l.image,h=l&&!d,f=r.borderRadius,g=this,m,y;if(h||r.lineHeight||u&&c){m=this._getOrCreateChild(ht),m.useStyle(m.createStyle()),m.style.fill=null;var C=m.shape;C.x=i,C.y=o,C.width=a,C.height=s,C.r=f,m.dirtyShape()}if(h){var w=m.style;w.fill=l||null,w.fillOpacity=Ue(r.fillOpacity,1)}else if(d){y=this._getOrCreateChild(Lr),y.onload=function(){g.dirtyStyle()};var S=y.style;S.image=l.image,S.x=i,S.y=o,S.width=a,S.height=s}if(u&&c){var w=m.style;w.lineWidth=u,w.stroke=c,w.strokeOpacity=Ue(r.strokeOpacity,1),w.lineDash=r.borderDash,w.lineDashOffset=r.borderDashOffset||0,m.strokeContainThreshold=0,m.hasFill()&&m.hasStroke()&&(w.strokeFirst=!0,w.lineWidth*=2)}var x=(m||y).style;x.shadowBlur=r.shadowBlur||0,x.shadowColor=r.shadowColor||"transparent",x.shadowOffsetX=r.shadowOffsetX||0,x.shadowOffsetY=r.shadowOffsetY||0,x.opacity=Io(r.opacity,n.opacity,1)},t.makeFont=function(r){var n="";return DU(r)&&(n=[r.fontStyle,r.fontWeight,PU(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&Xi(n)||r.textFont||r.font},t}(io),Lhe={left:!0,right:1,center:1},Ohe={top:1,bottom:1,middle:1},pN=["fontStyle","fontWeight","fontSize","fontFamily"];function PU(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?pI+"px":e+"px"}function gN(e,t){for(var r=0;r<pN.length;r++){var n=pN[r],i=t[n];i!=null&&(e[n]=i)}}function DU(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function Nhe(e){return vN(e),F(e.rich,vN),e}function vN(e){if(e){e.font=dt.makeFont(e);var t=e.align;t==="middle"&&(t="center"),e.align=t==null||Lhe[t]?t:"left";var r=e.verticalAlign;r==="center"&&(r="middle"),e.verticalAlign=r==null||Ohe[r]?r:"top";var n=e.padding;n&&(e.padding=Lb(e.padding))}}function mN(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function yN(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function CN(e,t,r){return t==="right"?e-r[1]:t==="center"?e+r[3]/2-r[1]/2:e+r[3]}function wN(e){var t=e.text;return t!=null&&(t+=""),t}function vR(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}var Ve=ft(),MP=function(e,t,r,n){if(n){var i=Ve(n);i.dataIndex=r,i.dataType=t,i.seriesIndex=e,i.ssrType="chart",n.type==="group"&&n.traverse(function(o){var a=Ve(o);a.seriesIndex=e,a.dataIndex=r,a.dataType=t,a.ssrType="chart"})}},bN=1,SN={},AU=ft(),LI=ft(),OI=0,lm=1,jb=2,Bn=["emphasis","blur","select"],vv=["normal","emphasis","blur","select"],vf=10,zhe=9,gc="highlight",bw="downplay",Bg="select",Sw="unselect",Vg="toggleSelect";function Vd(e){return e!=null&&e!=="none"}function Yb(e,t,r){e.onHoverStateChange&&(e.hoverState||0)!==r&&e.onHoverStateChange(t),e.hoverState=r}function IU(e){Yb(e,"emphasis",jb)}function EU(e){e.hoverState===jb&&Yb(e,"normal",OI)}function NI(e){Yb(e,"blur",lm)}function MU(e){e.hoverState===lm&&Yb(e,"normal",OI)}function Bhe(e){e.selected=!0}function Vhe(e){e.selected=!1}function xN(e,t,r){t(e,r)}function Fs(e,t,r){xN(e,t,r),e.isGroup&&e.traverse(function(n){xN(n,t,r)})}function d0(e,t){switch(t){case"emphasis":e.hoverState=jb;break;case"normal":e.hoverState=OI;break;case"blur":e.hoverState=lm;break;case"select":e.selected=!0}}function Ghe(e,t,r,n){for(var i=e.style,o={},a=0;a<t.length;a++){var s=t[a],l=i[s];o[s]=l??(n&&n[s])}for(var a=0;a<e.animators.length;a++){var u=e.animators[a];u.__fromStateTransition&&u.__fromStateTransition.indexOf(r)<0&&u.targetName==="style"&&u.saveTo(o,t)}return o}function Hhe(e,t,r,n){var i=r&&Ze(r,"select")>=0,o=!1;if(e instanceof nt){var a=AU(e),s=i&&a.selectFill||a.normalFill,l=i&&a.selectStroke||a.normalStroke;if(Vd(s)||Vd(l)){n=n||{};var u=n.style||{};u.fill==="inherit"?(o=!0,n=ie({},n),u=ie({},u),u.fill=s):!Vd(u.fill)&&Vd(s)?(o=!0,n=ie({},n),u=ie({},u),u.fill=a0(s)):!Vd(u.stroke)&&Vd(l)&&(o||(n=ie({},n),u=ie({},u)),u.stroke=a0(l)),n.style=u}}if(n&&n.z2==null){o||(n=ie({},n));var c=e.z2EmphasisLift;n.z2=e.z2+(c??vf)}return n}function Whe(e,t,r){if(r&&r.z2==null){r=ie({},r);var n=e.z2SelectLift;r.z2=e.z2+(n??zhe)}return r}function $he(e,t,r){var n=Ze(e.currentStates,t)>=0,i=e.style.opacity,o=n?null:Ghe(e,["opacity"],t,{opacity:1});r=r||{};var a=r.style||{};return a.opacity==null&&(r=ie({},r),a=ie({opacity:n?i:o.opacity*.1},a),r.style=a),r}function mR(e,t){var r=this.states[e];if(this.style){if(e==="emphasis")return Hhe(this,e,t,r);if(e==="blur")return $he(this,e,r);if(e==="select")return Whe(this,e,r)}return r}function Mc(e){e.stateProxy=mR;var t=e.getTextContent(),r=e.getTextGuideLine();t&&(t.stateProxy=mR),r&&(r.stateProxy=mR)}function RN(e,t){!OU(e,t)&&!e.__highByOuter&&Fs(e,IU)}function _N(e,t){!OU(e,t)&&!e.__highByOuter&&Fs(e,EU)}function _s(e,t){e.__highByOuter|=1<<(t||0),Fs(e,IU)}function Ts(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&Fs(e,EU)}function kU(e){Fs(e,NI)}function zI(e){Fs(e,MU)}function FU(e){Fs(e,Bhe)}function LU(e){Fs(e,Vhe)}function OU(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function NU(e){var t=e.getModel(),r=[],n=[];t.eachComponent(function(i,o){var a=LI(o),s=i==="series",l=s?e.getViewOfSeriesModel(o):e.getViewOfComponentModel(o);!s&&n.push(l),a.isBlured&&(l.group.traverse(function(u){MU(u)}),s&&r.push(o)),a.isBlured=!1}),F(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(r,!1,t)})}function kP(e,t,r,n){var i=n.getModel();r=r||"coordinateSystem";function o(u,c){for(var d=0;d<c.length;d++){var h=u.getItemGraphicEl(c[d]);h&&zI(h)}}if(e!=null&&!(!t||t==="none")){var a=i.getSeriesByIndex(e),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];i.eachSeries(function(u){var c=a===u,d=u.coordinateSystem;d&&d.master&&(d=d.master);var h=d&&s?d===s:c;if(!(r==="series"&&!c||r==="coordinateSystem"&&!h||t==="series"&&c)){var f=n.getViewOfSeriesModel(u);if(f.group.traverse(function(y){y.__highByOuter&&c&&t==="self"||NI(y)}),Zr(t))o(u.getData(),t);else if(ke(t))for(var g=at(t),m=0;m<g.length;m++)o(u.getData(g[m]),t[g[m]]);l.push(u),LI(u).isBlured=!0}}),i.eachComponent(function(u,c){if(u!=="series"){var d=n.getViewOfComponentModel(c);d&&d.toggleBlurSeries&&d.toggleBlurSeries(l,!0,i)}})}}function FP(e,t,r){if(!(e==null||t==null)){var n=r.getModel().getComponent(e,t);if(n){LI(n).isBlured=!0;var i=r.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(o){NI(o)})}}}function Uhe(e,t,r){var n=e.seriesIndex,i=e.getData(t.dataType);if(i){var o=Ic(i,t);o=(se(o)?o[0]:o)||0;var a=i.getItemGraphicEl(o);if(!a)for(var s=i.count(),l=0;!a&&l<s;)a=i.getItemGraphicEl(l++);if(a){var u=Ve(a);kP(n,u.focus,u.blurScope,r)}else{var c=e.get(["emphasis","focus"]),d=e.get(["emphasis","blurScope"]);c!=null&&kP(n,c,d,r)}}}function BI(e,t,r,n){var i={focusSelf:!1,dispatchers:null};if(e==null||e==="series"||t==null||r==null)return i;var o=n.getModel().getComponent(e,t);if(!o)return i;var a=n.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return i;for(var s=a.findHighDownDispatchers(r),l,u=0;u<s.length;u++)if(Ve(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function jhe(e,t,r){var n=Ve(e),i=BI(n.componentMainType,n.componentIndex,n.componentHighDownName,r),o=i.dispatchers,a=i.focusSelf;o?(a&&FP(n.componentMainType,n.componentIndex,r),F(o,function(s){return RN(s,t)})):(kP(n.seriesIndex,n.focus,n.blurScope,r),n.focus==="self"&&FP(n.componentMainType,n.componentIndex,r),RN(e,t))}function Yhe(e,t,r){NU(r);var n=Ve(e),i=BI(n.componentMainType,n.componentIndex,n.componentHighDownName,r).dispatchers;i?F(i,function(o){return _N(o,t)}):_N(e,t)}function Khe(e,t,r){if(OP(t)){var n=t.dataType,i=e.getData(n),o=Ic(i,t);se(o)||(o=[o]),e[t.type===Vg?"toggleSelect":t.type===Bg?"select":"unselect"](o,n)}}function TN(e){var t=e.getAllData();F(t,function(r){var n=r.data,i=r.type;n.eachItemGraphicEl(function(o,a){e.isSelected(a,i)?FU(o):LU(o)})})}function Xhe(e){var t=[];return e.eachSeries(function(r){var n=r.getAllData();F(n,function(i){i.data;var o=i.type,a=r.getSelectedDataIndices();if(a.length>0){var s={dataIndex:a,seriesIndex:r.seriesIndex};o!=null&&(s.dataType=o),t.push(s)}})}),t}function Fl(e,t,r){ac(e,!0),Fs(e,Mc),LP(e,t,r)}function qhe(e){ac(e,!1)}function Kt(e,t,r,n){n?qhe(e):Fl(e,t,r)}function LP(e,t,r){var n=Ve(e);t!=null?(n.focus=t,n.blurScope=r):n.focus&&(n.focus=null)}var PN=["emphasis","blur","select"],Zhe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Qr(e,t,r,n){r=r||"itemStyle";for(var i=0;i<PN.length;i++){var o=PN[i],a=t.getModel([o,r]),s=e.ensureState(o);s.style=n?n(a):a[Zhe[r]]()}}function ac(e,t){var r=t===!1,n=e;e.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!r||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!r)}function mv(e){return!!(e&&e.__highDownDispatcher)}function Qhe(e,t,r){var n=Ve(e);n.componentMainType=t.mainType,n.componentIndex=t.componentIndex,n.componentHighDownName=r}function Jhe(e){var t=SN[e];return t==null&&bN<=32&&(t=SN[e]=bN++),t}function OP(e){var t=e.type;return t===Bg||t===Sw||t===Vg}function DN(e){var t=e.type;return t===gc||t===bw}function efe(e){var t=AU(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var r=e.states.select||{};t.selectFill=r.style&&r.style.fill||null,t.selectStroke=r.style&&r.style.stroke||null}var Gd=Ea.CMD,tfe=[[],[],[]],AN=Math.sqrt,rfe=Math.atan2;function zU(e,t){if(t){var r=e.data,n=e.len(),i,o,a,s,l,u,c=Gd.M,d=Gd.C,h=Gd.L,f=Gd.R,g=Gd.A,m=Gd.Q;for(a=0,s=0;a<n;){switch(i=r[a++],s=a,o=0,i){case c:o=1;break;case h:o=1;break;case d:o=3;break;case m:o=2;break;case g:var y=t[4],C=t[5],w=AN(t[0]*t[0]+t[1]*t[1]),S=AN(t[2]*t[2]+t[3]*t[3]),x=rfe(-t[1]/S,t[0]/w);r[a]*=w,r[a++]+=y,r[a]*=S,r[a++]+=C,r[a++]*=w,r[a++]*=S,r[a++]+=x,r[a++]+=x,a+=2,s=a;break;case f:u[0]=r[a++],u[1]=r[a++],Hr(u,u,t),r[s++]=u[0],r[s++]=u[1],u[0]+=r[a++],u[1]+=r[a++],Hr(u,u,t),r[s++]=u[0],r[s++]=u[1]}for(l=0;l<o;l++){var R=tfe[l];R[0]=r[a++],R[1]=r[a++],Hr(R,R,t),r[s++]=R[0],r[s++]=R[1]}}e.increaseVersion()}}var yR=Math.sqrt,sC=Math.sin,lC=Math.cos,zp=Math.PI;function IN(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function NP(e,t){return(e[0]*t[0]+e[1]*t[1])/(IN(e)*IN(t))}function EN(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(NP(e,t))}function MN(e,t,r,n,i,o,a,s,l,u,c){var d=l*(zp/180),h=lC(d)*(e-r)/2+sC(d)*(t-n)/2,f=-1*sC(d)*(e-r)/2+lC(d)*(t-n)/2,g=h*h/(a*a)+f*f/(s*s);g>1&&(a*=yR(g),s*=yR(g));var m=(i===o?-1:1)*yR((a*a*(s*s)-a*a*(f*f)-s*s*(h*h))/(a*a*(f*f)+s*s*(h*h)))||0,y=m*a*f/s,C=m*-s*h/a,w=(e+r)/2+lC(d)*y-sC(d)*C,S=(t+n)/2+sC(d)*y+lC(d)*C,x=EN([1,0],[(h-y)/a,(f-C)/s]),R=[(h-y)/a,(f-C)/s],T=[(-1*h-y)/a,(-1*f-C)/s],P=EN(R,T);if(NP(R,T)<=-1&&(P=zp),NP(R,T)>=1&&(P=0),P<0){var D=Math.round(P/zp*1e6)/1e6;P=zp*2+D%2*zp}c.addData(u,w,S,a,s,x,P,d,o)}var nfe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,ife=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function ofe(e){var t=new Ea;if(!e)return t;var r=0,n=0,i=r,o=n,a,s=Ea.CMD,l=e.match(nfe);if(!l)return t;for(var u=0;u<l.length;u++){for(var c=l[u],d=c.charAt(0),h=void 0,f=c.match(ife)||[],g=f.length,m=0;m<g;m++)f[m]=parseFloat(f[m]);for(var y=0;y<g;){var C=void 0,w=void 0,S=void 0,x=void 0,R=void 0,T=void 0,P=void 0,D=r,I=n,E=void 0,k=void 0;switch(d){case"l":r+=f[y++],n+=f[y++],h=s.L,t.addData(h,r,n);break;case"L":r=f[y++],n=f[y++],h=s.L,t.addData(h,r,n);break;case"m":r+=f[y++],n+=f[y++],h=s.M,t.addData(h,r,n),i=r,o=n,d="l";break;case"M":r=f[y++],n=f[y++],h=s.M,t.addData(h,r,n),i=r,o=n,d="L";break;case"h":r+=f[y++],h=s.L,t.addData(h,r,n);break;case"H":r=f[y++],h=s.L,t.addData(h,r,n);break;case"v":n+=f[y++],h=s.L,t.addData(h,r,n);break;case"V":n=f[y++],h=s.L,t.addData(h,r,n);break;case"C":h=s.C,t.addData(h,f[y++],f[y++],f[y++],f[y++],f[y++],f[y++]),r=f[y-2],n=f[y-1];break;case"c":h=s.C,t.addData(h,f[y++]+r,f[y++]+n,f[y++]+r,f[y++]+n,f[y++]+r,f[y++]+n),r+=f[y-2],n+=f[y-1];break;case"S":C=r,w=n,E=t.len(),k=t.data,a===s.C&&(C+=r-k[E-4],w+=n-k[E-3]),h=s.C,D=f[y++],I=f[y++],r=f[y++],n=f[y++],t.addData(h,C,w,D,I,r,n);break;case"s":C=r,w=n,E=t.len(),k=t.data,a===s.C&&(C+=r-k[E-4],w+=n-k[E-3]),h=s.C,D=r+f[y++],I=n+f[y++],r+=f[y++],n+=f[y++],t.addData(h,C,w,D,I,r,n);break;case"Q":D=f[y++],I=f[y++],r=f[y++],n=f[y++],h=s.Q,t.addData(h,D,I,r,n);break;case"q":D=f[y++]+r,I=f[y++]+n,r+=f[y++],n+=f[y++],h=s.Q,t.addData(h,D,I,r,n);break;case"T":C=r,w=n,E=t.len(),k=t.data,a===s.Q&&(C+=r-k[E-4],w+=n-k[E-3]),r=f[y++],n=f[y++],h=s.Q,t.addData(h,C,w,r,n);break;case"t":C=r,w=n,E=t.len(),k=t.data,a===s.Q&&(C+=r-k[E-4],w+=n-k[E-3]),r+=f[y++],n+=f[y++],h=s.Q,t.addData(h,C,w,r,n);break;case"A":S=f[y++],x=f[y++],R=f[y++],T=f[y++],P=f[y++],D=r,I=n,r=f[y++],n=f[y++],h=s.A,MN(D,I,r,n,T,P,S,x,R,h,t);break;case"a":S=f[y++],x=f[y++],R=f[y++],T=f[y++],P=f[y++],D=r,I=n,r+=f[y++],n+=f[y++],h=s.A,MN(D,I,r,n,T,P,S,x,R,h,t);break}}(d==="z"||d==="Z")&&(h=s.Z,t.addData(h),r=i,n=o),a=h}return t.toStatic(),t}var BU=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(r){},t}(nt);function VU(e){return e.setData!=null}function GU(e,t){var r=ofe(e),n=ie({},t);return n.buildPath=function(i){if(VU(i)){i.setData(r.data);var o=i.getContext();o&&i.rebuildPath(o,1)}else{var o=i;r.rebuildPath(o,1)}},n.applyTransform=function(i){zU(r,i),this.dirtyShape()},n}function HU(e,t){return new BU(GU(e,t))}function afe(e,t){var r=GU(e,t),n=function(i){q(o,i);function o(a){var s=i.call(this,a)||this;return s.applyTransform=r.applyTransform,s.buildPath=r.buildPath,s}return o}(BU);return n}function sfe(e,t){for(var r=[],n=e.length,i=0;i<n;i++){var o=e[i];r.push(o.getUpdatedPathProxy(!0))}var a=new nt(t);return a.createPathProxy(),a.buildPath=function(s){if(VU(s)){s.appendPath(r);var l=s.getContext();l&&s.rebuildPath(l,1)}},a}function VI(e,t){t=t||{};var r=new nt;return e.shape&&r.setShape(e.shape),r.setStyle(e.style),t.bakeTransform?zU(r.path,e.getComputedTransform()):t.toLocal?r.setLocalTransform(e.getComputedTransform()):r.copyTransform(e),r.buildPath=e.buildPath,r.applyTransform=r.applyTransform,r.z=e.z,r.z2=e.z2,r.zlevel=e.zlevel,r}var lfe=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),La=function(e){q(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new lfe},t.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},t}(nt);La.prototype.type="circle";var ufe=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),um=function(e){q(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new ufe},t.prototype.buildPath=function(r,n){var i=.5522848,o=n.cx,a=n.cy,s=n.rx,l=n.ry,u=s*i,c=l*i;r.moveTo(o-s,a),r.bezierCurveTo(o-s,a-c,o-u,a-l,o,a-l),r.bezierCurveTo(o+u,a-l,o+s,a-c,o+s,a),r.bezierCurveTo(o+s,a+c,o+u,a+l,o,a+l),r.bezierCurveTo(o-u,a+l,o-s,a+c,o-s,a),r.closePath()},t}(nt);um.prototype.type="ellipse";var WU=Math.PI,CR=WU*2,Mu=Math.sin,Hd=Math.cos,cfe=Math.acos,un=Math.atan2,kN=Math.abs,Gg=Math.sqrt,mg=Math.max,ra=Math.min,bo=1e-4;function dfe(e,t,r,n,i,o,a,s){var l=r-e,u=n-t,c=a-i,d=s-o,h=d*l-c*u;if(!(h*h<bo))return h=(c*(t-o)-d*(e-i))/h,[e+h*l,t+h*u]}function uC(e,t,r,n,i,o,a){var s=e-r,l=t-n,u=(a?o:-o)/Gg(s*s+l*l),c=u*l,d=-u*s,h=e+c,f=t+d,g=r+c,m=n+d,y=(h+g)/2,C=(f+m)/2,w=g-h,S=m-f,x=w*w+S*S,R=i-o,T=h*m-g*f,P=(S<0?-1:1)*Gg(mg(0,R*R*x-T*T)),D=(T*S-w*P)/x,I=(-T*w-S*P)/x,E=(T*S+w*P)/x,k=(-T*w+S*P)/x,L=D-y,N=I-C,B=E-y,V=k-C;return L*L+N*N>B*B+V*V&&(D=E,I=k),{cx:D,cy:I,x0:-c,y0:-d,x1:D*(i/R-1),y1:I*(i/R-1)}}function hfe(e){var t;if(se(e)){var r=e.length;if(!r)return e;r===1?t=[e[0],e[0],0,0]:r===2?t=[e[0],e[0],e[1],e[1]]:r===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function ffe(e,t){var r,n=mg(t.r,0),i=mg(t.r0||0,0),o=n>0,a=i>0;if(!(!o&&!a)){if(o||(n=i,i=0),i>n){var s=n;n=i,i=s}var l=t.startAngle,u=t.endAngle;if(!(isNaN(l)||isNaN(u))){var c=t.cx,d=t.cy,h=!!t.clockwise,f=kN(u-l),g=f>CR&&f%CR;if(g>bo&&(f=g),!(n>bo))e.moveTo(c,d);else if(f>CR-bo)e.moveTo(c+n*Hd(l),d+n*Mu(l)),e.arc(c,d,n,l,u,!h),i>bo&&(e.moveTo(c+i*Hd(u),d+i*Mu(u)),e.arc(c,d,i,u,l,h));else{var m=void 0,y=void 0,C=void 0,w=void 0,S=void 0,x=void 0,R=void 0,T=void 0,P=void 0,D=void 0,I=void 0,E=void 0,k=void 0,L=void 0,N=void 0,B=void 0,V=n*Hd(l),W=n*Mu(l),j=i*Hd(u),G=i*Mu(u),$=f>bo;if($){var K=t.cornerRadius;K&&(r=hfe(K),m=r[0],y=r[1],C=r[2],w=r[3]);var H=kN(n-i)/2;if(S=ra(H,C),x=ra(H,w),R=ra(H,m),T=ra(H,y),I=P=mg(S,x),E=D=mg(R,T),(P>bo||D>bo)&&(k=n*Hd(u),L=n*Mu(u),N=i*Hd(l),B=i*Mu(l),f<WU)){var U=dfe(V,W,N,B,k,L,j,G);if(U){var ne=V-U[0],oe=W-U[1],he=k-U[0],xe=L-U[1],Be=1/Mu(cfe((ne*he+oe*xe)/(Gg(ne*ne+oe*oe)*Gg(he*he+xe*xe)))/2),ee=Gg(U[0]*U[0]+U[1]*U[1]);I=ra(P,(n-ee)/(Be+1)),E=ra(D,(i-ee)/(Be-1))}}}if(!$)e.moveTo(c+V,d+W);else if(I>bo){var Z=ra(C,I),fe=ra(w,I),de=uC(N,B,V,W,n,Z,h),pe=uC(k,L,j,G,n,fe,h);e.moveTo(c+de.cx+de.x0,d+de.cy+de.y0),I<P&&Z===fe?e.arc(c+de.cx,d+de.cy,I,un(de.y0,de.x0),un(pe.y0,pe.x0),!h):(Z>0&&e.arc(c+de.cx,d+de.cy,Z,un(de.y0,de.x0),un(de.y1,de.x1),!h),e.arc(c,d,n,un(de.cy+de.y1,de.cx+de.x1),un(pe.cy+pe.y1,pe.cx+pe.x1),!h),fe>0&&e.arc(c+pe.cx,d+pe.cy,fe,un(pe.y1,pe.x1),un(pe.y0,pe.x0),!h))}else e.moveTo(c+V,d+W),e.arc(c,d,n,l,u,!h);if(!(i>bo)||!$)e.lineTo(c+j,d+G);else if(E>bo){var Z=ra(m,E),fe=ra(y,E),de=uC(j,G,k,L,i,-fe,h),pe=uC(V,W,N,B,i,-Z,h);e.lineTo(c+de.cx+de.x0,d+de.cy+de.y0),E<D&&Z===fe?e.arc(c+de.cx,d+de.cy,E,un(de.y0,de.x0),un(pe.y0,pe.x0),!h):(fe>0&&e.arc(c+de.cx,d+de.cy,fe,un(de.y0,de.x0),un(de.y1,de.x1),!h),e.arc(c,d,i,un(de.cy+de.y1,de.cx+de.x1),un(pe.cy+pe.y1,pe.cx+pe.x1),h),Z>0&&e.arc(c+pe.cx,d+pe.cy,Z,un(pe.y1,pe.x1),un(pe.y0,pe.x0),!h))}else e.lineTo(c+j,d+G),e.arc(c,d,i,u,l,h)}e.closePath()}}}var pfe=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e}(),wn=function(e){q(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new pfe},t.prototype.buildPath=function(r,n){ffe(r,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(nt);wn.prototype.type="sector";var gfe=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),mf=function(e){q(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new gfe},t.prototype.buildPath=function(r,n){var i=n.cx,o=n.cy,a=Math.PI*2;r.moveTo(i+n.r,o),r.arc(i,o,n.r,0,a,!1),r.moveTo(i+n.r0,o),r.arc(i,o,n.r0,0,a,!0)},t}(nt);mf.prototype.type="ring";function vfe(e,t,r,n){var i=[],o=[],a=[],s=[],l,u,c,d;if(n){c=[1/0,1/0],d=[-1/0,-1/0];for(var h=0,f=e.length;h<f;h++)cs(c,c,e[h]),ds(d,d,e[h]);cs(c,c,n[0]),ds(d,d,n[1])}for(var h=0,f=e.length;h<f;h++){var g=e[h];if(r)l=e[h?h-1:f-1],u=e[(h+1)%f];else if(h===0||h===f-1){i.push(wa(e[h]));continue}else l=e[h-1],u=e[h+1];Rl(o,u,l),Mg(o,o,t);var m=r0(g,l),y=r0(g,u),C=m+y;C!==0&&(m/=C,y/=C),Mg(a,o,-m),Mg(s,o,y);var w=sP([],g,a),S=sP([],g,s);n&&(ds(w,w,c),cs(w,w,d),ds(S,S,c),cs(S,S,d)),i.push(w),i.push(S)}return r&&i.push(i.shift()),i}function $U(e,t,r){var n=t.smooth,i=t.points;if(i&&i.length>=2){if(n){var o=vfe(i,n,r,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var a=i.length,s=0;s<(r?a:a-1);s++){var l=o[s*2],u=o[s*2+1],c=i[(s+1)%a];e.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{e.moveTo(i[0][0],i[0][1]);for(var s=1,d=i.length;s<d;s++)e.lineTo(i[s][0],i[s][1])}r&&e.closePath()}}var mfe=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),bn=function(e){q(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new mfe},t.prototype.buildPath=function(r,n){$U(r,n,!0)},t}(nt);bn.prototype.type="polygon";var yfe=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),Rn=function(e){q(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new yfe},t.prototype.buildPath=function(r,n){$U(r,n,!1)},t}(nt);Rn.prototype.type="polyline";var Cfe={},wfe=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}(),Rr=function(e){q(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new wfe},t.prototype.buildPath=function(r,n){var i,o,a,s;if(this.subPixelOptimize){var l=_U(Cfe,n,this.style);i=l.x1,o=l.y1,a=l.x2,s=l.y2}else i=n.x1,o=n.y1,a=n.x2,s=n.y2;var u=n.percent;u!==0&&(r.moveTo(i,o),u<1&&(a=i*(1-u)+a*u,s=o*(1-u)+s*u),r.lineTo(a,s))},t.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},t}(nt);Rr.prototype.type="line";var qn=[],bfe=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e}();function FN(e,t,r){var n=e.cpx2,i=e.cpy2;return n!=null||i!=null?[(r?$2:Dr)(e.x1,e.cpx1,e.cpx2,e.x2,t),(r?$2:Dr)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(r?hP:Gr)(e.x1,e.cpx1,e.x2,t),(r?hP:Gr)(e.y1,e.cpy1,e.y2,t)]}var yf=function(e){q(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new bfe},t.prototype.buildPath=function(r,n){var i=n.x1,o=n.y1,a=n.x2,s=n.y2,l=n.cpx1,u=n.cpy1,c=n.cpx2,d=n.cpy2,h=n.percent;h!==0&&(r.moveTo(i,o),c==null||d==null?(h<1&&(cv(i,l,a,h,qn),l=qn[1],a=qn[2],cv(o,u,s,h,qn),u=qn[1],s=qn[2]),r.quadraticCurveTo(l,u,a,s)):(h<1&&($l(i,l,c,a,h,qn),l=qn[1],c=qn[2],a=qn[3],$l(o,u,d,s,h,qn),u=qn[1],d=qn[2],s=qn[3]),r.bezierCurveTo(l,u,c,d,a,s)))},t.prototype.pointAt=function(r){return FN(this.shape,r,!1)},t.prototype.tangentAt=function(r){var n=FN(this.shape,r,!0);return $c(n,n)},t}(nt);yf.prototype.type="bezier-curve";var Sfe=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),cm=function(e){q(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Sfe},t.prototype.buildPath=function(r,n){var i=n.cx,o=n.cy,a=Math.max(n.r,0),s=n.startAngle,l=n.endAngle,u=n.clockwise,c=Math.cos(s),d=Math.sin(s);r.moveTo(c*a+i,d*a+o),r.arc(i,o,a,s,l,!u)},t}(nt);cm.prototype.type="arc";var Kb=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="compound",r}return t.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),i=0;i<r.length;i++)n=n||r[i].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<r.length;i++)r[i].path||r[i].createPathProxy(),r[i].path.setScale(n[0],n[1],r[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(r,n){for(var i=n.paths||[],o=0;o<i.length;o++)i[o].buildPath(r,i[o].shape,!0)},t.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),nt.prototype.getBoundingRect.call(this)},t}(nt),UU=function(){function e(t){this.colorStops=t||[]}return e.prototype.addColorStop=function(t,r){this.colorStops.push({offset:t,color:r})},e}(),Cf=function(e){q(t,e);function t(r,n,i,o,a,s){var l=e.call(this,a)||this;return l.x=r??0,l.y=n??0,l.x2=i??1,l.y2=o??0,l.type="linear",l.global=s||!1,l}return t}(UU),GI=function(e){q(t,e);function t(r,n,i,o,a){var s=e.call(this,o)||this;return s.x=r??.5,s.y=n??.5,s.r=i??.5,s.type="radial",s.global=a||!1,s}return t}(UU),ku=[0,0],Fu=[0,0],cC=new Xe,dC=new Xe,h0=function(){function e(t,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Xe;for(var n=0;n<2;n++)this._axes[n]=new Xe;t&&this.fromBoundingRect(t,r)}return e.prototype.fromBoundingRect=function(t,r){var n=this._corners,i=this._axes,o=t.x,a=t.y,s=o+t.width,l=a+t.height;if(n[0].set(o,a),n[1].set(s,a),n[2].set(s,l),n[3].set(o,l),r)for(var u=0;u<4;u++)n[u].transform(r);Xe.sub(i[0],n[1],n[0]),Xe.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var u=0;u<2;u++)this._origin[u]=i[u].dot(n[0])},e.prototype.intersect=function(t,r){var n=!0,i=!r;return cC.set(1/0,1/0),dC.set(0,0),!this._intersectCheckOneSide(this,t,cC,dC,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(t,this,cC,dC,i,-1)&&(n=!1,i)||i||Xe.copy(r,n?cC:dC),n},e.prototype._intersectCheckOneSide=function(t,r,n,i,o,a){for(var s=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,ku),this._getProjMinMaxOnAxis(l,r._corners,Fu),ku[1]<Fu[0]||ku[0]>Fu[1]){if(s=!1,o)return s;var c=Math.abs(Fu[0]-ku[1]),d=Math.abs(ku[0]-Fu[1]);Math.min(c,d)>i.len()&&(c<d?Xe.scale(i,u,-c*a):Xe.scale(i,u,d*a))}else if(n){var c=Math.abs(Fu[0]-ku[1]),d=Math.abs(ku[0]-Fu[1]);Math.min(c,d)<n.len()&&(c<d?Xe.scale(n,u,c*a):Xe.scale(n,u,-d*a))}}return s},e.prototype._getProjMinMaxOnAxis=function(t,r,n){for(var i=this._axes[t],o=this._origin,a=r[0].dot(i)+o[t],s=a,l=a,u=1;u<r.length;u++){var c=r[u].dot(i)+o[t];s=Math.min(c,s),l=Math.max(c,l)}n[0]=s,n[1]=l},e}(),xfe=[],jU=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},t.prototype.addDisplayables=function(r,n){n=n||!1;for(var i=0;i<r.length;i++)this.addDisplayable(r[i],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new qe(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],o=i.getBoundingRect().clone();i.needLocalTransform()&&o.applyTransform(i.getLocalTransform(xfe)),r.union(o)}this._rect=r}return this._rect},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),o=this.getBoundingRect();if(o.contain(i[0],i[1]))for(var a=0;a<this._displayables.length;a++){var s=this._displayables[a];if(s.contain(r,n))return!0}return!1},t}(io),YU=ft();function wf(e,t,r,n,i){var o;if(t&&t.ecModel){var a=t.ecModel.getUpdatePayload();o=a&&a.animation}var s=t&&t.isAnimationEnabled(),l=e==="update";if(s){var u=void 0,c=void 0,d=void 0;n?(u=Ue(n.duration,200),c=Ue(n.easing,"cubicOut"),d=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),c=t.getShallow(l?"animationEasingUpdate":"animationEasing"),d=t.getShallow(l?"animationDelayUpdate":"animationDelay")),o&&(o.duration!=null&&(u=o.duration),o.easing!=null&&(c=o.easing),o.delay!=null&&(d=o.delay)),Ie(d)&&(d=d(r,i)),Ie(u)&&(u=u(r));var h={duration:u||0,delay:d,easing:c};return h}else return null}function HI(e,t,r,n,i,o,a){var s=!1,l;Ie(i)?(a=o,o=i,i=null):ke(i)&&(o=i.cb,a=i.during,s=i.isFrom,l=i.removeOpt,i=i.dataIndex);var u=e==="leave";u||t.stopAnimation("leave");var c=wf(e,n,i,u?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,i):null);if(c&&c.duration>0){var d=c.duration,h=c.delay,f=c.easing,g={duration:d,delay:h||0,easing:f,done:o,force:!!o||!!a,setToFinal:!u,scope:e,during:a};s?t.animateFrom(r,g):t.animateTo(r,g)}else t.stopAnimation(),!s&&t.attr(r),a&&a(1),o&&o()}function gt(e,t,r,n,i,o){HI("update",e,t,r,n,i,o)}function Vt(e,t,r,n,i,o){HI("enter",e,t,r,n,i,o)}function Ph(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var r=e.animators[t];if(r.scope==="leave")return!0}return!1}function Ul(e,t,r,n,i,o){Ph(e)||HI("leave",e,t,r,n,i,o)}function LN(e,t,r,n){e.removeTextContent(),e.removeTextGuideLine(),Ul(e,{style:{opacity:0}},t,r,n)}function yv(e,t,r){function n(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(i){i.isGroup||LN(i,t,r,n)}):LN(e,t,r,n)}function Vo(e){YU(e).oldStyle=e.style}function Rfe(e){return YU(e).oldStyle}var f0=Math.max,p0=Math.min,zP={};function KU(e){return nt.extend(e)}var _fe=afe;function XU(e,t){return _fe(e,t)}function ao(e,t){zP[e]=t}function Xb(e){if(zP.hasOwnProperty(e))return zP[e]}function dm(e,t,r,n){var i=HU(e,t);return r&&(n==="center"&&(r=qU(r,i.getBoundingRect())),$I(i,r)),i}function WI(e,t,r){var n=new Lr({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(r==="center"){var o={width:i.width,height:i.height};n.setStyle(qU(t,o))}}});return n}function qU(e,t){var r=t.width/t.height,n=e.height*r,i;n<=e.width?i=e.height:(n=e.width,i=n/r);var o=e.x+e.width/2,a=e.y+e.height/2;return{x:o-n/2,y:a-i/2,width:n,height:i}}var gi=sfe;function $I(e,t){if(e.applyTransform){var r=e.getBoundingRect(),n=r.calculateTransform(t);e.applyTransform(n)}}function jh(e,t){return _U(e,e,{lineWidth:t}),e}function Tfe(e){return TU(e.shape,e.shape,e.style),e}var xw=oc;function Ll(e,t){for(var r=im([]);e&&e!==t;)ba(r,e.getLocalTransform(),r),e=e.parent;return r}function ko(e,t,r){return t&&!Zr(t)&&(t=hs.getLocalTransform(t)),r&&(t=Uc([],t)),Hr([],e,t)}function qb(e,t,r){var n=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),o=[e==="left"?-n:e==="right"?n:0,e==="top"?-i:e==="bottom"?i:0];return o=ko(o,t,r),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function ON(e){return!e.isGroup}function Pfe(e){return e.shape!=null}function hm(e,t,r){if(!e||!t)return;function n(a){var s={};return a.traverse(function(l){ON(l)&&l.anid&&(s[l.anid]=l)}),s}function i(a){var s={x:a.x,y:a.y,rotation:a.rotation};return Pfe(a)&&(s.shape=ie({},a.shape)),s}var o=n(e);t.traverse(function(a){if(ON(a)&&a.anid){var s=o[a.anid];if(s){var l=i(a);a.attr(i(s)),gt(a,l,r,Ve(a).dataIndex)}}})}function UI(e,t){return le(e,function(r){var n=r[0];n=f0(n,t.x),n=p0(n,t.x+t.width);var i=r[1];return i=f0(i,t.y),i=p0(i,t.y+t.height),[n,i]})}function ZU(e,t){var r=f0(e.x,t.x),n=p0(e.x+e.width,t.x+t.width),i=f0(e.y,t.y),o=p0(e.y+e.height,t.y+t.height);if(n>=r&&o>=i)return{x:r,y:i,width:n-r,height:o-i}}function bf(e,t,r){var n=ie({rectHover:!0},t),i=n.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(i.image=e.slice(8),Ee(i,r),new Lr(n)):dm(e.replace("path://",""),n,r,"center")}function yg(e,t,r,n,i){for(var o=0,a=i[i.length-1];o<i.length;o++){var s=i[o];if(QU(e,t,r,n,s[0],s[1],a[0],a[1]))return!0;a=s}}function QU(e,t,r,n,i,o,a,s){var l=r-e,u=n-t,c=a-i,d=s-o,h=wR(c,d,l,u);if(Dfe(h))return!1;var f=e-i,g=t-o,m=wR(f,g,l,u)/h;if(m<0||m>1)return!1;var y=wR(f,g,c,d)/h;return!(y<0||y>1)}function wR(e,t,r,n){return e*n-r*t}function Dfe(e){return e<=1e-6&&e>=-1e-6}function jc(e){var t=e.itemTooltipOption,r=e.componentModel,n=e.itemName,i=we(t)?{formatter:t}:t,o=r.mainType,a=r.componentIndex,s={componentType:o,name:n,$vars:["name"]};s[o+"Index"]=a;var l=e.formatterParamsExtra;l&&F(at(l),function(c){_e(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=Ve(e.el);u.componentMainType=o,u.componentIndex=a,u.tooltipConfig={name:n,option:Ee({content:n,encodeHTMLContent:!0,formatterParams:s},i)}}function NN(e,t){var r;e.isGroup&&(r=t(e)),r||e.traverse(t)}function Jl(e,t){if(e)if(se(e))for(var r=0;r<e.length;r++)NN(e[r],t);else NN(e,t)}ao("circle",La);ao("ellipse",um);ao("sector",wn);ao("ring",mf);ao("polygon",bn);ao("polyline",Rn);ao("rect",ht);ao("line",Rr);ao("bezierCurve",yf);ao("arc",cm);const Yc=Object.freeze(Object.defineProperty({__proto__:null,Arc:cm,BezierCurve:yf,BoundingRect:qe,Circle:La,CompoundPath:Kb,Ellipse:um,Group:Ne,Image:Lr,IncrementalDisplayable:jU,Line:Rr,LinearGradient:Cf,OrientedBoundingRect:h0,Path:nt,Point:Xe,Polygon:bn,Polyline:Rn,RadialGradient:GI,Rect:ht,Ring:mf,Sector:wn,Text:dt,applyTransform:ko,clipPointsByRect:UI,clipRectByRect:ZU,createIcon:bf,extendPath:XU,extendShape:KU,getShapeClass:Xb,getTransform:Ll,groupTransition:hm,initProps:Vt,isElementRemoved:Ph,lineLineIntersect:QU,linePolygonIntersect:yg,makeImage:WI,makePath:dm,mergePath:gi,registerShape:ao,removeElement:Ul,removeElementWithFadeOut:yv,resizePath:$I,setTooltipConfig:jc,subPixelOptimize:xw,subPixelOptimizeLine:jh,subPixelOptimizeRect:Tfe,transformDirection:qb,traverseElements:Jl,updateProps:gt},Symbol.toStringTag,{value:"Module"}));var Zb={};function JU(e,t){for(var r=0;r<Bn.length;r++){var n=Bn[r],i=t[n],o=e.ensureState(n);o.style=o.style||{},o.style.text=i}var a=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(a,!0)}function BP(e,t,r){var n=e.labelFetcher,i=e.labelDataIndex,o=e.labelDimIndex,a=t.normal,s;n&&(s=n.getFormattedLabel(i,"normal",null,o,a&&a.get("formatter"),r!=null?{interpolatedValue:r}:null)),s==null&&(s=Ie(e.defaultText)?e.defaultText(i,e,r):e.defaultText);for(var l={normal:s},u=0;u<Bn.length;u++){var c=Bn[u],d=t[c];l[c]=Ue(n?n.getFormattedLabel(i,c,null,o,d&&d.get("formatter")):null,s)}return l}function Jr(e,t,r,n){r=r||Zb;for(var i=e instanceof dt,o=!1,a=0;a<vv.length;a++){var s=t[vv[a]];if(s&&s.getShallow("show")){o=!0;break}}var l=i?e:e.getTextContent();if(o){i||(l||(l=new dt,e.setTextContent(l)),e.stateProxy&&(l.stateProxy=e.stateProxy));var u=BP(r,t),c=t.normal,d=!!c.getShallow("show"),h=Mt(c,n&&n.normal,r,!1,!i);h.text=u.normal,i||e.setTextConfig(g0(c,r,!1));for(var a=0;a<Bn.length;a++){var f=Bn[a],s=t[f];if(s){var g=l.ensureState(f),m=!!Ue(s.getShallow("show"),d);if(m!==d&&(g.ignore=!m),g.style=Mt(s,n&&n[f],r,!0,!i),g.style.text=u[f],!i){var y=e.ensureState(f);y.textConfig=g0(s,r,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(h.x=l.style.x),l.style.y!=null&&(h.y=l.style.y),l.ignore=!d,l.useStyle(h),l.dirty(),r.enableTextSetter&&(Sf(l).setLabelText=function(C){var w=BP(r,t,C);JU(l,w)})}else l&&(l.ignore=!0);e.dirty()}function Mr(e,t){t=t||"label";for(var r={normal:e.getModel(t)},n=0;n<Bn.length;n++){var i=Bn[n];r[i]=e.getModel([i,t])}return r}function Mt(e,t,r,n,i){var o={};return Afe(o,e,r,n,i),t&&ie(o,t),o}function g0(e,t,r){t=t||{};var n={},i,o=e.getShallow("rotate"),a=Ue(e.getShallow("distance"),r?null:5),s=e.getShallow("offset");return i=e.getShallow("position")||(r?null:"inside"),i==="outside"&&(i=t.defaultOutsidePosition||"top"),i!=null&&(n.position=i),s!=null&&(n.offset=s),o!=null&&(o*=Math.PI/180,n.rotation=o),a!=null&&(n.distance=a),n.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto",n}function Afe(e,t,r,n,i){r=r||Zb;var o=t.ecModel,a=o&&o.option.textStyle,s=Ife(t),l;if(s){l={};for(var u in s)if(s.hasOwnProperty(u)){var c=t.getModel(["rich",u]);GN(l[u]={},c,a,r,n,i,!1,!0)}}l&&(e.rich=l);var d=t.get("overflow");d&&(e.overflow=d);var h=t.get("minMargin");h!=null&&(e.margin=h),GN(e,t,a,r,n,i,!0,!1)}function Ife(e){for(var t;e&&e!==e.ecModel;){var r=(e.option||Zb).rich;if(r){t=t||{};for(var n=at(r),i=0;i<n.length;i++){var o=n[i];t[o]=1}}e=e.parentModel}return t}var zN=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],BN=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],VN=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function GN(e,t,r,n,i,o,a,s){r=!i&&r||Zb;var l=n&&n.inheritColor,u=t.getShallow("color"),c=t.getShallow("textBorderColor"),d=Ue(t.getShallow("opacity"),r.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(c==="inherit"||c==="auto")&&(l?c=l:c=null),o||(u=u||r.color,c=c||r.textBorderColor),u!=null&&(e.fill=u),c!=null&&(e.stroke=c);var h=Ue(t.getShallow("textBorderWidth"),r.textBorderWidth);h!=null&&(e.lineWidth=h);var f=Ue(t.getShallow("textBorderType"),r.textBorderType);f!=null&&(e.lineDash=f);var g=Ue(t.getShallow("textBorderDashOffset"),r.textBorderDashOffset);g!=null&&(e.lineDashOffset=g),!i&&d==null&&!s&&(d=n&&n.defaultOpacity),d!=null&&(e.opacity=d),!i&&!o&&e.fill==null&&n.inheritColor&&(e.fill=n.inheritColor);for(var m=0;m<zN.length;m++){var y=zN[m],C=Ue(t.getShallow(y),r[y]);C!=null&&(e[y]=C)}for(var m=0;m<BN.length;m++){var y=BN[m],C=t.getShallow(y);C!=null&&(e[y]=C)}if(e.verticalAlign==null){var w=t.getShallow("baseline");w!=null&&(e.verticalAlign=w)}if(!a||!n.disableBox){for(var m=0;m<VN.length;m++){var y=VN[m],C=t.getShallow(y);C!=null&&(e[y]=C)}var S=t.getShallow("borderType");S!=null&&(e.borderDash=S),(e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&l&&(e.backgroundColor=l),(e.borderColor==="auto"||e.borderColor==="inherit")&&l&&(e.borderColor=l)}}function jI(e,t){var r=t&&t.getModel("textStyle");return Xi([e.fontStyle||r&&r.getShallow("fontStyle")||"",e.fontWeight||r&&r.getShallow("fontWeight")||"",(e.fontSize||r&&r.getShallow("fontSize")||12)+"px",e.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var Sf=ft();function e8(e,t,r,n){if(e){var i=Sf(e);i.prevValue=i.value,i.value=r;var o=t.normal;i.valueAnimation=o.get("valueAnimation"),i.valueAnimation&&(i.precision=o.get("precision"),i.defaultInterpolatedText=n,i.statesModels=t)}}function t8(e,t,r,n,i){var o=Sf(e);if(!o.valueAnimation||o.prevValue===o.value)return;var a=o.defaultInterpolatedText,s=Ue(o.interpolatedValue,o.prevValue),l=o.value;function u(c){var d=vU(r,o.precision,s,l,c);o.interpolatedValue=c===1?null:d;var h=BP({labelDataIndex:t,labelFetcher:i,defaultText:a?a(d):d+""},o.statesModels,d);JU(e,h)}e.percent=0,(o.prevValue==null?Vt:gt)(e,{percent:1},n,t,null,u)}var Efe=["textStyle","color"],bR=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],SR=new dt,Mfe=function(){function e(){}return e.prototype.getTextColor=function(t){var r=this.ecModel;return this.getShallow("color")||(!t&&r?r.get(Efe):null)},e.prototype.getFont=function(){return jI({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(t){for(var r={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<bR.length;n++)r[bR[n]]=this.getShallow(bR[n]);return SR.useStyle(r),SR.update(),SR.getBoundingRect()},e}(),r8=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],kfe=Ec(r8),Ffe=function(){function e(){}return e.prototype.getLineStyle=function(t){return kfe(this,t)},e}(),n8=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Lfe=Ec(n8),Ofe=function(){function e(){}return e.prototype.getItemStyle=function(t,r){return Lfe(this,t,r)},e}(),yt=function(){function e(t,r,n){this.parentModel=r,this.ecModel=n,this.option=t}return e.prototype.init=function(t,r,n){},e.prototype.mergeOption=function(t,r){Ke(this.option,t,!0)},e.prototype.get=function(t,r){return t==null?this.option:this._doGet(this.parsePath(t),!r&&this.parentModel)},e.prototype.getShallow=function(t,r){var n=this.option,i=n==null?n:n[t];if(i==null&&!r){var o=this.parentModel;o&&(i=o.getShallow(t))}return i},e.prototype.getModel=function(t,r){var n=t!=null,i=n?this.parsePath(t):null,o=n?this._doGet(i):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new e(o,r,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var t=this.constructor;return new t(Fe(this.option))},e.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},e.prototype.resolveParentPath=function(t){return t},e.prototype.isAnimationEnabled=function(){if(!rt.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(t,r){var n=this.option;if(!t)return n;for(var i=0;i<t.length&&!(t[i]&&(n=n&&typeof n=="object"?n[t[i]]:null,n==null));i++);return n==null&&r&&(n=r._doGet(this.resolveParentPath(t),r.parentModel)),n},e}();MI(yt);Xde(yt);ar(yt,Ffe);ar(yt,Ofe);ar(yt,ehe);ar(yt,Mfe);var Nfe=Math.round(Math.random()*10);function xf(e){return[e||"",Nfe++].join("_")}function zfe(e){var t={};e.registerSubTypeDefaulter=function(r,n){var i=ga(r);t[i.main]=n},e.determineSubType=function(r,n){var i=n.type;if(!i){var o=ga(r).main;e.hasSubTypes(r)&&t[o]&&(i=t[o](n))}return i}}function Bfe(e,t){e.topologicalTravel=function(o,a,s,l){if(!o.length)return;var u=r(a),c=u.graph,d=u.noEntryList,h={};for(F(o,function(w){h[w]=!0});d.length;){var f=d.pop(),g=c[f],m=!!h[f];m&&(s.call(l,f,g.originalDeps.slice()),delete h[f]),F(g.successor,m?C:y)}F(h,function(){var w="";throw new Error(w)});function y(w){c[w].entryCount--,c[w].entryCount===0&&d.push(w)}function C(w){h[w]=!0,y(w)}};function r(o){var a={},s=[];return F(o,function(l){var u=n(a,l),c=u.originalDeps=t(l),d=i(c,o);u.entryCount=d.length,u.entryCount===0&&s.push(l),F(d,function(h){Ze(u.predecessor,h)<0&&u.predecessor.push(h);var f=n(a,h);Ze(f.successor,h)<0&&f.successor.push(l)})}),{graph:a,noEntryList:s}}function n(o,a){return o[a]||(o[a]={predecessor:[],successor:[]}),o[a]}function i(o,a){var s=[];return F(o,function(l){Ze(a,l)>=0&&s.push(l)}),s}}function eu(e,t){return Ke(Ke({},e,!0),t,!0)}const Vfe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},Gfe={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var v0="ZH",YI="EN",Dh=YI,Rw={},KI={},i8=rt.domSupported?function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Dh).toUpperCase();return e.indexOf(v0)>-1?v0:Dh}():Dh;function XI(e,t){e=e.toUpperCase(),KI[e]=new yt(t),Rw[e]=t}function Hfe(e){if(we(e)){var t=Rw[e.toUpperCase()]||{};return e===v0||e===YI?Fe(t):Ke(Fe(t),Fe(Rw[Dh]),!1)}else return Ke(Fe(e),Fe(Rw[Dh]),!1)}function VP(e){return KI[e]}function Wfe(){return KI[Dh]}XI(YI,Vfe);XI(v0,Gfe);var qI=1e3,ZI=qI*60,Hg=ZI*60,Ki=Hg*24,HN=Ki*365,Cg={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},hC="{yyyy}-{MM}-{dd}",WN={year:"{yyyy}",month:"{yyyy}-{MM}",day:hC,hour:hC+" "+Cg.hour,minute:hC+" "+Cg.minute,second:hC+" "+Cg.second,millisecond:Cg.none},xR=["year","month","day","hour","minute","second","millisecond"],o8=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function En(e,t){return e+="","0000".substr(0,t-e.length)+e}function Ah(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function $fe(e){return e===Ah(e)}function Ufe(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function fm(e,t,r,n){var i=xi(e),o=i[QI(r)](),a=i[Ih(r)]()+1,s=Math.floor((a-1)/3)+1,l=i[Qb(r)](),u=i["get"+(r?"UTC":"")+"Day"](),c=i[Cv(r)](),d=(c-1)%12+1,h=i[Jb(r)](),f=i[eS(r)](),g=i[tS(r)](),m=c>=12?"pm":"am",y=m.toUpperCase(),C=n instanceof yt?n:VP(n||i8)||Wfe(),w=C.getModel("time"),S=w.get("month"),x=w.get("monthAbbr"),R=w.get("dayOfWeek"),T=w.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,m+"").replace(/{A}/g,y+"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,En(o%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,S[a-1]).replace(/{MMM}/g,x[a-1]).replace(/{MM}/g,En(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,En(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,R[u]).replace(/{ee}/g,T[u]).replace(/{e}/g,u+"").replace(/{HH}/g,En(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,En(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,En(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,En(f,2)).replace(/{s}/g,f+"").replace(/{SSS}/g,En(g,3)).replace(/{S}/g,g+"")}function jfe(e,t,r,n,i){var o=null;if(we(r))o=r;else if(Ie(r))o=r(e.value,t,{level:e.level});else{var a=ie({},Cg);if(e.level>0)for(var s=0;s<xR.length;++s)a[xR[s]]="{primary|"+a[xR[s]]+"}";var l=r?r.inherit===!1?r:Ee(r,a):a,u=a8(e.value,i);if(l[u])o=l[u];else if(l.inherit){for(var c=o8.indexOf(u),s=c-1;s>=0;--s)if(l[u]){o=l[u];break}o=o||a.none}if(se(o)){var d=e.level==null?0:e.level>=0?e.level:o.length+e.level;d=Math.min(d,o.length-1),o=o[d]}}return fm(new Date(e.value),o,i,n)}function a8(e,t){var r=xi(e),n=r[Ih(t)]()+1,i=r[Qb(t)](),o=r[Cv(t)](),a=r[Jb(t)](),s=r[eS(t)](),l=r[tS(t)](),u=l===0,c=u&&s===0,d=c&&a===0,h=d&&o===0,f=h&&i===1,g=f&&n===1;return g?"year":f?"month":h?"day":d?"hour":c?"minute":u?"second":"millisecond"}function $N(e,t,r){var n=pt(e)?xi(e):e;switch(t=t||a8(e,r),t){case"year":return n[QI(r)]();case"half-year":return n[Ih(r)]()>=6?1:0;case"quarter":return Math.floor((n[Ih(r)]()+1)/4);case"month":return n[Ih(r)]();case"day":return n[Qb(r)]();case"half-day":return n[Cv(r)]()/24;case"hour":return n[Cv(r)]();case"minute":return n[Jb(r)]();case"second":return n[eS(r)]();case"millisecond":return n[tS(r)]()}}function QI(e){return e?"getUTCFullYear":"getFullYear"}function Ih(e){return e?"getUTCMonth":"getMonth"}function Qb(e){return e?"getUTCDate":"getDate"}function Cv(e){return e?"getUTCHours":"getHours"}function Jb(e){return e?"getUTCMinutes":"getMinutes"}function eS(e){return e?"getUTCSeconds":"getSeconds"}function tS(e){return e?"getUTCMilliseconds":"getMilliseconds"}function Yfe(e){return e?"setUTCFullYear":"setFullYear"}function s8(e){return e?"setUTCMonth":"setMonth"}function l8(e){return e?"setUTCDate":"setDate"}function u8(e){return e?"setUTCHours":"setHours"}function c8(e){return e?"setUTCMinutes":"setMinutes"}function d8(e){return e?"setUTCSeconds":"setSeconds"}function h8(e){return e?"setUTCMilliseconds":"setMilliseconds"}function Kfe(e,t,r,n,i,o,a,s){var l=new dt({style:{text:e,font:t,align:r,verticalAlign:n,padding:i,rich:o,overflow:a?"truncate":null,lineHeight:s}});return l.getBoundingRect()}function JI(e){if(!AI(e))return we(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function eE(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(r,n){return n.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var Kc=Lb;function GP(e,t,r){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(c){return c&&Xi(c)?c:"-"}function o(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var a=t==="time",s=e instanceof Date;if(a||s){var l=a?xi(e):e;if(isNaN(+l)){if(s)return"-"}else return fm(l,n,r)}if(t==="ordinal")return e0(e)?i(e):pt(e)&&o(e)?e+"":"-";var u=Ia(e);return o(u)?JI(u):e0(e)?i(e):typeof e=="boolean"?e+"":"-"}var UN=["a","b","c","d","e","f","g"],RR=function(e,t){return"{"+e+(t??"")+"}"};function tE(e,t,r){se(t)||(t=[t]);var n=t.length;if(!n)return"";for(var i=t[0].$vars||[],o=0;o<i.length;o++){var a=UN[o];e=e.replace(RR(a),RR(a,0))}for(var s=0;s<n;s++)for(var l=0;l<i.length;l++){var u=t[s][i[l]];e=e.replace(RR(UN[l],s),r?gn(u):u)}return e}function Xfe(e,t,r){return F(t,function(n,i){e=e.replace("{"+i+"}",n)}),e}function f8(e,t){var r=we(e)?{color:e,extraCssText:t}:e||{},n=r.color,i=r.type;t=r.extraCssText;var o=r.renderMode||"html";if(!n)return"";if(o==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+gn(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+gn(n)+";"+(t||"")+'"></span>';var a=r.markerId||"markerX";return{renderMode:o,content:"{"+a+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function qfe(e,t,r){(e==="week"||e==="month"||e==="quarter"||e==="half-year"||e==="year")&&(e=`MM-dd
yyyy`);var n=xi(t),i=r?"getUTC":"get",o=n[i+"FullYear"](),a=n[i+"Month"]()+1,s=n[i+"Date"](),l=n[i+"Hours"](),u=n[i+"Minutes"](),c=n[i+"Seconds"](),d=n[i+"Milliseconds"]();return e=e.replace("MM",En(a,2)).replace("M",a).replace("yyyy",o).replace("yy",En(o%100+"",2)).replace("dd",En(s,2)).replace("d",s).replace("hh",En(l,2)).replace("h",l).replace("mm",En(u,2)).replace("m",u).replace("ss",En(c,2)).replace("s",c).replace("SSS",En(d,3)),e}function Zfe(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)}function kc(e,t){return t=t||"transparent",we(e)?e:ke(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function m0(e,t){if(t==="_blank"||t==="blank"){var r=window.open();r.opener=null,r.location.href=e}else window.open(e,t)}var _w=F,p8=["left","right","top","bottom","width","height"],sc=[["width","left","right"],["height","top","bottom"]];function rE(e,t,r,n,i){var o=0,a=0;n==null&&(n=1/0),i==null&&(i=1/0);var s=0;t.eachChild(function(l,u){var c=l.getBoundingRect(),d=t.childAt(u+1),h=d&&d.getBoundingRect(),f,g;if(e==="horizontal"){var m=c.width+(h?-h.x+c.x:0);f=o+m,f>n||l.newline?(o=0,f=m,a+=s+r,s=c.height):s=Math.max(s,c.height)}else{var y=c.height+(h?-h.y+c.y:0);g=a+y,g>i||l.newline?(o+=s+r,a=0,g=y,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),e==="horizontal"?o=f+r:a=g+r)})}var vc=rE;je(rE,"vertical");je(rE,"horizontal");function Qfe(e,t,r){var n=t.width,i=t.height,o=me(e.left,n),a=me(e.top,i),s=me(e.right,n),l=me(e.bottom,i);return(isNaN(o)||isNaN(parseFloat(e.left)))&&(o=0),(isNaN(s)||isNaN(parseFloat(e.right)))&&(s=n),(isNaN(a)||isNaN(parseFloat(e.top)))&&(a=0),(isNaN(l)||isNaN(parseFloat(e.bottom)))&&(l=i),r=Kc(r||0),{width:Math.max(s-o-r[1]-r[3],0),height:Math.max(l-a-r[0]-r[2],0)}}function yr(e,t,r){r=Kc(r||0);var n=t.width,i=t.height,o=me(e.left,n),a=me(e.top,i),s=me(e.right,n),l=me(e.bottom,i),u=me(e.width,n),c=me(e.height,i),d=r[2]+r[0],h=r[1]+r[3],f=e.aspect;switch(isNaN(u)&&(u=n-s-h-o),isNaN(c)&&(c=i-l-d-a),f!=null&&(isNaN(u)&&isNaN(c)&&(f>n/i?u=n*.8:c=i*.8),isNaN(u)&&(u=f*c),isNaN(c)&&(c=u/f)),isNaN(o)&&(o=n-s-u-h),isNaN(a)&&(a=i-l-c-d),e.left||e.right){case"center":o=n/2-u/2-r[3];break;case"right":o=n-u-h;break}switch(e.top||e.bottom){case"middle":case"center":a=i/2-c/2-r[0];break;case"bottom":a=i-c-d;break}o=o||0,a=a||0,isNaN(u)&&(u=n-h-o-(s||0)),isNaN(c)&&(c=i-d-a-(l||0));var g=new qe(o+r[3],a+r[0],u,c);return g.margin=r,g}function rS(e,t,r,n,i,o){var a=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if(o=o||e,o.x=e.x,o.y=e.y,!a&&!s)return!1;var u;if(l==="raw")u=e.type==="group"?new qe(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var c=e.getLocalTransform();u=u.clone(),u.applyTransform(c)}var d=yr(Ee({width:u.width,height:u.height},t),r,n),h=a?d.x-u.x:0,f=s?d.y-u.y:0;return l==="raw"?(o.x=h,o.y=f):(o.x+=h,o.y+=f),o===e&&e.markRedraw(),!0}function Jfe(e,t){return e[sc[t][0]]!=null||e[sc[t][1]]!=null&&e[sc[t][2]]!=null}function wv(e){var t=e.layoutMode||e.constructor.layoutMode;return ke(t)?t:t?{type:t}:null}function jl(e,t,r){var n=r&&r.ignoreSize;!se(n)&&(n=[n,n]);var i=a(sc[0],0),o=a(sc[1],1);u(sc[0],e,i),u(sc[1],e,o);function a(c,d){var h={},f=0,g={},m=0,y=2;if(_w(c,function(S){g[S]=e[S]}),_w(c,function(S){s(t,S)&&(h[S]=g[S]=t[S]),l(h,S)&&f++,l(g,S)&&m++}),n[d])return l(t,c[1])?g[c[2]]=null:l(t,c[2])&&(g[c[1]]=null),g;if(m===y||!f)return g;if(f>=y)return h;for(var C=0;C<c.length;C++){var w=c[C];if(!s(h,w)&&s(e,w)){h[w]=e[w];break}}return h}function s(c,d){return c.hasOwnProperty(d)}function l(c,d){return c[d]!=null&&c[d]!=="auto"}function u(c,d,h){_w(c,function(f){d[f]=h[f]})}}function Rf(e){return g8({},e)}function g8(e,t){return t&&e&&_w(p8,function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}var epe=ft(),tt=function(e){q(t,e);function t(r,n,i){var o=e.call(this,r,n,i)||this;return o.uid=xf("ec_cpt_model"),o}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},t.prototype.mergeDefaultAndTheme=function(r,n){var i=wv(this),o=i?Rf(r):{},a=n.getTheme();Ke(r,a.get(this.mainType)),Ke(r,this.getDefaultOption()),i&&jl(r,o,i)},t.prototype.mergeOption=function(r,n){Ke(this.option,r,!0);var i=wv(this);i&&jl(this.option,r,i)},t.prototype.optionUpdated=function(r,n){},t.prototype.getDefaultOption=function(){var r=this.constructor;if(!jde(r))return r.defaultOption;var n=epe(this);if(!n.defaultOption){for(var i=[],o=r;o;){var a=o.prototype.defaultOption;a&&i.push(a),o=o.superClass}for(var s={},l=i.length-1;l>=0;l--)s=Ke(s,i[l],!0);n.defaultOption=s}return n.defaultOption},t.prototype.getReferringComponents=function(r,n){var i=r+"Index",o=r+"Id";return sm(this.ecModel,r,{index:this.get(i,!0),id:this.get(o,!0)},n)},t.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(r){this.option.zlevel=r},t.protoInitialize=function(){var r=t.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),t}(yt);yU(tt,yt);Hb(tt);zfe(tt);Bfe(tt,tpe);function tpe(e){var t=[];return F(tt.getClassesByMainType(e),function(r){t=t.concat(r.dependencies||r.prototype.dependencies||[])}),t=le(t,function(r){return ga(r).main}),e!=="dataset"&&Ze(t,"dataset")<=0&&t.unshift("dataset"),t}var v8="";typeof navigator<"u"&&(v8=navigator.platform||"");var Wd="rgba(0, 0, 0, 0.2)";const rpe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Wd,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Wd,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Wd,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Wd,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Wd,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Wd,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:v8.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var m8=Pe(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),so="original",Sn="arrayRows",lo="objectRows",Oa="keyedColumns",Ol="typedArray",y8="unknown",xa="column",_f="row",Ur={Must:1,Might:2,Not:3},C8=ft();function npe(e){C8(e).datasetMap=Pe()}function w8(e,t,r){var n={},i=iE(t);if(!i||!e)return n;var o=[],a=[],s=t.ecModel,l=C8(s).datasetMap,u=i.uid+"_"+r.seriesLayoutBy,c,d;e=e.slice(),F(e,function(m,y){var C=ke(m)?m:e[y]={name:m};C.type==="ordinal"&&c==null&&(c=y,d=g(C)),n[C.name]=[]});var h=l.get(u)||l.set(u,{categoryWayDim:d,valueWayDim:0});F(e,function(m,y){var C=m.name,w=g(m);if(c==null){var S=h.valueWayDim;f(n[C],S,w),f(a,S,w),h.valueWayDim+=w}else if(c===y)f(n[C],0,w),f(o,0,w);else{var S=h.categoryWayDim;f(n[C],S,w),f(a,S,w),h.categoryWayDim+=w}});function f(m,y,C){for(var w=0;w<C;w++)m.push(y+w)}function g(m){var y=m.dimsDef;return y?y.length:1}return o.length&&(n.itemName=o),a.length&&(n.seriesName=a),n}function nE(e,t,r){var n={},i=iE(e);if(!i)return n;var o=t.sourceFormat,a=t.dimensionsDefine,s;(o===lo||o===Oa)&&F(a,function(c,d){(ke(c)?c.name:c)==="name"&&(s=d)});var l=function(){for(var c={},d={},h=[],f=0,g=Math.min(5,r);f<g;f++){var m=S8(t.data,o,t.seriesLayoutBy,a,t.startIndex,f);h.push(m);var y=m===Ur.Not;if(y&&c.v==null&&f!==s&&(c.v=f),(c.n==null||c.n===c.v||!y&&h[c.n]===Ur.Not)&&(c.n=f),C(c)&&h[c.n]!==Ur.Not)return c;y||(m===Ur.Might&&d.v==null&&f!==s&&(d.v=f),(d.n==null||d.n===d.v)&&(d.n=f))}function C(w){return w.v!=null&&w.n!=null}return C(c)?c:C(d)?d:null}();if(l){n.value=[l.v];var u=s??l.n;n.itemName=[u],n.seriesName=[u]}return n}function iE(e){var t=e.get("data",!0);if(!t)return sm(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},mr).models[0]}function ipe(e){return!e.get("transform",!0)&&!e.get("fromTransformResult",!0)?[]:sm(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},mr).models}function b8(e,t){return S8(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function S8(e,t,r,n,i,o){var a,s=5;if(zn(e))return Ur.Not;var l,u;if(n){var c=n[o];ke(c)?(l=c.name,u=c.type):we(c)&&(l=c)}if(u!=null)return u==="ordinal"?Ur.Must:Ur.Not;if(t===Sn){var d=e;if(r===_f){for(var h=d[o],f=0;f<(h||[]).length&&f<s;f++)if((a=x(h[i+f]))!=null)return a}else for(var f=0;f<d.length&&f<s;f++){var g=d[i+f];if(g&&(a=x(g[o]))!=null)return a}}else if(t===lo){var m=e;if(!l)return Ur.Not;for(var f=0;f<m.length&&f<s;f++){var y=m[f];if(y&&(a=x(y[l]))!=null)return a}}else if(t===Oa){var C=e;if(!l)return Ur.Not;var h=C[l];if(!h||zn(h))return Ur.Not;for(var f=0;f<h.length&&f<s;f++)if((a=x(h[f]))!=null)return a}else if(t===so)for(var w=e,f=0;f<w.length&&f<s;f++){var y=w[f],S=gf(y);if(!se(S))return Ur.Not;if((a=x(S[o]))!=null)return a}function x(R){var T=we(R);if(R!=null&&Number.isFinite(Number(R))&&R!=="")return T?Ur.Might:Ur.Not;if(T&&R!=="-")return Ur.Must}return Ur.Not}var HP=Pe();function ope(e,t){Cn(HP.get(e)==null&&t),HP.set(e,t)}function ape(e,t,r){var n=HP.get(t);if(!n)return r;var i=n(e);return i?r.concat(i):r}var jN=ft(),spe=ft(),oE=function(){function e(){}return e.prototype.getColorFromPalette=function(t,r,n){var i=_t(this.get("color",!0)),o=this.get("colorLayer",!0);return x8(this,jN,i,o,t,r,n)},e.prototype.clearColorPalette=function(){upe(this,jN)},e}();function WP(e,t,r,n){var i=_t(e.get(["aria","decal","decals"]));return x8(e,spe,i,null,t,r,n)}function lpe(e,t){for(var r=e.length,n=0;n<r;n++)if(e[n].length>t)return e[n];return e[r-1]}function x8(e,t,r,n,i,o,a){o=o||e;var s=t(o),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var c=a==null||!n?r:lpe(n,a);if(c=c||r,!(!c||!c.length)){var d=c[l];return i&&(u[i]=d),s.paletteIdx=(l+1)%c.length,d}}function upe(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var fC,Bp,YN,KN="\0_ec_inner",cpe=1,aE=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r,n,i,o,a,s){o=o||{},this.option=null,this._theme=new yt(o),this._locale=new yt(a),this._optionManager=s},t.prototype.setOption=function(r,n,i){var o=ZN(n);this._optionManager.setOption(r,i,o),this._resetOption(null,o)},t.prototype.resetOption=function(r,n){return this._resetOption(r,ZN(n))},t.prototype._resetOption=function(r,n){var i=!1,o=this._optionManager;if(!r||r==="recreate"){var a=o.mountOption(r==="recreate");!this.option||r==="recreate"?YN(this,a):(this.restoreData(),this._mergeOption(a,n)),i=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var s=o.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,n))}if(!r||r==="recreate"||r==="media"){var l=o.getMediaOption(this);l.length&&F(l,function(u){i=!0,this._mergeOption(u,n)},this)}return i},t.prototype.mergeOption=function(r){this._mergeOption(r,null)},t.prototype._mergeOption=function(r,n){var i=this.option,o=this._componentsMap,a=this._componentsCount,s=[],l=Pe(),u=n&&n.replaceMergeMainTypeMap;npe(this),F(r,function(d,h){d!=null&&(tt.hasClass(h)?h&&(s.push(h),l.set(h,!0)):i[h]=i[h]==null?Fe(d):Ke(i[h],d,!0))}),u&&u.each(function(d,h){tt.hasClass(h)&&!l.get(h)&&(s.push(h),l.set(h,!0))}),tt.topologicalTravel(s,tt.getAllClassMainTypes(),c,this);function c(d){var h=ape(this,d,_t(r[d])),f=o.get(d),g=f?u&&u.get(d)?"replaceMerge":"normalMerge":"replaceAll",m=fU(f,h,g);Nde(m,d,tt),i[d]=null,o.set(d,null),a.set(d,0);var y=[],C=[],w=0,S;F(m,function(x,R){var T=x.existing,P=x.newOption;if(!P)T&&(T.mergeOption({},this),T.optionUpdated({},!1));else{var D=d==="series",I=tt.getClass(d,x.keyInfo.subType,!D);if(!I)return;if(d==="tooltip"){if(S)return;S=!0}if(T&&T.constructor===I)T.name=x.keyInfo.name,T.mergeOption(P,this),T.optionUpdated(P,!1);else{var E=ie({componentIndex:R},x.keyInfo);T=new I(P,this,this,E),ie(T,E),x.brandNew&&(T.__requireNewView=!0),T.init(P,this,this),T.optionUpdated(null,!0)}}T?(y.push(T.option),C.push(T),w++):(y.push(void 0),C.push(void 0))},this),i[d]=y,o.set(d,C),a.set(d,w),d==="series"&&fC(this)}this._seriesIndices||fC(this)},t.prototype.getOption=function(){var r=Fe(this.option);return F(r,function(n,i){if(tt.hasClass(i)){for(var o=_t(n),a=o.length,s=!1,l=a-1;l>=0;l--)o[l]&&!gv(o[l])?s=!0:(o[l]=null,!s&&a--);o.length=a,r[i]=o}}),delete r[KN],r},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(r){this._payload=r},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(r,n){var i=this._componentsMap.get(r);if(i){var o=i[n||0];if(o)return o;if(n==null){for(var a=0;a<i.length;a++)if(i[a])return i[a]}}},t.prototype.queryComponents=function(r){var n=r.mainType;if(!n)return[];var i=r.index,o=r.id,a=r.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var l;return i!=null?(l=[],F(_t(i),function(u){s[u]&&l.push(s[u])})):o!=null?l=XN("id",o,s):a!=null?l=XN("name",a,s):l=mt(s,function(u){return!!u}),qN(l,r)},t.prototype.findComponents=function(r){var n=r.query,i=r.mainType,o=s(n),a=o?this.queryComponents(o):mt(this._componentsMap.get(i),function(u){return!!u});return l(qN(a,r));function s(u){var c=i+"Index",d=i+"Id",h=i+"Name";return u&&(u[c]!=null||u[d]!=null||u[h]!=null)?{mainType:i,index:u[c],id:u[d],name:u[h]}:null}function l(u){return r.filter?mt(u,r.filter):u}},t.prototype.eachComponent=function(r,n,i){var o=this._componentsMap;if(Ie(r)){var a=n,s=r;o.each(function(d,h){for(var f=0;d&&f<d.length;f++){var g=d[f];g&&s.call(a,h,g,g.componentIndex)}})}else for(var l=we(r)?o.get(r):ke(r)?this.findComponents(r):null,u=0;l&&u<l.length;u++){var c=l[u];c&&n.call(i,c,c.componentIndex)}},t.prototype.getSeriesByName=function(r){var n=xr(r,null);return mt(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},t.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},t.prototype.getSeriesByType=function(r){return mt(this._componentsMap.get("series"),function(n){return!!n&&n.subType===r})},t.prototype.getSeries=function(){return mt(this._componentsMap.get("series"),function(r){return!!r})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(r,n){Bp(this),F(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];r.call(n,o,i)},this)},t.prototype.eachRawSeries=function(r,n){F(this._componentsMap.get("series"),function(i){i&&r.call(n,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(r,n,i){Bp(this),F(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];a.subType===r&&n.call(i,a,o)},this)},t.prototype.eachRawSeriesByType=function(r,n,i){return F(this.getSeriesByType(r),n,i)},t.prototype.isSeriesFiltered=function(r){return Bp(this),this._seriesIndicesMap.get(r.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(r,n){Bp(this);var i=[];F(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];r.call(n,a,o)&&i.push(o)},this),this._seriesIndices=i,this._seriesIndicesMap=Pe(i)},t.prototype.restoreData=function(r){fC(this);var n=this._componentsMap,i=[];n.each(function(o,a){tt.hasClass(a)&&i.push(a)}),tt.topologicalTravel(i,tt.getAllClassMainTypes(),function(o){F(n.get(o),function(a){a&&(o!=="series"||!dpe(a,r))&&a.restoreData()})})},t.internalField=function(){fC=function(r){var n=r._seriesIndices=[];F(r._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),r._seriesIndicesMap=Pe(n)},Bp=function(r){},YN=function(r,n){r.option={},r.option[KN]=cpe,r._componentsMap=Pe({series:[]}),r._componentsCount=Pe();var i=n.aria;ke(i)&&i.enabled==null&&(i.enabled=!0),hpe(n,r._theme.option),Ke(n,rpe,!1),r._mergeOption(n,null)}}(),t}(yt);function dpe(e,t){if(t){var r=t.seriesIndex,n=t.seriesId,i=t.seriesName;return r!=null&&e.componentIndex!==r||n!=null&&e.id!==n||i!=null&&e.name!==i}}function hpe(e,t){var r=e.color&&!e.colorLayer;F(t,function(n,i){i==="colorLayer"&&r||tt.hasClass(i)||(typeof n=="object"?e[i]=e[i]?Ke(e[i],n,!1):Fe(n):e[i]==null&&(e[i]=n))})}function XN(e,t,r){if(se(t)){var n=Pe();return F(t,function(o){if(o!=null){var a=xr(o,null);a!=null&&n.set(o,!0)}}),mt(r,function(o){return o&&n.get(o[e])})}else{var i=xr(t,null);return mt(r,function(o){return o&&i!=null&&o[e]===i})}}function qN(e,t){return t.hasOwnProperty("subType")?mt(e,function(r){return r&&r.subType===t.subType}):e}function ZN(e){var t=Pe();return e&&F(_t(e.replaceMerge),function(r){t.set(r,!0)}),{replaceMergeMainTypeMap:t}}ar(aE,oE);var fpe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],R8=function(){function e(t){F(fpe,function(r){this[r]=Se(t[r],t)},this)}return e}(),_R={},Tf=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(t,r){var n=[];F(_R,function(i,o){var a=i.create(t,r);n=n.concat(a||[])}),this._coordinateSystems=n},e.prototype.update=function(t,r){F(this._coordinateSystems,function(n){n.update&&n.update(t,r)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(t,r){_R[t]=r},e.get=function(t){return _R[t]},e}(),ppe=/^(min|max)?(.+)$/,gpe=function(){function e(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return e.prototype.setOption=function(t,r,n){t&&(F(_t(t.series),function(a){a&&a.data&&zn(a.data)&&lv(a.data)}),F(_t(t.dataset),function(a){a&&a.source&&zn(a.source)&&lv(a.source)})),t=Fe(t);var i=this._optionBackup,o=vpe(t,r,!i);this._newBaseOption=o.baseOption,i?(o.timelineOptions.length&&(i.timelineOptions=o.timelineOptions),o.mediaList.length&&(i.mediaList=o.mediaList),o.mediaDefault&&(i.mediaDefault=o.mediaDefault)):this._optionBackup=o},e.prototype.mountOption=function(t){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],Fe(t?r.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(t){var r,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(r=Fe(n[i.getCurrentIndex()]))}return r},e.prototype.getMediaOption=function(t){var r=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,o=this._mediaDefault,a=[],s=[];if(!i.length&&!o)return s;for(var l=0,u=i.length;l<u;l++)mpe(i[l].query,r,n)&&a.push(l);return!a.length&&o&&(a=[-1]),a.length&&!Cpe(a,this._currentMediaIndices)&&(s=le(a,function(c){return Fe(c===-1?o.option:i[c].option)})),this._currentMediaIndices=a,s},e}();function vpe(e,t,r){var n=[],i,o,a=e.baseOption,s=e.timeline,l=e.options,u=e.media,c=!!e.media,d=!!(l||s||a&&a.timeline);a?(o=a,o.timeline||(o.timeline=s)):((d||c)&&(e.options=e.media=null),o=e),c&&se(u)&&F(u,function(f){f&&f.option&&(f.query?n.push(f):i||(i=f))}),h(o),F(l,function(f){return h(f)}),F(n,function(f){return h(f.option)});function h(f){F(t,function(g){g(f,r)})}return{baseOption:o,timelineOptions:l||[],mediaDefault:i,mediaList:n}}function mpe(e,t,r){var n={width:t,height:r,aspectratio:t/r},i=!0;return F(e,function(o,a){var s=a.match(ppe);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();ype(n[u],o,l)||(i=!1)}}),i}function ype(e,t,r){return r==="min"?e>=t:r==="max"?e<=t:e===t}function Cpe(e,t){return e.join(",")===t.join(",")}var Co=F,bv=ke,QN=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function TR(e){var t=e&&e.itemStyle;if(t)for(var r=0,n=QN.length;r<n;r++){var i=QN[r],o=t.normal,a=t.emphasis;o&&o[i]&&(e[i]=e[i]||{},e[i].normal?Ke(e[i].normal,o[i]):e[i].normal=o[i],o[i]=null),a&&a[i]&&(e[i]=e[i]||{},e[i].emphasis?Ke(e[i].emphasis,a[i]):e[i].emphasis=a[i],a[i]=null)}}function pn(e,t,r){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var n=e[t].normal,i=e[t].emphasis;n&&(r?(e[t].normal=e[t].emphasis=null,Ee(e[t],n)):e[t]=n),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i,i.focus&&(e.emphasis.focus=i.focus),i.blurScope&&(e.emphasis.blurScope=i.blurScope))}}function wg(e){pn(e,"itemStyle"),pn(e,"lineStyle"),pn(e,"areaStyle"),pn(e,"label"),pn(e,"labelLine"),pn(e,"upperLabel"),pn(e,"edgeLabel")}function vr(e,t){var r=bv(e)&&e[t],n=bv(r)&&r.textStyle;if(n)for(var i=0,o=iN.length;i<o;i++){var a=iN[i];n.hasOwnProperty(a)&&(r[a]=n[a])}}function Vi(e){e&&(wg(e),vr(e,"label"),e.emphasis&&vr(e.emphasis,"label"))}function wpe(e){if(bv(e)){TR(e),wg(e),vr(e,"label"),vr(e,"upperLabel"),vr(e,"edgeLabel"),e.emphasis&&(vr(e.emphasis,"label"),vr(e.emphasis,"upperLabel"),vr(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(TR(t),Vi(t));var r=e.markLine;r&&(TR(r),Vi(r));var n=e.markArea;n&&Vi(n);var i=e.data;if(e.type==="graph"){i=i||e.nodes;var o=e.links||e.edges;if(o&&!zn(o))for(var a=0;a<o.length;a++)Vi(o[a]);F(e.categories,function(u){wg(u)})}if(i&&!zn(i))for(var a=0;a<i.length;a++)Vi(i[a]);if(t=e.markPoint,t&&t.data)for(var s=t.data,a=0;a<s.length;a++)Vi(s[a]);if(r=e.markLine,r&&r.data)for(var l=r.data,a=0;a<l.length;a++)se(l[a])?(Vi(l[a][0]),Vi(l[a][1])):Vi(l[a]);e.type==="gauge"?(vr(e,"axisLabel"),vr(e,"title"),vr(e,"detail")):e.type==="treemap"?(pn(e.breadcrumb,"itemStyle"),F(e.levels,function(u){wg(u)})):e.type==="tree"&&wg(e.leaves)}}function Qa(e){return se(e)?e:e?[e]:[]}function JN(e){return(se(e)?e[0]:e)||{}}function bpe(e,t){Co(Qa(e.series),function(n){bv(n)&&wpe(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),Co(r,function(n){Co(Qa(e[n]),function(i){i&&(vr(i,"axisLabel"),vr(i.axisPointer,"label"))})}),Co(Qa(e.parallel),function(n){var i=n&&n.parallelAxisDefault;vr(i,"axisLabel"),vr(i&&i.axisPointer,"label")}),Co(Qa(e.calendar),function(n){pn(n,"itemStyle"),vr(n,"dayLabel"),vr(n,"monthLabel"),vr(n,"yearLabel")}),Co(Qa(e.radar),function(n){vr(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),Co(Qa(e.geo),function(n){bv(n)&&(Vi(n),Co(Qa(n.regions),function(i){Vi(i)}))}),Co(Qa(e.timeline),function(n){Vi(n),pn(n,"label"),pn(n,"itemStyle"),pn(n,"controlStyle",!0);var i=n.data;se(i)&&F(i,function(o){ke(o)&&(pn(o,"label"),pn(o,"itemStyle"))})}),Co(Qa(e.toolbox),function(n){pn(n,"iconStyle"),Co(n.feature,function(i){pn(i,"iconStyle")})}),vr(JN(e.axisPointer),"label"),vr(JN(e.tooltip).axisPointer,"label")}function Spe(e,t){for(var r=t.split(","),n=e,i=0;i<r.length&&(n=n&&n[r[i]],n!=null);i++);return n}function xpe(e,t,r,n){for(var i=t.split(","),o=e,a,s=0;s<i.length-1;s++)a=i[s],o[a]==null&&(o[a]={}),o=o[a];o[i[s]]==null&&(o[i[s]]=r)}function ez(e){e&&F(Rpe,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var Rpe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],_pe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],PR=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Vp(e){var t=e&&e.itemStyle;if(t)for(var r=0;r<PR.length;r++){var n=PR[r][1],i=PR[r][0];t[n]!=null&&(t[i]=t[n])}}function tz(e){e&&e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null&&(e.edgeDistance=e.margin)}function rz(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function Tpe(e){e&&e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus==null&&(e.emphasis.focus="adjacency"))}function _8(e,t){if(e)for(var r=0;r<e.length;r++)t(e[r]),e[r]&&_8(e[r].children,t)}function T8(e,t){bpe(e,t),e.series=_t(e.series),F(e.series,function(r){if(ke(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),tz(r.label);var i=r.data;if(i&&!zn(i))for(var o=0;o<i.length;o++)tz(i[o]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(n==="gauge"){var a=Spe(r,"pointer.color");a!=null&&xpe(r,"itemStyle.color",a)}else if(n==="bar"){Vp(r),Vp(r.backgroundStyle),Vp(r.emphasis);var i=r.data;if(i&&!zn(i))for(var o=0;o<i.length;o++)typeof i[o]=="object"&&(Vp(i[o]),Vp(i[o]&&i[o].emphasis))}else if(n==="sunburst"){var s=r.highlightPolicy;s&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=s)),rz(r),_8(r.data,rz)}else n==="graph"||n==="sankey"?Tpe(r):n==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&Ee(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),ez(r)}}),e.dataRange&&(e.visualMap=e.dataRange),F(_pe,function(r){var n=e[r];n&&(se(n)||(n=[n]),F(n,function(i){ez(i)}))})}function Ppe(e){var t=Pe();e.eachSeries(function(r){var n=r.get("stack");if(n){var i=t.get(n)||t.set(n,[]),o=r.getData(),a={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:r};if(!a.stackedDimension||!(a.isStackedByIndex||a.stackedByDimension))return;i.length&&o.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(a)}}),t.each(Dpe)}function Dpe(e){F(e,function(t,r){var n=[],i=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],a=t.data,s=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";a.modify(o,function(u,c,d){var h=a.get(t.stackedDimension,d);if(isNaN(h))return i;var f,g;s?g=a.getRawIndex(d):f=a.get(t.stackedByDimension,d);for(var m=NaN,y=r-1;y>=0;y--){var C=e[y];if(s||(g=C.data.rawIndexOf(C.stackedByDimension,f)),g>=0){var w=C.data.getByRawIndex(C.stackResultDimension,g);if(l==="all"||l==="positive"&&w>0||l==="negative"&&w<0||l==="samesign"&&h>=0&&w>0||l==="samesign"&&h<=0&&w<0){h=Pde(h,w),m=w;break}}}return n[0]=h,n[1]=m,n})})}var nS=function(){function e(t){this.data=t.data||(t.sourceFormat===Oa?{}:[]),this.sourceFormat=t.sourceFormat||y8,this.seriesLayoutBy=t.seriesLayoutBy||xa,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var r=this.dimensionsDefine=t.dimensionsDefine;if(r)for(var n=0;n<r.length;n++){var i=r[n];i.type==null&&b8(this,n)===Ur.Must&&(i.type="ordinal")}}return e}();function sE(e){return e instanceof nS}function $P(e,t,r){r=r||P8(e);var n=t.seriesLayoutBy,i=Ipe(e,r,n,t.sourceHeader,t.dimensions),o=new nS({data:e,sourceFormat:r,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Fe(t)});return o}function lE(e){return new nS({data:e,sourceFormat:zn(e)?Ol:so})}function Ape(e){return new nS({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:Fe(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function P8(e){var t=y8;if(zn(e))t=Ol;else if(se(e)){e.length===0&&(t=Sn);for(var r=0,n=e.length;r<n;r++){var i=e[r];if(i!=null){if(se(i)||zn(i)){t=Sn;break}else if(ke(i)){t=lo;break}}}}else if(ke(e)){for(var o in e)if(_e(e,o)&&Zr(e[o])){t=Oa;break}}return t}function Ipe(e,t,r,n,i){var o,a;if(!e)return{dimensionsDefine:nz(i),startIndex:a,dimensionsDetectedCount:o};if(t===Sn){var s=e;n==="auto"||n==null?iz(function(u){u!=null&&u!=="-"&&(we(u)?a==null&&(a=1):a=0)},r,s,10):a=pt(n)?n:n?1:0,!i&&a===1&&(i=[],iz(function(u,c){i[c]=u!=null?u+"":""},r,s,1/0)),o=i?i.length:r===_f?s.length:s[0]?s[0].length:null}else if(t===lo)i||(i=Epe(e));else if(t===Oa)i||(i=[],F(e,function(u,c){i.push(c)}));else if(t===so){var l=gf(e[0]);o=se(l)&&l.length||1}return{startIndex:a,dimensionsDefine:nz(i),dimensionsDetectedCount:o}}function Epe(e){for(var t=0,r;t<e.length&&!(r=e[t++]););if(r)return at(r)}function nz(e){if(e){var t=Pe();return le(e,function(r,n){r=ke(r)?r:{name:r};var i={name:r.name,displayName:r.displayName,type:r.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var o=t.get(i.name);return o?i.name+="-"+o.count++:t.set(i.name,{count:1}),i})}}function iz(e,t,r,n){if(t===_f)for(var i=0;i<r.length&&i<n;i++)e(r[i]?r[i][0]:null,i);else for(var o=r[0]||[],i=0;i<o.length&&i<n;i++)e(o[i],i)}function D8(e){var t=e.sourceFormat;return t===lo||t===Oa}var Lu,Ou,Nu,oz,az,A8=function(){function e(t,r){var n=sE(t)?t:lE(t);this._source=n;var i=this._data=n.data;n.sourceFormat===Ol&&(this._offset=0,this._dimSize=r,this._data=i),az(this,i,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(t,r){},e.prototype.appendData=function(t){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var t;az=function(a,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,d=l.startIndex,h=l.dimensionsDefine,f=oz[uE(u,c)];if(ie(a,f),u===Ol)a.getItem=r,a.count=i,a.fillStorage=n;else{var g=I8(u,c);a.getItem=Se(g,null,s,d,h);var m=E8(u,c);a.count=Se(m,null,s,d,h)}};var r=function(a,s){a=a-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,c=u*a,d=0;d<u;d++)s[d]=l[c+d];return s},n=function(a,s,l,u){for(var c=this._data,d=this._dimSize,h=0;h<d;h++){for(var f=u[h],g=f[0]==null?1/0:f[0],m=f[1]==null?-1/0:f[1],y=s-a,C=l[h],w=0;w<y;w++){var S=c[w*d+h];C[a+w]=S,S<g&&(g=S),S>m&&(m=S)}f[0]=g,f[1]=m}},i=function(){return this._data?this._data.length/this._dimSize:0};oz=(t={},t[Sn+"_"+xa]={pure:!0,appendData:o},t[Sn+"_"+_f]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[lo]={pure:!0,appendData:o},t[Oa]={pure:!0,appendData:function(a){var s=this._data;F(a,function(l,u){for(var c=s[u]||(s[u]=[]),d=0;d<(l||[]).length;d++)c.push(l[d])})}},t[so]={appendData:o},t[Ol]={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},t);function o(a){for(var s=0;s<a.length;s++)this._data.push(a[s])}}(),e}(),sz=function(e,t,r,n){return e[n]},Mpe=(Lu={},Lu[Sn+"_"+xa]=function(e,t,r,n){return e[n+t]},Lu[Sn+"_"+_f]=function(e,t,r,n,i){n+=t;for(var o=i||[],a=e,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[n]:null}return o},Lu[lo]=sz,Lu[Oa]=function(e,t,r,n,i){for(var o=i||[],a=0;a<r.length;a++){var s=r[a].name,l=e[s];o[a]=l?l[n]:null}return o},Lu[so]=sz,Lu);function I8(e,t){var r=Mpe[uE(e,t)];return r}var lz=function(e,t,r){return e.length},kpe=(Ou={},Ou[Sn+"_"+xa]=function(e,t,r){return Math.max(0,e.length-t)},Ou[Sn+"_"+_f]=function(e,t,r){var n=e[0];return n?Math.max(0,n.length-t):0},Ou[lo]=lz,Ou[Oa]=function(e,t,r){var n=r[0].name,i=e[n];return i?i.length:0},Ou[so]=lz,Ou);function E8(e,t){var r=kpe[uE(e,t)];return r}var DR=function(e,t,r){return e[t]},Fpe=(Nu={},Nu[Sn]=DR,Nu[lo]=function(e,t,r){return e[r]},Nu[Oa]=DR,Nu[so]=function(e,t,r){var n=gf(e);return n instanceof Array?n[t]:n},Nu[Ol]=DR,Nu);function M8(e){var t=Fpe[e];return t}function uE(e,t){return e===Sn?e+"_"+t:e}function Yh(e,t,r){if(e){var n=e.getRawDataItem(t);if(n!=null){var i=e.getStore(),o=i.getSource().sourceFormat;if(r!=null){var a=e.getDimensionIndex(r),s=i.getDimensionProperty(a);return M8(o)(n,a,s)}else{var l=n;return o===so&&(l=gf(n)),l}}}}var Lpe=/\{@(.+?)\}/g,iS=function(){function e(){}return e.prototype.getDataParams=function(t,r){var n=this.getData(r),i=this.getRawValue(t,r),o=n.getRawIndex(t),a=n.getName(t),s=n.getRawDataItem(t),l=n.getItemVisual(t,"style"),u=l&&l[n.getItemVisual(t,"drawType")||"fill"],c=l&&l.stroke,d=this.mainType,h=d==="series",f=n.userOutput&&n.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:a,dataIndex:o,data:s,dataType:r,value:i,color:u,borderColor:c,dimensionNames:f?f.fullDimensions:null,encode:f?f.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(t,r,n,i,o,a){r=r||"normal";var s=this.getData(n),l=this.getDataParams(t,n);if(a&&(l.value=a.interpolatedValue),i!=null&&se(l.value)&&(l.value=l.value[i]),!o){var u=s.getItemModel(t);o=u.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(Ie(o))return l.status=r,l.dimensionIndex=i,o(l);if(we(o)){var c=tE(o,l);return c.replace(Lpe,function(d,h){var f=h.length,g=h;g.charAt(0)==="["&&g.charAt(f-1)==="]"&&(g=+g.slice(1,f-1));var m=Yh(s,t,g);if(a&&se(a.interpolatedValue)){var y=s.getDimensionIndex(g);y>=0&&(m=a.interpolatedValue[y])}return m!=null?m+"":""})}},e.prototype.getRawValue=function(t,r){return Yh(this.getData(r),t)},e.prototype.formatTooltip=function(t,r,n){},e}();function uz(e){var t,r;return ke(e)?e.type&&(r=e):t=e,{text:t,frag:r}}function Wg(e){return new Ope(e)}var Ope=function(){function e(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return e.prototype.perform=function(t){var r=this._upstream,n=t&&t.skip;if(this._dirty&&r){var i=this.context;i.data=i.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var o;this._plan&&!n&&(o=this._plan(this.context));var a=c(this._modBy),s=this._modDataCount||0,l=c(t&&t.modBy),u=t&&t.modDataCount||0;(a!==l||s!==u)&&(o="reset");function c(w){return!(w>=1)&&(w=1),w}var d;(this._dirty||o==="reset")&&(this._dirty=!1,d=this._doReset(n)),this._modBy=l,this._modDataCount=u;var h=t&&t.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var f=this._dueIndex,g=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!n&&(d||f<g)){var m=this._progress;if(se(m))for(var y=0;y<m.length;y++)this._doProgress(m[y],f,g,l,u);else this._doProgress(m,f,g,l,u)}this._dueIndex=g;var C=this._settedOutputEnd!=null?this._settedOutputEnd:g;this._outputDueEnd=C}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(t,r,n,i,o){cz.reset(r,n,i,o),this._callingProgress=t,this._callingProgress({start:r,end:n,count:n-r,next:cz.next},this.context)},e.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,n;!t&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),se(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e}(),cz=function(){var e,t,r,n,i,o={reset:function(l,u,c,d){t=l,e=u,r=c,n=d,i=Math.ceil(n/r),o.next=r>1&&n>0?s:a}};return o;function a(){return t<e?t++:null}function s(){var l=t%i*r+Math.ceil(t/i),u=t>=e?null:l<n?l:t;return t++,u}}();function Nl(e,t){var r=t&&t.type;return r==="ordinal"?e:(r==="time"&&!pt(e)&&e!=null&&e!=="-"&&(e=+xi(e)),e==null||e===""?NaN:Number(e))}var Npe=Pe({number:function(e){return parseFloat(e)},time:function(e){return+xi(e)},trim:function(e){return we(e)?Xi(e):e}});function k8(e){return Npe.get(e)}var F8={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}},zpe=function(){function e(t,r){if(!pt(r)){var n="";wt(n)}this._opFn=F8[t],this._rvalFloat=Ia(r)}return e.prototype.evaluate=function(t){return pt(t)?this._opFn(t,this._rvalFloat):this._opFn(Ia(t),this._rvalFloat)},e}(),L8=function(){function e(t,r){var n=t==="desc";this._resultLT=n?1:-1,r==null&&(r=n?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return e.prototype.evaluate=function(t,r){var n=pt(t)?t:Ia(t),i=pt(r)?r:Ia(r),o=isNaN(n),a=isNaN(i);if(o&&(n=this._incomparable),a&&(i=this._incomparable),o&&a){var s=we(t),l=we(r);s&&(n=l?t:0),l&&(i=s?r:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},e}(),Bpe=function(){function e(t,r){this._rval=r,this._isEQ=t,this._rvalTypeof=typeof r,this._rvalFloat=Ia(r)}return e.prototype.evaluate=function(t){var r=t===this._rval;if(!r){var n=typeof t;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(r=Ia(t)===this._rvalFloat)}return this._isEQ?r:!r},e}();function Vpe(e,t){return e==="eq"||e==="ne"?new Bpe(e==="eq",t):_e(F8,e)?new zpe(e,t):null}var Gpe=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(t){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(t){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(t,r){},e.prototype.retrieveValueFromItem=function(t,r){},e.prototype.convertValue=function(t,r){return Nl(t,r)},e}();function Hpe(e,t){var r=new Gpe,n=e.data,i=r.sourceFormat=e.sourceFormat,o=e.startIndex,a="";e.seriesLayoutBy!==xa&&wt(a);var s=[],l={},u=e.dimensionsDefine;if(u)F(u,function(m,y){var C=m.name,w={index:y,name:C,displayName:m.displayName};if(s.push(w),C!=null){var S="";_e(l,C)&&wt(S),l[C]=w}});else for(var c=0;c<e.dimensionsDetectedCount;c++)s.push({index:c});var d=I8(i,xa);t.__isBuiltIn&&(r.getRawDataItem=function(m){return d(n,o,s,m)},r.getRawData=Se(Wpe,null,e)),r.cloneRawData=Se($pe,null,e);var h=E8(i,xa);r.count=Se(h,null,n,o,s);var f=M8(i);r.retrieveValue=function(m,y){var C=d(n,o,s,m);return g(C,y)};var g=r.retrieveValueFromItem=function(m,y){if(m!=null){var C=s[y];if(C)return f(m,y,C.name)}};return r.getDimensionInfo=Se(Upe,null,s,l),r.cloneAllDimensionInfo=Se(jpe,null,s),r}function Wpe(e){var t=e.sourceFormat;if(!cE(t)){var r="";wt(r)}return e.data}function $pe(e){var t=e.sourceFormat,r=e.data;if(!cE(t)){var n="";wt(n)}if(t===Sn){for(var i=[],o=0,a=r.length;o<a;o++)i.push(r[o].slice());return i}else if(t===lo){for(var i=[],o=0,a=r.length;o<a;o++)i.push(ie({},r[o]));return i}}function Upe(e,t,r){if(r!=null){if(pt(r)||!isNaN(r)&&!_e(t,r))return e[r];if(_e(t,r))return t[r]}}function jpe(e){return Fe(e)}var O8=Pe();function Ype(e){e=Fe(e);var t=e.type,r="";t||wt(r);var n=t.split(":");n.length!==2&&wt(r);var i=!1;n[0]==="echarts"&&(t=n[1],i=!0),e.__isBuiltIn=i,O8.set(t,e)}function Kpe(e,t,r){var n=_t(e),i=n.length,o="";i||wt(o);for(var a=0,s=i;a<s;a++){var l=n[a];t=Xpe(l,t),a!==s-1&&(t.length=Math.max(t.length,1))}return t}function Xpe(e,t,r,n){var i="";t.length||wt(i),ke(e)||wt(i);var o=e.type,a=O8.get(o);a||wt(i);var s=le(t,function(u){return Hpe(u,a)}),l=_t(a.transform({upstream:s[0],upstreamList:s,config:Fe(e.config)}));return le(l,function(u,c){var d="";ke(u)||wt(d),u.data||wt(d);var h=P8(u.data);cE(h)||wt(d);var f,g=t[0];if(g&&c===0&&!u.dimensions){var m=g.startIndex;m&&(u.data=g.data.slice(0,m).concat(u.data)),f={seriesLayoutBy:xa,sourceHeader:m,dimensions:g.metaRawOption.dimensions}}else f={seriesLayoutBy:xa,sourceHeader:0,dimensions:u.dimensions};return $P(u.data,f,null)})}function cE(e){return e===Sn||e===lo}var oS="undefined",qpe=typeof Uint32Array===oS?Array:Uint32Array,Zpe=typeof Uint16Array===oS?Array:Uint16Array,N8=typeof Int32Array===oS?Array:Int32Array,dz=typeof Float64Array===oS?Array:Float64Array,z8={float:dz,int:N8,ordinal:Array,number:Array,time:dz},AR;function $d(e){return e>65535?qpe:Zpe}function Ud(){return[1/0,-1/0]}function Qpe(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function hz(e,t,r,n,i){var o=z8[r||"float"];if(i){var a=e[t],s=a&&a.length;if(s!==n){for(var l=new o(n),u=0;u<s;u++)l[u]=a[u];e[t]=l}}else e[t]=new o(n)}var UP=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Pe()}return e.prototype.initData=function(t,r,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),o=this.defaultDimValueGetter=AR[i.sourceFormat];this._dimValueGetter=n||o,this._rawExtent=[],D8(i),this._dimensions=le(r,function(a){return{type:a.type,property:a.property}}),this._initDataFromProvider(0,t.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(t,r){var n=this._calcDimNameToIdx,i=this._dimensions,o=n.get(t);if(o!=null){if(i[o].type===r)return o}else o=i.length;return i[o]={type:r},n.set(t,o),this._chunks[o]=new z8[r||"float"](this._rawCount),this._rawExtent[o]=Ud(),o},e.prototype.collectOrdinalMeta=function(t,r){var n=this._chunks[t],i=this._dimensions[t],o=this._rawExtent,a=i.ordinalOffset||0,s=n.length;a===0&&(o[t]=Ud());for(var l=o[t],u=a;u<s;u++){var c=n[u]=r.parseAndCollect(n[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}i.ordinalMeta=r,i.ordinalOffset=s,i.type="ordinal"},e.prototype.getOrdinalMeta=function(t){var r=this._dimensions[t],n=r.ordinalMeta;return n},e.prototype.getDimensionProperty=function(t){var r=this._dimensions[t];return r&&r.property},e.prototype.appendData=function(t){var r=this._provider,n=this.count();r.appendData(t);var i=r.count();return r.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},e.prototype.appendValues=function(t,r){for(var n=this._chunks,i=this._dimensions,o=i.length,a=this._rawExtent,s=this.count(),l=s+Math.max(t.length,r||0),u=0;u<o;u++){var c=i[u];hz(n,u,c.type,l,!0)}for(var d=[],h=s;h<l;h++)for(var f=h-s,g=0;g<o;g++){var c=i[g],m=AR.arrayRows.call(this,t[f]||d,c.property,f,g);n[g][h]=m;var y=a[g];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}return this._rawCount=this._count=l,{start:s,end:l}},e.prototype._initDataFromProvider=function(t,r,n){for(var i=this._provider,o=this._chunks,a=this._dimensions,s=a.length,l=this._rawExtent,u=le(a,function(w){return w.property}),c=0;c<s;c++){var d=a[c];l[c]||(l[c]=Ud()),hz(o,c,d.type,r,n)}if(i.fillStorage)i.fillStorage(t,r,o,l);else for(var h=[],f=t;f<r;f++){h=i.getItem(f,h);for(var g=0;g<s;g++){var m=o[g],y=this._dimValueGetter(h,u[g],f,g);m[f]=y;var C=l[g];y<C[0]&&(C[0]=y),y>C[1]&&(C[1]=y)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=r,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(t,r){if(!(r>=0&&r<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(r)]:NaN},e.prototype.getValues=function(t,r){var n=[],i=[];if(r==null){r=t,t=[];for(var o=0;o<this._dimensions.length;o++)i.push(o)}else i=t;for(var o=0,a=i.length;o<a;o++)n.push(this.get(i[o],r));return n},e.prototype.getByRawIndex=function(t,r){if(!(r>=0&&r<this._rawCount))return NaN;var n=this._chunks[t];return n?n[r]:NaN},e.prototype.getSum=function(t){var r=this._chunks[t],n=0;if(r)for(var i=0,o=this.count();i<o;i++){var a=this.get(t,i);isNaN(a)||(n+=a)}return n},e.prototype.getMedian=function(t){var r=[];this.each([t],function(o){isNaN(o)||r.push(o)});var n=r.sort(function(o,a){return o-a}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},e.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var r=this._indices,n=r[t];if(n!=null&&n<this._count&&n===t)return t;for(var i=0,o=this._count-1;i<=o;){var a=(i+o)/2|0;if(r[a]<t)i=a+1;else if(r[a]>t)o=a-1;else return a}return-1},e.prototype.indicesOfNearest=function(t,r,n){var i=this._chunks,o=i[t],a=[];if(!o)return a;n==null&&(n=1/0);for(var s=1/0,l=-1,u=0,c=0,d=this.count();c<d;c++){var h=this.getRawIndex(c),f=r-o[h],g=Math.abs(f);g<=n&&((g<s||g===s&&f>=0&&l<0)&&(s=g,l=f,u=0),f===l&&(a[u++]=c))}return a.length=u,a},e.prototype.getIndices=function(){var t,r=this._indices;if(r){var n=r.constructor,i=this._count;if(n===Array){t=new n(i);for(var o=0;o<i;o++)t[o]=r[o]}else t=new n(r.buffer,0,i)}else{var n=$d(this._rawCount);t=new n(this.count());for(var o=0;o<t.length;o++)t[o]=o}return t},e.prototype.filter=function(t,r){if(!this._count)return this;for(var n=this.clone(),i=n.count(),o=$d(n._rawCount),a=new o(i),s=[],l=t.length,u=0,c=t[0],d=n._chunks,h=0;h<i;h++){var f=void 0,g=n.getRawIndex(h);if(l===0)f=r(h);else if(l===1){var m=d[c][g];f=r(m,h)}else{for(var y=0;y<l;y++)s[y]=d[t[y]][g];s[y]=h,f=r.apply(null,s)}f&&(a[u++]=g)}return u<i&&(n._indices=a),n._count=u,n._extent=[],n._updateGetRawIdx(),n},e.prototype.selectRange=function(t){var r=this.clone(),n=r._count;if(!n)return this;var i=at(t),o=i.length;if(!o)return this;var a=r.count(),s=$d(r._rawCount),l=new s(a),u=0,c=i[0],d=t[c][0],h=t[c][1],f=r._chunks,g=!1;if(!r._indices){var m=0;if(o===1){for(var y=f[i[0]],C=0;C<n;C++){var w=y[C];(w>=d&&w<=h||isNaN(w))&&(l[u++]=m),m++}g=!0}else if(o===2){for(var y=f[i[0]],S=f[i[1]],x=t[i[1]][0],R=t[i[1]][1],C=0;C<n;C++){var w=y[C],T=S[C];(w>=d&&w<=h||isNaN(w))&&(T>=x&&T<=R||isNaN(T))&&(l[u++]=m),m++}g=!0}}if(!g)if(o===1)for(var C=0;C<a;C++){var P=r.getRawIndex(C),w=f[i[0]][P];(w>=d&&w<=h||isNaN(w))&&(l[u++]=P)}else for(var C=0;C<a;C++){for(var D=!0,P=r.getRawIndex(C),I=0;I<o;I++){var E=i[I],w=f[E][P];(w<t[E][0]||w>t[E][1])&&(D=!1)}D&&(l[u++]=r.getRawIndex(C))}return u<a&&(r._indices=l),r._count=u,r._extent=[],r._updateGetRawIdx(),r},e.prototype.map=function(t,r){var n=this.clone(t);return this._updateDims(n,t,r),n},e.prototype.modify=function(t,r){this._updateDims(this,t,r)},e.prototype._updateDims=function(t,r,n){for(var i=t._chunks,o=[],a=r.length,s=t.count(),l=[],u=t._rawExtent,c=0;c<r.length;c++)u[r[c]]=Ud();for(var d=0;d<s;d++){for(var h=t.getRawIndex(d),f=0;f<a;f++)l[f]=i[r[f]][h];l[a]=d;var g=n&&n.apply(null,l);if(g!=null){typeof g!="object"&&(o[0]=g,g=o);for(var c=0;c<g.length;c++){var m=r[c],y=g[c],C=u[m],w=i[m];w&&(w[h]=y),y<C[0]&&(C[0]=y),y>C[1]&&(C[1]=y)}}}},e.prototype.lttbDownSample=function(t,r){var n=this.clone([t],!0),i=n._chunks,o=i[t],a=this.count(),s=0,l=Math.floor(1/r),u=this.getRawIndex(0),c,d,h,f=new($d(this._rawCount))(Math.min((Math.ceil(a/l)+2)*2,a));f[s++]=u;for(var g=1;g<a-1;g+=l){for(var m=Math.min(g+l,a-1),y=Math.min(g+l*2,a),C=(y+m)/2,w=0,S=m;S<y;S++){var x=this.getRawIndex(S),R=o[x];isNaN(R)||(w+=R)}w/=y-m;var T=g,P=Math.min(g+l,a),D=g-1,I=o[u];c=-1,h=T;for(var E=-1,k=0,S=T;S<P;S++){var x=this.getRawIndex(S),R=o[x];if(isNaN(R)){k++,E<0&&(E=x);continue}d=Math.abs((D-C)*(R-I)-(D-S)*(w-I)),d>c&&(c=d,h=x)}k>0&&k<P-T&&(f[s++]=Math.min(E,h),h=Math.max(E,h)),f[s++]=h,u=h}return f[s++]=this.getRawIndex(a-1),n._count=s,n._indices=f,n.getRawIndex=this._getRawIdx,n},e.prototype.minmaxDownSample=function(t,r){for(var n=this.clone([t],!0),i=n._chunks,o=Math.floor(1/r),a=i[t],s=this.count(),l=new($d(this._rawCount))(Math.ceil(s/o)*2),u=0,c=0;c<s;c+=o){var d=c,h=a[this.getRawIndex(d)],f=c,g=a[this.getRawIndex(f)],m=o;c+o>s&&(m=s-c);for(var y=0;y<m;y++){var C=this.getRawIndex(c+y),w=a[C];w<h&&(h=w,d=c+y),w>g&&(g=w,f=c+y)}var S=this.getRawIndex(d),x=this.getRawIndex(f);d<f?(l[u++]=S,l[u++]=x):(l[u++]=x,l[u++]=S)}return n._count=u,n._indices=l,n._updateGetRawIdx(),n},e.prototype.downSample=function(t,r,n,i){for(var o=this.clone([t],!0),a=o._chunks,s=[],l=Math.floor(1/r),u=a[t],c=this.count(),d=o._rawExtent[t]=Ud(),h=new($d(this._rawCount))(Math.ceil(c/l)),f=0,g=0;g<c;g+=l){l>c-g&&(l=c-g,s.length=l);for(var m=0;m<l;m++){var y=this.getRawIndex(g+m);s[m]=u[y]}var C=n(s),w=this.getRawIndex(Math.min(g+i(s,C)||0,c-1));u[w]=C,C<d[0]&&(d[0]=C),C>d[1]&&(d[1]=C),h[f++]=w}return o._count=f,o._indices=h,o._updateGetRawIdx(),o},e.prototype.each=function(t,r){if(this._count)for(var n=t.length,i=this._chunks,o=0,a=this.count();o<a;o++){var s=this.getRawIndex(o);switch(n){case 0:r(o);break;case 1:r(i[t[0]][s],o);break;case 2:r(i[t[0]][s],i[t[1]][s],o);break;default:for(var l=0,u=[];l<n;l++)u[l]=i[t[l]][s];u[l]=o,r.apply(null,u)}}},e.prototype.getDataExtent=function(t){var r=this._chunks[t],n=Ud();if(!r)return n;var i=this.count(),o=!this._indices,a;if(o)return this._rawExtent[t].slice();if(a=this._extent[t],a)return a.slice();a=n;for(var s=a[0],l=a[1],u=0;u<i;u++){var c=this.getRawIndex(u),d=r[c];d<s&&(s=d),d>l&&(l=d)}return a=[s,l],this._extent[t]=a,a},e.prototype.getRawDataItem=function(t){var r=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(r);for(var n=[],i=this._chunks,o=0;o<i.length;o++)n.push(i[o][r]);return n},e.prototype.clone=function(t,r){var n=new e,i=this._chunks,o=t&&no(t,function(s,l){return s[l]=!0,s},{});if(o)for(var a=0;a<i.length;a++)n._chunks[a]=o[a]?Qpe(i[a]):i[a];else n._chunks=i;return this._copyCommonProps(n),r||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},e.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Fe(this._extent),t._rawExtent=Fe(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,r=void 0;if(t===Array){var n=this._indices.length;r=new t(n);for(var i=0;i<n;i++)r[i]=this._indices[i]}else r=new t(this._indices);return r}return null},e.prototype._getRawIdxIdentity=function(t){return t},e.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function t(r,n,i,o){return Nl(r[o],this._dimensions[o])}AR={arrayRows:t,objectRows:function(r,n,i,o){return Nl(r[n],this._dimensions[o])},keyedColumns:t,original:function(r,n,i,o){var a=r&&(r.value==null?r:r.value);return Nl(a instanceof Array?a[o]:a,this._dimensions[o])},typedArray:function(r,n,i,o){return r[o]}}}(),e}(),B8=function(){function e(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(t,r){this._sourceList=t,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length,i,o;if(pC(t)){var a=t,s=void 0,l=void 0,u=void 0;if(n){var c=r[0];c.prepareSource(),u=c.getSource(),s=u.data,l=u.sourceFormat,o=[c._getVersionSign()]}else s=a.get("data",!0),l=zn(s)?Ol:so,o=[];var d=this._getSourceMetaRawOption()||{},h=u&&u.metaRawOption||{},f=Ue(d.seriesLayoutBy,h.seriesLayoutBy)||null,g=Ue(d.sourceHeader,h.sourceHeader),m=Ue(d.dimensions,h.dimensions),y=f!==h.seriesLayoutBy||!!g!=!!h.sourceHeader||m;i=y?[$P(s,{seriesLayoutBy:f,sourceHeader:g,dimensions:m},l)]:[]}else{var C=t;if(n){var w=this._applyTransform(r);i=w.sourceList,o=w.upstreamSignList}else{var S=C.get("source",!0);i=[$P(S,this._getSourceMetaRawOption(),null)],o=[]}}this._setLocalSource(i,o)},e.prototype._applyTransform=function(t){var r=this._sourceHost,n=r.get("transform",!0),i=r.get("fromTransformResult",!0);if(i!=null){var o="";t.length!==1&&pz(o)}var a,s=[],l=[];return F(t,function(u){u.prepareSource();var c=u.getSource(i||0),d="";i!=null&&!c&&pz(d),s.push(c),l.push(u._getVersionSign())}),n?a=Kpe(n,s,{datasetIndex:r.componentIndex}):i!=null&&(a=[Ape(s[0])]),{sourceList:a,upstreamSignList:l}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),r=0;r<t.length;r++){var n=t[r];if(n._isDirty()||this._upstreamSignList[r]!==n._getVersionSign())return!0}},e.prototype.getSource=function(t){t=t||0;var r=this._sourceList[t];if(!r){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return r},e.prototype.getSharedDataStore=function(t){var r=t.makeStoreSchema();return this._innerGetDataStore(r.dimensions,t.source,r.hash)},e.prototype._innerGetDataStore=function(t,r,n){var i=0,o=this._storeList,a=o[i];a||(a=o[i]={});var s=a[n];if(!s){var l=this._getUpstreamSourceManagers()[0];pC(this._sourceHost)&&l?s=l._innerGetDataStore(t,r,n):(s=new UP,s.initData(new A8(r,t.length),t)),a[n]=s}return s},e.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(pC(t)){var r=iE(t);return r?[r.getSourceManager()]:[]}else return le(ipe(t),function(n){return n.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,r,n,i;if(pC(t))r=t.get("seriesLayoutBy",!0),n=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=t;r=o.get("seriesLayoutBy",!0),n=o.get("sourceHeader",!0),i=o.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:n,dimensions:i}},e}();function fz(e){var t=e.option.transform;t&&lv(e.option.transform)}function pC(e){return e.mainType==="series"}function pz(e){throw new Error(e)}var Jpe="line-height:1";function V8(e){var t=e.lineHeight;return t==null?Jpe:"line-height:"+gn(t+"")+"px"}function G8(e,t){var r=e.color||"#6e7079",n=e.fontSize||12,i=e.fontWeight||"400",o=e.color||"#464646",a=e.fontSize||14,s=e.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+gn(n+"")+"px;color:"+gn(r)+";font-weight:"+gn(i+""),valueStyle:"font-size:"+gn(a+"")+"px;color:"+gn(o)+";font-weight:"+gn(s+"")}:{nameStyle:{fontSize:n,fill:r,fontWeight:i},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var ege=[0,10,20,30],tge=["",`
`,`

`,`


`];function kr(e,t){return t.type=e,t}function jP(e){return e.type==="section"}function H8(e){return jP(e)?rge:nge}function W8(e){if(jP(e)){var t=0,r=e.blocks.length,n=r>1||r>0&&!e.noHeader;return F(e.blocks,function(i){var o=W8(i);o>=t&&(t=o+ +(n&&(!o||jP(i)&&!i.noHeader)))}),t}return 0}function rge(e,t,r,n){var i=t.noHeader,o=ige(W8(t)),a=[],s=t.blocks||[];Cn(!s||se(s)),s=s||[];var l=e.orderMode;if(t.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(_e(u,l)){var c=new L8(u[l],null);s.sort(function(m,y){return c.evaluate(m.sortParam,y.sortParam)})}else l==="seriesDesc"&&s.reverse()}F(s,function(m,y){var C=t.valueFormatter,w=H8(m)(C?ie(ie({},e),{valueFormatter:C}):e,m,y>0?o.html:0,n);w!=null&&a.push(w)});var d=e.renderMode==="richText"?a.join(o.richText):YP(n,a.join(""),i?r:o.html);if(i)return d;var h=GP(t.header,"ordinal",e.useUTC),f=G8(n,e.renderMode).nameStyle,g=V8(n);return e.renderMode==="richText"?$8(e,h,f)+o.richText+d:YP(n,'<div style="'+f+";"+g+';">'+gn(h)+"</div>"+d,r)}function nge(e,t,r,n){var i=e.renderMode,o=t.noName,a=t.noValue,s=!t.markerType,l=t.name,u=e.useUTC,c=t.valueFormatter||e.valueFormatter||function(x){return x=se(x)?x:[x],le(x,function(R,T){return GP(R,se(f)?f[T]:f,u)})};if(!(o&&a)){var d=s?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",i),h=o?"":GP(l,"ordinal",u),f=t.valueType,g=a?[]:c(t.value,t.dataIndex),m=!s||!o,y=!s&&o,C=G8(n,i),w=C.nameStyle,S=C.valueStyle;return i==="richText"?(s?"":d)+(o?"":$8(e,h,w))+(a?"":sge(e,g,m,y,S)):YP(n,(s?"":d)+(o?"":oge(h,!s,w))+(a?"":age(g,m,y,S)),r)}}function gz(e,t,r,n,i,o){if(e){var a=H8(e),s={useUTC:i,renderMode:r,orderMode:n,markupStyleCreator:t,valueFormatter:e.valueFormatter};return a(s,e,0,o)}}function ige(e){return{html:ege[e],richText:tge[e]}}function YP(e,t,r){var n='<div style="clear:both"></div>',i="margin: "+r+"px 0 0",o=V8(e);return'<div style="'+i+";"+o+';">'+t+n+"</div>"}function oge(e,t,r){var n=t?"margin-left:2px":"";return'<span style="'+r+";"+n+'">'+gn(e)+"</span>"}function age(e,t,r,n){var i=r?"10px":"20px",o=t?"float:right;margin-left:"+i:"";return e=se(e)?e:[e],'<span style="'+o+";"+n+'">'+le(e,function(a){return gn(a)}).join("&nbsp;&nbsp;")+"</span>"}function $8(e,t,r){return e.markupStyleCreator.wrapRichTextStyle(t,r)}function sge(e,t,r,n,i){var o=[i],a=n?10:20;return r&&o.push({padding:[0,0,0,a],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(se(t)?t.join("  "):t,o)}function U8(e,t){var r=e.getData().getItemVisual(t,"style"),n=r[e.visualDrawType];return kc(n)}function j8(e,t){var r=e.get("padding");return r??(t==="richText"?[8,10]:10)}var IR=function(){function e(){this.richTextStyles={},this._nextStyleNameId=uU()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(t,r,n){var i=n==="richText"?this._generateStyleName():null,o=f8({color:r,type:t,renderMode:n,markerId:i});return we(o)?o:(this.richTextStyles[i]=o.style,o.content)},e.prototype.wrapRichTextStyle=function(t,r){var n={};se(r)?F(r,function(o){return ie(n,o)}):ie(n,r);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+t+"}"},e}();function Y8(e){var t=e.series,r=e.dataIndex,n=e.multipleSeries,i=t.getData(),o=i.mapDimensionsAll("defaultedTooltip"),a=o.length,s=t.getRawValue(r),l=se(s),u=U8(t,r),c,d,h,f;if(a>1||l&&!a){var g=lge(s,t,r,o,u);c=g.inlineValues,d=g.inlineValueTypes,h=g.blocks,f=g.inlineValues[0]}else if(a){var m=i.getDimensionInfo(o[0]);f=c=Yh(i,r,o[0]),d=m.type}else f=c=l?s[0]:s;var y=II(t),C=y&&t.name||"",w=i.getName(r),S=n?C:w;return kr("section",{header:C,noHeader:n||!y,sortParam:f,blocks:[kr("nameValue",{markerType:"item",markerColor:u,name:S,noName:!Xi(S),value:c,valueType:d,dataIndex:r})].concat(h||[])})}function lge(e,t,r,n,i){var o=t.getData(),a=no(e,function(d,h,f){var g=o.getDimensionInfo(f);return d=d||g&&g.tooltip!==!1&&g.displayName!=null},!1),s=[],l=[],u=[];n.length?F(n,function(d){c(Yh(o,r,d),d)}):F(e,c);function c(d,h){var f=o.getDimensionInfo(h);!f||f.otherDims.tooltip===!1||(a?u.push(kr("nameValue",{markerType:"subItem",markerColor:i,name:f.displayName,value:d,valueType:f.type})):(s.push(d),l.push(f.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var al=ft();function gC(e,t){return e.getName(t)||e.getId(t)}var Tw="__universalTransitionEnabled",Tt=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return t.prototype.init=function(r,n,i){this.seriesIndex=this.componentIndex,this.dataTask=Wg({count:cge,reset:dge}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,i);var o=al(this).sourceManager=new B8(this);o.prepareSource();var a=this.getInitialData(r,i);mz(a,this),this.dataTask.context.data=a,al(this).dataBeforeProcessed=a,vz(this),this._initSelectedMapFromData(a)},t.prototype.mergeDefaultAndTheme=function(r,n){var i=wv(this),o=i?Rf(r):{},a=this.subType;tt.hasClass(a)&&(a+="Series"),Ke(r,n.getTheme().get(this.subType)),Ke(r,this.getDefaultOption()),Ac(r,"label",["show"]),this.fillDataTextStyle(r.data),i&&jl(r,o,i)},t.prototype.mergeOption=function(r,n){r=Ke(this.option,r,!0),this.fillDataTextStyle(r.data);var i=wv(this);i&&jl(this.option,r,i);var o=al(this).sourceManager;o.dirty(),o.prepareSource();var a=this.getInitialData(r,n);mz(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,al(this).dataBeforeProcessed=a,vz(this),this._initSelectedMapFromData(a)},t.prototype.fillDataTextStyle=function(r){if(r&&!zn(r))for(var n=["show"],i=0;i<r.length;i++)r[i]&&r[i].label&&Ac(r[i],"label",n)},t.prototype.getInitialData=function(r,n){},t.prototype.appendData=function(r){var n=this.getRawData();n.appendData(r.data)},t.prototype.getData=function(r){var n=KP(this);if(n){var i=n.context.data;return r==null||!i.getLinkedData?i:i.getLinkedData(r)}else return al(this).data},t.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},t.prototype.setData=function(r){var n=KP(this);if(n){var i=n.context;i.outputData=r,n!==this.dataTask&&(i.data=r)}al(this).data=r},t.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return Pe(r)},t.prototype.getSourceManager=function(){return al(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return al(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},t.prototype.formatTooltip=function(r,n,i){return Y8({series:this,dataIndex:r,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(rt.node&&!(r&&r.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(r,n,i){var o=this.ecModel,a=oE.prototype.getColorFromPalette.call(this,r,n,i);return a||(a=o.getColorFromPalette(r,n,i)),a},t.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(r,n){this._innerSelect(this.getData(n),r)},t.prototype.unselect=function(r,n){var i=this.option.selectedMap;if(i){var o=this.option.selectedMode,a=this.getData(n);if(o==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<r.length;s++){var l=r[s],u=gC(a,l);i[u]=!1,this._selectedDataIndicesMap[u]=-1}}},t.prototype.toggleSelect=function(r,n){for(var i=[],o=0;o<r.length;o++)i[0]=r[o],this.isSelected(r[o],n)?this.unselect(i,n):this.select(i,n)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,n=at(r),i=[],o=0;o<n.length;o++){var a=r[n[o]];a>=0&&i.push(a)}return i},t.prototype.isSelected=function(r,n){var i=this.option.selectedMap;if(!i)return!1;var o=this.getData(n);return(i==="all"||i[gC(o,r)])&&!o.getItemModel(r).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[Tw])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},t.prototype._innerSelect=function(r,n){var i,o,a=this.option,s=a.selectedMode,l=n.length;if(!(!s||!l)){if(s==="series")a.selectedMap="all";else if(s==="multiple"){ke(a.selectedMap)||(a.selectedMap={});for(var u=a.selectedMap,c=0;c<l;c++){var d=n[c],h=gC(r,d);u[h]=!0,this._selectedDataIndicesMap[h]=r.getRawIndex(d)}}else if(s==="single"||s===!0){var f=n[l-1],h=gC(r,f);a.selectedMap=(i={},i[h]=!0,i),this._selectedDataIndicesMap=(o={},o[h]=r.getRawIndex(f),o)}}},t.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var n=[];r.hasItemOption&&r.each(function(i){var o=r.getRawDataItem(i);o&&o.selected&&n.push(i)}),n.length>0&&this._innerSelect(r,n)}},t.registerClass=function(r){return tt.registerClass(r)},t.protoInitialize=function(){var r=t.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),t}(tt);ar(Tt,iS);ar(Tt,oE);yU(Tt,tt);function vz(e){var t=e.name;II(e)||(e.name=uge(e)||t)}function uge(e){var t=e.getRawData(),r=t.mapDimensionsAll("seriesName"),n=[];return F(r,function(i){var o=t.getDimensionInfo(i);o.displayName&&n.push(o.displayName)}),n.join(" ")}function cge(e){return e.model.getRawData().count()}function dge(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),hge}function hge(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function mz(e,t){F(Wh(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(r){e.wrapMethod(r,je(fge,t))})}function fge(e,t){var r=KP(e);return r&&r.setOutputEnd((t||this).count()),t}function KP(e){var t=(e.ecModel||{}).scheduler,r=t&&t.getPipeline(e.uid);if(r){var n=r.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(e.uid))}return n}}var zt=function(){function e(){this.group=new Ne,this.uid=xf("viewComponent")}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,i){},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,i){},e.prototype.updateLayout=function(t,r,n,i){},e.prototype.updateVisual=function(t,r,n,i){},e.prototype.toggleBlurSeries=function(t,r,n){},e.prototype.eachRendered=function(t){var r=this.group;r&&r.traverse(t)},e}();MI(zt);Hb(zt);function Pf(){var e=ft();return function(t){var r=e(t),n=t.pipelineContext,i=!!r.large,o=!!r.progressiveRender,a=r.large=!!(n&&n.large),s=r.progressiveRender=!!(n&&n.progressiveRender);return(i!==a||o!==s)&&"reset"}}var K8=ft(),pge=Pf(),bt=function(){function e(){this.group=new Ne,this.uid=xf("viewChart"),this.renderTask=Wg({plan:gge,reset:vge}),this.renderTask.context={view:this}}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,i){},e.prototype.highlight=function(t,r,n,i){var o=t.getData(i&&i.dataType);o&&Cz(o,i,"emphasis")},e.prototype.downplay=function(t,r,n,i){var o=t.getData(i&&i.dataType);o&&Cz(o,i,"normal")},e.prototype.remove=function(t,r){this.group.removeAll()},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.updateLayout=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.updateVisual=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.eachRendered=function(t){Jl(this.group,t)},e.markUpdateMethod=function(t,r){K8(t).updateMethod=r},e.protoInitialize=function(){var t=e.prototype;t.type="chart"}(),e}();function yz(e,t,r){e&&mv(e)&&(t==="emphasis"?_s:Ts)(e,r)}function Cz(e,t,r){var n=Ic(e,t),i=t&&t.highlightKey!=null?Jhe(t.highlightKey):null;n!=null?F(_t(n),function(o){yz(e.getItemGraphicEl(o),r,i)}):e.eachItemGraphicEl(function(o){yz(o,r,i)})}MI(bt);Hb(bt);function gge(e){return pge(e.model)}function vge(e){var t=e.model,r=e.ecModel,n=e.api,i=e.payload,o=t.pipelineContext.progressiveRender,a=e.view,s=i&&K8(i).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return l!=="render"&&a[l](t,r,n,i),mge[l]}var mge={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},y0="\0__throttleOriginMethod",wz="\0__throttleRate",bz="\0__throttleType";function aS(e,t,r){var n,i=0,o=0,a=null,s,l,u,c;t=t||0;function d(){o=new Date().getTime(),a=null,e.apply(l,u||[])}var h=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];n=new Date().getTime(),l=this,u=f;var m=c||t,y=c||r;c=null,s=n-(y?i:o)-m,clearTimeout(a),y?a=setTimeout(d,m):s>=0?d():a=setTimeout(d,-s),i=n};return h.clear=function(){a&&(clearTimeout(a),a=null)},h.debounceNextCall=function(f){c=f},h}function Df(e,t,r,n){var i=e[t];if(i){var o=i[y0]||i,a=i[bz],s=i[wz];if(s!==r||a!==n){if(r==null||!n)return e[t]=o;i=e[t]=aS(o,r,n==="debounce"),i[y0]=o,i[bz]=n,i[wz]=r}return i}}function Sv(e,t){var r=e[t];r&&r[y0]&&(r.clear&&r.clear(),e[t]=r[y0])}var Sz=ft(),xz={itemStyle:Ec(n8,!0),lineStyle:Ec(r8,!0)},yge={lineStyle:"stroke",itemStyle:"fill"};function X8(e,t){var r=e.visualStyleMapper||xz[t];return r||(console.warn("Unknown style type '"+t+"'."),xz.itemStyle)}function q8(e,t){var r=e.visualDrawType||yge[t];return r||(console.warn("Unknown style type '"+t+"'."),"fill")}var Cge={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",i=e.getModel(n),o=X8(e,n),a=o(i),s=i.getShallow("decal");s&&(r.setVisual("decal",s),s.dirty=!0);var l=q8(e,n),u=a[l],c=Ie(u)?u:null,d=a.fill==="auto"||a.stroke==="auto";if(!a[l]||c||d){var h=e.getColorFromPalette(e.name,null,t.getSeriesCount());a[l]||(a[l]=h,r.setVisual("colorFromPalette",!0)),a.fill=a.fill==="auto"||Ie(a.fill)?h:a.fill,a.stroke=a.stroke==="auto"||Ie(a.stroke)?h:a.stroke}if(r.setVisual("style",a),r.setVisual("drawType",l),!t.isSeriesFiltered(e)&&c)return r.setVisual("colorFromPalette",!1),{dataEach:function(f,g){var m=e.getDataParams(g),y=ie({},a);y[l]=c(m),f.setItemVisual(g,"style",y)}}}},Gp=new yt,wge={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",i=X8(e,n),o=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(a,s){var l=a.getRawDataItem(s);if(l&&l[n]){Gp.option=l[n];var u=i(Gp),c=a.ensureUniqueItemVisual(s,"style");ie(c,u),Gp.option.decal&&(a.setItemVisual(s,"decal",Gp.option.decal),Gp.option.decal.dirty=!0),o in u&&a.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},bge={performRawSeries:!0,overallReset:function(e){var t=Pe();e.eachSeries(function(r){var n=r.getColorBy();if(!r.isColorBySeries()){var i=r.type+"-"+n,o=t.get(i);o||(o={},t.set(i,o)),Sz(r).scope=o}}),e.eachSeries(function(r){if(!(r.isColorBySeries()||e.isSeriesFiltered(r))){var n=r.getRawData(),i={},o=r.getData(),a=Sz(r).scope,s=r.visualStyleAccessPath||"itemStyle",l=q8(r,s);o.each(function(u){var c=o.getRawIndex(u);i[c]=u}),n.each(function(u){var c=i[u],d=o.getItemVisual(c,"colorFromPalette");if(d){var h=o.ensureUniqueItemVisual(c,"style"),f=n.getName(u)||u+"",g=n.count();h[l]=r.getColorFromPalette(f,a,g)}})}})}},vC=Math.PI;function Sge(e,t){t=t||{},Ee(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Ne,n=new ht({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});r.add(n);var i=new dt({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),o=new ht({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});r.add(o);var a;return t.showSpinner&&(a=new cm({shape:{startAngle:-vC/2,endAngle:-vC/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),a.animateShape(!0).when(1e3,{endAngle:vC*3/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:vC*3/2}).delay(300).start("circularInOut"),r.add(a)),r.resize=function(){var s=i.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(e.getWidth()-l*2-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),c=e.getHeight()/2;t.showSpinner&&a.setShape({cx:u,cy:c}),o.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},r.resize(),r}var Z8=function(){function e(t,r,n,i){this._stageTaskMap=Pe(),this.ecInstance=t,this.api=r,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return e.prototype.restoreData=function(t,r){t.restoreData(r),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},e.prototype.getPerformArgs=function(t,r){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,o=!r&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex,a=o?n.step:null,s=i&&i.modDataCount,l=s!=null?Math.ceil(s/a):null;return{step:a,modBy:l,modDataCount:s}}},e.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},e.prototype.updateStreamModes=function(t,r){var n=this._pipelineMap.get(t.uid),i=t.getData(),o=i.count(),a=n.progressiveEnabled&&r.incrementalPrepareRender&&o>=n.threshold,s=t.get("large")&&o>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?o:null;t.pipelineContext=n.context={progressiveRender:a,modDataCount:l,large:s}},e.prototype.restorePipelines=function(t){var r=this,n=r._pipelineMap=Pe();t.eachSeries(function(i){var o=i.getProgressive(),a=i.uid;n.set(a,{id:a,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:o&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),r._pipe(i,i.dataTask)})},e.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,r=this.api.getModel(),n=this.api;F(this._allHandlers,function(i){var o=t.get(i.uid)||t.set(i.uid,{}),a="";Cn(!(i.reset&&i.overallReset),a),i.reset&&this._createSeriesStageTask(i,o,r,n),i.overallReset&&this._createOverallStageTask(i,o,r,n)},this)},e.prototype.prepareView=function(t,r,n,i){var o=t.renderTask,a=o.context;a.model=r,a.ecModel=n,a.api=i,o.__block=!t.incrementalPrepareRender,this._pipe(r,o)},e.prototype.performDataProcessorTasks=function(t,r){this._performStageTasks(this._dataProcessorHandlers,t,r,{block:!0})},e.prototype.performVisualTasks=function(t,r,n){this._performStageTasks(this._visualHandlers,t,r,n)},e.prototype._performStageTasks=function(t,r,n,i){i=i||{};var o=!1,a=this;F(t,function(l,u){if(!(i.visualType&&i.visualType!==l.visualType)){var c=a._stageTaskMap.get(l.uid),d=c.seriesTaskMap,h=c.overallTask;if(h){var f,g=h.agentStubMap;g.each(function(y){s(i,y)&&(y.dirty(),f=!0)}),f&&h.dirty(),a.updatePayload(h,n);var m=a.getPerformArgs(h,i.block);g.each(function(y){y.perform(m)}),h.perform(m)&&(o=!0)}else d&&d.each(function(y,C){s(i,y)&&y.dirty();var w=a.getPerformArgs(y,i.block);w.skip=!l.performRawSeries&&r.isSeriesFiltered(y.context.model),a.updatePayload(y,n),y.perform(w)&&(o=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=o||this.unfinished},e.prototype.performSeriesTasks=function(t){var r;t.eachSeries(function(n){r=n.dataTask.perform()||r}),this.unfinished=r||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(t){var r=t.tail;do{if(r.__block){t.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},e.prototype.updatePayload=function(t,r){r!=="remain"&&(t.context.payload=r)},e.prototype._createSeriesStageTask=function(t,r,n,i){var o=this,a=r.seriesTaskMap,s=r.seriesTaskMap=Pe(),l=t.seriesType,u=t.getTargetSeries;t.createOnAllSeries?n.eachRawSeries(c):l?n.eachRawSeriesByType(l,c):u&&u(n,i).each(c);function c(d){var h=d.uid,f=s.set(h,a&&a.get(h)||Wg({plan:Pge,reset:Dge,count:Ige}));f.context={model:d,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(d,f)}},e.prototype._createOverallStageTask=function(t,r,n,i){var o=this,a=r.overallTask=r.overallTask||Wg({reset:xge});a.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:o};var s=a.agentStubMap,l=a.agentStubMap=Pe(),u=t.seriesType,c=t.getTargetSeries,d=!0,h=!1,f="";Cn(!t.createOnAllSeries,f),u?n.eachRawSeriesByType(u,g):c?c(n,i).each(g):(d=!1,F(n.getSeries(),g));function g(m){var y=m.uid,C=l.set(y,s&&s.get(y)||(h=!0,Wg({reset:Rge,onDirty:Tge})));C.context={model:m,overallProgress:d},C.agent=a,C.__block=d,o._pipe(m,C)}h&&a.dirty()},e.prototype._pipe=function(t,r){var n=t.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i},e.wrapStageHandler=function(t,r){return Ie(t)&&(t={overallReset:t,seriesType:Ege(t)}),t.uid=xf("stageHandler"),r&&(t.visualType=r),t},e}();function xge(e){e.overallReset(e.ecModel,e.api,e.payload)}function Rge(e){return e.overallProgress&&_ge}function _ge(){this.agent.dirty(),this.getDownstream().dirty()}function Tge(){this.agent&&this.agent.dirty()}function Pge(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function Dge(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=_t(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?le(t,function(r,n){return Q8(n)}):Age}var Age=Q8(0);function Q8(e){return function(t,r){var n=r.data,i=r.resetDefines[e];if(i&&i.dataEach)for(var o=t.start;o<t.end;o++)i.dataEach(n,o);else i&&i.progress&&i.progress(t,n)}}function Ige(e){return e.data.count()}function Ege(e){C0=null;try{e(xv,J8)}catch{}return C0}var xv={},J8={},C0;e7(xv,aE);e7(J8,R8);xv.eachSeriesByType=xv.eachRawSeriesByType=function(e){C0=e};xv.eachComponent=function(e){e.mainType==="series"&&e.subType&&(C0=e.subType)};function e7(e,t){for(var r in t.prototype)e[r]=ir}var Rz=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const Mge={color:Rz,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Rz]};var hn="#B9B8CE",_z="#100C2A",mC=function(){return{axisLine:{lineStyle:{color:hn}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Tz=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],t7={darkMode:!0,color:Tz,backgroundColor:_z,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:hn},pageTextStyle:{color:hn}},textStyle:{color:hn},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:hn}},dataZoom:{borderColor:"#71708A",textStyle:{color:hn},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:hn}},timeline:{lineStyle:{color:hn},label:{color:hn},controlStyle:{color:hn,borderColor:hn}},calendar:{itemStyle:{color:_z},dayLabel:{color:hn},monthLabel:{color:hn},yearLabel:{color:hn}},timeAxis:mC(),logAxis:mC(),valueAxis:mC(),categoryAxis:mC(),line:{symbol:"circle"},graph:{color:Tz},gauge:{title:{color:hn},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:hn},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};t7.categoryAxis.splitLine.show=!1;var kge=function(){function e(){}return e.prototype.normalizeQuery=function(t){var r={},n={},i={};if(we(t)){var o=ga(t);r.mainType=o.main||null,r.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};F(t,function(l,u){for(var c=!1,d=0;d<a.length;d++){var h=a[d],f=u.lastIndexOf(h);if(f>0&&f===u.length-h.length){var g=u.slice(0,f);g!=="data"&&(r.mainType=g,r[h.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(n[u]=l,c=!0),c||(i[u]=l)})}return{cptQuery:r,dataQuery:n,otherQuery:i}},e.prototype.filter=function(t,r){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,o=n.packedEvent,a=n.model,s=n.view;if(!a||!s)return!0;var l=r.cptQuery,u=r.dataQuery;return c(l,a,"mainType")&&c(l,a,"subType")&&c(l,a,"index","componentIndex")&&c(l,a,"name")&&c(l,a,"id")&&c(u,o,"name")&&c(u,o,"dataIndex")&&c(u,o,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,r.otherQuery,i,o));function c(d,h,f,g){return d[f]==null||h[g||f]===d[f]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),XP=["symbol","symbolSize","symbolRotate","symbolOffset"],Pz=XP.concat(["symbolKeepAspect"]),Fge={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData();if(e.legendIcon&&r.setVisual("legendIcon",e.legendIcon),!e.hasSymbolVisual)return;for(var n={},i={},o=!1,a=0;a<XP.length;a++){var s=XP[a],l=e.get(s);Ie(l)?(o=!0,i[s]=l):n[s]=l}if(n.symbol=n.symbol||e.defaultSymbol,r.setVisual(ie({legendIcon:e.legendIcon||n.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},n)),t.isSeriesFiltered(e))return;var u=at(i);function c(d,h){for(var f=e.getRawValue(h),g=e.getDataParams(h),m=0;m<u.length;m++){var y=u[m];d.setItemVisual(h,y,i[y](f,g))}}return{dataEach:o?c:null}}},Lge={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual||t.isSeriesFiltered(e))return;var r=e.getData();function n(i,o){for(var a=i.getItemModel(o),s=0;s<Pz.length;s++){var l=Pz[s],u=a.getShallow(l,!0);u!=null&&i.setItemVisual(o,l,u)}}return{dataEach:r.hasItemOption?n:null}}};function dE(e,t,r){switch(r){case"color":var n=e.getItemVisual(t,"style");return n[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,r)}}function pm(e,t){switch(t){case"color":var r=e.getVisual("style");return r[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function r7(e,t,r,n){switch(r){case"color":var i=e.ensureUniqueItemVisual(t,"style");i[e.getVisual("drawType")]=n,e.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,r,n);break}}function n7(e,t){function r(n,i){var o=[];return n.eachComponent({mainType:"series",subType:e,query:i},function(a){o.push(a.seriesIndex)}),o}F([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],function(n){t(n[0],function(i,o,a){i=ie({},i),a.dispatchAction(ie(i,{type:n[1],seriesIndex:r(o,i)}))})})}function jd(e,t,r,n,i){var o=e+t;r.isSilent(o)||n.eachComponent({mainType:"series",subType:"pie"},function(a){for(var s=a.seriesIndex,l=a.option.selectedMap,u=i.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var d=a.getData(),h=Ic(d,i.fromActionPayload);r.trigger(o,{type:o,seriesId:a.id,name:se(h)?d.getName(h[0]):d.getName(h),selected:we(l)?l:ie({},l)})}})}function Oge(e,t,r){e.on("selectchanged",function(n){var i=r.getModel();n.isFromClick?(jd("map","selectchanged",t,i,n),jd("pie","selectchanged",t,i,n)):n.fromAction==="select"?(jd("map","selected",t,i,n),jd("pie","selected",t,i,n)):n.fromAction==="unselect"&&(jd("map","unselected",t,i,n),jd("pie","unselected",t,i,n))})}function lc(e,t,r){for(var n;e&&!(t(e)&&(n=e,r));)e=e.__hostTarget||e.parent;return n}var Nge=Math.round(Math.random()*9),zge=typeof Object.defineProperty=="function",Bge=function(){function e(){this._id="__ec_inner_"+Nge++}return e.prototype.get=function(t){return this._guard(t)[this._id]},e.prototype.set=function(t,r){var n=this._guard(t);return zge?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},e.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},e.prototype.has=function(t){return!!this._guard(t)[this._id]},e.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},e}(),Vge=nt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,i=t.width/2,o=t.height/2;e.moveTo(r,n-o),e.lineTo(r+i,n+o),e.lineTo(r-i,n+o),e.closePath()}}),Gge=nt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,i=t.width/2,o=t.height/2;e.moveTo(r,n-o),e.lineTo(r+i,n),e.lineTo(r,n+o),e.lineTo(r-i,n),e.closePath()}}),Hge=nt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.x,n=t.y,i=t.width/5*3,o=Math.max(i,t.height),a=i/2,s=a*a/(o-a),l=n-o+a+s,u=Math.asin(s/a),c=Math.cos(u)*a,d=Math.sin(u),h=Math.cos(u),f=a*.6,g=a*.7;e.moveTo(r-c,l+s),e.arc(r,l,a,Math.PI-u,Math.PI*2+u),e.bezierCurveTo(r+c-d*f,l+s+h*f,r,n-g,r,n),e.bezierCurveTo(r,n-g,r-c+d*f,l+s+h*f,r-c,l+s),e.closePath()}}),Wge=nt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.height,n=t.width,i=t.x,o=t.y,a=n/3*2;e.moveTo(i,o),e.lineTo(i+a,o+r),e.lineTo(i,o+r/4*3),e.lineTo(i-a,o+r),e.lineTo(i,o),e.closePath()}}),$ge={line:Rr,rect:ht,roundRect:ht,square:ht,circle:La,diamond:Gge,pin:Hge,arrow:Wge,triangle:Vge},Uge={line:function(e,t,r,n,i){i.x1=e,i.y1=t+n/2,i.x2=e+r,i.y2=t+n/2},rect:function(e,t,r,n,i){i.x=e,i.y=t,i.width=r,i.height=n},roundRect:function(e,t,r,n,i){i.x=e,i.y=t,i.width=r,i.height=n,i.r=Math.min(r,n)/4},square:function(e,t,r,n,i){var o=Math.min(r,n);i.x=e,i.y=t,i.width=o,i.height=o},circle:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.r=Math.min(r,n)/2},diamond:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.width=r,i.height=n},pin:function(e,t,r,n,i){i.x=e+r/2,i.y=t+n/2,i.width=r,i.height=n},arrow:function(e,t,r,n,i){i.x=e+r/2,i.y=t+n/2,i.width=r,i.height=n},triangle:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.width=r,i.height=n}},w0={};F($ge,function(e,t){w0[t]=new e});var jge=nt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,r){var n=u0(e,t,r),i=this.shape;return i&&i.symbolType==="pin"&&t.position==="inside"&&(n.y=r.y+r.height*.4),n},buildPath:function(e,t,r){var n=t.symbolType;if(n!=="none"){var i=w0[n];i||(n="rect",i=w0[n]),Uge[n](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,r)}}});function Yge(e,t){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=e,r.fill=t||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=e:r.fill=e,this.markRedraw()}}function hr(e,t,r,n,i,o,a){var s=e.indexOf("empty")===0;s&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var l;return e.indexOf("image://")===0?l=WI(e.slice(8),new qe(t,r,n,i),a?"center":"cover"):e.indexOf("path://")===0?l=dm(e.slice(7),{},new qe(t,r,n,i),a?"center":"cover"):l=new jge({shape:{symbolType:e,x:t,y:r,width:n,height:i}}),l.__isEmptyBrush=s,l.setColor=Yge,o&&l.setColor(o),l}function Af(e){return se(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function Xc(e,t){if(e!=null)return se(e)||(e=[e,e]),[me(e[0],t[0])||0,me(Ue(e[1],e[0]),t[1])||0]}function uc(e){return isFinite(e)}function Kge(e,t,r){var n=t.x==null?0:t.x,i=t.x2==null?1:t.x2,o=t.y==null?0:t.y,a=t.y2==null?0:t.y2;t.global||(n=n*r.width+r.x,i=i*r.width+r.x,o=o*r.height+r.y,a=a*r.height+r.y),n=uc(n)?n:0,i=uc(i)?i:1,o=uc(o)?o:0,a=uc(a)?a:0;var s=e.createLinearGradient(n,o,i,a);return s}function Xge(e,t,r){var n=r.width,i=r.height,o=Math.min(n,i),a=t.x==null?.5:t.x,s=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(a=a*n+r.x,s=s*i+r.y,l=l*o),a=uc(a)?a:.5,s=uc(s)?s:.5,l=l>=0&&uc(l)?l:.5;var u=e.createRadialGradient(a,s,0,a,s,l);return u}function qP(e,t,r){for(var n=t.type==="radial"?Xge(e,t,r):Kge(e,t,r),i=t.colorStops,o=0;o<i.length;o++)n.addColorStop(i[o].offset,i[o].color);return n}function qge(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}function yC(e){return parseInt(e,10)}function gh(e,t,r){var n=["width","height"][t],i=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(r[n]!=null&&r[n]!=="auto")return parseFloat(r[n]);var s=document.defaultView.getComputedStyle(e);return(e[i]||yC(s[n])||yC(e.style[n]))-(yC(s[o])||0)-(yC(s[a])||0)|0}function Zge(e,t){return!e||e==="solid"||!(t>0)?null:e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:pt(e)?[e]:se(e)?e:null}function hE(e){var t=e.style,r=t.lineDash&&t.lineWidth>0&&Zge(t.lineDash,t.lineWidth),n=t.lineDashOffset;if(r){var i=t.strokeNoScale&&e.getLineScale?e.getLineScale():1;i&&i!==1&&(r=le(r,function(o){return o/i}),n/=i)}return[r,n]}var Qge=new Ea(!0);function b0(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function Dz(e){return typeof e=="string"&&e!=="none"}function S0(e){var t=e.fill;return t!=null&&t!=="none"}function Az(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=r}else e.fill()}function Iz(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=r}else e.stroke()}function ZP(e,t,r){var n=kI(t.image,t.__image,r);if(Wb(n)){var i=e.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*Eg),o.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(o)}return i}}function Jge(e,t,r,n){var i,o=b0(r),a=S0(r),s=r.strokePercent,l=s<1,u=!t.path;(!t.silent||l)&&u&&t.createPathProxy();var c=t.path||Qge,d=t.__dirty;if(!n){var h=r.fill,f=r.stroke,g=a&&!!h.colorStops,m=o&&!!f.colorStops,y=a&&!!h.image,C=o&&!!f.image,w=void 0,S=void 0,x=void 0,R=void 0,T=void 0;(g||m)&&(T=t.getBoundingRect()),g&&(w=d?qP(e,h,T):t.__canvasFillGradient,t.__canvasFillGradient=w),m&&(S=d?qP(e,f,T):t.__canvasStrokeGradient,t.__canvasStrokeGradient=S),y&&(x=d||!t.__canvasFillPattern?ZP(e,h,t):t.__canvasFillPattern,t.__canvasFillPattern=x),C&&(R=d||!t.__canvasStrokePattern?ZP(e,f,t):t.__canvasStrokePattern,t.__canvasStrokePattern=x),g?e.fillStyle=w:y&&(x?e.fillStyle=x:a=!1),m?e.strokeStyle=S:C&&(R?e.strokeStyle=R:o=!1)}var P=t.getGlobalScale();c.setScale(P[0],P[1],t.segmentIgnoreThreshold);var D,I;e.setLineDash&&r.lineDash&&(i=hE(t),D=i[0],I=i[1]);var E=!0;(u||d&pg)&&(c.setDPR(e.dpr),l?c.setContext(null):(c.setContext(e),E=!1),c.reset(),t.buildPath(c,t.shape,n),c.toStatic(),t.pathUpdated()),E&&c.rebuildPath(e,l?s:1),D&&(e.setLineDash(D),e.lineDashOffset=I),n||(r.strokeFirst?(o&&Iz(e,r),a&&Az(e,r)):(a&&Az(e,r),o&&Iz(e,r))),D&&e.setLineDash([])}function eve(e,t,r){var n=t.__image=kI(r.image,t.__image,t,t.onload);if(!(!n||!Wb(n))){var i=r.x||0,o=r.y||0,a=t.getWidth(),s=t.getHeight(),l=n.width/n.height;if(a==null&&s!=null?a=s*l:s==null&&a!=null?s=a/l:a==null&&s==null&&(a=n.width,s=n.height),r.sWidth&&r.sHeight){var u=r.sx||0,c=r.sy||0;e.drawImage(n,u,c,r.sWidth,r.sHeight,i,o,a,s)}else if(r.sx&&r.sy){var u=r.sx,c=r.sy,d=a-u,h=s-c;e.drawImage(n,u,c,d,h,i,o,a,s)}else e.drawImage(n,i,o,a,s)}}function tve(e,t,r){var n,i=r.text;if(i!=null&&(i+=""),i){e.font=r.font||Wl,e.textAlign=r.textAlign,e.textBaseline=r.textBaseline;var o=void 0,a=void 0;e.setLineDash&&r.lineDash&&(n=hE(t),o=n[0],a=n[1]),o&&(e.setLineDash(o),e.lineDashOffset=a),r.strokeFirst?(b0(r)&&e.strokeText(i,r.x,r.y),S0(r)&&e.fillText(i,r.x,r.y)):(S0(r)&&e.fillText(i,r.x,r.y),b0(r)&&e.strokeText(i,r.x,r.y)),o&&e.setLineDash([])}}var Ez=["shadowBlur","shadowOffsetX","shadowOffsetY"],Mz=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function i7(e,t,r,n,i){var o=!1;if(!n&&(r=r||{},t===r))return!1;if(n||t.opacity!==r.opacity){ni(e,i),o=!0;var a=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(a)?pc.opacity:a}(n||t.blend!==r.blend)&&(o||(ni(e,i),o=!0),e.globalCompositeOperation=t.blend||pc.blend);for(var s=0;s<Ez.length;s++){var l=Ez[s];(n||t[l]!==r[l])&&(o||(ni(e,i),o=!0),e[l]=e.dpr*(t[l]||0))}return(n||t.shadowColor!==r.shadowColor)&&(o||(ni(e,i),o=!0),e.shadowColor=t.shadowColor||pc.shadowColor),o}function kz(e,t,r,n,i){var o=Rv(t,i.inHover),a=n?null:r&&Rv(r,i.inHover)||{};if(o===a)return!1;var s=i7(e,o,a,n,i);if((n||o.fill!==a.fill)&&(s||(ni(e,i),s=!0),Dz(o.fill)&&(e.fillStyle=o.fill)),(n||o.stroke!==a.stroke)&&(s||(ni(e,i),s=!0),Dz(o.stroke)&&(e.strokeStyle=o.stroke)),(n||o.opacity!==a.opacity)&&(s||(ni(e,i),s=!0),e.globalAlpha=o.opacity==null?1:o.opacity),t.hasStroke()){var l=o.lineWidth,u=l/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==u&&(s||(ni(e,i),s=!0),e.lineWidth=u)}for(var c=0;c<Mz.length;c++){var d=Mz[c],h=d[0];(n||o[h]!==a[h])&&(s||(ni(e,i),s=!0),e[h]=o[h]||d[1])}return s}function rve(e,t,r,n,i){return i7(e,Rv(t,i.inHover),r&&Rv(r,i.inHover),n,i)}function o7(e,t){var r=t.transform,n=e.dpr||1;r?e.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):e.setTransform(n,0,0,n,0,0)}function nve(e,t,r){for(var n=!1,i=0;i<e.length;i++){var o=e[i];n=n||o.isZeroArea(),o7(t,o),t.beginPath(),o.buildPath(t,o.shape),t.clip()}r.allClipped=n}function ive(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var Fz=1,Lz=2,Oz=3,Nz=4;function ove(e){var t=S0(e),r=b0(e);return!(e.lineDash||!(+t^+r)||t&&typeof e.fill!="string"||r&&typeof e.stroke!="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function ni(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function Rv(e,t){return t&&e.__hoverStyle||e.style}function fE(e,t){cc(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function cc(e,t,r,n){var i=t.transform;if(!t.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){t.__dirty&=-2,t.__isRendered=!1;return}var o=t.__clipPaths,a=r.prevElClipPaths,s=!1,l=!1;if((!a||qge(o,a))&&(a&&a.length&&(ni(e,r),e.restore(),l=s=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),o&&o.length&&(ni(e,r),e.save(),nve(o,e,r),s=!0),r.prevElClipPaths=o),r.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=r.prevEl;u||(l=s=!0);var c=t instanceof nt&&t.autoBatch&&ove(t.style);s||ive(i,u.transform)?(ni(e,r),o7(e,t)):c||ni(e,r);var d=Rv(t,r.inHover);t instanceof nt?(r.lastDrawType!==Fz&&(l=!0,r.lastDrawType=Fz),kz(e,t,u,l,r),(!c||!r.batchFill&&!r.batchStroke)&&e.beginPath(),Jge(e,t,d,c),c&&(r.batchFill=d.fill||"",r.batchStroke=d.stroke||"")):t instanceof Uh?(r.lastDrawType!==Oz&&(l=!0,r.lastDrawType=Oz),kz(e,t,u,l,r),tve(e,t,d)):t instanceof Lr?(r.lastDrawType!==Lz&&(l=!0,r.lastDrawType=Lz),rve(e,t,u,l,r),eve(e,t,d)):t.getTemporalDisplayables&&(r.lastDrawType!==Nz&&(l=!0,r.lastDrawType=Nz),ave(e,t,r)),c&&n&&ni(e,r),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),r.prevEl=t,t.__dirty=0,t.__isRendered=!0}function ave(e,t,r){var n=t.getDisplayables(),i=t.getTemporalDisplayables();e.save();var o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},a,s;for(a=t.getCursor(),s=n.length;a<s;a++){var l=n[a];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),cc(e,l,o,a===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l}for(var u=0,c=i.length;u<c;u++){var l=i[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),cc(e,l,o,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var ER=new Bge,zz=new om(100),Bz=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Kh(e,t){if(e==="none")return null;var r=t.getDevicePixelRatio(),n=t.getZr(),i=n.painter.type==="svg";e.dirty&&ER.delete(e);var o=ER.get(e);if(o)return o;var a=Ee(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});a.backgroundColor==="none"&&(a.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=a.rotation,s.scaleX=s.scaleY=i?1:1/r,ER.set(e,s),e.dirty=!1,s;function l(u){for(var c=[r],d=!0,h=0;h<Bz.length;++h){var f=a[Bz[h]];if(f!=null&&!se(f)&&!we(f)&&!pt(f)&&typeof f!="boolean"){d=!1;break}c.push(f)}var g;if(d){g=c.join(",")+(i?"-svg":"");var m=zz.get(g);m&&(i?u.svgElement=m:u.image=m)}var y=s7(a.dashArrayX),C=sve(a.dashArrayY),w=a7(a.symbol),S=lve(y),x=l7(C),R=!i&&No.createCanvas(),T=i&&{tag:"g",attrs:{},key:"dcl",children:[]},P=I(),D;R&&(R.width=P.width*r,R.height=P.height*r,D=R.getContext("2d")),E(),d&&zz.put(g,R||T),u.image=R,u.svgElement=T,u.svgWidth=P.width,u.svgHeight=P.height;function I(){for(var k=1,L=0,N=S.length;L<N;++L)k=rN(k,S[L]);for(var B=1,L=0,N=w.length;L<N;++L)B=rN(B,w[L].length);k*=B;var V=x*S.length*w.length;return{width:Math.max(1,Math.min(k,a.maxTileWidth)),height:Math.max(1,Math.min(V,a.maxTileHeight))}}function E(){D&&(D.clearRect(0,0,R.width,R.height),a.backgroundColor&&(D.fillStyle=a.backgroundColor,D.fillRect(0,0,R.width,R.height)));for(var k=0,L=0;L<C.length;++L)k+=C[L];if(k<=0)return;for(var N=-x,B=0,V=0,W=0;N<P.height;){if(B%2===0){for(var j=V/2%w.length,G=0,$=0,K=0;G<P.width*2;){for(var H=0,L=0;L<y[W].length;++L)H+=y[W][L];if(H<=0)break;if($%2===0){var U=(1-a.symbolSize)*.5,ne=G+y[W][$]*U,oe=N+C[B]*U,he=y[W][$]*a.symbolSize,xe=C[B]*a.symbolSize,Be=K/2%w[j].length;ee(ne,oe,he,xe,w[j][Be])}G+=y[W][$],++K,++$,$===y[W].length&&($=0)}++W,W===y.length&&(W=0)}N+=C[B],++V,++B,B===C.length&&(B=0)}function ee(Z,fe,de,pe,Ae){var Oe=i?1:r,Ge=hr(Ae,Z*Oe,fe*Oe,de*Oe,pe*Oe,a.color,a.symbolKeepAspect);if(i){var st=n.painter.renderOneToVNode(Ge);st&&T.children.push(st)}else fE(D,Ge)}}}}function a7(e){if(!e||e.length===0)return[["rect"]];if(we(e))return[[e]];for(var t=!0,r=0;r<e.length;++r)if(!we(e[r])){t=!1;break}if(t)return a7([e]);for(var n=[],r=0;r<e.length;++r)we(e[r])?n.push([e[r]]):n.push(e[r]);return n}function s7(e){if(!e||e.length===0)return[[0,0]];if(pt(e)){var t=Math.ceil(e);return[[t,t]]}for(var r=!0,n=0;n<e.length;++n)if(!pt(e[n])){r=!1;break}if(r)return s7([e]);for(var i=[],n=0;n<e.length;++n)if(pt(e[n])){var t=Math.ceil(e[n]);i.push([t,t])}else{var t=le(e[n],function(s){return Math.ceil(s)});t.length%2===1?i.push(t.concat(t)):i.push(t)}return i}function sve(e){if(!e||typeof e=="object"&&e.length===0)return[0,0];if(pt(e)){var t=Math.ceil(e);return[t,t]}var r=le(e,function(n){return Math.ceil(n)});return e.length%2?r.concat(r):r}function lve(e){return le(e,function(t){return l7(t)})}function l7(e){for(var t=0,r=0;r<e.length;++r)t+=e[r];return e.length%2===1?t*2:t}function uve(e,t){e.eachRawSeries(function(r){if(!e.isSeriesFiltered(r)){var n=r.getData();n.hasItemVisual()&&n.each(function(a){var s=n.getItemVisual(a,"decal");if(s){var l=n.ensureUniqueItemVisual(a,"style");l.decal=Kh(s,t)}});var i=n.getVisual("decal");if(i){var o=n.getVisual("style");o.decal=Kh(i,t)}}})}var xo=new oo,u7={};function cve(e,t){u7[e]=t}function c7(e){return u7[e]}var dve="5.6.0",hve={zrender:"5.6.1"},fve=1,pve=800,gve=900,vve=1e3,mve=2e3,yve=5e3,d7=1e3,Cve=1100,pE=2e3,h7=3e3,wve=4e3,sS=4500,bve=4600,Sve=5e3,xve=6e3,f7=7e3,p7={PROCESSOR:{FILTER:vve,SERIES_FILTER:pve,STATISTIC:yve},VISUAL:{LAYOUT:d7,PROGRESSIVE_LAYOUT:Cve,GLOBAL:pE,CHART:h7,POST_CHART_LAYOUT:bve,COMPONENT:wve,BRUSH:Sve,CHART_ITEM:sS,ARIA:xve,DECAL:f7}},cn="__flagInMainProcess",Zn="__pendingUpdate",MR="__needsUpdateStatus",Vz=/^[a-zA-Z0-9_]+$/,kR="__connectUpdateStatus",Gz=0,Rve=1,_ve=2;function g7(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.isDisposed()){this.id;return}return m7(this,e,t)}}function v7(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return m7(this,e,t)}}function m7(e,t,r){return r[0]=r[0]&&r[0].toLowerCase(),oo.prototype[t].apply(e,r)}var y7=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(oo),C7=y7.prototype;C7.on=v7("on");C7.off=v7("off");var Yd,FR,CC,sl,LR,OR,NR,Hp,Wp,Hz,Wz,zR,$z,wC,Uz,w7,Fi,jz,x0=function(e){q(t,e);function t(r,n,i){var o=e.call(this,new kge)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],i=i||{},we(n)&&(n=b7[n]),o._dom=r;var a="canvas",s="auto",l=!1;i.ssr&&iU(function(h){var f=Ve(h),g=f.dataIndex;if(g!=null){var m=Pe();return m.set("series_index",f.seriesIndex),m.set("data_index",g),f.ssrType&&m.set("ssr_type",f.ssrType),m}});var u=o._zr=RP(r,{renderer:i.renderer||a,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Ue(i.useDirtyRect,l),useCoarsePointer:Ue(i.useCoarsePointer,s),pointerSize:i.pointerSize});o._ssr=i.ssr,o._throttledZrFlush=aS(Se(u.flush,u),17),n=Fe(n),n&&T8(n,!0),o._theme=n,o._locale=Hfe(i.locale||i8),o._coordSysMgr=new Tf;var c=o._api=Uz(o);function d(h,f){return h.__prio-f.__prio}return pw(_0,d),pw(QP,d),o._scheduler=new Z8(o,c,QP,_0),o._messageCenter=new y7,o._initEvents(),o.resize=Se(o.resize,o),u.animation.on("frame",o._onframe,o),Hz(u,o),Wz(u,o),lv(o),o}return t.prototype._onframe=function(){if(!this._disposed){jz(this);var r=this._scheduler;if(this[Zn]){var n=this[Zn].silent;this[cn]=!0;try{Yd(this),sl.update.call(this,null,this[Zn].updateParams)}catch(l){throw this[cn]=!1,this[Zn]=null,l}this._zr.flush(),this[cn]=!1,this[Zn]=null,Hp.call(this,n),Wp.call(this,n)}else if(r.unfinished){var i=fve,o=this._model,a=this._api;r.unfinished=!1;do{var s=+new Date;r.performSeriesTasks(o),r.performDataProcessorTasks(o),OR(this,o),r.performVisualTasks(o),wC(this,this._model,a,"remain",{}),i-=+new Date-s}while(i>0&&r.unfinished);r.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(r,n,i){if(!this[cn]){if(this._disposed){this.id;return}var o,a,s;if(ke(n)&&(i=n.lazyUpdate,o=n.silent,a=n.replaceMerge,s=n.transition,n=n.notMerge),this[cn]=!0,!this._model||n){var l=new gpe(this._api),u=this._theme,c=this._model=new aE;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(r,{replaceMerge:a},JP);var d={seriesTransition:s,optionChanged:!0};if(i)this[Zn]={silent:o,updateParams:d},this[cn]=!1,this.getZr().wakeUp();else{try{Yd(this),sl.update.call(this,null,d)}catch(h){throw this[Zn]=null,this[cn]=!1,h}this._ssr||this._zr.flush(),this[Zn]=null,this[cn]=!1,Hp.call(this,o),Wp.call(this,o)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||rt.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},t.prototype.renderToCanvas=function(r){r=r||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(r){r=r||{};var n=this._zr.painter;return n.renderToString({useViewBox:r.useViewBox})},t.prototype.getSvgDataURL=function(){if(rt.svgSupported){var r=this._zr,n=r.storage.getDisplayList();return F(n,function(i){i.stopAnimation(null,!0)}),r.painter.toDataURL()}},t.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var n=r.excludeComponents,i=this._model,o=[],a=this;F(n,function(l){i.eachComponent({mainType:l},function(u){var c=a._componentsMap[u.__viewId];c.group.ignore||(o.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return F(o,function(l){l.group.ignore=!1}),s},t.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var n=r.type==="svg",i=this.group,o=Math.min,a=Math.max,s=1/0;if(T0[i]){var l=s,u=s,c=-s,d=-s,h=[],f=r&&r.pixelRatio||this.getDevicePixelRatio();F(mc,function(S,x){if(S.group===i){var R=n?S.getZr().painter.getSvgDom().innerHTML:S.renderToCanvas(Fe(r)),T=S.getDom().getBoundingClientRect();l=o(T.left,l),u=o(T.top,u),c=a(T.right,c),d=a(T.bottom,d),h.push({dom:R,left:T.left,top:T.top})}}),l*=f,u*=f,c*=f,d*=f;var g=c-l,m=d-u,y=No.createCanvas(),C=RP(y,{renderer:n?"svg":"canvas"});if(C.resize({width:g,height:m}),n){var w="";return F(h,function(S){var x=S.left-l,R=S.top-u;w+='<g transform="translate('+x+","+R+')">'+S.dom+"</g>"}),C.painter.getSvgRoot().innerHTML=w,r.connectedBackgroundColor&&C.painter.setBackgroundColor(r.connectedBackgroundColor),C.refreshImmediately(),C.painter.toDataURL()}else return r.connectedBackgroundColor&&C.add(new ht({shape:{x:0,y:0,width:g,height:m},style:{fill:r.connectedBackgroundColor}})),F(h,function(S){var x=new Lr({style:{x:S.left*f-l,y:S.top*f-u,image:S.dom}});C.add(x)}),C.refreshImmediately(),y.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},t.prototype.convertToPixel=function(r,n){return LR(this,"convertToPixel",r,n)},t.prototype.convertFromPixel=function(r,n){return LR(this,"convertFromPixel",r,n)},t.prototype.containPixel=function(r,n){if(this._disposed){this.id;return}var i=this._model,o,a=zg(i,r);return F(a,function(s,l){l.indexOf("Models")>=0&&F(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)o=o||!!c.containPoint(n);else if(l==="seriesModels"){var d=this._chartsMap[u.__viewId];d&&d.containPoint&&(o=o||d.containPoint(n,u))}},this)},this),!!o},t.prototype.getVisual=function(r,n){var i=this._model,o=zg(i,r,{defaultMainType:"series"}),a=o.seriesModel,s=a.getData(),l=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?s.indexOfRawIndex(o.dataIndex):null;return l!=null?dE(s,l,n):pm(s,n)},t.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},t.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},t.prototype._initEvents=function(){var r=this;F(Tve,function(n){var i=function(o){var a=r.getModel(),s=o.target,l,u=n==="globalout";if(u?l={}:s&&lc(s,function(g){var m=Ve(g);if(m&&m.dataIndex!=null){var y=m.dataModel||a.getSeriesByIndex(m.seriesIndex);return l=y&&y.getDataParams(m.dataIndex,m.dataType,s)||{},!0}else if(m.eventData)return l=ie({},m.eventData),!0},!0),l){var c=l.componentType,d=l.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",d=l.seriesIndex);var h=c&&d!=null&&a.getComponent(c,d),f=h&&r[h.mainType==="series"?"_chartsMap":"_componentsMap"][h.__viewId];l.event=o,l.type=n,r._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:h,view:f},r.trigger(n,l)}};i.zrEventfulCallAtLast=!0,r._zr.on(n,i,r)}),F($g,function(n,i){r._messageCenter.on(i,function(o){this.trigger(i,o)},r)}),F(["selectchanged"],function(n){r._messageCenter.on(n,function(i){this.trigger(n,i)},r)}),Oge(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&gU(this.getDom(),vE,"");var n=this,i=n._api,o=n._model;F(n._componentsViews,function(a){a.dispose(o,i)}),F(n._chartsViews,function(a){a.dispose(o,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete mc[n.id]},t.prototype.resize=function(r){if(!this[cn]){if(this._disposed){this.id;return}this._zr.resize(r);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),o=r&&r.silent;this[Zn]&&(o==null&&(o=this[Zn].silent),i=!0,this[Zn]=null),this[cn]=!0;try{i&&Yd(this),sl.update.call(this,{type:"resize",animation:ie({duration:0},r&&r.animation)})}catch(a){throw this[cn]=!1,a}this[cn]=!1,Hp.call(this,o),Wp.call(this,o)}}},t.prototype.showLoading=function(r,n){if(this._disposed){this.id;return}if(ke(r)&&(n=r,r=""),r=r||"default",this.hideLoading(),!!eD[r]){var i=eD[r](this._api,n),o=this._zr;this._loadingFX=i,o.add(i)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(r){var n=ie({},r);return n.type=$g[r.type],n},t.prototype.dispatchAction=function(r,n){if(this._disposed){this.id;return}if(ke(n)||(n={silent:!!n}),!!R0[r.type]&&this._model){if(this[cn]){this._pendingActions.push(r);return}var i=n.silent;NR.call(this,r,i);var o=n.flush;o?this._zr.flush():o!==!1&&rt.browser.weChat&&this._throttledZrFlush(),Hp.call(this,i),Wp.call(this,i)}},t.prototype.updateLabelLayout=function(){xo.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(r){if(this._disposed){this.id;return}var n=r.seriesIndex,i=this.getModel(),o=i.getSeriesByIndex(n);o.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){Yd=function(d){var h=d._scheduler;h.restorePipelines(d._model),h.prepareStageTasks(),FR(d,!0),FR(d,!1),h.plan()},FR=function(d,h){for(var f=d._model,g=d._scheduler,m=h?d._componentsViews:d._chartsViews,y=h?d._componentsMap:d._chartsMap,C=d._zr,w=d._api,S=0;S<m.length;S++)m[S].__alive=!1;h?f.eachComponent(function(T,P){T!=="series"&&x(P)}):f.eachSeries(x);function x(T){var P=T.__requireNewView;T.__requireNewView=!1;var D="_ec_"+T.id+"_"+T.type,I=!P&&y[D];if(!I){var E=ga(T.type),k=h?zt.getClass(E.main,E.sub):bt.getClass(E.sub);I=new k,I.init(f,w),y[D]=I,m.push(I),C.add(I.group)}T.__viewId=I.__id=D,I.__alive=!0,I.__model=T,I.group.__ecComponentInfo={mainType:T.mainType,index:T.componentIndex},!h&&g.prepareView(I,T,f,w)}for(var S=0;S<m.length;){var R=m[S];R.__alive?S++:(!h&&R.renderTask.dispose(),C.remove(R.group),R.dispose(f,w),m.splice(S,1),y[R.__id]===R&&delete y[R.__id],R.__id=R.group.__ecComponentInfo=null)}},CC=function(d,h,f,g,m){var y=d._model;if(y.setUpdatePayload(f),!g){F([].concat(d._componentsViews).concat(d._chartsViews),R);return}var C={};C[g+"Id"]=f[g+"Id"],C[g+"Index"]=f[g+"Index"],C[g+"Name"]=f[g+"Name"];var w={mainType:g,query:C};m&&(w.subType=m);var S=f.excludeSeriesId,x;S!=null&&(x=Pe(),F(_t(S),function(T){var P=xr(T,null);P!=null&&x.set(P,!0)})),y&&y.eachComponent(w,function(T){var P=x&&x.get(T.id)!=null;if(!P)if(DN(f))if(T instanceof Tt)f.type===gc&&!f.notBlur&&!T.get(["emphasis","disabled"])&&Uhe(T,f,d._api);else{var D=BI(T.mainType,T.componentIndex,f.name,d._api),I=D.focusSelf,E=D.dispatchers;f.type===gc&&I&&!f.notBlur&&FP(T.mainType,T.componentIndex,d._api),E&&F(E,function(k){f.type===gc?_s(k):Ts(k)})}else OP(f)&&T instanceof Tt&&(Khe(T,f,d._api),TN(T),Fi(d))},d),y&&y.eachComponent(w,function(T){var P=x&&x.get(T.id)!=null;P||R(d[g==="series"?"_chartsMap":"_componentsMap"][T.__viewId])},d);function R(T){T&&T.__alive&&T[h]&&T[h](T.__model,y,d._api,f)}},sl={prepareAndUpdate:function(d){Yd(this),sl.update.call(this,d,{optionChanged:d.newOption!=null})},update:function(d,h){var f=this._model,g=this._api,m=this._zr,y=this._coordSysMgr,C=this._scheduler;if(f){f.setUpdatePayload(d),C.restoreData(f,d),C.performSeriesTasks(f),y.create(f,g),C.performDataProcessorTasks(f,d),OR(this,f),y.update(f,g),r(f),C.performVisualTasks(f,d),zR(this,f,g,d,h);var w=f.get("backgroundColor")||"transparent",S=f.get("darkMode");m.setBackgroundColor(w),S!=null&&S!=="auto"&&m.setDarkMode(S),xo.trigger("afterupdate",f,g)}},updateTransform:function(d){var h=this,f=this._model,g=this._api;if(f){f.setUpdatePayload(d);var m=[];f.eachComponent(function(C,w){if(C!=="series"){var S=h.getViewOfComponentModel(w);if(S&&S.__alive)if(S.updateTransform){var x=S.updateTransform(w,f,g,d);x&&x.update&&m.push(S)}else m.push(S)}});var y=Pe();f.eachSeries(function(C){var w=h._chartsMap[C.__viewId];if(w.updateTransform){var S=w.updateTransform(C,f,g,d);S&&S.update&&y.set(C.uid,1)}else y.set(C.uid,1)}),r(f),this._scheduler.performVisualTasks(f,d,{setDirty:!0,dirtyMap:y}),wC(this,f,g,d,{},y),xo.trigger("afterupdate",f,g)}},updateView:function(d){var h=this._model;h&&(h.setUpdatePayload(d),bt.markUpdateMethod(d,"updateView"),r(h),this._scheduler.performVisualTasks(h,d,{setDirty:!0}),zR(this,h,this._api,d,{}),xo.trigger("afterupdate",h,this._api))},updateVisual:function(d){var h=this,f=this._model;f&&(f.setUpdatePayload(d),f.eachSeries(function(g){g.getData().clearAllVisual()}),bt.markUpdateMethod(d,"updateVisual"),r(f),this._scheduler.performVisualTasks(f,d,{visualType:"visual",setDirty:!0}),f.eachComponent(function(g,m){if(g!=="series"){var y=h.getViewOfComponentModel(m);y&&y.__alive&&y.updateVisual(m,f,h._api,d)}}),f.eachSeries(function(g){var m=h._chartsMap[g.__viewId];m.updateVisual(g,f,h._api,d)}),xo.trigger("afterupdate",f,this._api))},updateLayout:function(d){sl.update.call(this,d)}},LR=function(d,h,f,g){if(d._disposed){d.id;return}for(var m=d._model,y=d._coordSysMgr.getCoordinateSystems(),C,w=zg(m,f),S=0;S<y.length;S++){var x=y[S];if(x[h]&&(C=x[h](m,w,g))!=null)return C}},OR=function(d,h){var f=d._chartsMap,g=d._scheduler;h.eachSeries(function(m){g.updateStreamModes(m,f[m.__viewId])})},NR=function(d,h){var f=this,g=this.getModel(),m=d.type,y=d.escapeConnect,C=R0[m],w=C.actionInfo,S=(w.update||"update").split(":"),x=S.pop(),R=S[0]!=null&&ga(S[0]);this[cn]=!0;var T=[d],P=!1;d.batch&&(P=!0,T=le(d.batch,function(B){return B=Ee(ie({},B),d),B.batch=null,B}));var D=[],I,E=OP(d),k=DN(d);if(k&&NU(this._api),F(T,function(B){if(I=C.action(B,f._model,f._api),I=I||ie({},B),I.type=w.event||I.type,D.push(I),k){var V=EI(d),W=V.queryOptionMap,j=V.mainTypeSpecified,G=j?W.keys()[0]:"series";CC(f,x,B,G),Fi(f)}else E?(CC(f,x,B,"series"),Fi(f)):R&&CC(f,x,B,R.main,R.sub)}),x!=="none"&&!k&&!E&&!R)try{this[Zn]?(Yd(this),sl.update.call(this,d),this[Zn]=null):sl[x].call(this,d)}catch(B){throw this[cn]=!1,B}if(P?I={type:w.event||m,escapeConnect:y,batch:D}:I=D[0],this[cn]=!1,!h){var L=this._messageCenter;if(L.trigger(I.type,I),E){var N={type:"selectchanged",escapeConnect:y,selected:Xhe(g),isFromClick:d.isFromClick||!1,fromAction:d.type,fromActionPayload:d};L.trigger(N.type,N)}}},Hp=function(d){for(var h=this._pendingActions;h.length;){var f=h.shift();NR.call(this,f,d)}},Wp=function(d){!d&&this.trigger("updated")},Hz=function(d,h){d.on("rendered",function(f){h.trigger("rendered",f),d.animation.isFinished()&&!h[Zn]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},Wz=function(d,h){d.on("mouseover",function(f){var g=f.target,m=lc(g,mv);m&&(jhe(m,f,h._api),Fi(h))}).on("mouseout",function(f){var g=f.target,m=lc(g,mv);m&&(Yhe(m,f,h._api),Fi(h))}).on("click",function(f){var g=f.target,m=lc(g,function(w){return Ve(w).dataIndex!=null},!0);if(m){var y=m.selected?"unselect":"select",C=Ve(m);h._api.dispatchAction({type:y,dataType:C.dataType,dataIndexInside:C.dataIndex,seriesIndex:C.seriesIndex,isFromClick:!0})}})};function r(d){d.clearColorPalette(),d.eachSeries(function(h){h.clearColorPalette()})}function n(d){var h=[],f=[],g=!1;if(d.eachComponent(function(w,S){var x=S.get("zlevel")||0,R=S.get("z")||0,T=S.getZLevelKey();g=g||!!T,(w==="series"?f:h).push({zlevel:x,z:R,idx:S.componentIndex,type:w,key:T})}),g){var m=h.concat(f),y,C;pw(m,function(w,S){return w.zlevel===S.zlevel?w.z-S.z:w.zlevel-S.zlevel}),F(m,function(w){var S=d.getComponent(w.type,w.idx),x=w.zlevel,R=w.key;y!=null&&(x=Math.max(y,x)),R?(x===y&&R!==C&&x++,C=R):C&&(x===y&&x++,C=""),y=x,S.setZLevel(x)})}}zR=function(d,h,f,g,m){n(h),$z(d,h,f,g,m),F(d._chartsViews,function(y){y.__alive=!1}),wC(d,h,f,g,m),F(d._chartsViews,function(y){y.__alive||y.remove(h,f)})},$z=function(d,h,f,g,m,y){F(y||d._componentsViews,function(C){var w=C.__model;u(w,C),C.render(w,h,f,g),s(w,C),c(w,C)})},wC=function(d,h,f,g,m,y){var C=d._scheduler;m=ie(m||{},{updatedSeries:h.getSeries()}),xo.trigger("series:beforeupdate",h,f,m);var w=!1;h.eachSeries(function(S){var x=d._chartsMap[S.__viewId];x.__alive=!0;var R=x.renderTask;C.updatePayload(R,g),u(S,x),y&&y.get(S.uid)&&R.dirty(),R.perform(C.getPerformArgs(R))&&(w=!0),x.group.silent=!!S.get("silent"),a(S,x),TN(S)}),C.unfinished=w||C.unfinished,xo.trigger("series:layoutlabels",h,f,m),xo.trigger("series:transition",h,f,m),h.eachSeries(function(S){var x=d._chartsMap[S.__viewId];s(S,x),c(S,x)}),o(d,h),xo.trigger("series:afterupdate",h,f,m)},Fi=function(d){d[MR]=!0,d.getZr().wakeUp()},jz=function(d){d[MR]&&(d.getZr().storage.traverse(function(h){Ph(h)||i(h)}),d[MR]=!1)};function i(d){for(var h=[],f=d.currentStates,g=0;g<f.length;g++){var m=f[g];m==="emphasis"||m==="blur"||m==="select"||h.push(m)}d.selected&&d.states.select&&h.push("select"),d.hoverState===jb&&d.states.emphasis?h.push("emphasis"):d.hoverState===lm&&d.states.blur&&h.push("blur"),d.useStates(h)}function o(d,h){var f=d._zr,g=f.storage,m=0;g.traverse(function(y){y.isGroup||m++}),m>h.get("hoverLayerThreshold")&&!rt.node&&!rt.worker&&h.eachSeries(function(y){if(!y.preventUsingHoverLayer){var C=d._chartsMap[y.__viewId];C.__alive&&C.eachRendered(function(w){w.states.emphasis&&(w.states.emphasis.hoverLayer=!0)})}})}function a(d,h){var f=d.get("blendMode")||null;h.eachRendered(function(g){g.isGroup||(g.style.blend=f)})}function s(d,h){if(!d.preventAutoZ){var f=d.get("z")||0,g=d.get("zlevel")||0;h.eachRendered(function(m){return l(m,f,g,-1/0),!0})}}function l(d,h,f,g){var m=d.getTextContent(),y=d.getTextGuideLine(),C=d.isGroup;if(C)for(var w=d.childrenRef(),S=0;S<w.length;S++)g=Math.max(l(w[S],h,f,g),g);else d.z=h,d.zlevel=f,g=Math.max(d.z2,g);if(m&&(m.z=h,m.zlevel=f,isFinite(g)&&(m.z2=g+2)),y){var x=d.textGuideLineConfig;y.z=h,y.zlevel=f,isFinite(g)&&(y.z2=g+(x&&x.showAbove?1:-1))}return g}function u(d,h){h.eachRendered(function(f){if(!Ph(f)){var g=f.getTextContent(),m=f.getTextGuideLine();f.stateTransition&&(f.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),m&&m.stateTransition&&(m.stateTransition=null),f.hasState()?(f.prevStates=f.currentStates,f.clearStates()):f.prevStates&&(f.prevStates=null)}})}function c(d,h){var f=d.getModel("stateAnimation"),g=d.isAnimationEnabled(),m=f.get("duration"),y=m>0?{duration:m,delay:f.get("delay"),easing:f.get("easing")}:null;h.eachRendered(function(C){if(C.states&&C.states.emphasis){if(Ph(C))return;if(C instanceof nt&&efe(C),C.__dirty){var w=C.prevStates;w&&C.useStates(w)}if(g){C.stateTransition=y;var S=C.getTextContent(),x=C.getTextGuideLine();S&&(S.stateTransition=y),x&&(x.stateTransition=y)}C.__dirty&&i(C)}})}Uz=function(d){return new(function(h){q(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},f.prototype.getComponentByElement=function(g){for(;g;){var m=g.__ecComponentInfo;if(m!=null)return d._model.getComponent(m.mainType,m.index);g=g.parent}},f.prototype.enterEmphasis=function(g,m){_s(g,m),Fi(d)},f.prototype.leaveEmphasis=function(g,m){Ts(g,m),Fi(d)},f.prototype.enterBlur=function(g){kU(g),Fi(d)},f.prototype.leaveBlur=function(g){zI(g),Fi(d)},f.prototype.enterSelect=function(g){FU(g),Fi(d)},f.prototype.leaveSelect=function(g){LU(g),Fi(d)},f.prototype.getModel=function(){return d.getModel()},f.prototype.getViewOfComponentModel=function(g){return d.getViewOfComponentModel(g)},f.prototype.getViewOfSeriesModel=function(g){return d.getViewOfSeriesModel(g)},f}(R8))(d)},w7=function(d){function h(f,g){for(var m=0;m<f.length;m++){var y=f[m];y[kR]=g}}F($g,function(f,g){d._messageCenter.on(g,function(m){if(T0[d.group]&&d[kR]!==Gz){if(m&&m.escapeConnect)return;var y=d.makeActionFromEvent(m),C=[];F(mc,function(w){w!==d&&w.group===d.group&&C.push(w)}),h(C,Gz),F(C,function(w){w[kR]!==Rve&&w.dispatchAction(y)}),h(C,_ve)}})})}}(),t}(oo),gE=x0.prototype;gE.on=g7("on");gE.off=g7("off");gE.one=function(e,t,r){var n=this;function i(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];t&&t.apply&&t.apply(this,o),n.off(e,i)}this.on.call(this,e,i,r)};var Tve=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var R0={},$g={},QP=[],JP=[],_0=[],b7={},eD={},mc={},T0={},Pve=+new Date-0,Dve=+new Date-0,vE="_echarts_instance_";function Ave(e,t,r){var n=!(r&&r.ssr);if(n){var i=mE(e);if(i)return i}var o=new x0(e,t,r);return o.id="ec_"+Pve++,mc[o.id]=o,n&&gU(e,vE,o.id),w7(o),xo.trigger("afterinit",o),o}function Ive(e){if(se(e)){var t=e;e=null,F(t,function(r){r.group!=null&&(e=r.group)}),e=e||"g_"+Dve++,F(t,function(r){r.group=e})}return T0[e]=!0,e}function S7(e){T0[e]=!1}var Eve=S7;function Mve(e){we(e)?e=mc[e]:e instanceof x0||(e=mE(e)),e instanceof x0&&!e.isDisposed()&&e.dispose()}function mE(e){return mc[Hde(e,vE)]}function kve(e){return mc[e]}function yE(e,t){b7[e]=t}function CE(e){Ze(JP,e)<0&&JP.push(e)}function wE(e,t){bE(QP,e,t,mve)}function x7(e){lS("afterinit",e)}function R7(e){lS("afterupdate",e)}function lS(e,t){xo.on(e,t)}function Wo(e,t,r){Ie(t)&&(r=t,t="");var n=ke(e)?e.type:[e,e={event:t}][0];e.event=(e.event||n).toLowerCase(),t=e.event,!$g[t]&&(Cn(Vz.test(n)&&Vz.test(t)),R0[n]||(R0[n]={action:r,actionInfo:e}),$g[t]=n)}function _7(e,t){Tf.register(e,t)}function Fve(e){var t=Tf.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function T7(e,t){bE(_0,e,t,d7,"layout")}function tu(e,t){bE(_0,e,t,h7,"visual")}var Yz=[];function bE(e,t,r,n,i){if((Ie(t)||ke(t))&&(r=t,t=n),!(Ze(Yz,r)>=0)){Yz.push(r);var o=Z8.wrapStageHandler(r,i);o.__prio=t,o.__raw=r,e.push(o)}}function SE(e,t){eD[e]=t}function Lve(e){C6({createCanvas:e})}function P7(e,t,r){var n=c7("registerMap");n&&n(e,t,r)}function Ove(e){var t=c7("getMap");return t&&t(e)}var D7=Ype;tu(pE,Cge);tu(sS,wge);tu(sS,bge);tu(pE,Fge);tu(sS,Lge);tu(f7,uve);CE(T8);wE(gve,Ppe);SE("default",Sge);Wo({type:gc,event:gc,update:gc},ir);Wo({type:bw,event:bw,update:bw},ir);Wo({type:Bg,event:Bg,update:Bg},ir);Wo({type:Sw,event:Sw,update:Sw},ir);Wo({type:Vg,event:Vg,update:Vg},ir);yE("light",Mge);yE("dark",t7);var Nve={},Kz=[],zve={registerPreprocessor:CE,registerProcessor:wE,registerPostInit:x7,registerPostUpdate:R7,registerUpdateLifecycle:lS,registerAction:Wo,registerCoordinateSystem:_7,registerLayout:T7,registerVisual:tu,registerTransform:D7,registerLoading:SE,registerMap:P7,registerImpl:cve,PRIORITY:p7,ComponentModel:tt,ComponentView:zt,SeriesModel:Tt,ChartView:bt,registerComponentModel:function(e){tt.registerClass(e)},registerComponentView:function(e){zt.registerClass(e)},registerSeriesModel:function(e){Tt.registerClass(e)},registerChartView:function(e){bt.registerClass(e)},registerSubTypeDefaulter:function(e,t){tt.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){rU(e,t)}};function et(e){if(se(e)){F(e,function(t){et(t)});return}Ze(Kz,e)>=0||(Kz.push(e),Ie(e)&&(e={install:e}),e.install(zve))}function $p(e){return e==null?0:e.length||1}function Xz(e){return e}var Ps=function(){function e(t,r,n,i,o,a){this._old=t,this._new=r,this._oldKeyGetter=n||Xz,this._newKeyGetter=i||Xz,this.context=o,this._diffModeMultiple=a==="multiple"}return e.prototype.add=function(t){return this._add=t,this},e.prototype.update=function(t){return this._update=t,this},e.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},e.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},e.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},e.prototype.remove=function(t){return this._remove=t,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var t=this._old,r=this._new,n={},i=new Array(t.length),o=new Array(r.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(r,n,o,"_newKeyGetter");for(var a=0;a<t.length;a++){var s=i[a],l=n[s],u=$p(l);if(u>1){var c=l.shift();l.length===1&&(n[s]=l[0]),this._update&&this._update(c,a)}else u===1?(n[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(o,n)},e.prototype._executeMultiple=function(){var t=this._old,r=this._new,n={},i={},o=[],a=[];this._initIndexMap(t,n,o,"_oldKeyGetter"),this._initIndexMap(r,i,a,"_newKeyGetter");for(var s=0;s<o.length;s++){var l=o[s],u=n[l],c=i[l],d=$p(u),h=$p(c);if(d>1&&h===1)this._updateManyToOne&&this._updateManyToOne(c,u),i[l]=null;else if(d===1&&h>1)this._updateOneToMany&&this._updateOneToMany(c,u),i[l]=null;else if(d===1&&h===1)this._update&&this._update(c,u),i[l]=null;else if(d>1&&h>1)this._updateManyToMany&&this._updateManyToMany(c,u),i[l]=null;else if(d>1)for(var f=0;f<d;f++)this._remove&&this._remove(u[f]);else this._remove&&this._remove(u)}this._performRestAdd(a,i)},e.prototype._performRestAdd=function(t,r){for(var n=0;n<t.length;n++){var i=t[n],o=r[i],a=$p(o);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(o[s]);else a===1&&this._add&&this._add(o);r[i]=null}},e.prototype._initIndexMap=function(t,r,n,i){for(var o=this._diffModeMultiple,a=0;a<t.length;a++){var s="_ec_"+this[i](t[a],a);if(o||(n[a]=s),!!r){var l=r[s],u=$p(l);u===0?(r[s]=a,o&&n.push(s)):u===1?r[s]=[l,a]:l.push(a)}}},e}(),Bve=function(){function e(t,r){this._encode=t,this._schema=r}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function Vve(e,t){var r={},n=r.encode={},i=Pe(),o=[],a=[],s={};F(e.dimensions,function(h){var f=e.getDimensionInfo(h),g=f.coordDim;if(g){var m=f.coordDimIndex;BR(n,g)[m]=h,f.isExtraCoord||(i.set(g,1),Gve(f.type)&&(o[0]=h),BR(s,g)[m]=e.getDimensionIndex(f.name)),f.defaultTooltip&&a.push(h)}m8.each(function(y,C){var w=BR(n,C),S=f.otherDims[C];S!=null&&S!==!1&&(w[S]=f.name)})});var l=[],u={};i.each(function(h,f){var g=n[f];u[f]=g[0],l=l.concat(g)}),r.dataDimsOnCoord=l,r.dataDimIndicesOnCoord=le(l,function(h){return e.getDimensionInfo(h).storeDimIndex}),r.encodeFirstDimNotExtra=u;var c=n.label;c&&c.length&&(o=c.slice());var d=n.tooltip;return d&&d.length?a=d.slice():a.length||(a=o.slice()),n.defaultedLabel=o,n.defaultedTooltip=a,r.userOutput=new Bve(s,t),r}function BR(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function P0(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function Gve(e){return!(e==="ordinal"||e==="time")}var Pw=function(){function e(t){this.otherDims={},t!=null&&ie(this,t)}return e}(),Hve=ft(),Wve={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},A7=function(){function e(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=M7(this.source)))},e.prototype.getSourceDimensionIndex=function(t){return Ue(this._dimNameMap.get(t),-1)},e.prototype.getSourceDimension=function(t){var r=this.source.dimensionsDefine;if(r)return r[t]},e.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,r=D8(this.source),n=!k7(t),i="",o=[],a=0,s=0;a<t;a++){var l=void 0,u=void 0,c=void 0,d=this.dimensions[s];if(d&&d.storeDimIndex===a)l=r?d.name:null,u=d.type,c=d.ordinalMeta,s++;else{var h=this.getSourceDimension(a);h&&(l=r?h.name:null,u=h.type)}o.push({property:l,type:u,ordinalMeta:c}),r&&l!=null&&(!d||!d.isCalculationCoord)&&(i+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=Wve[u]||"f",c&&(i+=c.uid),i+="$"}var f=this.source,g=[f.seriesLayoutBy,f.startIndex,i].join("$$");return{dimensions:o,hash:g}},e.prototype.makeOutputDimensionNames=function(){for(var t=[],r=0,n=0;r<this._fullDimCount;r++){var i=void 0,o=this.dimensions[n];if(o&&o.storeDimIndex===r)o.isCalculationCoord||(i=o.name),n++;else{var a=this.getSourceDimension(r);a&&(i=a.name)}t.push(i)}return t},e.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function I7(e){return e instanceof A7}function E7(e){for(var t=Pe(),r=0;r<(e||[]).length;r++){var n=e[r],i=ke(n)?n.name:n;i!=null&&t.get(i)==null&&t.set(i,r)}return t}function M7(e){var t=Hve(e);return t.dimNameMap||(t.dimNameMap=E7(e.dimensionsDefine))}function k7(e){return e>30}var Up=ke,ll=le,$ve=typeof Int32Array>"u"?Array:Int32Array,Uve="e\0\0",qz=-1,jve=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Yve=["_approximateExtent"],Zz,bC,jp,Yp,VR,Kp,GR,yn=function(){function e(t,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,i=!1;I7(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,n=t),n=n||["x","y"];for(var o={},a=[],s={},l=!1,u={},c=0;c<n.length;c++){var d=n[c],h=we(d)?new Pw({name:d}):d instanceof Pw?d:new Pw(d),f=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=f,h.coordDimIndex=0);var g=h.otherDims=h.otherDims||{};a.push(f),o[f]=h,u[f]!=null&&(l=!0),h.createInvertedIndices&&(s[f]=[]),g.itemName===0&&(this._nameDimIdx=c),g.itemId===0&&(this._idDimIdx=c),i&&(h.storeDimIndex=c)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=r,this._invertedIndicesMap=s,this._dimOmitted){var m=this._dimIdxToName=Pe();F(a,function(y){m.set(o[y].storeDimIndex,y)})}}return e.prototype.getDimension=function(t){var r=this._recognizeDimIndex(t);if(r==null)return t;if(r=t,!this._dimOmitted)return this.dimensions[r];var n=this._dimIdxToName.get(r);if(n!=null)return n;var i=this._schema.getSourceDimension(r);if(i)return i.name},e.prototype.getDimensionIndex=function(t){var r=this._recognizeDimIndex(t);if(r!=null)return r;if(t==null)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},e.prototype._recognizeDimIndex=function(t){if(pt(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},e.prototype._getStoreDimIndex=function(t){var r=this.getDimensionIndex(t);return r},e.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},e.prototype._initGetDimensionInfo=function(t){var r=this._dimInfos;this._getDimInfo=t?function(n){return r.hasOwnProperty(n)?r[n]:void 0}:function(n){return r[n]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(t,r){var n=this._dimSummary;if(r==null)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[r]:null},e.prototype.mapDimensionsAll=function(t){var r=this._dimSummary,n=r.encode[t];return(n||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(t,r,n){var i=this,o;if(t instanceof UP&&(o=t),!o){var a=this.dimensions,s=sE(t)||Zr(t)?new A8(t,a.length):t;o=new UP;var l=ll(a,function(u){return{type:i._dimInfos[u].type,property:u}});o.initData(s,l,n)}this._store=o,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=Vve(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(t){var r=this._store.appendData(t);this._doInit(r[0],r[1])},e.prototype.appendValues=function(t,r){var n=this._store.appendValues(t,r&&r.length),i=n.start,o=n.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var s=i;s<o;s++){var l=s-i;this._nameList[s]=r[l],a&&GR(this,s)}},e.prototype._updateOrdinalMeta=function(){for(var t=this._store,r=this.dimensions,n=0;n<r.length;n++){var i=this._dimInfos[r[n]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==Ol&&!t.fillStorage},e.prototype._doInit=function(t,r){if(!(t>=r)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var o=this._nameList,a=this._idList,s=i.getSource().sourceFormat,l=s===so;if(l&&!i.pure)for(var u=[],c=t;c<r;c++){var d=i.getItem(c,u);if(!this.hasItemOption&&Ade(d)&&(this.hasItemOption=!0),d){var h=d.name;o[c]==null&&h!=null&&(o[c]=xr(h,null));var f=d.id;a[c]==null&&f!=null&&(a[c]=xr(f,null))}}if(this._shouldMakeIdFromName())for(var c=t;c<r;c++)GR(this,c);Zz(this)}},e.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.setApproximateExtent=function(t,r){r=this.getDimension(r),this._approximateExtent[r]=t.slice()},e.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},e.prototype.setCalculationInfo=function(t,r){Up(t)?ie(this._calculationInfo,t):this._calculationInfo[t]=r},e.prototype.getName=function(t){var r=this.getRawIndex(t),n=this._nameList[r];return n==null&&this._nameDimIdx!=null&&(n=jp(this,this._nameDimIdx,r)),n==null&&(n=""),n},e.prototype._getCategory=function(t,r){var n=this._store.get(t,r),i=this._store.getOrdinalMeta(t);return i?i.categories[n]:n},e.prototype.getId=function(t){return bC(this,this.getRawIndex(t))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(t,r){var n=this._store,i=this._dimInfos[t];if(i)return n.get(i.storeDimIndex,r)},e.prototype.getByRawIndex=function(t,r){var n=this._store,i=this._dimInfos[t];if(i)return n.getByRawIndex(i.storeDimIndex,r)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},e.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},e.prototype.getValues=function(t,r){var n=this,i=this._store;return se(t)?i.getValues(ll(t,function(o){return n._getStoreDimIndex(o)}),r):i.getValues(t)},e.prototype.hasValue=function(t){for(var r=this._dimSummary.dataDimIndicesOnCoord,n=0,i=r.length;n<i;n++)if(isNaN(this._store.get(r[n],t)))return!1;return!0},e.prototype.indexOfName=function(t){for(var r=0,n=this._store.count();r<n;r++)if(this.getName(r)===t)return r;return-1},e.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},e.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},e.prototype.rawIndexOf=function(t,r){var n=t&&this._invertedIndicesMap[t],i=n&&n[r];return i==null||isNaN(i)?qz:i},e.prototype.indicesOfNearest=function(t,r,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),r,n)},e.prototype.each=function(t,r,n){Ie(t)&&(n=r,r=t,t=[]);var i=n||this,o=ll(Yp(t),this._getStoreDimIndex,this);this._store.each(o,i?Se(r,i):r)},e.prototype.filterSelf=function(t,r,n){Ie(t)&&(n=r,r=t,t=[]);var i=n||this,o=ll(Yp(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,i?Se(r,i):r),this},e.prototype.selectRange=function(t){var r=this,n={},i=at(t);return F(i,function(o){var a=r._getStoreDimIndex(o);n[a]=t[o]}),this._store=this._store.selectRange(n),this},e.prototype.mapArray=function(t,r,n){Ie(t)&&(n=r,r=t,t=[]),n=n||this;var i=[];return this.each(t,function(){i.push(r&&r.apply(this,arguments))},n),i},e.prototype.map=function(t,r,n,i){var o=n||i||this,a=ll(Yp(t),this._getStoreDimIndex,this),s=Kp(this);return s._store=this._store.map(a,o?Se(r,o):r),s},e.prototype.modify=function(t,r,n,i){var o=n||i||this,a=ll(Yp(t),this._getStoreDimIndex,this);this._store.modify(a,o?Se(r,o):r)},e.prototype.downSample=function(t,r,n,i){var o=Kp(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),r,n,i),o},e.prototype.minmaxDownSample=function(t,r){var n=Kp(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),r),n},e.prototype.lttbDownSample=function(t,r){var n=Kp(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),r),n},e.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},e.prototype.getItemModel=function(t){var r=this.hostModel,n=this.getRawDataItem(t);return new yt(n,r,r&&r.ecModel)},e.prototype.diff=function(t){var r=this;return new Ps(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return bC(t,n)},function(n){return bC(r,n)})},e.prototype.getVisual=function(t){var r=this._visual;return r&&r[t]},e.prototype.setVisual=function(t,r){this._visual=this._visual||{},Up(t)?ie(this._visual,t):this._visual[t]=r},e.prototype.getItemVisual=function(t,r){var n=this._itemVisuals[t],i=n&&n[r];return i??this.getVisual(r)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(t,r){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var o=i[r];return o==null&&(o=this.getVisual(r),se(o)?o=o.slice():Up(o)&&(o=ie({},o)),i[r]=o),o},e.prototype.setItemVisual=function(t,r,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,Up(r)?ie(i,r):i[r]=n},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(t,r){Up(t)?ie(this._layout,t):this._layout[t]=r},e.prototype.getLayout=function(t){return this._layout[t]},e.prototype.getItemLayout=function(t){return this._itemLayouts[t]},e.prototype.setItemLayout=function(t,r,n){this._itemLayouts[t]=n?ie(this._itemLayouts[t]||{},r):r},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(t,r){var n=this.hostModel&&this.hostModel.seriesIndex;MP(n,this.dataType,t,r),this._graphicEls[t]=r},e.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},e.prototype.eachItemGraphicEl=function(t,r){F(this._graphicEls,function(n,i){n&&t&&t.call(r,n,i)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:ll(this.dimensions,this._getDimInfo,this),this.hostModel)),VR(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(t,r){var n=this[t];Ie(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=n.apply(this,arguments);return r.apply(this,[i].concat(Fb(arguments)))})},e.internalField=function(){Zz=function(t){var r=t._invertedIndicesMap;F(r,function(n,i){var o=t._dimInfos[i],a=o.ordinalMeta,s=t._store;if(a){n=r[i]=new $ve(a.categories.length);for(var l=0;l<n.length;l++)n[l]=qz;for(var l=0;l<s.count();l++)n[s.get(o.storeDimIndex,l)]=l}})},jp=function(t,r,n){return xr(t._getCategory(r,n),null)},bC=function(t,r){var n=t._idList[r];return n==null&&t._idDimIdx!=null&&(n=jp(t,t._idDimIdx,r)),n==null&&(n=Uve+r),n},Yp=function(t){return se(t)||(t=t!=null?[t]:[]),t},Kp=function(t){var r=new e(t._schema?t._schema:ll(t.dimensions,t._getDimInfo,t),t.hostModel);return VR(r,t),r},VR=function(t,r){F(jve.concat(r.__wrappedMethods||[]),function(n){r.hasOwnProperty(n)&&(t[n]=r[n])}),t.__wrappedMethods=r.__wrappedMethods,F(Yve,function(n){t[n]=Fe(r[n])}),t._calculationInfo=ie({},r._calculationInfo)},GR=function(t,r){var n=t._nameList,i=t._idList,o=t._nameDimIdx,a=t._idDimIdx,s=n[r],l=i[r];if(s==null&&o!=null&&(n[r]=s=jp(t,o,r)),l==null&&a!=null&&(i[r]=l=jp(t,a,r)),l==null&&s!=null){var u=t._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),i[r]=l}}}(),e}();function Kve(e,t){return If(e,t).dimensions}function If(e,t){sE(e)||(e=lE(e)),t=t||{};var r=t.coordDimensions||[],n=t.dimensionsDefine||e.dimensionsDefine||[],i=Pe(),o=[],a=qve(e,r,n,t.dimensionsCount),s=t.canOmitUnusedDimensions&&k7(a),l=n===e.dimensionsDefine,u=l?M7(e):E7(n),c=t.encodeDefine;!c&&t.encodeDefaulter&&(c=t.encodeDefaulter(e,a));for(var d=Pe(c),h=new N8(a),f=0;f<h.length;f++)h[f]=-1;function g(I){var E=h[I];if(E<0){var k=n[I],L=ke(k)?k:{name:k},N=new Pw,B=L.name;B!=null&&u.get(B)!=null&&(N.name=N.displayName=B),L.type!=null&&(N.type=L.type),L.displayName!=null&&(N.displayName=L.displayName);var V=o.length;return h[I]=V,N.storeDimIndex=I,o.push(N),N}return o[E]}if(!s)for(var f=0;f<a;f++)g(f);d.each(function(I,E){var k=_t(I).slice();if(k.length===1&&!we(k[0])&&k[0]<0){d.set(E,!1);return}var L=d.set(E,[]);F(k,function(N,B){var V=we(N)?u.get(N):N;V!=null&&V<a&&(L[B]=V,y(g(V),E,B))})});var m=0;F(r,function(I){var E,k,L,N;if(we(I))E=I,N={};else{N=I,E=N.name;var B=N.ordinalMeta;N.ordinalMeta=null,N=ie({},N),N.ordinalMeta=B,k=N.dimsDef,L=N.otherDims,N.name=N.coordDim=N.coordDimIndex=N.dimsDef=N.otherDims=null}var V=d.get(E);if(V!==!1){if(V=_t(V),!V.length)for(var W=0;W<(k&&k.length||1);W++){for(;m<a&&g(m).coordDim!=null;)m++;m<a&&V.push(m++)}F(V,function(j,G){var $=g(j);if(l&&N.type!=null&&($.type=N.type),y(Ee($,N),E,G),$.name==null&&k){var K=k[G];!ke(K)&&(K={name:K}),$.name=$.displayName=K.name,$.defaultTooltip=K.defaultTooltip}L&&Ee($.otherDims,L)})}});function y(I,E,k){m8.get(E)!=null?I.otherDims[E]=k:(I.coordDim=E,I.coordDimIndex=k,i.set(E,!0))}var C=t.generateCoord,w=t.generateCoordCount,S=w!=null;w=C?w||1:0;var x=C||"value";function R(I){I.name==null&&(I.name=I.coordDim)}if(s)F(o,function(I){R(I)}),o.sort(function(I,E){return I.storeDimIndex-E.storeDimIndex});else for(var T=0;T<a;T++){var P=g(T),D=P.coordDim;D==null&&(P.coordDim=Zve(x,i,S),P.coordDimIndex=0,(!C||w<=0)&&(P.isExtraCoord=!0),w--),R(P),P.type==null&&(b8(e,T)===Ur.Must||P.isExtraCoord&&(P.otherDims.itemName!=null||P.otherDims.seriesName!=null))&&(P.type="ordinal")}return Xve(o),new A7({source:e,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function Xve(e){for(var t=Pe(),r=0;r<e.length;r++){var n=e[r],i=n.name,o=t.get(i)||0;o>0&&(n.name=i+(o-1)),o++,t.set(i,o)}}function qve(e,t,r,n){var i=Math.max(e.dimensionsDetectedCount||1,t.length,r.length,n||0);return F(t,function(o){var a;ke(o)&&(a=o.dimsDef)&&(i=Math.max(i,a.length))}),i}function Zve(e,t,r){if(r||t.hasKey(e)){for(var n=0;t.hasKey(e+n);)n++;e+=n}return t.set(e,!0),e}var Qve=function(){function e(t){this.coordSysDims=[],this.axisMap=Pe(),this.categoryAxisMap=Pe(),this.coordSysName=t}return e}();function Jve(e){var t=e.get("coordinateSystem"),r=new Qve(t),n=eme[t];if(n)return n(e,r,r.axisMap,r.categoryAxisMap),r}var eme={cartesian2d:function(e,t,r,n){var i=e.getReferringComponents("xAxis",mr).models[0],o=e.getReferringComponents("yAxis",mr).models[0];t.coordSysDims=["x","y"],r.set("x",i),r.set("y",o),Kd(i)&&(n.set("x",i),t.firstCategoryDimIndex=0),Kd(o)&&(n.set("y",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,r,n){var i=e.getReferringComponents("singleAxis",mr).models[0];t.coordSysDims=["single"],r.set("single",i),Kd(i)&&(n.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,r,n){var i=e.getReferringComponents("polar",mr).models[0],o=i.findAxisModel("radiusAxis"),a=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],r.set("radius",o),r.set("angle",a),Kd(o)&&(n.set("radius",o),t.firstCategoryDimIndex=0),Kd(a)&&(n.set("angle",a),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,r,n){t.coordSysDims=["lng","lat"]},parallel:function(e,t,r,n){var i=e.ecModel,o=i.getComponent("parallel",e.get("parallelIndex")),a=t.coordSysDims=o.dimensions.slice();F(o.parallelAxisIndex,function(s,l){var u=i.getComponent("parallelAxis",s),c=a[l];r.set(c,u),Kd(u)&&(n.set(c,u),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})}};function Kd(e){return e.get("type")==="category"}function F7(e,t,r){r=r||{};var n=r.byIndex,i=r.stackedCoordDimension,o,a,s;tme(t)?o=t:(a=t.schema,o=a.dimensions,s=t.store);var l=!!(e&&e.get("stack")),u,c,d,h;if(F(o,function(w,S){we(w)&&(o[S]=w={name:w}),l&&!w.isExtraCoord&&(!n&&!u&&w.ordinalMeta&&(u=w),!c&&w.type!=="ordinal"&&w.type!=="time"&&(!i||i===w.coordDim)&&(c=w))}),c&&!n&&!u&&(n=!0),c){d="__\0ecstackresult_"+e.id,h="__\0ecstackedover_"+e.id,u&&(u.createInvertedIndices=!0);var f=c.coordDim,g=c.type,m=0;F(o,function(w){w.coordDim===f&&m++});var y={name:d,coordDim:f,coordDimIndex:m,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},C={name:h,coordDim:h,coordDimIndex:m+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};a?(s&&(y.storeDimIndex=s.ensureCalculationDimension(h,g),C.storeDimIndex=s.ensureCalculationDimension(d,g)),a.appendCalculationDimension(y),a.appendCalculationDimension(C)):(o.push(y),o.push(C))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:n,stackedOverDimension:h,stackResultDimension:d}}function tme(e){return!I7(e.schema)}function Ds(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function xE(e,t){return Ds(e,t)?e.getCalculationInfo("stackResultDimension"):t}function rme(e,t){var r=e.get("coordinateSystem"),n=Tf.get(r),i;return t&&t.coordSysDims&&(i=le(t.coordSysDims,function(o){var a={name:o},s=t.axisMap.get(o);if(s){var l=s.get("type");a.type=P0(l)}return a})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function nme(e,t,r){var n,i;return r&&F(e,function(o,a){var s=o.coordDim,l=r.categoryAxisMap.get(s);l&&(n==null&&(n=a),o.ordinalMeta=l.getOrdinalMeta(),t&&(o.createInvertedIndices=!0)),o.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(e[n].otherDims.itemName=0),n}function Na(e,t,r){r=r||{};var n=t.getSourceManager(),i,o=!1;e?(o=!0,i=lE(e)):(i=n.getSource(),o=i.sourceFormat===so);var a=Jve(t),s=rme(t,a),l=r.useEncodeDefaulter,u=Ie(l)?l:l?je(w8,s,t):null,c={coordDimensions:s,generateCoord:r.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!o},d=If(i,c),h=nme(d.dimensions,r.createInvertedIndices,a),f=o?null:n.getSharedDataStore(d),g=F7(t,{schema:d,store:f}),m=new yn(d,t);m.setCalculationInfo(g);var y=h!=null&&ime(i)?function(C,w,S,x){return x===h?S:this.defaultDimValueGetter(C,w,S,x)}:null;return m.hasItemOption=!1,m.initData(o?i:f,null,y),m}function ime(e){if(e.sourceFormat===so){var t=ome(e.data||[]);return!se(gf(t))}}function ome(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var za=function(){function e(t){this._setting=t||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(t){return this._setting[t]},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1])},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(t,r){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(r)||(n[1]=r)},e.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(t){this._isBlank=t},e}();Hb(za);var ame=0,tD=function(){function e(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++ame}return e.createByAxisModel=function(t){var r=t.option,n=r.data,i=n&&le(n,sme);return new e({categories:i,needCollect:!i,deduplication:r.dedplication!==!1})},e.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},e.prototype.parseAndCollect=function(t){var r,n=this._needCollect;if(!we(t)&&!n)return t;if(n&&!this._deduplication)return r=this.categories.length,this.categories[r]=t,r;var i=this._getOrCreateMap();return r=i.get(t),r==null&&(n?(r=this.categories.length,this.categories[r]=t,i.set(t,r)):r=NaN),r},e.prototype._getOrCreateMap=function(){return this._map||(this._map=Pe(this.categories))},e}();function sme(e){return ke(e)&&e.value!=null?e.value:e+""}function rD(e){return e.type==="interval"||e.type==="log"}function lme(e,t,r,n){var i={},o=e[1]-e[0],a=i.interval=DI(o/t,!0);r!=null&&a<r&&(a=i.interval=r),n!=null&&a>n&&(a=i.interval=n);var s=i.intervalPrecision=L7(a),l=i.niceTickExtent=[Zt(Math.ceil(e[0]/a)*a,s),Zt(Math.floor(e[1]/a)*a,s)];return ume(l,e),i}function HR(e){var t=Math.pow(10,Gb(e)),r=e/t;return r?r===2?r=3:r===3?r=5:r*=2:r=1,Zt(r*t)}function L7(e){return Do(e)+2}function Qz(e,t,r){e[t]=Math.max(Math.min(e[t],r[1]),r[0])}function ume(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),Qz(e,0,t),Qz(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function uS(e,t){return e>=t[0]&&e<=t[1]}function cS(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function dS(e,t){return e*(t[1]-t[0])+t[0]}var hS=function(e){q(t,e);function t(r){var n=e.call(this,r)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new tD({})),se(i)&&(i=new tD({categories:le(i,function(o){return ke(o)?o.value:o})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return t.prototype.parse=function(r){return r==null?NaN:we(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},t.prototype.contain=function(r){return r=this.parse(r),uS(r,this._extent)&&this._ordinalMeta.categories[r]!=null},t.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),cS(r,this._extent)},t.prototype.scale=function(r){return r=Math.round(dS(r,this._extent)),this.getRawOrdinalNumber(r)},t.prototype.getTicks=function(){for(var r=[],n=this._extent,i=n[0];i<=n[1];)r.push({value:i}),i++;return r},t.prototype.getMinorTicks=function(r){},t.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=r.ordinalNumbers,i=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],a=0,s=this._ordinalMeta.categories.length,l=Math.min(s,n.length);a<l;++a){var u=n[a];i[a]=u,o[u]=a}for(var c=0;a<s;++a){for(;o[c]!=null;)c++;i.push(c),o[c]=a}},t.prototype._getTickNumber=function(r){var n=this._ticksByOrdinalNumber;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getRawOrdinalNumber=function(r){var n=this._ordinalNumbersByTick;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getLabel=function(r){if(!this.isBlank()){var n=this.getRawOrdinalNumber(r.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},t.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(za);za.registerClass(hS);var zu=Zt,As=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return t.prototype.parse=function(r){return r},t.prototype.contain=function(r){return uS(r,this._extent)},t.prototype.normalize=function(r){return cS(r,this._extent)},t.prototype.scale=function(r){return dS(r,this._extent)},t.prototype.setExtent=function(r,n){var i=this._extent;isNaN(r)||(i[0]=parseFloat(r)),isNaN(n)||(i[1]=parseFloat(n))},t.prototype.unionExtent=function(r){var n=this._extent;r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1]),this.setExtent(n[0],n[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=L7(r)},t.prototype.getTicks=function(r){var n=this._interval,i=this._extent,o=this._niceExtent,a=this._intervalPrecision,s=[];if(!n)return s;var l=1e4;i[0]<o[0]&&(r?s.push({value:zu(o[0]-n,a)}):s.push({value:i[0]}));for(var u=o[0];u<=o[1]&&(s.push({value:u}),u=zu(u+n,a),u!==s[s.length-1].value);)if(s.length>l)return[];var c=s.length?s[s.length-1].value:o[1];return i[1]>c&&(r?s.push({value:zu(c+n,a)}):s.push({value:i[1]})),s},t.prototype.getMinorTicks=function(r){for(var n=this.getTicks(!0),i=[],o=this.getExtent(),a=1;a<n.length;a++){for(var s=n[a],l=n[a-1],u=0,c=[],d=s.value-l.value,h=d/r;u<r-1;){var f=zu(l.value+(u+1)*h);f>o[0]&&f<o[1]&&c.push(f),u++}i.push(c)}return i},t.prototype.getLabel=function(r,n){if(r==null)return"";var i=n&&n.precision;i==null?i=Do(r.value)||0:i==="auto"&&(i=this._intervalPrecision);var o=zu(r.value,i,!0);return JI(o)},t.prototype.calcNiceTicks=function(r,n,i){r=r||5;var o=this._extent,a=o[1]-o[0];if(isFinite(a)){a<0&&(a=-a,o.reverse());var s=lme(o,r,n,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);r.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var o=n[1]-n[0];isFinite(o)||(n[0]=0,n[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var a=this._interval;r.fixMin||(n[0]=zu(Math.floor(n[0]/a)*a)),r.fixMax||(n[1]=zu(Math.ceil(n[1]/a)*a))},t.prototype.setNiceExtent=function(r,n){this._niceExtent=[r,n]},t.type="interval",t}(za);za.registerClass(As);var O7=typeof Float32Array<"u",cme=O7?Float32Array:Array;function va(e){return se(e)?O7?new Float32Array(e):e:new cme(e)}var nD="__ec_stack_";function N7(e){return e.get("stack")||nD+e.seriesIndex}function RE(e){return e.dim+e.index}function dme(e){var t=[],r=e.axis,n="axis0";if(r.type==="category"){for(var i=r.getBandWidth(),o=0;o<e.count;o++)t.push(Ee({bandWidth:i,axisKey:n,stackId:nD+o},e));for(var a=V7(t),s=[],o=0;o<e.count;o++){var l=a[n][nD+o];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function z7(e,t){var r=[];return t.eachSeriesByType(e,function(n){W7(n)&&r.push(n)}),r}function hme(e){var t={};F(e,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var d=l.getData(),h=c.dim+"_"+c.index,f=d.getDimensionIndex(d.mapDimension(c.dim)),g=d.getStore(),m=0,y=g.count();m<y;++m){var C=g.get(f,m);t[h]?t[h].push(C):t[h]=[C]}});var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(i){i.sort(function(l,u){return l-u});for(var o=null,a=1;a<i.length;++a){var s=i[a]-i[a-1];s>0&&(o=o===null?s:Math.min(o,s))}r[n]=o}}return r}function B7(e){var t=hme(e),r=[];return F(e,function(n){var i=n.coordinateSystem,o=i.getBaseAxis(),a=o.getExtent(),s;if(o.type==="category")s=o.getBandWidth();else if(o.type==="value"||o.type==="time"){var l=o.dim+"_"+o.index,u=t[l],c=Math.abs(a[1]-a[0]),d=o.scale.getExtent(),h=Math.abs(d[1]-d[0]);s=u?c/h*u:c}else{var f=n.getData();s=Math.abs(a[1]-a[0])/f.count()}var g=me(n.get("barWidth"),s),m=me(n.get("barMaxWidth"),s),y=me(n.get("barMinWidth")||($7(n)?.5:1),s),C=n.get("barGap"),w=n.get("barCategoryGap");r.push({bandWidth:s,barWidth:g,barMaxWidth:m,barMinWidth:y,barGap:C,barCategoryGap:w,axisKey:RE(o),stackId:N7(n)})}),V7(r)}function V7(e){var t={};F(e,function(n,i){var o=n.axisKey,a=n.bandWidth,s=t[o]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;t[o]=s;var u=n.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=n.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var d=n.barMaxWidth;d&&(l[u].maxWidth=d);var h=n.barMinWidth;h&&(l[u].minWidth=h);var f=n.barGap;f!=null&&(s.gap=f);var g=n.barCategoryGap;g!=null&&(s.categoryGap=g)});var r={};return F(t,function(n,i){r[i]={};var o=n.stacks,a=n.bandWidth,s=n.categoryGap;if(s==null){var l=at(o).length;s=Math.max(35-l*4,15)+"%"}var u=me(s,a),c=me(n.gap,1),d=n.remainedWidth,h=n.autoWidthCount,f=(d-u)/(h+(h-1)*c);f=Math.max(f,0),F(o,function(C){var w=C.maxWidth,S=C.minWidth;if(C.width){var x=C.width;w&&(x=Math.min(x,w)),S&&(x=Math.max(x,S)),C.width=x,d-=x+c*x,h--}else{var x=f;w&&w<x&&(x=Math.min(w,d)),S&&S>x&&(x=S),x!==f&&(C.width=x,d-=x+c*x,h--)}}),f=(d-u)/(h+(h-1)*c),f=Math.max(f,0);var g=0,m;F(o,function(C,w){C.width||(C.width=f),m=C,g+=C.width*(1+c)}),m&&(g-=m.width*c);var y=-g/2;F(o,function(C,w){r[i][w]=r[i][w]||{bandWidth:a,offset:y,width:C.width},y+=C.width*(1+c)})}),r}function fme(e,t,r){if(e&&t){var n=e[RE(t)];return n}}function G7(e,t){var r=z7(e,t),n=B7(r);F(r,function(i){var o=i.getData(),a=i.coordinateSystem,s=a.getBaseAxis(),l=N7(i),u=n[RE(s)][l],c=u.offset,d=u.width;o.setLayout({bandWidth:u.bandWidth,offset:c,size:d})})}function H7(e){return{seriesType:e,plan:Pf(),reset:function(t){if(W7(t)){var r=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),o=n.getOtherAxis(i),a=r.getDimensionIndex(r.mapDimension(o.dim)),s=r.getDimensionIndex(r.mapDimension(i.dim)),l=t.get("showBackground",!0),u=r.mapDimension(o.dim),c=r.getCalculationInfo("stackResultDimension"),d=Ds(r,u)&&!!r.getCalculationInfo("stackedOnSeries"),h=o.isHorizontal(),f=pme(i,o),g=$7(t),m=t.get("barMinHeight")||0,y=c&&r.getDimensionIndex(c),C=r.getLayout("size"),w=r.getLayout("offset");return{progress:function(S,x){for(var R=S.count,T=g&&va(R*3),P=g&&l&&va(R*3),D=g&&va(R),I=n.master.getRect(),E=h?I.width:I.height,k,L=x.getStore(),N=0;(k=S.next())!=null;){var B=L.get(d?y:a,k),V=L.get(s,k),W=f,j=void 0;d&&(j=+B-L.get(a,k));var G=void 0,$=void 0,K=void 0,H=void 0;if(h){var U=n.dataToPoint([B,V]);if(d){var ne=n.dataToPoint([j,V]);W=ne[0]}G=W,$=U[1]+w,K=U[0]-W,H=C,Math.abs(K)<m&&(K=(K<0?-1:1)*m)}else{var U=n.dataToPoint([V,B]);if(d){var ne=n.dataToPoint([V,j]);W=ne[1]}G=U[0]+w,$=W,K=C,H=U[1]-W,Math.abs(H)<m&&(H=(H<=0?-1:1)*m)}g?(T[N]=G,T[N+1]=$,T[N+2]=h?K:H,P&&(P[N]=h?I.x:G,P[N+1]=h?$:I.y,P[N+2]=E),D[k]=k):x.setItemLayout(k,{x:G,y:$,width:K,height:H}),N+=3}g&&x.setLayout({largePoints:T,largeDataIndices:D,largeBackgroundPoints:P,valueAxisHorizontal:h})}}}}}}function W7(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function $7(e){return e.pipelineContext&&e.pipelineContext.large}function pme(e,t){var r=t.model.get("startValue");return r||(r=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?r>0?r:1:r))}var gme=function(e,t,r,n){for(;r<n;){var i=r+n>>>1;e[i][1]<t?r=i+1:n=i}return r},_E=function(e){q(t,e);function t(r){var n=e.call(this,r)||this;return n.type="time",n}return t.prototype.getLabel=function(r){var n=this.getSetting("useUTC");return fm(r.value,WN[Ufe(Ah(this._minLevelUnit))]||WN.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(r,n,i){var o=this.getSetting("useUTC"),a=this.getSetting("locale");return jfe(r,n,i,a,o)},t.prototype.getTicks=function(){var r=this._interval,n=this._extent,i=[];if(!r)return i;i.push({value:n[0],level:0});var o=this.getSetting("useUTC"),a=Sme(this._minLevelUnit,this._approxInterval,o,n);return i=i.concat(a),i.push({value:n[1],level:0}),i},t.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1]&&(n[0]-=Ki,n[1]+=Ki),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-Ki}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},t.prototype.calcNiceTicks=function(r,n,i){r=r||10;var o=this._extent,a=o[1]-o[0];this._approxInterval=a/r,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var s=SC.length,l=Math.min(gme(SC,this._approxInterval,0,s),s-1);this._interval=SC[l][1],this._minLevelUnit=SC[Math.max(l-1,0)][0]},t.prototype.parse=function(r){return pt(r)?r:+xi(r)},t.prototype.contain=function(r){return uS(this.parse(r),this._extent)},t.prototype.normalize=function(r){return cS(this.parse(r),this._extent)},t.prototype.scale=function(r){return dS(r,this._extent)},t.type="time",t}(As),SC=[["second",qI],["minute",ZI],["hour",Hg],["quarter-day",Hg*6],["half-day",Hg*12],["day",Ki*1.2],["half-week",Ki*3.5],["week",Ki*7],["month",Ki*31],["quarter",Ki*95],["half-year",HN/2],["year",HN]];function vme(e,t,r,n){var i=xi(t),o=xi(r),a=function(g){return $N(i,g,n)===$N(o,g,n)},s=function(){return a("year")},l=function(){return s()&&a("month")},u=function(){return l()&&a("day")},c=function(){return u()&&a("hour")},d=function(){return c()&&a("minute")},h=function(){return d()&&a("second")},f=function(){return h()&&a("millisecond")};switch(e){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return d();case"second":return h();case"millisecond":return f()}}function mme(e,t){return e/=Ki,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function yme(e){var t=30*Ki;return e/=t,e>6?6:e>3?3:e>2?2:1}function Cme(e){return e/=Hg,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function Jz(e,t){return e/=t?ZI:qI,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function wme(e){return DI(e,!0)}function bme(e,t,r){var n=new Date(e);switch(Ah(t)){case"year":case"month":n[s8(r)](0);case"day":n[l8(r)](1);case"hour":n[u8(r)](0);case"minute":n[c8(r)](0);case"second":n[d8(r)](0),n[h8(r)](0)}return n.getTime()}function Sme(e,t,r,n){var i=1e4,o=o8,a=0;function s(E,k,L,N,B,V,W){for(var j=new Date(k),G=k,$=j[N]();G<L&&G<=n[1];)W.push({value:G}),$+=E,j[B]($),G=j.getTime();W.push({value:G,notAdd:!0})}function l(E,k,L){var N=[],B=!k.length;if(!vme(Ah(E),n[0],n[1],r)){B&&(k=[{value:bme(new Date(n[0]),E,r)},{value:n[1]}]);for(var V=0;V<k.length-1;V++){var W=k[V].value,j=k[V+1].value;if(W!==j){var G=void 0,$=void 0,K=void 0,H=!1;switch(E){case"year":G=Math.max(1,Math.round(t/Ki/365)),$=QI(r),K=Yfe(r);break;case"half-year":case"quarter":case"month":G=yme(t),$=Ih(r),K=s8(r);break;case"week":case"half-week":case"day":G=mme(t),$=Qb(r),K=l8(r),H=!0;break;case"half-day":case"quarter-day":case"hour":G=Cme(t),$=Cv(r),K=u8(r);break;case"minute":G=Jz(t,!0),$=Jb(r),K=c8(r);break;case"second":G=Jz(t,!1),$=eS(r),K=d8(r);break;case"millisecond":G=wme(t),$=tS(r),K=h8(r);break}s(G,W,j,$,K,H,N),E==="year"&&L.length>1&&V===0&&L.unshift({value:L[0].value-G})}}for(var V=0;V<N.length;V++)L.push(N[V]);return N}}for(var u=[],c=[],d=0,h=0,f=0;f<o.length&&a++<i;++f){var g=Ah(o[f]);if($fe(o[f])){l(o[f],u[u.length-1]||[],c);var m=o[f+1]?Ah(o[f+1]):null;if(g!==m){if(c.length){h=d,c.sort(function(E,k){return E.value-k.value});for(var y=[],C=0;C<c.length;++C){var w=c[C].value;(C===0||c[C-1].value!==w)&&(y.push(c[C]),w>=n[0]&&w<=n[1]&&d++)}var S=(n[1]-n[0])/t;if(d>S*1.5&&h>S/1.5||(u.push(y),d>S||e===o[f]))break}c=[]}}}for(var x=mt(le(u,function(E){return mt(E,function(k){return k.value>=n[0]&&k.value<=n[1]&&!k.notAdd})}),function(E){return E.length>0}),R=[],T=x.length-1,f=0;f<x.length;++f)for(var P=x[f],D=0;D<P.length;++D)R.push({value:P[D].value,level:T-f});R.sort(function(E,k){return E.value-k.value});for(var I=[],f=0;f<R.length;++f)(f===0||R[f].value!==R[f-1].value)&&I.push(R[f]);return I}za.registerClass(_E);var eB=za.prototype,Ug=As.prototype,xme=Zt,Rme=Math.floor,_me=Math.ceil,xC=Math.pow,wo=Math.log,TE=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new As,r._interval=0,r}return t.prototype.getTicks=function(r){var n=this._originalScale,i=this._extent,o=n.getExtent(),a=Ug.getTicks.call(this,r);return le(a,function(s){var l=s.value,u=Zt(xC(this.base,l));return u=l===i[0]&&this._fixMin?RC(u,o[0]):u,u=l===i[1]&&this._fixMax?RC(u,o[1]):u,{value:u}},this)},t.prototype.setExtent=function(r,n){var i=wo(this.base);r=wo(Math.max(0,r))/i,n=wo(Math.max(0,n))/i,Ug.setExtent.call(this,r,n)},t.prototype.getExtent=function(){var r=this.base,n=eB.getExtent.call(this);n[0]=xC(r,n[0]),n[1]=xC(r,n[1]);var i=this._originalScale,o=i.getExtent();return this._fixMin&&(n[0]=RC(n[0],o[0])),this._fixMax&&(n[1]=RC(n[1],o[1])),n},t.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var n=this.base;r[0]=wo(r[0])/wo(n),r[1]=wo(r[1])/wo(n),eB.unionExtent.call(this,r)},t.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},t.prototype.calcNiceTicks=function(r){r=r||10;var n=this._extent,i=n[1]-n[0];if(!(i===1/0||i<=0)){var o=lU(i),a=r/i*o;for(a<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var s=[Zt(_me(n[0]/o)*o),Zt(Rme(n[1]/o)*o)];this._interval=o,this._niceExtent=s}},t.prototype.calcNiceExtent=function(r){Ug.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},t.prototype.parse=function(r){return r},t.prototype.contain=function(r){return r=wo(r)/wo(this.base),uS(r,this._extent)},t.prototype.normalize=function(r){return r=wo(r)/wo(this.base),cS(r,this._extent)},t.prototype.scale=function(r){return r=dS(r,this._extent),xC(this.base,r)},t.type="log",t}(za),U7=TE.prototype;U7.getMinorTicks=Ug.getMinorTicks;U7.getLabel=Ug.getLabel;function RC(e,t){return xme(e,Do(t))}za.registerClass(TE);var Tme=function(){function e(t,r,n){this._prepareParams(t,r,n)}return e.prototype._prepareParams=function(t,r,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var o=r.get("min",!0);o==null&&(o=r.get("startValue",!0));var a=this._modelMinRaw=o;Ie(a)?this._modelMinNum=_C(t,a({min:n[0],max:n[1]})):a!=="dataMin"&&(this._modelMinNum=_C(t,a));var s=this._modelMaxRaw=r.get("max",!0);if(Ie(s)?this._modelMaxNum=_C(t,s({min:n[0],max:n[1]})):s!=="dataMax"&&(this._modelMaxNum=_C(t,s)),i)this._axisDataLen=r.getCategories().length;else{var l=r.get("boundaryGap"),u=se(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Bo(u[0],1),Bo(u[1],1)]}},e.prototype.calculate=function(){var t=this._isOrdinal,r=this._dataMin,n=this._dataMax,i=this._axisDataLen,o=this._boundaryGapInner,a=t?null:n-r||Math.abs(r),s=this._modelMinRaw==="dataMin"?r:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=t?i?0:NaN:r-o[0]*a),l==null&&(l=t?i?i-1:NaN:n+o[1]*a),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var d=Hh(s)||Hh(l)||t&&!i;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var h=this._determinedMin,f=this._determinedMax;return h!=null&&(s=h,u=!0),f!=null&&(l=f,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:d}},e.prototype.modifyDataMinMax=function(t,r){this[Dme[t]]=r},e.prototype.setDeterminedMinMax=function(t,r){var n=Pme[t];this[n]=r},e.prototype.freeze=function(){this.frozen=!0},e}(),Pme={min:"_determinedMin",max:"_determinedMax"},Dme={min:"_dataMin",max:"_dataMax"};function j7(e,t,r){var n=e.rawExtentInfo;return n||(n=new Tme(e,t,r),e.rawExtentInfo=n,n)}function _C(e,t){return t==null?null:Hh(t)?NaN:e.parse(t)}function Y7(e,t){var r=e.type,n=j7(e,t,e.getExtent()).calculate();e.setBlank(n.isBlank);var i=n.min,o=n.max,a=t.ecModel;if(a&&r==="time"){var s=z7("bar",a),l=!1;if(F(s,function(d){l=l||d.getBaseAxis()===t.axis}),l){var u=B7(s),c=Ame(i,o,t,u);i=c.min,o=c.max}}return{extent:[i,o],fixMin:n.minFixed,fixMax:n.maxFixed}}function Ame(e,t,r,n){var i=r.axis.getExtent(),o=Math.abs(i[1]-i[0]),a=fme(n,r.axis);if(a===void 0)return{min:e,max:t};var s=1/0;F(a,function(f){s=Math.min(f.offset,s)});var l=-1/0;F(a,function(f){l=Math.max(f.offset+f.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=t-e,d=1-(s+l)/o,h=c/d-c;return t+=h*(l/u),e-=h*(s/u),{min:e,max:t}}function Fc(e,t){var r=t,n=Y7(e,r),i=n.extent,o=r.get("splitNumber");e instanceof TE&&(e.base=r.get("logBase"));var a=e.type,s=r.get("interval"),l=a==="interval"||a==="time";e.setExtent(i[0],i[1]),e.calcNiceExtent({splitNumber:o,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?r.get("minInterval"):null,maxInterval:l?r.get("maxInterval"):null}),s!=null&&e.setInterval&&e.setInterval(s)}function gm(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new hS({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new _E({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(za.getClass(t)||As)}}function Ime(e){var t=e.scale.getExtent(),r=t[0],n=t[1];return!(r>0&&n>0||r<0&&n<0)}function Ef(e){var t=e.getLabelModel().get("formatter"),r=e.type==="category"?e.scale.getExtent()[0]:null;return e.scale.type==="time"?function(n){return function(i,o){return e.scale.getFormattedLabel(i,o,n)}}(t):we(t)?function(n){return function(i){var o=e.scale.getLabel(i),a=n.replace("{value}",o??"");return a}}(t):Ie(t)?function(n){return function(i,o){return r!=null&&(o=i.value-r),n(PE(e,i),o,i.level!=null?{level:i.level}:null)}}(t):function(n){return e.scale.getLabel(n)}}function PE(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function Eme(e){var t=e.model,r=e.scale;if(!(!t.get(["axisLabel","show"])||r.isBlank())){var n,i,o=r.getExtent();r instanceof hS?i=r.count():(n=r.getTicks(),i=n.length);var a=e.getLabelModel(),s=Ef(e),l,u=1;i>40&&(u=Math.ceil(i/40));for(var c=0;c<i;c+=u){var d=n?n[c]:{value:o[0]+c},h=s(d,c),f=a.getTextRect(h),g=Mme(f,a.get("rotate")||0);l?l.union(g):l=g}return l}}function Mme(e,t){var r=t*Math.PI/180,n=e.width,i=e.height,o=n*Math.abs(Math.cos(r))+Math.abs(i*Math.sin(r)),a=n*Math.abs(Math.sin(r))+Math.abs(i*Math.cos(r)),s=new qe(e.x,e.y,o,a);return s}function DE(e){var t=e.get("interval");return t??"auto"}function K7(e){return e.type==="category"&&DE(e.getLabelModel())===0}function D0(e,t){var r={};return F(e.mapDimensionsAll(t),function(n){r[xE(e,n)]=!0}),at(r)}function kme(e,t,r){t&&F(D0(t,r),function(n){var i=t.getApproximateExtent(n);i[0]<e[0]&&(e[0]=i[0]),i[1]>e[1]&&(e[1]=i[1])})}var Mf=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e}();function Fme(e){return Na(null,e)}var Lme={isDimensionStacked:Ds,enableDataStack:F7,getStackedDimension:xE};function Ome(e,t){var r=t;t instanceof yt||(r=new yt(t));var n=gm(r);return n.setExtent(e[0],e[1]),Fc(n,r),n}function Nme(e){ar(e,Mf)}function zme(e,t){return t=t||{},Mt(e,null,null,t.state!=="normal")}const Bme=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:Kve,createList:Fme,createScale:Ome,createSymbol:hr,createTextStyle:zme,dataStack:Lme,enableHoverEmphasis:Fl,getECData:Ve,getLayoutRect:yr,mixinAxisModelCommonMethods:Nme},Symbol.toStringTag,{value:"Module"}));var Vme=1e-8;function tB(e,t){return Math.abs(e-t)<Vme}function Zu(e,t,r){var n=0,i=e[0];if(!i)return!1;for(var o=1;o<e.length;o++){var a=e[o];n+=os(i[0],i[1],a[0],a[1],t,r),i=a}var s=e[0];return(!tB(i[0],s[0])||!tB(i[1],s[1]))&&(n+=os(i[0],i[1],s[0],s[1],t,r)),n!==0}var Gme=[];function WR(e,t){for(var r=0;r<e.length;r++)Hr(e[r],e[r],t)}function rB(e,t,r,n){for(var i=0;i<e.length;i++){var o=e[i];n&&(o=n.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(cs(t,t,o),ds(r,r,o))}}function Hme(e){for(var t=0,r=0,n=0,i=e.length,o=e[i-1][0],a=e[i-1][1],s=0;s<i;s++){var l=e[s][0],u=e[s][1],c=o*u-l*a;t+=c,r+=(o+l)*c,n+=(a+u)*c,o=l,a=u}return t?[r/t/3,n/t/3,t]:[e[0][0]||0,e[0][1]||0]}var X7=function(){function e(t){this.name=t}return e.prototype.setCenter=function(t){this._center=t},e.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},e}(),nB=function(){function e(t,r){this.type="polygon",this.exterior=t,this.interiors=r}return e}(),iB=function(){function e(t){this.type="linestring",this.points=t}return e}(),q7=function(e){q(t,e);function t(r,n,i){var o=e.call(this,r)||this;return o.type="geoJSON",o.geometries=n,o._center=i&&[i[0],i[1]],o}return t.prototype.calcCenter=function(){for(var r=this.geometries,n,i=0,o=0;o<r.length;o++){var a=r[o],s=a.exterior,l=s&&s.length;l>i&&(n=a,i=l)}if(n)return Hme(n.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},t.prototype.getBoundingRect=function(r){var n=this._rect;if(n&&!r)return n;var i=[1/0,1/0],o=[-1/0,-1/0],a=this.geometries;return F(a,function(s){s.type==="polygon"?rB(s.exterior,i,o,r):F(s.points,function(l){rB(l,i,o,r)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])||(i[0]=i[1]=o[0]=o[1]=0),n=new qe(i[0],i[1],o[0]-i[0],o[1]-i[1]),r||(this._rect=n),n},t.prototype.contain=function(r){var n=this.getBoundingRect(),i=this.geometries;if(!n.contain(r[0],r[1]))return!1;e:for(var o=0,a=i.length;o<a;o++){var s=i[o];if(s.type==="polygon"){var l=s.exterior,u=s.interiors;if(Zu(l,r[0],r[1])){for(var c=0;c<(u?u.length:0);c++)if(Zu(u[c],r[0],r[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(r,n,i,o){var a=this.getBoundingRect(),s=a.width/a.height;i?o||(o=i/s):i=s*o;for(var l=new qe(r,n,i,o),u=a.calculateTransform(l),c=this.geometries,d=0;d<c.length;d++){var h=c[d];h.type==="polygon"?(WR(h.exterior,u),F(h.interiors,function(f){WR(f,u)})):F(h.points,function(f){WR(f,u)})}a=this._rect,a.copy(l),this._center=[a.x+a.width/2,a.y+a.height/2]},t.prototype.cloneShallow=function(r){r==null&&(r=this.name);var n=new t(r,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t}(X7),Wme=function(e){q(t,e);function t(r,n){var i=e.call(this,r)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return t.prototype.calcCenter=function(){for(var r=this._elOnlyForCalculate,n=r.getBoundingRect(),i=[n.x+n.width/2,n.y+n.height/2],o=im(Gme),a=r;a&&!a.isGeoSVGGraphicRoot;)ba(o,a.getLocalTransform(),o),a=a.parent;return Uc(o,o),Hr(i,i,o),i},t}(X7);function $me(e){if(!e.UTF8Encoding)return e;var t=e,r=t.UTF8Scale;r==null&&(r=1024);var n=t.features;return F(n,function(i){var o=i.geometry,a=o.encodeOffsets,s=o.coordinates;if(a)switch(o.type){case"LineString":o.coordinates=Z7(s,a,r);break;case"Polygon":$R(s,a,r);break;case"MultiLineString":$R(s,a,r);break;case"MultiPolygon":F(s,function(l,u){return $R(l,a[u],r)})}}),t.UTF8Encoding=!1,t}function $R(e,t,r){for(var n=0;n<e.length;n++)e[n]=Z7(e[n],t[n],r)}function Z7(e,t,r){for(var n=[],i=t[0],o=t[1],a=0;a<e.length;a+=2){var s=e.charCodeAt(a)-64,l=e.charCodeAt(a+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=i,l+=o,i=s,o=l,n.push([s/r,l/r])}return n}function iD(e,t){return e=$me(e),le(mt(e.features,function(r){return r.geometry&&r.properties&&r.geometry.coordinates.length>0}),function(r){var n=r.properties,i=r.geometry,o=[];switch(i.type){case"Polygon":var a=i.coordinates;o.push(new nB(a[0],a.slice(1)));break;case"MultiPolygon":F(i.coordinates,function(l){l[0]&&o.push(new nB(l[0],l.slice(1)))});break;case"LineString":o.push(new iB([i.coordinates]));break;case"MultiLineString":o.push(new iB(i.coordinates))}var s=new q7(n[t||"name"],o,n.cp);return s.properties=n,s})}const Ume=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:TP,asc:mi,getPercentWithPrecision:Tde,getPixelPrecision:TI,getPrecision:Do,getPrecisionSafe:aU,isNumeric:AI,isRadianAroundZero:$h,linearMap:Ct,nice:DI,numericToNumber:Ia,parseDate:xi,quantile:ww,quantity:lU,quantityExponent:Gb,reformIntervals:PP,remRadian:PI,round:Zt},Symbol.toStringTag,{value:"Module"})),jme=Object.freeze(Object.defineProperty({__proto__:null,format:fm,parse:xi},Symbol.toStringTag,{value:"Module"})),Yme=Object.freeze(Object.defineProperty({__proto__:null,Arc:cm,BezierCurve:yf,BoundingRect:qe,Circle:La,CompoundPath:Kb,Ellipse:um,Group:Ne,Image:Lr,IncrementalDisplayable:jU,Line:Rr,LinearGradient:Cf,Polygon:bn,Polyline:Rn,RadialGradient:GI,Rect:ht,Ring:mf,Sector:wn,Text:dt,clipPointsByRect:UI,clipRectByRect:ZU,createIcon:bf,extendPath:XU,extendShape:KU,getShapeClass:Xb,getTransform:Ll,initProps:Vt,makeImage:WI,makePath:dm,mergePath:gi,registerShape:ao,resizePath:$I,updateProps:gt},Symbol.toStringTag,{value:"Module"})),Kme=Object.freeze(Object.defineProperty({__proto__:null,addCommas:JI,capitalFirst:Zfe,encodeHTML:gn,formatTime:qfe,formatTpl:tE,getTextRect:Kfe,getTooltipMarker:f8,normalizeCssArray:Kc,toCamelCase:eE,truncateText:rhe},Symbol.toStringTag,{value:"Module"})),Xme=Object.freeze(Object.defineProperty({__proto__:null,bind:Se,clone:Fe,curry:je,defaults:Ee,each:F,extend:ie,filter:mt,indexOf:Ze,inherits:yI,isArray:se,isFunction:Ie,isObject:ke,isString:we,map:le,merge:Ke,reduce:no},Symbol.toStringTag,{value:"Module"}));var _v=ft();function Q7(e,t){var r=le(t,function(n){return e.scale.parse(n)});return e.type==="time"&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function qme(e){var t=e.getLabelModel().get("customValues");if(t){var r=Ef(e),n=e.scale.getExtent(),i=Q7(e,t),o=mt(i,function(a){return a>=n[0]&&a<=n[1]});return{labels:le(o,function(a){var s={value:a};return{formattedLabel:r(s),rawLabel:e.scale.getLabel(s),tickValue:a}})}}return e.type==="category"?Qme(e):eye(e)}function Zme(e,t){var r=e.getTickModel().get("customValues");if(r){var n=e.scale.getExtent(),i=Q7(e,r);return{ticks:mt(i,function(o){return o>=n[0]&&o<=n[1]})}}return e.type==="category"?Jme(e,t):{ticks:le(e.scale.getTicks(),function(o){return o.value})}}function Qme(e){var t=e.getLabelModel(),r=J7(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function J7(e,t){var r=ej(e,"labels"),n=DE(t),i=tj(r,n);if(i)return i;var o,a;return Ie(n)?o=ij(e,n):(a=n==="auto"?tye(e):n,o=nj(e,a)),rj(r,n,{labels:o,labelCategoryInterval:a})}function Jme(e,t){var r=ej(e,"ticks"),n=DE(t),i=tj(r,n);if(i)return i;var o,a;if((!t.get("show")||e.scale.isBlank())&&(o=[]),Ie(n))o=ij(e,n,!0);else if(n==="auto"){var s=J7(e,e.getLabelModel());a=s.labelCategoryInterval,o=le(s.labels,function(l){return l.tickValue})}else a=n,o=nj(e,a,!0);return rj(r,n,{ticks:o,tickCategoryInterval:a})}function eye(e){var t=e.scale.getTicks(),r=Ef(e);return{labels:le(t,function(n,i){return{level:n.level,formattedLabel:r(n,i),rawLabel:e.scale.getLabel(n),tickValue:n.value}})}}function ej(e,t){return _v(e)[t]||(_v(e)[t]=[])}function tj(e,t){for(var r=0;r<e.length;r++)if(e[r].key===t)return e[r].value}function rj(e,t,r){return e.push({key:t,value:r}),r}function tye(e){var t=_v(e).autoInterval;return t??(_v(e).autoInterval=e.calculateCategoryInterval())}function rye(e){var t=nye(e),r=Ef(e),n=(t.axisRotate-t.labelRotate)/180*Math.PI,i=e.scale,o=i.getExtent(),a=i.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=o[0],u=e.dataToCoord(l+1)-e.dataToCoord(l),c=Math.abs(u*Math.cos(n)),d=Math.abs(u*Math.sin(n)),h=0,f=0;l<=o[1];l+=s){var g=0,m=0,y=am(r({value:l}),t.font,"center","top");g=y.width*1.3,m=y.height*1.3,h=Math.max(h,g,7),f=Math.max(f,m,7)}var C=h/c,w=f/d;isNaN(C)&&(C=1/0),isNaN(w)&&(w=1/0);var S=Math.max(0,Math.floor(Math.min(C,w))),x=_v(e.model),R=e.getExtent(),T=x.lastAutoInterval,P=x.lastTickCount;return T!=null&&P!=null&&Math.abs(T-S)<=1&&Math.abs(P-a)<=1&&T>S&&x.axisExtent0===R[0]&&x.axisExtent1===R[1]?S=T:(x.lastTickCount=a,x.lastAutoInterval=S,x.axisExtent0=R[0],x.axisExtent1=R[1]),S}function nye(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function nj(e,t,r){var n=Ef(e),i=e.scale,o=i.getExtent(),a=e.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=o[0],c=i.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var d=K7(e),h=a.get("showMinLabel")||d,f=a.get("showMaxLabel")||d;h&&u!==o[0]&&m(o[0]);for(var g=u;g<=o[1];g+=l)m(g);f&&g-l!==o[1]&&m(o[1]);function m(y){var C={value:y};s.push(r?y:{formattedLabel:n(C),rawLabel:i.getLabel(C),tickValue:y})}return s}function ij(e,t,r){var n=e.scale,i=Ef(e),o=[];return F(n.getTicks(),function(a){var s=n.getLabel(a),l=a.value;t(a.value,s)&&o.push(r?l:{formattedLabel:i(a),rawLabel:s,tickValue:l})}),o}var oB=[0,1],uo=function(){function e(t,r,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=r,this._extent=n||[0,0]}return e.prototype.contain=function(t){var r=this._extent,n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return t>=n&&t<=i},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return TI(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,r){var n=this._extent;n[0]=t,n[1]=r},e.prototype.dataToCoord=function(t,r){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&i.type==="ordinal"&&(n=n.slice(),aB(n,i.count())),Ct(t,oB,n,r)},e.prototype.coordToData=function(t,r){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),aB(n,i.count()));var o=Ct(t,n,oB,r);return this.scale.scale(o)},e.prototype.pointToData=function(t,r){},e.prototype.getTicksCoords=function(t){t=t||{};var r=t.tickModel||this.getTickModel(),n=Zme(this,r),i=n.ticks,o=le(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),a=r.get("alignWithLabel");return iye(this,o,a,t.clamp),o},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),r=t.get("splitNumber");r>0&&r<100||(r=5);var n=this.scale.getMinorTicks(r),i=le(n,function(o){return le(o,function(a){return{coord:this.dataToCoord(a),tickValue:a}},this)},this);return i},e.prototype.getViewLabels=function(){return qme(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,r=this.scale.getExtent(),n=r[1]-r[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},e.prototype.calculateCategoryInterval=function(){return rye(this)},e}();function aB(e,t){var r=e[1]-e[0],n=t,i=r/n/2;e[0]+=i,e[1]-=i}function iye(e,t,r,n){var i=t.length;if(!e.onBand||r||!i)return;var o=e.getExtent(),a,s;if(i===1)t[0].coord=o[0],a=t[1]={coord:o[1],tickValue:t[0].tickValue};else{var l=t[i-1].tickValue-t[0].tickValue,u=(t[i-1].coord-t[0].coord)/l;F(t,function(f){f.coord-=u/2});var c=e.scale.getExtent();s=1+c[1]-t[i-1].tickValue,a={coord:t[i-1].coord+u*s,tickValue:c[1]+1},t.push(a)}var d=o[0]>o[1];h(t[0].coord,o[0])&&(n?t[0].coord=o[0]:t.shift()),n&&h(o[0],t[0].coord)&&t.unshift({coord:o[0]}),h(o[1],a.coord)&&(n?a.coord=o[1]:t.pop()),n&&h(a.coord,o[1])&&t.push({coord:o[1]});function h(f,g){return f=Zt(f),g=Zt(g),d?f>g:f<g}}function oye(e){var t=tt.extend(e);return tt.registerClass(t),t}function aye(e){var t=zt.extend(e);return zt.registerClass(t),t}function sye(e){var t=Tt.extend(e);return Tt.registerClass(t),t}function lye(e){var t=bt.extend(e);return bt.registerClass(t),t}var Xp=Math.PI*2,Bu=Ea.CMD,uye=["top","right","bottom","left"];function cye(e,t,r,n,i){var o=r.width,a=r.height;switch(e){case"top":n.set(r.x+o/2,r.y-t),i.set(0,-1);break;case"bottom":n.set(r.x+o/2,r.y+a+t),i.set(0,1);break;case"left":n.set(r.x-t,r.y+a/2),i.set(-1,0);break;case"right":n.set(r.x+o+t,r.y+a/2),i.set(1,0);break}}function dye(e,t,r,n,i,o,a,s,l){a-=e,s-=t;var u=Math.sqrt(a*a+s*s);a/=u,s/=u;var c=a*r+e,d=s*r+t;if(Math.abs(n-i)%Xp<1e-4)return l[0]=c,l[1]=d,u-r;if(o){var h=n;n=yi(i),i=yi(h)}else n=yi(n),i=yi(i);n>i&&(i+=Xp);var f=Math.atan2(s,a);if(f<0&&(f+=Xp),f>=n&&f<=i||f+Xp>=n&&f+Xp<=i)return l[0]=c,l[1]=d,u-r;var g=r*Math.cos(n)+e,m=r*Math.sin(n)+t,y=r*Math.cos(i)+e,C=r*Math.sin(i)+t,w=(g-a)*(g-a)+(m-s)*(m-s),S=(y-a)*(y-a)+(C-s)*(C-s);return w<S?(l[0]=g,l[1]=m,Math.sqrt(w)):(l[0]=y,l[1]=C,Math.sqrt(S))}function A0(e,t,r,n,i,o,a,s){var l=i-e,u=o-t,c=r-e,d=n-t,h=Math.sqrt(c*c+d*d);c/=h,d/=h;var f=l*c+u*d,g=f/h;s&&(g=Math.min(Math.max(g,0),1)),g*=h;var m=a[0]=e+g*c,y=a[1]=t+g*d;return Math.sqrt((m-i)*(m-i)+(y-o)*(y-o))}function oj(e,t,r,n,i,o,a){r<0&&(e=e+r,r=-r),n<0&&(t=t+n,n=-n);var s=e+r,l=t+n,u=a[0]=Math.min(Math.max(i,e),s),c=a[1]=Math.min(Math.max(o,t),l);return Math.sqrt((u-i)*(u-i)+(c-o)*(c-o))}var Ro=[];function hye(e,t,r){var n=oj(t.x,t.y,t.width,t.height,e.x,e.y,Ro);return r.set(Ro[0],Ro[1]),n}function fye(e,t,r){for(var n=0,i=0,o=0,a=0,s,l,u=1/0,c=t.data,d=e.x,h=e.y,f=0;f<c.length;){var g=c[f++];f===1&&(n=c[f],i=c[f+1],o=n,a=i);var m=u;switch(g){case Bu.M:o=c[f++],a=c[f++],n=o,i=a;break;case Bu.L:m=A0(n,i,c[f],c[f+1],d,h,Ro,!0),n=c[f++],i=c[f++];break;case Bu.C:m=V6(n,i,c[f++],c[f++],c[f++],c[f++],c[f],c[f+1],d,h,Ro),n=c[f++],i=c[f++];break;case Bu.Q:m=H6(n,i,c[f++],c[f++],c[f],c[f+1],d,h,Ro),n=c[f++],i=c[f++];break;case Bu.A:var y=c[f++],C=c[f++],w=c[f++],S=c[f++],x=c[f++],R=c[f++];f+=1;var T=!!(1-c[f++]);s=Math.cos(x)*w+y,l=Math.sin(x)*S+C,f<=1&&(o=s,a=l);var P=(d-y)*S/w+y;m=dye(y,C,S,x,x+R,T,P,h,Ro),n=Math.cos(x+R)*w+y,i=Math.sin(x+R)*S+C;break;case Bu.R:o=n=c[f++],a=i=c[f++];var D=c[f++],I=c[f++];m=oj(o,a,D,I,d,h,Ro);break;case Bu.Z:m=A0(n,i,o,a,d,h,Ro,!0),n=o,i=a;break}m<u&&(u=m,r.set(Ro[0],Ro[1]))}return u}var Ao=new Xe,Nt=new Xe,cr=new Xe,ma=new Xe,ha=new Xe;function sB(e,t){if(e){var r=e.getTextGuideLine(),n=e.getTextContent();if(n&&r){var i=e.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=i.candidates||uye,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var l=1/0,u=i.anchor,c=e.getComputedTransform(),d=c&&Uc([],c),h=t.get("length2")||0;u&&cr.copy(u);for(var f=0;f<a.length;f++){var g=a[f];cye(g,0,s,Ao,ma),Xe.scaleAndAdd(Nt,Ao,ma,h),Nt.transform(d);var m=e.getBoundingRect(),y=u?u.distance(Nt):e instanceof nt?fye(Nt,e.path,cr):hye(Nt,m,cr);y<l&&(l=y,Nt.transform(c),cr.transform(c),cr.toArray(o[0]),Nt.toArray(o[1]),Ao.toArray(o[2]))}aj(o,t.get("minTurnAngle")),r.setShape({points:o})}}}var I0=[],Mn=new Xe;function aj(e,t){if(t<=180&&t>0){t=t/180*Math.PI,Ao.fromArray(e[0]),Nt.fromArray(e[1]),cr.fromArray(e[2]),Xe.sub(ma,Ao,Nt),Xe.sub(ha,cr,Nt);var r=ma.len(),n=ha.len();if(!(r<.001||n<.001)){ma.scale(1/r),ha.scale(1/n);var i=ma.dot(ha),o=Math.cos(t);if(o<i){var a=A0(Nt.x,Nt.y,cr.x,cr.y,Ao.x,Ao.y,I0,!1);Mn.fromArray(I0),Mn.scaleAndAdd(ha,a/Math.tan(Math.PI-t));var s=cr.x!==Nt.x?(Mn.x-Nt.x)/(cr.x-Nt.x):(Mn.y-Nt.y)/(cr.y-Nt.y);if(isNaN(s))return;s<0?Xe.copy(Mn,Nt):s>1&&Xe.copy(Mn,cr),Mn.toArray(e[1])}}}}function pye(e,t,r){if(r<=180&&r>0){r=r/180*Math.PI,Ao.fromArray(e[0]),Nt.fromArray(e[1]),cr.fromArray(e[2]),Xe.sub(ma,Nt,Ao),Xe.sub(ha,cr,Nt);var n=ma.len(),i=ha.len();if(!(n<.001||i<.001)){ma.scale(1/n),ha.scale(1/i);var o=ma.dot(t),a=Math.cos(r);if(o<a){var s=A0(Nt.x,Nt.y,cr.x,cr.y,Ao.x,Ao.y,I0,!1);Mn.fromArray(I0);var l=Math.PI/2,u=Math.acos(ha.dot(t)),c=l+u-r;if(c>=l)Xe.copy(Mn,cr);else{Mn.scaleAndAdd(ha,s/Math.tan(Math.PI/2-c));var d=cr.x!==Nt.x?(Mn.x-Nt.x)/(cr.x-Nt.x):(Mn.y-Nt.y)/(cr.y-Nt.y);if(isNaN(d))return;d<0?Xe.copy(Mn,Nt):d>1&&Xe.copy(Mn,cr)}Mn.toArray(e[1])}}}}function UR(e,t,r,n){var i=r==="normal",o=i?e:e.ensureState(r);o.ignore=t;var a=n.get("smooth");a&&a===!0&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=n.getModel("lineStyle").getLineStyle();i?e.useStyle(s):o.style=s}function gye(e,t){var r=t.smooth,n=t.points;if(n)if(e.moveTo(n[0][0],n[0][1]),r>0&&n.length>=3){var i=us(n[0],n[1]),o=us(n[1],n[2]);if(!i||!o){e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]);return}var a=Math.min(i,o)*r,s=kg([],n[1],n[0],a/i),l=kg([],n[1],n[2],a/o),u=kg([],s,l,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)e.lineTo(n[c][0],n[c][1])}function AE(e,t,r){var n=e.getTextGuideLine(),i=e.getTextContent();if(!i){n&&e.removeTextGuideLine();return}for(var o=t.normal,a=o.get("show"),s=i.ignore,l=0;l<vv.length;l++){var u=vv[l],c=t[u],d=u==="normal";if(c){var h=c.get("show"),f=d?s:Ue(i.states[u]&&i.states[u].ignore,s);if(f||!Ue(h,a)){var g=d?n:n&&n.states[u];g&&(g.ignore=!0),n&&UR(n,!0,u,c);continue}n||(n=new Rn,e.setTextGuideLine(n),!d&&(s||!a)&&UR(n,!0,"normal",t.normal),e.stateProxy&&(n.stateProxy=e.stateProxy)),UR(n,!1,u,c)}}if(n){Ee(n.style,r),n.style.fill=null;var m=o.get("showAbove"),y=e.textGuideLineConfig=e.textGuideLineConfig||{};y.showAbove=m||!1,n.buildPath=gye}}function IE(e,t){t=t||"labelLine";for(var r={normal:e.getModel(t)},n=0;n<Bn.length;n++){var i=Bn[n];r[i]=e.getModel([i,t])}return r}function sj(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(!n.defaultAttr.ignore){var i=n.label,o=i.getComputedTransform(),a=i.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=i.style.margin||0,u=a.clone();u.applyTransform(o),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=s?new h0(a,o):null;t.push({label:i,labelLine:n.labelLine,rect:u,localRect:a,obb:c,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:s,transform:o})}}return t}function lj(e,t,r,n,i,o){var a=e.length;if(a<2)return;e.sort(function(T,P){return T.rect[t]-P.rect[t]});for(var s=0,l,u=!1,c=0;c<a;c++){var d=e[c],h=d.rect;l=h[t]-s,l<0&&(h[t]-=l,d.label[t]-=l,u=!0),s=h[t]+h[r]}var f=e[0],g=e[a-1],m,y;C(),m<0&&x(-m,.8),y<0&&x(y,.8),C(),w(m,y,1),w(y,m,-1),C(),m<0&&R(-m),y<0&&R(y);function C(){m=f.rect[t]-n,y=i-g.rect[t]-g.rect[r]}function w(T,P,D){if(T<0){var I=Math.min(P,-T);if(I>0){S(I*D,0,a);var E=I+T;E<0&&x(-E*D,1)}else x(-T*D,1)}}function S(T,P,D){T!==0&&(u=!0);for(var I=P;I<D;I++){var E=e[I],k=E.rect;k[t]+=T,E.label[t]+=T}}function x(T,P){for(var D=[],I=0,E=1;E<a;E++){var k=e[E-1].rect,L=Math.max(e[E].rect[t]-k[t]-k[r],0);D.push(L),I+=L}if(I){var N=Math.min(Math.abs(T)/I,P);if(T>0)for(var E=0;E<a-1;E++){var B=D[E]*N;S(B,0,E+1)}else for(var E=a-1;E>0;E--){var B=D[E-1]*N;S(-B,E,a)}}}function R(T){var P=T<0?-1:1;T=Math.abs(T);for(var D=Math.ceil(T/(a-1)),I=0;I<a-1;I++)if(P>0?S(D,0,I+1):S(-D,a-I-1,a),T-=D,T<=0)return}return u}function vye(e,t,r,n){return lj(e,"x","width",t,r)}function uj(e,t,r,n){return lj(e,"y","height",t,r)}function cj(e){var t=[];e.sort(function(m,y){return y.priority-m.priority});var r=new qe(0,0,0,0);function n(m){if(!m.ignore){var y=m.ensureState("emphasis");y.ignore==null&&(y.ignore=!1)}m.ignore=!0}for(var i=0;i<e.length;i++){var o=e[i],a=o.axisAligned,s=o.localRect,l=o.transform,u=o.label,c=o.labelLine;r.copy(o.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var d=o.obb,h=!1,f=0;f<t.length;f++){var g=t[f];if(r.intersect(g.rect)){if(a&&g.axisAligned){h=!0;break}if(g.obb||(g.obb=new h0(g.localRect,g.transform)),d||(d=new h0(s,l)),d.intersect(g.obb)){h=!0;break}}}h?(n(u),c&&n(c)):(u.attr("ignore",o.defaultAttr.ignore),c&&c.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}function mye(e){if(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].slice());return t}}function yye(e,t){var r=e.label,n=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:mye(n&&n.shape.points)}}var lB=["align","verticalAlign","width","height","fontSize"],Dn=new hs,jR=ft(),Cye=ft();function TC(e,t,r){for(var n=0;n<r.length;n++){var i=r[n];t[i]!=null&&(e[i]=t[i])}}var PC=["x","y","rotation"],wye=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(t,r,n,i,o){var a=i.style,s=i.__hostTarget,l=s.textConfig||{},u=i.getComputedTransform(),c=i.getBoundingRect().plain();qe.applyTransform(c,c,u),u?Dn.setLocalTransform(u):(Dn.x=Dn.y=Dn.rotation=Dn.originX=Dn.originY=0,Dn.scaleX=Dn.scaleY=1),Dn.rotation=yi(Dn.rotation);var d=i.__hostTarget,h;if(d){h=d.getBoundingRect().plain();var f=d.getComputedTransform();qe.applyTransform(h,h,f)}var g=h&&d.getTextGuideLine();this._labelList.push({label:i,labelLine:g,seriesModel:n,dataIndex:t,dataType:r,layoutOption:o,computedLayoutOption:null,rect:c,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:g&&g.ignore,x:Dn.x,y:Dn.y,scaleX:Dn.scaleX,scaleY:Dn.scaleY,rotation:Dn.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},e.prototype.addLabelsOfSeries=function(t){var r=this;this._chartViewList.push(t);var n=t.__model,i=n.get("labelLayout");(Ie(i)||at(i).length)&&t.group.traverse(function(o){if(o.ignore)return!0;var a=o.getTextContent(),s=Ve(o);a&&!a.disableLabelLayout&&r._addLabel(s.dataIndex,s.dataType,n,a,i)})},e.prototype.updateLayoutConfig=function(t){var r=t.getWidth(),n=t.getHeight();function i(S,x){return function(){sB(S,x)}}for(var o=0;o<this._labelList.length;o++){var a=this._labelList[o],s=a.label,l=s.__hostTarget,u=a.defaultAttr,c=void 0;Ie(a.layoutOption)?c=a.layoutOption(yye(a,l)):c=a.layoutOption,c=c||{},a.computedLayoutOption=c;var d=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*d:u.attachedRot,offset:[c.dx||0,c.dy||0]});var h=!1;if(c.x!=null?(s.x=me(c.x,r),s.setStyle("x",0),h=!0):(s.x=u.x,s.setStyle("x",u.style.x)),c.y!=null?(s.y=me(c.y,n),s.setStyle("y",0),h=!0):(s.y=u.y,s.setStyle("y",u.style.y)),c.labelLinePoints){var f=l.getTextGuideLine();f&&(f.setShape({points:c.labelLinePoints}),h=!1)}var g=jR(s);g.needsUpdateLabelLine=h,s.rotation=c.rotate!=null?c.rotate*d:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var m=0;m<lB.length;m++){var y=lB[m];s.setStyle(y,c[y]!=null?c[y]:u.style[y])}if(c.draggable){if(s.draggable=!0,s.cursor="move",l){var C=a.seriesModel;if(a.dataIndex!=null){var w=a.seriesModel.getData(a.dataType);C=w.getItemModel(a.dataIndex)}s.on("drag",i(l,C.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},e.prototype.layout=function(t){var r=t.getWidth(),n=t.getHeight(),i=sj(this._labelList),o=mt(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),a=mt(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});vye(o,0,r),uj(a,0,n);var s=mt(i,function(l){return l.layoutOption.hideOverlap});cj(s)},e.prototype.processLabelsOverall=function(){var t=this;F(this._chartViewList,function(r){var n=r.__model,i=r.ignoreLabelLineUpdate,o=n.isAnimationEnabled();r.group.traverse(function(a){if(a.ignore&&!a.forceLabelAnimation)return!0;var s=!i,l=a.getTextContent();!s&&l&&(s=jR(l).needsUpdateLabelLine),s&&t._updateLabelLine(a,n),o&&t._animateLabels(a,n)})})},e.prototype._updateLabelLine=function(t,r){var n=t.getTextContent(),i=Ve(t),o=i.dataIndex;if(n&&o!=null){var a=r.getData(i.dataType),s=a.getItemModel(o),l={},u=a.getItemVisual(o,"style");if(u){var c=a.getVisual("drawType");l.stroke=u[c]}var d=s.getModel("labelLine");AE(t,IE(s),l),sB(t,d)}},e.prototype._animateLabels=function(t,r){var n=t.getTextContent(),i=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!Ph(t))){var o=jR(n),a=o.oldLayout,s=Ve(t),l=s.dataIndex,u={x:n.x,y:n.y,rotation:n.rotation},c=r.getData(s.dataType);if(a){n.attr(a);var h=t.prevStates;h&&(Ze(h,"select")>=0&&n.attr(o.oldLayoutSelect),Ze(h,"emphasis")>=0&&n.attr(o.oldLayoutEmphasis)),gt(n,u,r,l)}else if(n.attr(u),!Sf(n).valueAnimation){var d=Ue(n.style.opacity,1);n.style.opacity=0,Vt(n,{style:{opacity:d}},r,l)}if(o.oldLayout=u,n.states.select){var f=o.oldLayoutSelect={};TC(f,u,PC),TC(f,n.states.select,PC)}if(n.states.emphasis){var g=o.oldLayoutEmphasis={};TC(g,u,PC),TC(g,n.states.emphasis,PC)}t8(n,l,c,r,r)}if(i&&!i.ignore&&!i.invisible){var o=Cye(i),a=o.oldLayout,m={points:i.shape.points};a?(i.attr({shape:a}),gt(i,{shape:m},r)):(i.setShape(m),i.style.strokePercent=0,Vt(i,{style:{strokePercent:1}},r)),o.oldLayout=m}},e}(),YR=ft();function bye(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,r,n){var i=YR(r).labelManager;i||(i=YR(r).labelManager=new wye),i.clearLabels()}),e.registerUpdateLifecycle("series:layoutlabels",function(t,r,n){var i=YR(r).labelManager;n.updatedSeries.forEach(function(o){i.addLabelsOfSeries(r.getViewOfSeriesModel(o))}),i.updateLayoutConfig(r),i.layout(r),i.processLabelsOverall()})}var KR=Math.sin,XR=Math.cos,dj=Math.PI,Vu=Math.PI*2,Sye=180/dj,hj=function(){function e(){}return e.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},e.prototype.moveTo=function(t,r){this._add("M",t,r)},e.prototype.lineTo=function(t,r){this._add("L",t,r)},e.prototype.bezierCurveTo=function(t,r,n,i,o,a){this._add("C",t,r,n,i,o,a)},e.prototype.quadraticCurveTo=function(t,r,n,i){this._add("Q",t,r,n,i)},e.prototype.arc=function(t,r,n,i,o,a){this.ellipse(t,r,n,n,0,i,o,a)},e.prototype.ellipse=function(t,r,n,i,o,a,s,l){var u=s-a,c=!l,d=Math.abs(u),h=Pl(d-Vu)||(c?u>=Vu:-u>=Vu),f=u>0?u%Vu:u%Vu+Vu,g=!1;h?g=!0:Pl(d)?g=!1:g=f>=dj==!!c;var m=t+n*XR(a),y=r+i*KR(a);this._start&&this._add("M",m,y);var C=Math.round(o*Sye);if(h){var w=1/this._p,S=(c?1:-1)*(Vu-w);this._add("A",n,i,C,1,+c,t+n*XR(a+S),r+i*KR(a+S)),w>.01&&this._add("A",n,i,C,0,+c,m,y)}else{var x=t+n*XR(s),R=r+i*KR(s);this._add("A",n,i,C,+g,+c,x,R)}},e.prototype.rect=function(t,r,n,i){this._add("M",t,r),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(t,r,n,i,o,a,s,l,u){for(var c=[],d=this._p,h=1;h<arguments.length;h++){var f=arguments[h];if(isNaN(f)){this._invalid=!0;return}c.push(Math.round(f*d)/d)}this._d.push(t+c.join(" ")),this._start=t==="Z"},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),EE="none",xye=Math.round;function Rye(e){var t=e.fill;return t!=null&&t!==EE}function _ye(e){var t=e.stroke;return t!=null&&t!==EE}var oD=["lineCap","miterLimit","lineJoin"],Tye=le(oD,function(e){return"stroke-"+e.toLowerCase()});function Pye(e,t,r,n){var i=t.opacity==null?1:t.opacity;if(r instanceof Lr){e("opacity",i);return}if(Rye(t)){var o=pv(t.fill);e("fill",o.color);var a=t.fillOpacity!=null?t.fillOpacity*o.opacity*i:o.opacity*i;a<1&&e("fill-opacity",a)}else e("fill",EE);if(_ye(t)){var s=pv(t.stroke);e("stroke",s.color);var l=t.strokeNoScale?r.getLineScale():1,u=l?(t.lineWidth||0)/l:0,c=t.strokeOpacity!=null?t.strokeOpacity*s.opacity*i:s.opacity*i,d=t.strokeFirst;if(u!==1&&e("stroke-width",u),d&&e("paint-order",d?"stroke":"fill"),c<1&&e("stroke-opacity",c),t.lineDash){var h=hE(r),f=h[0],g=h[1];f&&(g=xye(g||0),e("stroke-dasharray",f.join(",")),(g||n)&&e("stroke-dashoffset",g))}for(var m=0;m<oD.length;m++){var y=oD[m];if(t[y]!==c0[y]){var C=t[y]||c0[y];C&&e(Tye[m],C)}}}}var fj="http://www.w3.org/2000/svg",pj="http://www.w3.org/1999/xlink",Dye="http://www.w3.org/2000/xmlns/",Aye="http://www.w3.org/XML/1998/namespace",uB="ecmeta_";function gj(e){return document.createElementNS(fj,e)}function Ir(e,t,r,n,i){return{tag:e,attrs:r||{},children:n,text:i,key:t}}function Iye(e,t){var r=[];if(t)for(var n in t){var i=t[n],o=n;i!==!1&&(i!==!0&&i!=null&&(o+='="'+i+'"'),r.push(o))}return"<"+e+" "+r.join(" ")+">"}function Eye(e){return"</"+e+">"}function ME(e,t){t=t||{};var r=t.newline?`
`:"";function n(i){var o=i.children,a=i.tag,s=i.attrs,l=i.text;return Iye(a,s)+(a!=="style"?gn(l):l||"")+(o?""+r+le(o,function(u){return n(u)}).join(r)+r:"")+Eye(a)}return n(e)}function Mye(e,t,r){r=r||{};var n=r.newline?`
`:"",i=" {"+n,o=n+"}",a=le(at(e),function(l){return l+i+le(at(e[l]),function(u){return u+":"+e[l][u]+";"}).join(n)+o}).join(n),s=le(at(t),function(l){return"@keyframes "+l+i+le(at(t[l]),function(u){return u+i+le(at(t[l][u]),function(c){var d=t[l][u][c];return c==="d"&&(d='path("'+d+'")'),c+":"+d+";"}).join(n)+o}).join(n)+o}).join(n);return!a&&!s?"":["<![CDATA[",a,s,"]]>"].join(n)}function aD(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function cB(e,t,r,n){return Ir("svg","root",{width:e,height:t,xmlns:fj,"xmlns:xlink":pj,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+e+" "+t:!1},r)}var kye=0;function vj(){return kye++}var dB={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Wu="transform-origin";function Fye(e,t,r){var n=ie({},e.shape);ie(n,t),e.buildPath(r,n);var i=new hj;return i.reset(X6(e)),r.rebuildPath(i,1),i.generateStr(),i.getStr()}function Lye(e,t){var r=t.originX,n=t.originY;(r||n)&&(e[Wu]=r+"px "+n+"px")}var Oye={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function mj(e,t){var r=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[r]=e,r}function Nye(e,t,r){var n=e.shape.paths,i={},o,a;if(F(n,function(l){var u=aD(r.zrId);u.animation=!0,fS(l,{},u,!0);var c=u.cssAnims,d=u.cssNodes,h=at(c),f=h.length;if(f){a=h[f-1];var g=c[a];for(var m in g){var y=g[m];i[m]=i[m]||{d:""},i[m].d+=y.d||""}for(var C in d){var w=d[C].animation;w.indexOf(a)>=0&&(o=w)}}}),!!o){t.d=!1;var s=mj(i,r);return o.replace(a,s)}}function hB(e){return we(e)?dB[e]?"cubic-bezier("+dB[e]+")":SI(e)?e:"":""}function fS(e,t,r,n){var i=e.animators,o=i.length,a=[];if(e instanceof Kb){var s=Nye(e,t,r);if(s)a.push(s);else if(!o)return}else if(!o)return;for(var l={},u=0;u<o;u++){var c=i[u],d=[c.getMaxTime()/1e3+"s"],h=hB(c.getClip().easing),f=c.getDelay();h?d.push(h):d.push("linear"),f&&d.push(f/1e3+"s"),c.getLoop()&&d.push("infinite");var g=d.join(" ");l[g]=l[g]||[g,[]],l[g][1].push(c)}function m(w){var S=w[1],x=S.length,R={},T={},P={},D="animation-timing-function";function I(ee,Z,fe){for(var de=ee.getTracks(),pe=ee.getMaxTime(),Ae=0;Ae<de.length;Ae++){var Oe=de[Ae];if(Oe.needsAnimate()){var Ge=Oe.keyframes,st=Oe.propName;if(fe&&(st=fe(st)),st)for(var Ft=0;Ft<Ge.length;Ft++){var fr=Ge[Ft],sr=Math.round(fr.time/pe*100)+"%",lr=hB(fr.easing),Lt=fr.rawValue;(we(Lt)||pt(Lt))&&(Z[sr]=Z[sr]||{},Z[sr][st]=fr.rawValue,lr&&(Z[sr][D]=lr))}}}}for(var E=0;E<x;E++){var k=S[E],L=k.targetName;L?L==="shape"&&I(k,T):!n&&I(k,R)}for(var N in R){var B={};eU(B,e),ie(B,R[N]);var V=q6(B),W=R[N][D];P[N]=V?{transform:V}:{},Lye(P[N],B),W&&(P[N][D]=W)}var j,G=!0;for(var N in T){P[N]=P[N]||{};var $=!j,W=T[N][D];$&&(j=new Ea);var K=j.len();j.reset(),P[N].d=Fye(e,T[N],j);var H=j.len();if(!$&&K!==H){G=!1;break}W&&(P[N][D]=W)}if(!G)for(var N in P)delete P[N].d;if(!n)for(var E=0;E<x;E++){var k=S[E],L=k.targetName;L==="style"&&I(k,P,function(de){return Oye[de]})}for(var U=at(P),ne=!0,oe,E=1;E<U.length;E++){var he=U[E-1],xe=U[E];if(P[he][Wu]!==P[xe][Wu]){ne=!1;break}oe=P[he][Wu]}if(ne&&oe){for(var N in P)P[N][Wu]&&delete P[N][Wu];t[Wu]=oe}if(mt(U,function(ee){return at(P[ee]).length>0}).length){var Be=mj(P,r);return Be+" "+w[0]+" both"}}for(var y in l){var s=m(l[y]);s&&a.push(s)}if(a.length){var C=r.zrId+"-cls-"+vj();r.cssNodes["."+C]={animation:a.join(",")},t.class=C}}function zye(e,t,r){if(!e.ignore)if(e.isSilent()){var n={"pointer-events":"none"};fB(n,t,r)}else{var i=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},o=i.fill;if(!o){var a=e.style&&e.style.fill,s=e.states.select&&e.states.select.style&&e.states.select.style.fill,l=e.currentStates.indexOf("select")>=0&&s||a;l&&(o=a0(l))}var u=i.lineWidth;if(u){var c=!i.strokeNoScale&&e.transform?e.transform[0]:1;u=u/c}var n={cursor:"pointer"};o&&(n.fill=o),i.stroke&&(n.stroke=i.stroke),u&&(n["stroke-width"]=u),fB(n,t,r)}}function fB(e,t,r,n){var i=JSON.stringify(e),o=r.cssStyleCache[i];o||(o=r.zrId+"-cls-"+vj(),r.cssStyleCache[i]=o,r.cssNodes["."+o+":hover"]=e),t.class=t.class?t.class+" "+o:o}var Tv=Math.round;function yj(e){return e&&we(e.src)}function Cj(e){return e&&Ie(e.toDataURL)}function kE(e,t,r,n){Pye(function(i,o){var a=i==="fill"||i==="stroke";a&&K6(o)?bj(t,e,i,n):a&&RI(o)?Sj(r,e,i,n):e[i]=o,a&&n.ssr&&o==="none"&&(e["pointer-events"]="visible")},t,r,!1),Uye(r,e,n)}function FE(e,t){var r=nU(t);r&&(r.each(function(n,i){n!=null&&(e[(uB+i).toLowerCase()]=n+"")}),t.isSilent()&&(e[uB+"silent"]="true"))}function pB(e){return Pl(e[0]-1)&&Pl(e[1])&&Pl(e[2])&&Pl(e[3]-1)}function Bye(e){return Pl(e[4])&&Pl(e[5])}function LE(e,t,r){if(t&&!(Bye(t)&&pB(t))){var n=1e4;e.transform=pB(t)?"translate("+Tv(t[4]*n)/n+" "+Tv(t[5]*n)/n+")":Hce(t)}}function gB(e,t,r){for(var n=e.points,i=[],o=0;o<n.length;o++)i.push(Tv(n[o][0]*r)/r),i.push(Tv(n[o][1]*r)/r);t.points=i.join(" ")}function vB(e){return!e.smooth}function Vye(e){var t=le(e,function(r){return typeof r=="string"?[r,r]:r});return function(r,n,i){for(var o=0;o<t.length;o++){var a=t[o],s=r[a[0]];s!=null&&(n[a[1]]=Tv(s*i)/i)}}}var Gye={circle:[Vye(["cx","cy","r"])],polyline:[gB,vB],polygon:[gB,vB]};function Hye(e){for(var t=e.animators,r=0;r<t.length;r++)if(t[r].targetName==="shape")return!0;return!1}function wj(e,t){var r=e.style,n=e.shape,i=Gye[e.type],o={},a=t.animation,s="path",l=e.style.strokePercent,u=t.compress&&X6(e)||4;if(i&&!t.willUpdate&&!(i[1]&&!i[1](n))&&!(a&&Hye(e))&&!(l<1)){s=e.type;var c=Math.pow(10,u);i[0](n,o,c)}else{var d=!e.path||e.shapeChanged();e.path||e.createPathProxy();var h=e.path;d&&(h.beginPath(),e.buildPath(h,e.shape),e.pathUpdated());var f=h.getVersion(),g=e,m=g.__svgPathBuilder;(g.__svgPathVersion!==f||!m||l!==g.__svgPathStrokePercent)&&(m||(m=g.__svgPathBuilder=new hj),m.reset(u),h.rebuildPath(m,l),m.generateStr(),g.__svgPathVersion=f,g.__svgPathStrokePercent=l),o.d=m.getStr()}return LE(o,e.transform),kE(o,r,e,t),FE(o,e),t.animation&&fS(e,o,t),t.emphasis&&zye(e,o,t),Ir(s,e.id+"",o)}function Wye(e,t){var r=e.style,n=r.image;if(n&&!we(n)&&(yj(n)?n=n.src:Cj(n)&&(n=n.toDataURL())),!!n){var i=r.x||0,o=r.y||0,a=r.width,s=r.height,l={href:n,width:a,height:s};return i&&(l.x=i),o&&(l.y=o),LE(l,e.transform),kE(l,r,e,t),FE(l,e),t.animation&&fS(e,l,t),Ir("image",e.id+"",l)}}function $ye(e,t){var r=e.style,n=r.text;if(n!=null&&(n+=""),!(!n||isNaN(r.x)||isNaN(r.y))){var i=r.font||Wl,o=r.x||0,a=$ce(r.y||0,Bb(i),r.textBaseline),s=Wce[r.textAlign]||r.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(DU(r)){var u="",c=r.fontStyle,d=PU(r.fontSize);if(!parseFloat(d))return;var h=r.fontFamily||y6,f=r.fontWeight;u+="font-size:"+d+";font-family:"+h+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),f&&f!=="normal"&&(u+="font-weight:"+f+";"),l.style=u}else l.style="font: "+i;return n.match(/\s/)&&(l["xml:space"]="preserve"),o&&(l.x=o),a&&(l.y=a),LE(l,e.transform),kE(l,r,e,t),FE(l,e),t.animation&&fS(e,l,t),Ir("text",e.id+"",l,void 0,n)}}function mB(e,t){if(e instanceof nt)return wj(e,t);if(e instanceof Lr)return Wye(e,t);if(e instanceof Uh)return $ye(e,t)}function Uye(e,t,r){var n=e.style;if(Uce(n)){var i=jce(e),o=r.shadowCache,a=o[i];if(!a){var s=e.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var c=n.shadowOffsetX||0,d=n.shadowOffsetY||0,h=n.shadowBlur,f=pv(n.shadowColor),g=f.opacity,m=f.color,y=h/2/l,C=h/2/u,w=y+" "+C;a=r.zrId+"-s"+r.shadowIdx++,r.defs[a]=Ir("filter",a,{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Ir("feDropShadow","",{dx:c/l,dy:d/u,stdDeviation:w,"flood-color":m,"flood-opacity":g})]),o[i]=a}t.filter=zb(a)}}function bj(e,t,r,n){var i=e[r],o,a={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(j6(i))o="linearGradient",a.x1=i.x,a.y1=i.y,a.x2=i.x2,a.y2=i.y2;else if(Y6(i))o="radialGradient",a.cx=Ue(i.x,.5),a.cy=Ue(i.y,.5),a.r=Ue(i.r,.5);else return;for(var s=i.colorStops,l=[],u=0,c=s.length;u<c;++u){var d=gP(s[u].offset)*100+"%",h=s[u].color,f=pv(h),g=f.color,m=f.opacity,y={offset:d};y["stop-color"]=g,m<1&&(y["stop-opacity"]=m),l.push(Ir("stop",u+"",y))}var C=Ir(o,"",a,l),w=ME(C),S=n.gradientCache,x=S[w];x||(x=n.zrId+"-g"+n.gradientIdx++,S[w]=x,a.id=x,n.defs[x]=Ir(o,x,a,l)),t[r]=zb(x)}function Sj(e,t,r,n){var i=e.style[r],o=e.getBoundingRect(),a={},s=i.repeat,l=s==="no-repeat",u=s==="repeat-x",c=s==="repeat-y",d;if(U6(i)){var h=i.imageWidth,f=i.imageHeight,g=void 0,m=i.image;if(we(m)?g=m:yj(m)?g=m.src:Cj(m)&&(g=m.toDataURL()),typeof Image>"u"){var y="Image width/height must been given explictly in svg-ssr renderer.";Cn(h,y),Cn(f,y)}else if(h==null||f==null){var C=function(E,k){if(E){var L=E.elm,N=h||k.width,B=f||k.height;E.tag==="pattern"&&(u?(B=1,N/=o.width):c&&(N=1,B/=o.height)),E.attrs.width=N,E.attrs.height=B,L&&(L.setAttribute("width",N),L.setAttribute("height",B))}},w=kI(g,null,e,function(E){l||C(T,E),C(d,E)});w&&w.width&&w.height&&(h=h||w.width,f=f||w.height)}d=Ir("image","img",{href:g,width:h,height:f}),a.width=h,a.height=f}else i.svgElement&&(d=Fe(i.svgElement),a.width=i.svgWidth,a.height=i.svgHeight);if(d){var S,x;l?S=x=1:u?(x=1,S=a.width/o.width):c?(S=1,x=a.height/o.height):a.patternUnits="userSpaceOnUse",S!=null&&!isNaN(S)&&(a.width=S),x!=null&&!isNaN(x)&&(a.height=x);var R=q6(i);R&&(a.patternTransform=R);var T=Ir("pattern","",a,[d]),P=ME(T),D=n.patternCache,I=D[P];I||(I=n.zrId+"-p"+n.patternIdx++,D[P]=I,a.id=I,T=n.defs[I]=Ir("pattern",I,a,[d])),t[r]=zb(I)}}function jye(e,t,r){var n=r.clipPathCache,i=r.defs,o=n[e.id];if(!o){o=r.zrId+"-c"+r.clipPathIdx++;var a={id:o};n[e.id]=o,i[o]=Ir("clipPath",o,a,[wj(e,r)])}t["clip-path"]=zb(o)}function yB(e){return document.createTextNode(e)}function Qu(e,t,r){e.insertBefore(t,r)}function CB(e,t){e.removeChild(t)}function wB(e,t){e.appendChild(t)}function xj(e){return e.parentNode}function Rj(e){return e.nextSibling}function qR(e,t){e.textContent=t}var bB=58,Yye=120,Kye=Ir("","");function sD(e){return e===void 0}function la(e){return e!==void 0}function Xye(e,t,r){for(var n={},i=t;i<=r;++i){var o=e[i].key;o!==void 0&&(n[o]=i)}return n}function bg(e,t){var r=e.key===t.key,n=e.tag===t.tag;return n&&r}function Pv(e){var t,r=e.children,n=e.tag;if(la(n)){var i=e.elm=gj(n);if(OE(Kye,e),se(r))for(t=0;t<r.length;++t){var o=r[t];o!=null&&wB(i,Pv(o))}else la(e.text)&&!ke(e.text)&&wB(i,yB(e.text))}else e.elm=yB(e.text);return e.elm}function _j(e,t,r,n,i){for(;n<=i;++n){var o=r[n];o!=null&&Qu(e,Pv(o),t)}}function E0(e,t,r,n){for(;r<=n;++r){var i=t[r];if(i!=null)if(la(i.tag)){var o=xj(i.elm);CB(o,i.elm)}else CB(e,i.elm)}}function OE(e,t){var r,n=t.elm,i=e&&e.attrs||{},o=t.attrs||{};if(i!==o){for(r in o){var a=o[r],s=i[r];s!==a&&(a===!0?n.setAttribute(r,""):a===!1?n.removeAttribute(r):r==="style"?n.style.cssText=a:r.charCodeAt(0)!==Yye?n.setAttribute(r,a):r==="xmlns:xlink"||r==="xmlns"?n.setAttributeNS(Dye,r,a):r.charCodeAt(3)===bB?n.setAttributeNS(Aye,r,a):r.charCodeAt(5)===bB?n.setAttributeNS(pj,r,a):n.setAttribute(r,a))}for(r in i)r in o||n.removeAttribute(r)}}function qye(e,t,r){for(var n=0,i=0,o=t.length-1,a=t[0],s=t[o],l=r.length-1,u=r[0],c=r[l],d,h,f,g;n<=o&&i<=l;)a==null?a=t[++n]:s==null?s=t[--o]:u==null?u=r[++i]:c==null?c=r[--l]:bg(a,u)?(lh(a,u),a=t[++n],u=r[++i]):bg(s,c)?(lh(s,c),s=t[--o],c=r[--l]):bg(a,c)?(lh(a,c),Qu(e,a.elm,Rj(s.elm)),a=t[++n],c=r[--l]):bg(s,u)?(lh(s,u),Qu(e,s.elm,a.elm),s=t[--o],u=r[++i]):(sD(d)&&(d=Xye(t,n,o)),h=d[u.key],sD(h)?Qu(e,Pv(u),a.elm):(f=t[h],f.tag!==u.tag?Qu(e,Pv(u),a.elm):(lh(f,u),t[h]=void 0,Qu(e,f.elm,a.elm))),u=r[++i]);(n<=o||i<=l)&&(n>o?(g=r[l+1]==null?null:r[l+1].elm,_j(e,g,r,i,l)):E0(e,t,n,o))}function lh(e,t){var r=t.elm=e.elm,n=e.children,i=t.children;e!==t&&(OE(e,t),sD(t.text)?la(n)&&la(i)?n!==i&&qye(r,n,i):la(i)?(la(e.text)&&qR(r,""),_j(r,null,i,0,i.length-1)):la(n)?E0(r,n,0,n.length-1):la(e.text)&&qR(r,""):e.text!==t.text&&(la(n)&&E0(r,n,0,n.length-1),qR(r,t.text)))}function Zye(e,t){if(bg(e,t))lh(e,t);else{var r=e.elm,n=xj(r);Pv(t),n!==null&&(Qu(n,t.elm,Rj(r)),E0(n,[e],0,0))}return t}var Qye=0,Jye=function(){function e(t,r,n){if(this.type="svg",this.refreshHover=SB(),this.configLayer=SB(),this.storage=r,this._opts=n=ie({},n),this.root=t,this._id="zr"+Qye++,this._oldVNode=cB(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=gj("svg");OE(null,this._oldVNode),i.appendChild(o),t.appendChild(i)}this.resize(n.width,n.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",Zye(this._oldVNode,t),this._oldVNode=t}},e.prototype.renderOneToVNode=function(t){return mB(t,aD(this._id))},e.prototype.renderToVNode=function(t){t=t||{};var r=this.storage.getDisplayList(!0),n=this._width,i=this._height,o=aD(this._id);o.animation=t.animation,o.willUpdate=t.willUpdate,o.compress=t.compress,o.emphasis=t.emphasis,o.ssr=this._opts.ssr;var a=[],s=this._bgVNode=eCe(n,i,this._backgroundColor,o);s&&a.push(s);var l=t.compress?null:this._mainVNode=Ir("g","main",{},[]);this._paintList(r,o,l?l.children:a),l&&a.push(l);var u=le(at(o.defs),function(h){return o.defs[h]});if(u.length&&a.push(Ir("defs","defs",{},u)),t.animation){var c=Mye(o.cssNodes,o.cssAnims,{newline:!0});if(c){var d=Ir("style","stl",{},[],c);a.push(d)}}return cB(n,i,a,t.useViewBox)},e.prototype.renderToString=function(t){return t=t||{},ME(this.renderToVNode({animation:Ue(t.cssAnimation,!0),emphasis:Ue(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:Ue(t.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(t,r,n){for(var i=t.length,o=[],a=0,s,l,u=0,c=0;c<i;c++){var d=t[c];if(!d.invisible){var h=d.__clipPaths,f=h&&h.length||0,g=l&&l.length||0,m=void 0;for(m=Math.max(f-1,g-1);m>=0&&!(h&&l&&h[m]===l[m]);m--);for(var y=g-1;y>m;y--)a--,s=o[a-1];for(var C=m+1;C<f;C++){var w={};jye(h[C],w,r);var S=Ir("g","clip-g-"+u++,w,[]);(s?s.children:n).push(S),o[a++]=S,s=S}l=h;var x=mB(d,r);x&&(s?s.children:n).push(x)}}},e.prototype.resize=function(t,r){var n=this._opts,i=this.root,o=this._viewport;if(t!=null&&(n.width=t),r!=null&&(n.height=r),i&&o&&(o.style.display="none",t=gh(i,0,n),r=gh(i,1,n),o.style.display=""),this._width!==t||this._height!==r){if(this._width=t,this._height=r,o){var a=o.style;a.width=t+"px",a.height=r+"px"}if(RI(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",t),s.setAttribute("height",r));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",r))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(t){var r=this.renderToString(),n="data:image/svg+xml;";return t?(r=Kce(r),r&&n+"base64,"+r):n+"charset=UTF-8,"+encodeURIComponent(r)},e}();function SB(e){return function(){}}function eCe(e,t,r,n){var i;if(r&&r!=="none")if(i=Ir("rect","bg",{width:e,height:t,x:"0",y:"0"}),K6(r))bj({fill:r},i.attrs,"fill",n);else if(RI(r))Sj({style:{fill:r},dirty:ir,getBoundingRect:function(){return{width:e,height:t}}},i.attrs,"fill",n);else{var o=pv(r),a=o.color,s=o.opacity;i.attrs.fill=a,s<1&&(i.attrs["fill-opacity"]=s)}return i}function tCe(e){e.registerPainter("svg",Jye)}function xB(e,t,r){var n=No.createCanvas(),i=t.getWidth(),o=t.getHeight(),a=n.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=i+"px",a.height=o+"px",n.setAttribute("data-zr-dom-id",e)),n.width=i*r,n.height=o*r,n}var ZR=function(e){q(t,e);function t(r,n,i){var o=e.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null;var a;i=i||l0,typeof r=="string"?a=xB(r,n,i):ke(r)&&(a=r,r=a.id),o.id=r,o.dom=a;var s=a.style;return s&&(CI(a),a.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),o.painter=n,o.dpr=i,o}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=xB("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},t.prototype.createRepaintRects=function(r,n,i,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var a=[],s=this.maxRepaintRectCount,l=!1,u=new qe(0,0,0,0);function c(w){if(!(!w.isFinite()||w.isZero()))if(a.length===0){var S=new qe(0,0,0,0);S.copy(w),a.push(S)}else{for(var x=!1,R=1/0,T=0,P=0;P<a.length;++P){var D=a[P];if(D.intersect(w)){var I=new qe(0,0,0,0);I.copy(D),I.union(w),a[P]=I,x=!0;break}else if(l){u.copy(w),u.union(D);var E=w.width*w.height,k=D.width*D.height,L=u.width*u.height,N=L-E-k;N<R&&(R=N,T=P)}}if(l&&(a[T].union(w),x=!0),!x){var S=new qe(0,0,0,0);S.copy(w),a.push(S)}l||(l=a.length>=s)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var h=r[d];if(h){var f=h.shouldBePainted(i,o,!0,!0),g=h.__isRendered&&(h.__dirty&Sa||!f)?h.getPrevPaintRect():null;g&&c(g);var m=f&&(h.__dirty&Sa||!h.__isRendered)?h.getPaintRect():null;m&&c(m)}}for(var d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var h=n[d],f=h&&h.shouldBePainted(i,o,!0,!0);if(h&&(!f||!h.__zr)&&h.__isRendered){var g=h.getPrevPaintRect();g&&c(g)}}var y;do{y=!1;for(var d=0;d<a.length;){if(a[d].isZero()){a.splice(d,1);continue}for(var C=d+1;C<a.length;)a[d].intersect(a[C])?(y=!0,a[d].union(a[C]),a.splice(C,1)):C++;d++}}while(y);return this._paintRects=a,a},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(r,n){var i=this.dpr,o=this.dom,a=o.style,s=this.domBack;a&&(a.width=r+"px",a.height=n+"px"),o.width=r*i,o.height=n*i,s&&(s.width=r*i,s.height=n*i,i!==1&&this.ctxBack.scale(i,i))},t.prototype.clear=function(r,n,i){var o=this.dom,a=this.ctx,s=o.width,l=o.height;n=n||this.clearColor;var u=this.motionBlur&&!r,c=this.lastFrameAlpha,d=this.dpr,h=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,s/d,l/d));var f=this.domBack;function g(m,y,C,w){if(a.clearRect(m,y,C,w),n&&n!=="transparent"){var S=void 0;if(rm(n)){var x=n.global||n.__width===C&&n.__height===w;S=x&&n.__canvasGradient||qP(a,n,{x:0,y:0,width:C,height:w}),n.__canvasGradient=S,n.__width=C,n.__height=w}else x6(n)&&(n.scaleX=n.scaleX||d,n.scaleY=n.scaleY||d,S=ZP(a,n,{dirty:function(){h.setUnpainted(),h.painter.refresh()}}));a.save(),a.fillStyle=S||n,a.fillRect(m,y,C,w),a.restore()}u&&(a.save(),a.globalAlpha=c,a.drawImage(f,m,y,C,w),a.restore())}!i||u?g(0,0,s,l):i.length&&F(i,function(m){g(m.x*d,m.y*d,m.width*d,m.height*d)})},t}(oo),RB=1e5,Gu=314159,DC=.01,rCe=.001;function nCe(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}function iCe(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var oCe=function(){function e(t,r,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=n=ie({},n||{}),this.dpr=n.devicePixelRatio||l0,this._singleCanvas=o,this.root=t;var a=t.style;a&&(CI(t),t.innerHTML=""),this.storage=r;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(o){var c=t,d=c.width,h=c.height;n.width!=null&&(d=n.width),n.height!=null&&(h=n.height),this.dpr=n.devicePixelRatio||1,c.width=d*this.dpr,c.height=h*this.dpr,this._width=d,this._height=h;var f=new ZR(c,this,this.dpr);f.__builtin__=!0,f.initContext(),l[Gu]=f,f.zlevel=Gu,s.push(Gu),this._domRoot=t}else{this._width=gh(t,0,n),this._height=gh(t,1,n);var u=this._domRoot=iCe(this._width,this._height);t.appendChild(u)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.refresh=function(t){var r=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,n,t,this._redrawId);for(var o=0;o<i.length;o++){var a=i[o],s=this._layers[a];if(!s.__builtin__&&s.refresh){var l=o===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(t){var r=t.length,n=this._hoverlayer;if(n&&n.clear(),!!r){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},o,a=0;a<r;a++){var s=t[a];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(RB)),o||(o=n.ctx,o.save()),cc(o,s,i,a===r-1))}o&&o.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(RB)},e.prototype.paintOne=function(t,r){fE(t,r)},e.prototype._paintList=function(t,r,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,r,n),a=o.finished,s=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),a)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;n0(function(){l._paintList(t,r,n,i)})}}},e.prototype._compositeManually=function(){var t=this.getLayer(Gu).ctx,r=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,r,n),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,r,n)})},e.prototype._doPaintList=function(t,r,n){for(var i=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&o.push(u)}for(var c=!0,d=!1,h=function(m){var y=o[m],C=y.ctx,w=a&&y.createRepaintRects(t,r,f._width,f._height),S=n?y.__startIndex:y.__drawIndex,x=!n&&y.incremental&&Date.now,R=x&&Date.now(),T=y.zlevel===f._zlevelList[0]?f._backgroundColor:null;if(y.__startIndex===y.__endIndex)y.clear(!1,T,w);else if(S===y.__startIndex){var P=t[S];(!P.incremental||!P.notClear||n)&&y.clear(!1,T,w)}S===-1&&(console.error("For some unknown reason. drawIndex is -1"),S=y.__startIndex);var D,I=function(N){var B={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(D=S;D<y.__endIndex;D++){var V=t[D];if(V.__inHover&&(d=!0),i._doPaintEl(V,y,a,N,B,D===y.__endIndex-1),x){var W=Date.now()-R;if(W>15)break}}B.prevElClipPaths&&C.restore()};if(w)if(w.length===0)D=y.__endIndex;else for(var E=f.dpr,k=0;k<w.length;++k){var L=w[k];C.save(),C.beginPath(),C.rect(L.x*E,L.y*E,L.width*E,L.height*E),C.clip(),I(L),C.restore()}else C.save(),I(),C.restore();y.__drawIndex=D,y.__drawIndex<y.__endIndex&&(c=!1)},f=this,g=0;g<o.length;g++)h(g);return rt.wxa&&F(this._layers,function(m){m&&m.ctx&&m.ctx.draw&&m.ctx.draw()}),{finished:c,needsRefreshHover:d}},e.prototype._doPaintEl=function(t,r,n,i,o,a){var s=r.ctx;if(n){var l=t.getPaintRect();(!i||l&&l.intersect(i))&&(cc(s,t,o,a),t.setPrevPaintRect(l))}else cc(s,t,o,a)},e.prototype.getLayer=function(t,r){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Gu);var n=this._layers[t];return n||(n=new ZR("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?Ke(n,this._layerConfig[t],!0):this._layerConfig[t-DC]&&Ke(n,this._layerConfig[t-DC],!0),r&&(n.virtual=r),this.insertLayer(t,n),n.initContext()),n},e.prototype.insertLayer=function(t,r){var n=this._layers,i=this._zlevelList,o=i.length,a=this._domRoot,s=null,l=-1;if(!n[t]&&nCe(r)){if(o>0&&t>i[0]){for(l=0;l<o-1&&!(i[l]<t&&i[l+1]>t);l++);s=n[i[l]]}if(i.splice(l+1,0,t),n[t]=r,!r.virtual)if(s){var u=s.dom;u.nextSibling?a.insertBefore(r.dom,u.nextSibling):a.appendChild(r.dom)}else a.firstChild?a.insertBefore(r.dom,a.firstChild):a.appendChild(r.dom);r.painter||(r.painter=this)}},e.prototype.eachLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var o=n[i];t.call(r,this._layers[o],o)}},e.prototype.eachBuiltinLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var o=n[i],a=this._layers[o];a.__builtin__&&t.call(r,a,o)}},e.prototype.eachOtherLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var o=n[i],a=this._layers[o];a.__builtin__||t.call(r,a,o)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(d,h){d.__dirty=d.__used=!1});function r(d){o&&(o.__endIndex!==d&&(o.__dirty=!0),o.__endIndex=d)}if(this._singleCanvas)for(var n=1;n<t.length;n++){var i=t[n];if(i.zlevel!==t[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var o=null,a=0,s,l;for(l=0;l<t.length;l++){var i=t[l],u=i.zlevel,c=void 0;s!==u&&(s=u,a=0),i.incremental?(c=this.getLayer(u+rCe,this._needsManuallyCompositing),c.incremental=!0,a=1):c=this.getLayer(u+(a>0?DC:0),this._needsManuallyCompositing),c.__builtin__||Mb("ZLevel "+u+" has been used by unkown layer "+c.id),c!==o&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,r(l),o=c),i.__dirty&Sa&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}r(l),this.eachBuiltinLayer(function(d,h){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(t){t.clear()},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t,F(this._layers,function(r){r.setUnpainted()})},e.prototype.configLayer=function(t,r){if(r){var n=this._layerConfig;n[t]?Ke(n[t],r,!0):n[t]=r;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];if(o===t||o===t+DC){var a=this._layers[o];Ke(a,n[t],!0)}}}},e.prototype.delLayer=function(t){var r=this._layers,n=this._zlevelList,i=r[t];i&&(i.dom.parentNode.removeChild(i.dom),delete r[t],n.splice(Ze(n,t),1))},e.prototype.resize=function(t,r){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,o=this.root;if(t!=null&&(i.width=t),r!=null&&(i.height=r),t=gh(o,0,i),r=gh(o,1,i),n.style.display="",this._width!==t||r!==this._height){n.style.width=t+"px",n.style.height=r+"px";for(var a in this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(t,r);this.refresh(!0)}this._width=t,this._height=r}else{if(t==null||r==null)return;this._width=t,this._height=r,this.getLayer(Gu).resize(t,r)}return this},e.prototype.clearLayer=function(t){var r=this._layers[t];r&&r.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Gu].dom;var r=new ZR("image",this,t.pixelRatio||this.dpr);r.initContext(),r.clear(!1,t.backgroundColor||this._backgroundColor);var n=r.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=r.dom.width,o=r.dom.height;this.eachLayer(function(d){d.__builtin__?n.drawImage(d.dom,0,0,i,o):d.renderToCanvas&&(n.save(),d.renderToCanvas(n),n.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];cc(n,c,a,l===u-1)}return r.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();function aCe(e){e.registerPainter("canvas",oCe)}var sCe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r){return Na(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(r){var n=new Ne,i=hr("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);n.add(i),i.setStyle(r.lineStyle);var o=this.getData().getVisual("symbol"),a=this.getData().getVisual("symbolRotate"),s=o==="none"?"circle":o,l=r.itemHeight*.8,u=hr(s,(r.itemWidth-l)/2,(r.itemHeight-l)/2,l,l,r.itemStyle.fill);n.add(u),u.setStyle(r.itemStyle);var c=r.iconRotate==="inherit"?a:r.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([r.itemWidth/2,r.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),n},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(Tt);function Xh(e,t){var r=e.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var i=Yh(e,t,r[0]);return i!=null?i+"":null}else if(n){for(var o=[],a=0;a<r.length;a++)o.push(Yh(e,t,r[a]));return o.join(" ")}}function Tj(e,t){var r=e.mapDimensionsAll("defaultedLabel");if(!se(t))return t+"";for(var n=[],i=0;i<r.length;i++){var o=e.getDimensionIndex(r[i]);o>=0&&n.push(t[o])}return n.join(" ")}var vm=function(e){q(t,e);function t(r,n,i,o){var a=e.call(this)||this;return a.updateData(r,n,i,o),a}return t.prototype._createSymbol=function(r,n,i,o,a){this.removeAll();var s=hr(r,-1,-1,2,2,null,a);s.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),s.drift=lCe,this._symbolType=r,this.add(s)},t.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){_s(this.childAt(0))},t.prototype.downplay=function(){Ts(this.childAt(0))},t.prototype.setZ=function(r,n){var i=this.childAt(0);i.zlevel=r,i.z=n},t.prototype.setDraggable=function(r,n){var i=this.childAt(0);i.draggable=r,i.cursor=!n&&r?"move":i.cursor},t.prototype.updateData=function(r,n,i,o){this.silent=!1;var a=r.getItemVisual(n,"symbol")||"circle",s=r.hostModel,l=t.getSymbolSize(r,n),u=a!==this._symbolType,c=o&&o.disableAnimation;if(u){var d=r.getItemVisual(n,"symbolKeepAspect");this._createSymbol(a,r,n,l,d)}else{var h=this.childAt(0);h.silent=!1;var f={scaleX:l[0]/2,scaleY:l[1]/2};c?h.attr(f):gt(h,f,s,n),Vo(h)}if(this._updateCommon(r,n,l,i,o),u){var h=this.childAt(0);if(!c){var f={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,Vt(h,f,s,n)}}c&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(r,n,i,o,a){var s=this.childAt(0),l=r.hostModel,u,c,d,h,f,g,m,y,C;if(o&&(u=o.emphasisItemStyle,c=o.blurItemStyle,d=o.selectItemStyle,h=o.focus,f=o.blurScope,m=o.labelStatesModels,y=o.hoverScale,C=o.cursorStyle,g=o.emphasisDisabled),!o||r.hasItemOption){var w=o&&o.itemModel?o.itemModel:r.getItemModel(n),S=w.getModel("emphasis");u=S.getModel("itemStyle").getItemStyle(),d=w.getModel(["select","itemStyle"]).getItemStyle(),c=w.getModel(["blur","itemStyle"]).getItemStyle(),h=S.get("focus"),f=S.get("blurScope"),g=S.get("disabled"),m=Mr(w),y=S.getShallow("scale"),C=w.getShallow("cursor")}var x=r.getItemVisual(n,"symbolRotate");s.attr("rotation",(x||0)*Math.PI/180||0);var R=Xc(r.getItemVisual(n,"symbolOffset"),i);R&&(s.x=R[0],s.y=R[1]),C&&s.attr("cursor",C);var T=r.getItemVisual(n,"style"),P=T.fill;if(s instanceof Lr){var D=s.style;s.useStyle(ie({image:D.image,x:D.x,y:D.y,width:D.width,height:D.height},T))}else s.__isEmptyBrush?s.useStyle(ie({},T)):s.useStyle(T),s.style.decal=null,s.setColor(P,a&&a.symbolInnerColor),s.style.strokeNoScale=!0;var I=r.getItemVisual(n,"liftZ"),E=this._z2;I!=null?E==null&&(this._z2=s.z2,s.z2+=I):E!=null&&(s.z2=E,this._z2=null);var k=a&&a.useNameLabel;Jr(s,m,{labelFetcher:l,labelDataIndex:n,defaultText:L,inheritColor:P,defaultOpacity:T.opacity});function L(V){return k?r.getName(V):Xh(r,V)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var N=s.ensureState("emphasis");N.style=u,s.ensureState("select").style=d,s.ensureState("blur").style=c;var B=y==null||y===!0?Math.max(1.1,3/this._sizeY):isFinite(y)&&y>0?+y:1;N.scaleX=this._sizeX*B,N.scaleY=this._sizeY*B,this.setSymbolScale(1),Kt(this,h,f,g)},t.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},t.prototype.fadeOut=function(r,n,i){var o=this.childAt(0),a=Ve(this).dataIndex,s=i&&i.animation;if(this.silent=o.silent=!0,i&&i.fadeLabel){var l=o.getTextContent();l&&Ul(l,{style:{opacity:0}},n,{dataIndex:a,removeOpt:s,cb:function(){o.removeTextContent()}})}else o.removeTextContent();Ul(o,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:a,cb:r,removeOpt:s})},t.getSymbolSize=function(r,n){return Af(r.getItemVisual(n,"symbolSize"))},t}(Ne);function lCe(e,t){this.parent.drift(e,t)}function QR(e,t,r,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(r))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&e.getItemVisual(r,"symbol")!=="none"}function _B(e){return e!=null&&!ke(e)&&(e={isIgnore:e}),e||{}}function TB(e){var t=e.hostModel,r=t.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:Mr(t),cursorStyle:t.get("cursor")}}var mm=function(){function e(t){this.group=new Ne,this._SymbolCtor=t||vm}return e.prototype.updateData=function(t,r){this._progressiveEls=null,r=_B(r);var n=this.group,i=t.hostModel,o=this._data,a=this._SymbolCtor,s=r.disableAnimation,l=TB(t),u={disableAnimation:s},c=r.getSymbolPoint||function(d){return t.getItemLayout(d)};o||n.removeAll(),t.diff(o).add(function(d){var h=c(d);if(QR(t,h,d,r)){var f=new a(t,d,l,u);f.setPosition(h),t.setItemGraphicEl(d,f),n.add(f)}}).update(function(d,h){var f=o.getItemGraphicEl(h),g=c(d);if(!QR(t,g,d,r)){n.remove(f);return}var m=t.getItemVisual(d,"symbol")||"circle",y=f&&f.getSymbolType&&f.getSymbolType();if(!f||y&&y!==m)n.remove(f),f=new a(t,d,l,u),f.setPosition(g);else{f.updateData(t,d,l,u);var C={x:g[0],y:g[1]};s?f.attr(C):gt(f,C,i)}n.add(f),t.setItemGraphicEl(d,f)}).remove(function(d){var h=o.getItemGraphicEl(d);h&&h.fadeOut(function(){n.remove(h)},i)}).execute(),this._getSymbolPoint=c,this._data=t},e.prototype.updateLayout=function(){var t=this,r=this._data;r&&r.eachItemGraphicEl(function(n,i){var o=t._getSymbolPoint(i);n.setPosition(o),n.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=TB(t),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,r,n){this._progressiveEls=[],n=_B(n);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var o=t.start;o<t.end;o++){var a=r.getItemLayout(o);if(QR(r,a,o,n)){var s=new this._SymbolCtor(r,o,this._seriesScope);s.traverse(i),s.setPosition(a),this.group.add(s),r.setItemGraphicEl(o,s),this._progressiveEls.push(s)}}},e.prototype.eachRendered=function(t){Jl(this._progressiveEls||this.group,t)},e.prototype.remove=function(t){var r=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(i){i.fadeOut(function(){r.remove(i)},n.hostModel)}):r.removeAll()},e}();function Pj(e,t,r){var n=e.getBaseAxis(),i=e.getOtherAxis(n),o=uCe(i,r),a=n.dim,s=i.dim,l=t.mapDimension(s),u=t.mapDimension(a),c=s==="x"||s==="radius"?1:0,d=le(e.dimensions,function(g){return t.mapDimension(g)}),h=!1,f=t.getCalculationInfo("stackResultDimension");return Ds(t,d[0])&&(h=!0,d[0]=f),Ds(t,d[1])&&(h=!0,d[1]=f),{dataDimsForPoint:d,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!h,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function uCe(e,t){var r=0,n=e.scale.getExtent();return t==="start"?r=n[0]:t==="end"?r=n[1]:pt(t)&&!isNaN(t)?r=t:n[0]>0?r=n[0]:n[1]<0&&(r=n[1]),r}function Dj(e,t,r,n){var i=NaN;e.stacked&&(i=r.get(r.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=e.valueStart);var o=e.baseDataOffset,a=[];return a[o]=r.get(e.baseDim,n),a[1-o]=i,t.dataToPoint(a)}function cCe(e,t){var r=[];return t.diff(e).add(function(n){r.push({cmd:"+",idx:n})}).update(function(n,i){r.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){r.push({cmd:"-",idx:n})}).execute(),r}function dCe(e,t,r,n,i,o,a,s){for(var l=cCe(e,t),u=[],c=[],d=[],h=[],f=[],g=[],m=[],y=Pj(i,t,a),C=e.getLayout("points")||[],w=t.getLayout("points")||[],S=0;S<l.length;S++){var x=l[S],R=!0,T=void 0,P=void 0;switch(x.cmd){case"=":T=x.idx*2,P=x.idx1*2;var D=C[T],I=C[T+1],E=w[P],k=w[P+1];(isNaN(D)||isNaN(I))&&(D=E,I=k),u.push(D,I),c.push(E,k),d.push(r[T],r[T+1]),h.push(n[P],n[P+1]),m.push(t.getRawIndex(x.idx1));break;case"+":var L=x.idx,N=y.dataDimsForPoint,B=i.dataToPoint([t.get(N[0],L),t.get(N[1],L)]);P=L*2,u.push(B[0],B[1]),c.push(w[P],w[P+1]);var V=Dj(y,i,t,L);d.push(V[0],V[1]),h.push(n[P],n[P+1]),m.push(t.getRawIndex(L));break;case"-":R=!1}R&&(f.push(x),g.push(g.length))}g.sort(function(he,xe){return m[he]-m[xe]});for(var W=u.length,j=va(W),G=va(W),$=va(W),K=va(W),H=[],S=0;S<g.length;S++){var U=g[S],ne=S*2,oe=U*2;j[ne]=u[oe],j[ne+1]=u[oe+1],G[ne]=c[oe],G[ne+1]=c[oe+1],$[ne]=d[oe],$[ne+1]=d[oe+1],K[ne]=h[oe],K[ne+1]=h[oe+1],H[S]=f[U]}return{current:j,next:G,stackedOnCurrent:$,stackedOnNext:K,status:H}}var ul=Math.min,cl=Math.max;function yc(e,t){return isNaN(e)||isNaN(t)}function lD(e,t,r,n,i,o,a,s,l){for(var u,c,d,h,f,g,m=r,y=0;y<n;y++){var C=t[m*2],w=t[m*2+1];if(m>=i||m<0)break;if(yc(C,w)){if(l){m+=o;continue}break}if(m===r)e[o>0?"moveTo":"lineTo"](C,w),d=C,h=w;else{var S=C-u,x=w-c;if(S*S+x*x<.5){m+=o;continue}if(a>0){for(var R=m+o,T=t[R*2],P=t[R*2+1];T===C&&P===w&&y<n;)y++,R+=o,m+=o,T=t[R*2],P=t[R*2+1],C=t[m*2],w=t[m*2+1],S=C-u,x=w-c;var D=y+1;if(l)for(;yc(T,P)&&D<n;)D++,R+=o,T=t[R*2],P=t[R*2+1];var I=.5,E=0,k=0,L=void 0,N=void 0;if(D>=n||yc(T,P))f=C,g=w;else{E=T-u,k=P-c;var B=C-u,V=T-C,W=w-c,j=P-w,G=void 0,$=void 0;if(s==="x"){G=Math.abs(B),$=Math.abs(V);var K=E>0?1:-1;f=C-K*G*a,g=w,L=C+K*$*a,N=w}else if(s==="y"){G=Math.abs(W),$=Math.abs(j);var H=k>0?1:-1;f=C,g=w-H*G*a,L=C,N=w+H*$*a}else G=Math.sqrt(B*B+W*W),$=Math.sqrt(V*V+j*j),I=$/($+G),f=C-E*a*(1-I),g=w-k*a*(1-I),L=C+E*a*I,N=w+k*a*I,L=ul(L,cl(T,C)),N=ul(N,cl(P,w)),L=cl(L,ul(T,C)),N=cl(N,ul(P,w)),E=L-C,k=N-w,f=C-E*G/$,g=w-k*G/$,f=ul(f,cl(u,C)),g=ul(g,cl(c,w)),f=cl(f,ul(u,C)),g=cl(g,ul(c,w)),E=C-f,k=w-g,L=C+E*$/G,N=w+k*$/G}e.bezierCurveTo(d,h,f,g,C,w),d=L,h=N}else e.lineTo(C,w)}u=C,c=w,m+=o}return y}var Aj=function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e}(),hCe=function(e){q(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-polyline",n}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Aj},t.prototype.buildPath=function(r,n){var i=n.points,o=0,a=i.length/2;if(n.connectNulls){for(;a>0&&yc(i[a*2-2],i[a*2-1]);a--);for(;o<a&&yc(i[o*2],i[o*2+1]);o++);}for(;o<a;)o+=lD(r,i,o,a,a,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},t.prototype.getPointOn=function(r,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,o=i.data,a=Ea.CMD,s,l,u=n==="x",c=[],d=0;d<o.length;){var h=o[d++],f=void 0,g=void 0,m=void 0,y=void 0,C=void 0,w=void 0,S=void 0;switch(h){case a.M:s=o[d++],l=o[d++];break;case a.L:if(f=o[d++],g=o[d++],S=u?(r-s)/(f-s):(r-l)/(g-l),S<=1&&S>=0){var x=u?(g-l)*S+l:(f-s)*S+s;return u?[r,x]:[x,r]}s=f,l=g;break;case a.C:f=o[d++],g=o[d++],m=o[d++],y=o[d++],C=o[d++],w=o[d++];var R=u?i0(s,f,m,C,r,c):i0(l,g,y,w,r,c);if(R>0)for(var T=0;T<R;T++){var P=c[T];if(P<=1&&P>=0){var x=u?Dr(l,g,y,w,P):Dr(s,f,m,C,P);return u?[r,x]:[x,r]}}s=C,l=w;break}}},t}(nt),fCe=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Aj),Ij=function(e){q(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-polygon",n}return t.prototype.getDefaultShape=function(){return new fCe},t.prototype.buildPath=function(r,n){var i=n.points,o=n.stackedOnPoints,a=0,s=i.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;s>0&&yc(i[s*2-2],i[s*2-1]);s--);for(;a<s&&yc(i[a*2],i[a*2+1]);a++);}for(;a<s;){var u=lD(r,i,a,s,s,1,n.smooth,l,n.connectNulls);lD(r,o,a+u-1,u,s,-1,n.stackedOnSmooth,l,n.connectNulls),a+=u+1,r.closePath()}},t}(nt);function Ej(e,t,r,n,i){var o=e.getArea(),a=o.x,s=o.y,l=o.width,u=o.height,c=r.get(["lineStyle","width"])||0;a-=c/2,s-=c/2,l+=c,u+=c,l=Math.ceil(l),a!==Math.floor(a)&&(a=Math.floor(a),l++);var d=new ht({shape:{x:a,y:s,width:l,height:u}});if(t){var h=e.getBaseAxis(),f=h.isHorizontal(),g=h.inverse;f?(g&&(d.shape.x+=l),d.shape.width=0):(g||(d.shape.y+=u),d.shape.height=0);var m=Ie(i)?function(y){i(y,d)}:null;Vt(d,{shape:{width:l,height:u,x:a,y:s}},r,null,n,m)}return d}function Mj(e,t,r){var n=e.getArea(),i=Zt(n.r0,1),o=Zt(n.r,1),a=new wn({shape:{cx:Zt(e.cx,1),cy:Zt(e.cy,1),r0:i,r:o,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var s=e.getBaseAxis().dim==="angle";s?a.shape.endAngle=n.startAngle:a.shape.r=i,Vt(a,{shape:{endAngle:n.endAngle,r:o}},r)}return a}function ym(e,t,r,n,i){if(e){if(e.type==="polar")return Mj(e,t,r);if(e.type==="cartesian2d")return Ej(e,t,r,n,i)}else return null;return null}function qc(e,t){return e.type===t}function PB(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return;return!0}}function DB(e){for(var t=1/0,r=1/0,n=-1/0,i=-1/0,o=0;o<e.length;){var a=e[o++],s=e[o++];isNaN(a)||(t=Math.min(a,t),n=Math.max(a,n)),isNaN(s)||(r=Math.min(s,r),i=Math.max(s,i))}return[[t,r],[n,i]]}function AB(e,t){var r=DB(e),n=r[0],i=r[1],o=DB(t),a=o[0],s=o[1];return Math.max(Math.abs(n[0]-a[0]),Math.abs(n[1]-a[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function IB(e){return pt(e)?e:e?.5:0}function pCe(e,t,r){if(!r.valueDim)return[];for(var n=t.count(),i=va(n*2),o=0;o<n;o++){var a=Dj(r,e,t,o);i[o*2]=a[0],i[o*2+1]=a[1]}return i}function dl(e,t,r,n,i){var o=r.getBaseAxis(),a=o.dim==="x"||o.dim==="radius"?0:1,s=[],l=0,u=[],c=[],d=[],h=[];if(i){for(l=0;l<e.length;l+=2){var f=t||e;!isNaN(f[l])&&!isNaN(f[l+1])&&h.push(e[l],e[l+1])}e=h}for(l=0;l<e.length-2;l+=2)switch(d[0]=e[l+2],d[1]=e[l+3],c[0]=e[l],c[1]=e[l+1],s.push(c[0],c[1]),n){case"end":u[a]=d[a],u[1-a]=c[1-a],s.push(u[0],u[1]);break;case"middle":var g=(c[a]+d[a])/2,m=[];u[a]=m[a]=g,u[1-a]=c[1-a],m[1-a]=d[1-a],s.push(u[0],u[1]),s.push(m[0],m[1]);break;default:u[a]=c[a],u[1-a]=d[1-a],s.push(u[0],u[1])}return s.push(e[l++],e[l++]),s}function gCe(e,t){var r=[],n=e.length,i,o;function a(c,d,h){var f=c.coord,g=(h-f)/(d.coord-f),m=xI(g,[c.color,d.color]);return{coord:h,color:m}}for(var s=0;s<n;s++){var l=e[s],u=l.coord;if(u<0)i=l;else if(u>t){o?r.push(a(o,l,t)):i&&r.push(a(i,l,0),a(i,l,t));break}else i&&(r.push(a(i,l,0)),i=null),r.push(l),o=l}return r}function vCe(e,t,r){var n=e.getVisual("visualMeta");if(!(!n||!n.length||!e.count())&&t.type==="cartesian2d"){for(var i,o,a=n.length-1;a>=0;a--){var s=e.getDimensionInfo(n[a].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){o=n[a];break}}if(o){var l=t.getAxis(i),u=le(o.stops,function(S){return{coord:l.toGlobalCoord(l.dataToCoord(S.value)),color:S.color}}),c=u.length,d=o.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),d.reverse());var h=gCe(u,i==="x"?r.getWidth():r.getHeight()),f=h.length;if(!f&&c)return u[0].coord<0?d[1]?d[1]:u[c-1].color:d[0]?d[0]:u[0].color;var g=10,m=h[0].coord-g,y=h[f-1].coord+g,C=y-m;if(C<.001)return"transparent";F(h,function(S){S.offset=(S.coord-m)/C}),h.push({offset:f?h[f-1].offset:.5,color:d[1]||"transparent"}),h.unshift({offset:f?h[0].offset:.5,color:d[0]||"transparent"});var w=new Cf(0,0,0,0,h,!0);return w[i]=m,w[i+"2"]=y,w}}}function mCe(e,t,r){var n=e.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var o=r.getAxesByScale("ordinal")[0];if(o&&!(i&&yCe(o,t))){var a=t.mapDimension(o.dim),s={};return F(o.getViewLabels(),function(l){var u=o.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(a,l))}}}}function yCe(e,t){var r=e.getExtent(),n=Math.abs(r[1]-r[0])/e.scale.count();isNaN(n)&&(n=0);for(var i=t.count(),o=Math.max(1,Math.round(i/5)),a=0;a<i;a+=o)if(vm.getSymbolSize(t,a)[e.isHorizontal()?1:0]*1.5>n)return!1;return!0}function CCe(e,t){return isNaN(e)||isNaN(t)}function wCe(e){for(var t=e.length/2;t>0&&CCe(e[t*2-2],e[t*2-1]);t--);return t-1}function EB(e,t){return[e[t*2],e[t*2+1]]}function bCe(e,t,r){for(var n=e.length/2,i=r==="x"?0:1,o,a,s=0,l=-1,u=0;u<n;u++)if(a=e[u*2+i],!(isNaN(a)||isNaN(e[u*2+1-i]))){if(u===0){o=a;continue}if(o<=t&&a>=t||o>=t&&a<=t){l=u;break}s=u,o=a}return{range:[s,l],t:(t-o)/(a-o)}}function kj(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<Bn.length;t++)if(e.get([Bn[t],"endLabel","show"]))return!0;return!1}function JR(e,t,r,n){if(qc(t,"cartesian2d")){var i=n.getModel("endLabel"),o=i.get("valueAnimation"),a=n.getData(),s={lastFrameIndex:0},l=kj(n)?function(f,g){e._endLabelOnDuring(f,g,a,s,o,i,t)}:null,u=t.getBaseAxis().isHorizontal(),c=Ej(t,r,n,function(){var f=e._endLabel;f&&r&&s.originalX!=null&&f.attr({x:s.originalX,y:s.originalY})},l);if(!n.get("clip",!0)){var d=c.shape,h=Math.max(d.width,d.height);u?(d.y-=h,d.height+=h*2):(d.x-=h,d.width+=h*2)}return l&&l(1,c),c}else return Mj(t,r,n)}function SCe(e,t){var r=t.getBaseAxis(),n=r.isHorizontal(),i=r.inverse,o=n?i?"right":"left":"center",a=n?"middle":i?"top":"bottom";return{normal:{align:e.get("align")||o,verticalAlign:e.get("verticalAlign")||a}}}var xCe=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(){var r=new Ne,n=new mm;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=r,this._changePolyState=Se(this._changePolyState,this)},t.prototype.render=function(r,n,i){var o=r.coordinateSystem,a=this.group,s=r.getData(),l=r.getModel("lineStyle"),u=r.getModel("areaStyle"),c=s.getLayout("points")||[],d=o.type==="polar",h=this._coordSys,f=this._symbolDraw,g=this._polyline,m=this._polygon,y=this._lineGroup,C=!n.ssr&&r.get("animation"),w=!u.isEmpty(),S=u.get("origin"),x=Pj(o,s,S),R=w&&pCe(o,s,x),T=r.get("showSymbol"),P=r.get("connectNulls"),D=T&&!d&&mCe(r,s,o),I=this._data;I&&I.eachItemGraphicEl(function(he,xe){he.__temp&&(a.remove(he),I.setItemGraphicEl(xe,null))}),T||f.remove(),a.add(y);var E=d?!1:r.get("step"),k;o&&o.getArea&&r.get("clip",!0)&&(k=o.getArea(),k.width!=null?(k.x-=.1,k.y-=.1,k.width+=.2,k.height+=.2):k.r0&&(k.r0-=.5,k.r+=.5)),this._clipShapeForSymbol=k;var L=vCe(s,o,i)||s.getVisual("style")[s.getVisual("drawType")];if(!(g&&h.type===o.type&&E===this._step))T&&f.updateData(s,{isIgnore:D,clipShape:k,disableAnimation:!0,getSymbolPoint:function(he){return[c[he*2],c[he*2+1]]}}),C&&this._initSymbolLabelAnimation(s,o,k),E&&(R&&(R=dl(R,c,o,E,P)),c=dl(c,null,o,E,P)),g=this._newPolyline(c),w?m=this._newPolygon(c,R):m&&(y.remove(m),m=this._polygon=null),d||this._initOrUpdateEndLabel(r,o,kc(L)),y.setClipPath(JR(this,o,!0,r));else{w&&!m?m=this._newPolygon(c,R):m&&!w&&(y.remove(m),m=this._polygon=null),d||this._initOrUpdateEndLabel(r,o,kc(L));var N=y.getClipPath();if(N){var B=JR(this,o,!1,r);Vt(N,{shape:B.shape},r)}else y.setClipPath(JR(this,o,!0,r));T&&f.updateData(s,{isIgnore:D,clipShape:k,disableAnimation:!0,getSymbolPoint:function(he){return[c[he*2],c[he*2+1]]}}),(!PB(this._stackedOnPoints,R)||!PB(this._points,c))&&(C?this._doUpdateAnimation(s,R,o,i,E,S,P):(E&&(R&&(R=dl(R,c,o,E,P)),c=dl(c,null,o,E,P)),g.setShape({points:c}),m&&m.setShape({points:c,stackedOnPoints:R})))}var V=r.getModel("emphasis"),W=V.get("focus"),j=V.get("blurScope"),G=V.get("disabled");if(g.useStyle(Ee(l.getLineStyle(),{fill:"none",stroke:L,lineJoin:"bevel"})),Qr(g,r,"lineStyle"),g.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var $=g.getState("emphasis").style;$.lineWidth=+g.style.lineWidth+1}Ve(g).seriesIndex=r.seriesIndex,Kt(g,W,j,G);var K=IB(r.get("smooth")),H=r.get("smoothMonotone");if(g.setShape({smooth:K,smoothMonotone:H,connectNulls:P}),m){var U=s.getCalculationInfo("stackedOnSeries"),ne=0;m.useStyle(Ee(u.getAreaStyle(),{fill:L,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),U&&(ne=IB(U.get("smooth"))),m.setShape({smooth:K,stackedOnSmooth:ne,smoothMonotone:H,connectNulls:P}),Qr(m,r,"areaStyle"),Ve(m).seriesIndex=r.seriesIndex,Kt(m,W,j,G)}var oe=this._changePolyState;s.eachItemGraphicEl(function(he){he&&(he.onHoverStateChange=oe)}),this._polyline.onHoverStateChange=oe,this._data=s,this._coordSys=o,this._stackedOnPoints=R,this._points=c,this._step=E,this._valueOrigin=S,r.get("triggerLineEvent")&&(this.packEventData(r,g),m&&this.packEventData(r,m))},t.prototype.packEventData=function(r,n){Ve(n).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},t.prototype.highlight=function(r,n,i,o){var a=r.getData(),s=Ic(a,o);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=a.getLayout("points"),u=a.getItemGraphicEl(s);if(!u){var c=l[s*2],d=l[s*2+1];if(isNaN(c)||isNaN(d)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,d))return;var h=r.get("zlevel")||0,f=r.get("z")||0;u=new vm(a,s),u.x=c,u.y=d,u.setZ(h,f);var g=u.getSymbolPath().getTextContent();g&&(g.zlevel=h,g.z=f,g.z2=this._polyline.z2+1),u.__temp=!0,a.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else bt.prototype.highlight.call(this,r,n,i,o)},t.prototype.downplay=function(r,n,i,o){var a=r.getData(),s=Ic(a,o);if(this._changePolyState("normal"),s!=null&&s>=0){var l=a.getItemGraphicEl(s);l&&(l.__temp?(a.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else bt.prototype.downplay.call(this,r,n,i,o)},t.prototype._changePolyState=function(r){var n=this._polygon;d0(this._polyline,r),n&&d0(n,r)},t.prototype._newPolyline=function(r){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new hCe({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},t.prototype._newPolygon=function(r,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Ij({shape:{points:r,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(r,n,i){var o,a,s=n.getBaseAxis(),l=s.inverse;n.type==="cartesian2d"?(o=s.isHorizontal(),a=!1):n.type==="polar"&&(o=s.dim==="angle",a=!0);var u=r.hostModel,c=u.get("animationDuration");Ie(c)&&(c=c(null));var d=u.get("animationDelay")||0,h=Ie(d)?d(null):d;r.eachItemGraphicEl(function(f,g){var m=f;if(m){var y=[f.x,f.y],C=void 0,w=void 0,S=void 0;if(i)if(a){var x=i,R=n.pointToCoord(y);o?(C=x.startAngle,w=x.endAngle,S=-R[1]/180*Math.PI):(C=x.r0,w=x.r,S=R[0])}else{var T=i;o?(C=T.x,w=T.x+T.width,S=f.x):(C=T.y+T.height,w=T.y,S=f.y)}var P=w===C?0:(S-C)/(w-C);l&&(P=1-P);var D=Ie(d)?d(g):c*P+h,I=m.getSymbolPath(),E=I.getTextContent();m.attr({scaleX:0,scaleY:0}),m.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:D}),E&&E.animateFrom({style:{opacity:0}},{duration:300,delay:D}),I.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(r,n,i){var o=r.getModel("endLabel");if(kj(r)){var a=r.getData(),s=this._polyline,l=a.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new dt({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=wCe(l);c>=0&&(Jr(s,Mr(r,"endLabel"),{inheritColor:i,labelFetcher:r,labelDataIndex:c,defaultText:function(d,h,f){return f!=null?Tj(a,f):Xh(a,d)},enableTextSetter:!0},SCe(o,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(r,n,i,o,a,s,l){var u=this._endLabel,c=this._polyline;if(u){r<1&&o.originalX==null&&(o.originalX=u.x,o.originalY=u.y);var d=i.getLayout("points"),h=i.hostModel,f=h.get("connectNulls"),g=s.get("precision"),m=s.get("distance")||0,y=l.getBaseAxis(),C=y.isHorizontal(),w=y.inverse,S=n.shape,x=w?C?S.x:S.y+S.height:C?S.x+S.width:S.y,R=(C?m:0)*(w?-1:1),T=(C?0:-m)*(w?-1:1),P=C?"x":"y",D=bCe(d,x,P),I=D.range,E=I[1]-I[0],k=void 0;if(E>=1){if(E>1&&!f){var L=EB(d,I[0]);u.attr({x:L[0]+R,y:L[1]+T}),a&&(k=h.getRawValue(I[0]))}else{var L=c.getPointOn(x,P);L&&u.attr({x:L[0]+R,y:L[1]+T});var N=h.getRawValue(I[0]),B=h.getRawValue(I[1]);a&&(k=vU(i,g,N,B,D.t))}o.lastFrameIndex=I[0]}else{var V=r===1||o.lastFrameIndex>0?I[0]:0,L=EB(d,V);a&&(k=h.getRawValue(V)),u.attr({x:L[0]+R,y:L[1]+T})}if(a){var W=Sf(u);typeof W.setLabelText=="function"&&W.setLabelText(k)}}},t.prototype._doUpdateAnimation=function(r,n,i,o,a,s,l){var u=this._polyline,c=this._polygon,d=r.hostModel,h=dCe(this._data,r,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),f=h.current,g=h.stackedOnCurrent,m=h.next,y=h.stackedOnNext;if(a&&(g=dl(h.stackedOnCurrent,h.current,i,a,l),f=dl(h.current,null,i,a,l),y=dl(h.stackedOnNext,h.next,i,a,l),m=dl(h.next,null,i,a,l)),AB(f,m)>3e3||c&&AB(g,y)>3e3){u.stopAnimation(),u.setShape({points:m}),c&&(c.stopAnimation(),c.setShape({points:m,stackedOnPoints:y}));return}u.shape.__points=h.current,u.shape.points=f;var C={shape:{points:m}};h.current!==f&&(C.shape.__points=h.next),u.stopAnimation(),gt(u,C,d),c&&(c.setShape({points:f,stackedOnPoints:g}),c.stopAnimation(),gt(c,{shape:{stackedOnPoints:y}},d),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var w=[],S=h.status,x=0;x<S.length;x++){var R=S[x].cmd;if(R==="="){var T=r.getItemGraphicEl(S[x].idx1);T&&w.push({el:T,ptIdx:x})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var P=u.shape.__points,D=0;D<w.length;D++){var I=w[D].el,E=w[D].ptIdx*2;I.x=P[E],I.y=P[E+1],I.markRedraw()}})},t.prototype.remove=function(r){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(o,a){o.__temp&&(n.remove(o),i.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(bt);function Cm(e,t){return{seriesType:e,plan:Pf(),reset:function(r){var n=r.getData(),i=r.coordinateSystem,o=r.pipelineContext,a=t||o.large;if(i){var s=le(i.dimensions,function(f){return n.mapDimension(f)}).slice(0,2),l=s.length,u=n.getCalculationInfo("stackResultDimension");Ds(n,s[0])&&(s[0]=u),Ds(n,s[1])&&(s[1]=u);var c=n.getStore(),d=n.getDimensionIndex(s[0]),h=n.getDimensionIndex(s[1]);return l&&{progress:function(f,g){for(var m=f.end-f.start,y=a&&va(m*l),C=[],w=[],S=f.start,x=0;S<f.end;S++){var R=void 0;if(l===1){var T=c.get(d,S);R=i.dataToPoint(T,null,w)}else C[0]=c.get(d,S),C[1]=c.get(h,S),R=i.dataToPoint(C,null,w);a?(y[x++]=R[0],y[x++]=R[1]):g.setItemLayout(S,R.slice())}a&&g.setLayout("points",y)}}}}}}var RCe={average:function(e){for(var t=0,r=0,n=0;n<e.length;n++)isNaN(e[n])||(t+=e[n],r++);return r===0?NaN:t/r},sum:function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r]||0;return t},max:function(e){for(var t=-1/0,r=0;r<e.length;r++)e[r]>t&&(t=e[r]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,r=0;r<e.length;r++)e[r]<t&&(t=e[r]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},_Ce=function(e){return Math.round(e.length/2)};function Fj(e){return{seriesType:e,reset:function(t,r,n){var i=t.getData(),o=t.get("sampling"),a=t.coordinateSystem,s=i.count();if(s>10&&a.type==="cartesian2d"&&o){var l=a.getBaseAxis(),u=a.getOtherAxis(l),c=l.getExtent(),d=n.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(d||1),f=Math.round(s/h);if(isFinite(f)&&f>1){o==="lttb"?t.setData(i.lttbDownSample(i.mapDimension(u.dim),1/f)):o==="minmax"&&t.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/f));var g=void 0;we(o)?g=RCe[o]:Ie(o)&&(g=o),g&&t.setData(i.downSample(i.mapDimension(u.dim),1/f,g,_Ce))}}}}}function TCe(e){e.registerChartView(xCe),e.registerSeriesModel(sCe),e.registerLayout(Cm("line",!0)),e.registerVisual({seriesType:"line",reset:function(t){var r=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",n)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Fj("line"))}var Dv=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(r,n){return Na(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(r,n,i){var o=this.coordinateSystem;if(o&&o.clampData){var a=o.clampData(r),s=o.dataToPoint(a);if(i)F(o.getAxes(),function(h,f){if(h.type==="category"&&n!=null){var g=h.getTicksCoords(),m=h.getTickModel().get("alignWithLabel"),y=a[f],C=n[f]==="x1"||n[f]==="y1";if(C&&!m&&(y+=1),g.length<2)return;if(g.length===2){s[f]=h.toGlobalCoord(h.getExtent()[C?1:0]);return}for(var w=void 0,S=void 0,x=1,R=0;R<g.length;R++){var T=g[R].coord,P=R===g.length-1?g[R-1].tickValue+x:g[R].tickValue;if(P===y){S=T;break}else if(P<y)w=T;else if(w!=null&&P>y){S=(T+w)/2;break}R===1&&(x=P-g[0].tickValue)}S==null&&(w?w&&(S=g[g.length-1].coord):S=g[0].coord),s[f]=h.toGlobalCoord(S)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),d=o.getBaseAxis().isHorizontal()?0:1;s[d]+=u+c/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Tt);Tt.registerClass(Dv);var PCe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(){return Na(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>r&&(r=n),r},t.prototype.brushSelector=function(r,n,i){return i.rect(n.getItemLayout(r))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=eu(Dv.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(Dv),DCe=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),M0=function(e){q(t,e);function t(r){var n=e.call(this,r)||this;return n.type="sausage",n}return t.prototype.getDefaultShape=function(){return new DCe},t.prototype.buildPath=function(r,n){var i=n.cx,o=n.cy,a=Math.max(n.r0||0,0),s=Math.max(n.r,0),l=(s-a)*.5,u=a+l,c=n.startAngle,d=n.endAngle,h=n.clockwise,f=Math.PI*2,g=h?d-c<f:c-d<f;g||(c=d-(h?f:-f));var m=Math.cos(c),y=Math.sin(c),C=Math.cos(d),w=Math.sin(d);g?(r.moveTo(m*a+i,y*a+o),r.arc(m*u+i,y*u+o,l,-Math.PI+c,c,!h)):r.moveTo(m*s+i,y*s+o),r.arc(i,o,s,c,d,!h),r.arc(C*u+i,w*u+o,l,d-Math.PI*2,d-Math.PI,!h),a!==0&&r.arc(i,o,a,d,c,h)},t}(nt);function ACe(e,t){t=t||{};var r=t.isRoundCap;return function(n,i,o){var a=i.position;if(!a||a instanceof Array)return u0(n,i,o);var s=e(a),l=i.distance!=null?i.distance:5,u=this.shape,c=u.cx,d=u.cy,h=u.r,f=u.r0,g=(h+f)/2,m=u.startAngle,y=u.endAngle,C=(m+y)/2,w=r?Math.abs(h-f)/2:0,S=Math.cos,x=Math.sin,R=c+h*S(m),T=d+h*x(m),P="left",D="top";switch(s){case"startArc":R=c+(f-l)*S(C),T=d+(f-l)*x(C),P="center",D="top";break;case"insideStartArc":R=c+(f+l)*S(C),T=d+(f+l)*x(C),P="center",D="bottom";break;case"startAngle":R=c+g*S(m)+AC(m,l+w,!1),T=d+g*x(m)+IC(m,l+w,!1),P="right",D="middle";break;case"insideStartAngle":R=c+g*S(m)+AC(m,-l+w,!1),T=d+g*x(m)+IC(m,-l+w,!1),P="left",D="middle";break;case"middle":R=c+g*S(C),T=d+g*x(C),P="center",D="middle";break;case"endArc":R=c+(h+l)*S(C),T=d+(h+l)*x(C),P="center",D="bottom";break;case"insideEndArc":R=c+(h-l)*S(C),T=d+(h-l)*x(C),P="center",D="top";break;case"endAngle":R=c+g*S(y)+AC(y,l+w,!0),T=d+g*x(y)+IC(y,l+w,!0),P="left",D="middle";break;case"insideEndAngle":R=c+g*S(y)+AC(y,-l+w,!0),T=d+g*x(y)+IC(y,-l+w,!0),P="right",D="middle";break;default:return u0(n,i,o)}return n=n||{},n.x=R,n.y=T,n.align=P,n.verticalAlign=D,n}}function ICe(e,t,r,n){if(pt(n)){e.setTextConfig({rotation:n});return}else if(se(t)){e.setTextConfig({rotation:0});return}var i=e.shape,o=i.clockwise?i.startAngle:i.endAngle,a=i.clockwise?i.endAngle:i.startAngle,s=(o+a)/2,l,u=r(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=o;break;case"endAngle":case"insideEndAngle":l=a;break;default:e.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),e.setTextConfig({rotation:c})}function AC(e,t,r){return t*Math.sin(e)*(r?-1:1)}function IC(e,t,r){return t*Math.cos(e)*(r?1:-1)}function dc(e,t,r){var n=e.get("borderRadius");if(n==null)return r?{cornerRadius:0}:null;se(n)||(n=[n,n,n,n]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:le(n,function(o){return Bo(o,i)})}}var e_=Math.max,t_=Math.min;function ECe(e,t){var r=e.getArea&&e.getArea();if(qc(e,"cartesian2d")){var n=e.getBaseAxis();if(n.type!=="category"||!n.onBand){var i=t.getLayout("bandWidth");n.isHorizontal()?(r.x-=i,r.width+=i*2):(r.y-=i,r.height+=i*2)}}return r}var MCe=function(e){q(t,e);function t(){var r=e.call(this)||this;return r.type=t.type,r._isFirstFrame=!0,r}return t.prototype.render=function(r,n,i,o){this._model=r,this._removeOnRenderedListener(i),this._updateDrawMode(r);var a=r.get("coordinateSystem");(a==="cartesian2d"||a==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,n,i):this._renderNormal(r,n,i,o))},t.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},t.prototype.incrementalRender=function(r,n){this._progressiveEls=[],this._incrementalRenderLarge(r,n)},t.prototype.eachRendered=function(r){Jl(this._progressiveEls||this.group,r)},t.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(r,n,i,o){var a=this.group,s=r.getData(),l=this._data,u=r.coordinateSystem,c=u.getBaseAxis(),d;u.type==="cartesian2d"?d=c.isHorizontal():u.type==="polar"&&(d=c.dim==="angle");var h=r.isAnimationEnabled()?r:null,f=kCe(r,u);f&&this._enableRealtimeSort(f,s,i);var g=r.get("clip",!0)||f,m=ECe(u,s);a.removeClipPath();var y=r.get("roundCap",!0),C=r.get("showBackground",!0),w=r.getModel("backgroundStyle"),S=w.get("borderRadius")||0,x=[],R=this._backgroundEls,T=o&&o.isInitSort,P=o&&o.type==="changeAxisOrder";function D(k){var L=EC[u.type](s,k),N=VCe(u,d,L);return N.useStyle(w.getItemStyle()),u.type==="cartesian2d"?N.setShape("r",S):N.setShape("cornerRadius",S),x[k]=N,N}s.diff(l).add(function(k){var L=s.getItemModel(k),N=EC[u.type](s,k,L);if(C&&D(k),!(!s.hasValue(k)||!OB[u.type](N))){var B=!1;g&&(B=MB[u.type](m,N));var V=kB[u.type](r,s,k,N,d,h,c.model,!1,y);f&&(V.forceLabelAnimation=!0),NB(V,s,k,L,N,r,d,u.type==="polar"),T?V.attr({shape:N}):f?FB(f,h,V,N,k,d,!1,!1):Vt(V,{shape:N},r,k),s.setItemGraphicEl(k,V),a.add(V),V.ignore=B}}).update(function(k,L){var N=s.getItemModel(k),B=EC[u.type](s,k,N);if(C){var V=void 0;R.length===0?V=D(L):(V=R[L],V.useStyle(w.getItemStyle()),u.type==="cartesian2d"?V.setShape("r",S):V.setShape("cornerRadius",S),x[k]=V);var W=EC[u.type](s,k),j=Oj(d,W,u);gt(V,{shape:j},h,k)}var G=l.getItemGraphicEl(L);if(!s.hasValue(k)||!OB[u.type](B)){a.remove(G);return}var $=!1;if(g&&($=MB[u.type](m,B),$&&a.remove(G)),G?Vo(G):G=kB[u.type](r,s,k,B,d,h,c.model,!!G,y),f&&(G.forceLabelAnimation=!0),P){var K=G.getTextContent();if(K){var H=Sf(K);H.prevValue!=null&&(H.prevValue=H.value)}}else NB(G,s,k,N,B,r,d,u.type==="polar");T?G.attr({shape:B}):f?FB(f,h,G,B,k,d,!0,P):gt(G,{shape:B},r,k,null),s.setItemGraphicEl(k,G),G.ignore=$,a.add(G)}).remove(function(k){var L=l.getItemGraphicEl(k);L&&yv(L,r,k)}).execute();var I=this._backgroundGroup||(this._backgroundGroup=new Ne);I.removeAll();for(var E=0;E<x.length;++E)I.add(x[E]);a.add(I),this._backgroundEls=x,this._data=s},t.prototype._renderLarge=function(r,n,i){this._clear(),BB(r,this.group),this._updateLargeClip(r)},t.prototype._incrementalRenderLarge=function(r,n){this._removeBackground(),BB(n,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(r){var n=r.get("clip",!0)&&ym(r.coordinateSystem,!1,r),i=this.group;n?i.setClipPath(n):i.removeClipPath()},t.prototype._enableRealtimeSort=function(r,n,i){var o=this;if(n.count()){var a=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,r,i),this._isFirstFrame=!1;else{var s=function(l){var u=n.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(a.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){o._updateSortWithinSameData(n,s,a,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(r,n,i){var o=[];return r.each(r.mapDimension(n.dim),function(a,s){var l=i(s);l=l??NaN,o.push({dataIndex:s,mappedValue:l,ordinalNumber:a})}),o.sort(function(a,s){return s.mappedValue-a.mappedValue}),{ordinalNumbers:le(o,function(a){return a.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(r,n,i){for(var o=i.scale,a=r.mapDimension(i.dim),s=Number.MAX_VALUE,l=0,u=o.getOrdinalMeta().categories.length;l<u;++l){var c=r.rawIndexOf(a,o.getRawOrdinalNumber(l)),d=c<0?Number.MIN_VALUE:n(r.indexOfRawIndex(c));if(d>s)return!0;s=d}return!1},t.prototype._isOrderDifferentInView=function(r,n){for(var i=n.scale,o=i.getExtent(),a=Math.max(0,o[0]),s=Math.min(o[1],i.getOrdinalMeta().categories.length-1);a<=s;++a)if(r.ordinalNumbers[a]!==i.getRawOrdinalNumber(a))return!0},t.prototype._updateSortWithinSameData=function(r,n,i,o){if(this._isOrderChangedWithinSameData(r,n,i)){var a=this._dataSort(r,i,n);this._isOrderDifferentInView(a,i)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:a}))}},t.prototype._dispatchInitSort=function(r,n,i){var o=n.baseAxis,a=this._dataSort(r,o,function(s){return r.get(r.mapDimension(n.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:a})},t.prototype.remove=function(r,n){this._clear(this._model),this._removeOnRenderedListener(n)},t.prototype.dispose=function(r,n){this._removeOnRenderedListener(n)},t.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(r){var n=this.group,i=this._data;r&&r.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(o){yv(o,r,Ve(o).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(bt),MB={cartesian2d:function(e,t){var r=t.width<0?-1:1,n=t.height<0?-1:1;r<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var i=e.x+e.width,o=e.y+e.height,a=e_(t.x,e.x),s=t_(t.x+t.width,i),l=e_(t.y,e.y),u=t_(t.y+t.height,o),c=s<a,d=u<l;return t.x=c&&a>i?s:a,t.y=d&&l>o?u:l,t.width=c?0:s-a,t.height=d?0:u-l,r<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),c||d},polar:function(e,t){var r=t.r0<=t.r?1:-1;if(r<0){var n=t.r;t.r=t.r0,t.r0=n}var i=t_(t.r,e.r),o=e_(t.r0,e.r0);t.r=i,t.r0=o;var a=i-o<0;if(r<0){var n=t.r;t.r=t.r0,t.r0=n}return a}},kB={cartesian2d:function(e,t,r,n,i,o,a,s,l){var u=new ht({shape:ie({},n),z2:1});if(u.__dataIndex=r,u.name="item",o){var c=u.shape,d=i?"height":"width";c[d]=0}return u},polar:function(e,t,r,n,i,o,a,s,l){var u=!i&&l?M0:wn,c=new u({shape:n,z2:1});c.name="item";var d=Lj(i);if(c.calculateTextPosition=ACe(d,{isRoundCap:u===M0}),o){var h=c.shape,f=i?"r":"endAngle",g={};h[f]=i?n.r0:n.startAngle,g[f]=n[f],(s?gt:Vt)(c,{shape:g},o)}return c}};function kCe(e,t){var r=e.get("realtimeSort",!0),n=t.getBaseAxis();if(r&&n.type==="category"&&t.type==="cartesian2d")return{baseAxis:n,otherAxis:t.getOtherAxis(n)}}function FB(e,t,r,n,i,o,a,s){var l,u;o?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),s||(a?gt:Vt)(r,{shape:l},t,i,null);var c=t?e.baseAxis.model:null;(a?gt:Vt)(r,{shape:u},c,i)}function LB(e,t){for(var r=0;r<t.length;r++)if(!isFinite(e[t[r]]))return!0;return!1}var FCe=["x","y","width","height"],LCe=["cx","cy","r","startAngle","endAngle"],OB={cartesian2d:function(e){return!LB(e,FCe)},polar:function(e){return!LB(e,LCe)}},EC={cartesian2d:function(e,t,r){var n=e.getItemLayout(t),i=r?NCe(r,n):0,o=n.width>0?1:-1,a=n.height>0?1:-1;return{x:n.x+o*i/2,y:n.y+a*i/2,width:n.width-o*i,height:n.height-a*i}},polar:function(e,t,r){var n=e.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function OCe(e){return e.startAngle!=null&&e.endAngle!=null&&e.startAngle===e.endAngle}function Lj(e){return function(t){var r=t?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+r;default:return n}}}(e)}function NB(e,t,r,n,i,o,a,s){var l=t.getItemVisual(r,"style");if(s){if(!o.get("roundCap")){var c=e.shape,d=dc(n.getModel("itemStyle"),c,!0);ie(c,d),e.setShape(c)}}else{var u=n.get(["itemStyle","borderRadius"])||0;e.setShape("r",u)}e.useStyle(l);var h=n.getShallow("cursor");h&&e.attr("cursor",h);var f=s?a?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":a?i.height>=0?"bottom":"top":i.width>=0?"right":"left",g=Mr(n);Jr(e,g,{labelFetcher:o,labelDataIndex:r,defaultText:Xh(o.getData(),r),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:f});var m=e.getTextContent();if(s&&m){var y=n.get(["label","position"]);e.textConfig.inside=y==="middle"?!0:null,ICe(e,y==="outside"?f:y,Lj(a),n.get(["label","rotate"]))}e8(m,g,o.getRawValue(r),function(w){return Tj(t,w)});var C=n.getModel(["emphasis"]);Kt(e,C.get("focus"),C.get("blurScope"),C.get("disabled")),Qr(e,n),OCe(i)&&(e.style.fill="none",e.style.stroke="none",F(e.states,function(w){w.style&&(w.style.fill=w.style.stroke="none")}))}function NCe(e,t){var r=e.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var n=e.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),o=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,i,o)}var zCe=function(){function e(){}return e}(),zB=function(e){q(t,e);function t(r){var n=e.call(this,r)||this;return n.type="largeBar",n}return t.prototype.getDefaultShape=function(){return new zCe},t.prototype.buildPath=function(r,n){for(var i=n.points,o=this.baseDimIdx,a=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<i.length;c+=3)l[o]=u,l[a]=i[c+2],s[o]=i[c+o],s[a]=i[c+a],r.rect(s[0],s[1],l[0],l[1])},t}(nt);function BB(e,t,r,n){var i=e.getData(),o=i.getLayout("valueAxisHorizontal")?1:0,a=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=e.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var c=new zB({shape:{points:u},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=o,c.largeDataIndices=a,c.barWidth=s,c.useStyle(l.getItemStyle()),t.add(c),r&&r.push(c)}var d=new zB({shape:{points:i.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=o,d.largeDataIndices=a,d.barWidth=s,t.add(d),d.useStyle(i.getVisual("style")),d.style.stroke=null,Ve(d).seriesIndex=e.seriesIndex,e.get("silent")||(d.on("mousedown",VB),d.on("mousemove",VB)),r&&r.push(d)}var VB=aS(function(e){var t=this,r=BCe(t,e.offsetX,e.offsetY);Ve(t).dataIndex=r>=0?r:null},30,!1);function BCe(e,t,r){for(var n=e.baseDimIdx,i=1-n,o=e.shape.points,a=e.largeDataIndices,s=[],l=[],u=e.barWidth,c=0,d=o.length/3;c<d;c++){var h=c*3;if(l[n]=u,l[i]=o[h+2],s[n]=o[h+n],s[i]=o[h+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),t>=s[0]&&t<=s[0]+l[0]&&r>=s[1]&&r<=s[1]+l[1])return a[c]}return-1}function Oj(e,t,r){if(qc(r,"cartesian2d")){var n=t,i=r.getArea();return{x:e?n.x:i.x,y:e?i.y:n.y,width:e?n.width:i.width,height:e?i.height:n.height}}else{var i=r.getArea(),o=t;return{cx:i.cx,cy:i.cy,r0:e?i.r0:o.r0,r:e?i.r:o.r,startAngle:e?o.startAngle:0,endAngle:e?o.endAngle:Math.PI*2}}}function VCe(e,t,r){var n=e.type==="polar"?wn:ht;return new n({shape:Oj(t,r,e),silent:!0,z2:0})}function GCe(e){e.registerChartView(MCe),e.registerSeriesModel(PCe),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,je(G7,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,H7("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Fj("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,r){var n=t.componentType||"series";r.eachComponent({mainType:n,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}var GB=Math.PI*2,MC=Math.PI/180;function Nj(e,t){return yr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function zj(e,t){var r=Nj(e,t),n=e.get("center"),i=e.get("radius");se(i)||(i=[0,i]);var o=me(r.width,t.getWidth()),a=me(r.height,t.getHeight()),s=Math.min(o,a),l=me(i[0],s/2),u=me(i[1],s/2),c,d,h=e.coordinateSystem;if(h){var f=h.dataToPoint(n);c=f[0]||0,d=f[1]||0}else se(n)||(n=[n,n]),c=me(n[0],o)+r.x,d=me(n[1],a)+r.y;return{cx:c,cy:d,r0:l,r:u}}function HCe(e,t,r){t.eachSeriesByType(e,function(n){var i=n.getData(),o=i.mapDimension("value"),a=Nj(n,r),s=zj(n,r),l=s.cx,u=s.cy,c=s.r,d=s.r0,h=-n.get("startAngle")*MC,f=n.get("endAngle"),g=n.get("padAngle")*MC;f=f==="auto"?h-GB:-f*MC;var m=n.get("minAngle")*MC,y=m+g,C=0;i.each(o,function(j){!isNaN(j)&&C++});var w=i.getSum(o),S=Math.PI/(w||C)*2,x=n.get("clockwise"),R=n.get("roseType"),T=n.get("stillShowZeroSum"),P=i.getDataExtent(o);P[0]=0;var D=x?1:-1,I=[h,f],E=D*g/2;FI(I,!x),h=I[0],f=I[1];var k=Bj(n);k.startAngle=h,k.endAngle=f,k.clockwise=x;var L=Math.abs(f-h),N=L,B=0,V=h;if(i.setLayout({viewRect:a,r:c}),i.each(o,function(j,G){var $;if(isNaN(j)){i.setItemLayout(G,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:l,cy:u,r0:d,r:R?NaN:c});return}R!=="area"?$=w===0&&T?S:j*S:$=L/C,$<y?($=y,N-=y):B+=j;var K=V+D*$,H=0,U=0;g>$?(H=V+D*$/2,U=H):(H=V+E,U=K-E),i.setItemLayout(G,{angle:$,startAngle:H,endAngle:U,clockwise:x,cx:l,cy:u,r0:d,r:R?Ct(j,P,[d,c]):c}),V=K}),N<GB&&C)if(N<=.001){var W=L/C;i.each(o,function(j,G){if(!isNaN(j)){var $=i.getItemLayout(G);$.angle=W;var K=0,H=0;W<g?(K=h+D*(G+1/2)*W,H=K):(K=h+D*G*W+E,H=h+D*(G+1)*W-E),$.startAngle=K,$.endAngle=H}})}else S=N/B,V=h,i.each(o,function(j,G){if(!isNaN(j)){var $=i.getItemLayout(G),K=$.angle===y?y:j*S,H=0,U=0;K<g?(H=V+D*K/2,U=H):(H=V+E,U=V+D*K-E),$.startAngle=H,$.endAngle=U,V+=D*K}})})}var Bj=ft();function wm(e){return{seriesType:e,reset:function(t,r){var n=r.findComponents({mainType:"legend"});if(!(!n||!n.length)){var i=t.getData();i.filterSelf(function(o){for(var a=i.getName(o),s=0;s<n.length;s++)if(!n[s].isSelected(a))return!1;return!0})}}}}var WCe=Math.PI/180;function HB(e,t,r,n,i,o,a,s,l,u){if(e.length<2)return;function c(m){for(var y=m.rB,C=y*y,w=0;w<m.list.length;w++){var S=m.list[w],x=Math.abs(S.label.y-r),R=n+S.len,T=R*R,P=Math.sqrt(Math.abs((1-x*x/C)*T)),D=t+(P+S.len2)*i,I=D-S.label.x,E=S.targetTextWidth-I*i;Vj(S,E,!0),S.label.x=D}}function d(m){for(var y={list:[],maxY:0},C={list:[],maxY:0},w=0;w<m.length;w++)if(m[w].labelAlignTo==="none"){var S=m[w],x=S.label.y>r?C:y,R=Math.abs(S.label.y-r);if(R>=x.maxY){var T=S.label.x-t-S.len2*i,P=n+S.len,D=Math.abs(T)<P?Math.sqrt(R*R/(1-T*T/P/P)):P;x.rB=D,x.maxY=R}x.list.push(S)}c(y),c(C)}for(var h=e.length,f=0;f<h;f++)if(e[f].position==="outer"&&e[f].labelAlignTo==="labelLine"){var g=e[f].label.x-u;e[f].linePoints[1][0]+=g,e[f].label.x=u}uj(e,l,l+a)&&d(e)}function $Ce(e,t,r,n,i,o,a,s){for(var l=[],u=[],c=Number.MAX_VALUE,d=-Number.MAX_VALUE,h=0;h<e.length;h++){var f=e[h].label;r_(e[h])||(f.x<t?(c=Math.min(c,f.x),l.push(e[h])):(d=Math.max(d,f.x),u.push(e[h])))}for(var h=0;h<e.length;h++){var g=e[h];if(!r_(g)&&g.linePoints){if(g.labelStyleWidth!=null)continue;var f=g.label,m=g.linePoints,y=void 0;g.labelAlignTo==="edge"?f.x<t?y=m[2][0]-g.labelDistance-a-g.edgeDistance:y=a+i-g.edgeDistance-m[2][0]-g.labelDistance:g.labelAlignTo==="labelLine"?f.x<t?y=c-a-g.bleedMargin:y=a+i-d-g.bleedMargin:f.x<t?y=f.x-a-g.bleedMargin:y=a+i-f.x-g.bleedMargin,g.targetTextWidth=y,Vj(g,y)}}HB(u,t,r,n,1,i,o,a,s,d),HB(l,t,r,n,-1,i,o,a,s,c);for(var h=0;h<e.length;h++){var g=e[h];if(!r_(g)&&g.linePoints){var f=g.label,m=g.linePoints,C=g.labelAlignTo==="edge",w=f.style.padding,S=w?w[1]+w[3]:0,x=f.style.backgroundColor?0:S,R=g.rect.width+x,T=m[1][0]-m[2][0];C?f.x<t?m[2][0]=a+g.edgeDistance+R+g.labelDistance:m[2][0]=a+i-g.edgeDistance-R-g.labelDistance:(f.x<t?m[2][0]=f.x+g.labelDistance:m[2][0]=f.x-g.labelDistance,m[1][0]=m[2][0]+T),m[1][1]=m[2][1]=f.y}}}function Vj(e,t,r){if(r===void 0&&(r=!1),e.labelStyleWidth==null){var n=e.label,i=n.style,o=e.rect,a=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,u=i.overflow,c=o.width+(a?0:l);if(t<c||r){var d=o.height;if(u&&u.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-l);var h=n.getBoundingRect();n.setStyle("width",Math.ceil(h.width)),n.setStyle("backgroundColor",a)}else{var f=t-l,g=t<c?f:r?f>e.unconstrainedWidth?null:f:null;n.setStyle("width",g)}var m=n.getBoundingRect();o.width=m.width;var y=(n.style.margin||0)+2.1;o.height=m.height+y,o.y-=(o.height-d)/2}}}function r_(e){return e.position==="center"}function UCe(e){var t=e.getData(),r=[],n,i,o=!1,a=(e.get("minShowLabelAngle")||0)*WCe,s=t.getLayout("viewRect"),l=t.getLayout("r"),u=s.width,c=s.x,d=s.y,h=s.height;function f(T){T.ignore=!0}function g(T){if(!T.ignore)return!0;for(var P in T.states)if(T.states[P].ignore===!1)return!0;return!1}t.each(function(T){var P=t.getItemGraphicEl(T),D=P.shape,I=P.getTextContent(),E=P.getTextGuideLine(),k=t.getItemModel(T),L=k.getModel("label"),N=L.get("position")||k.get(["emphasis","label","position"]),B=L.get("distanceToLabelLine"),V=L.get("alignTo"),W=me(L.get("edgeDistance"),u),j=L.get("bleedMargin"),G=k.getModel("labelLine"),$=G.get("length");$=me($,u);var K=G.get("length2");if(K=me(K,u),Math.abs(D.endAngle-D.startAngle)<a){F(I.states,f),I.ignore=!0,E&&(F(E.states,f),E.ignore=!0);return}if(g(I)){var H=(D.startAngle+D.endAngle)/2,U=Math.cos(H),ne=Math.sin(H),oe,he,xe,Be;n=D.cx,i=D.cy;var ee=N==="inside"||N==="inner";if(N==="center")oe=D.cx,he=D.cy,Be="center";else{var Z=(ee?(D.r+D.r0)/2*U:D.r*U)+n,fe=(ee?(D.r+D.r0)/2*ne:D.r*ne)+i;if(oe=Z+U*3,he=fe+ne*3,!ee){var de=Z+U*($+l-D.r),pe=fe+ne*($+l-D.r),Ae=de+(U<0?-1:1)*K,Oe=pe;V==="edge"?oe=U<0?c+W:c+u-W:oe=Ae+(U<0?-B:B),he=Oe,xe=[[Z,fe],[de,pe],[Ae,Oe]]}Be=ee?"center":V==="edge"?U>0?"right":"left":U>0?"left":"right"}var Ge=Math.PI,st=0,Ft=L.get("rotate");if(pt(Ft))st=Ft*(Ge/180);else if(N==="center")st=0;else if(Ft==="radial"||Ft===!0){var fr=U<0?-H+Ge:-H;st=fr}else if(Ft==="tangential"&&N!=="outside"&&N!=="outer"){var sr=Math.atan2(U,ne);sr<0&&(sr=Ge*2+sr);var lr=ne>0;lr&&(sr=Ge+sr),st=sr-Ge}if(o=!!st,I.x=oe,I.y=he,I.rotation=st,I.setStyle({verticalAlign:"middle"}),ee){I.setStyle({align:Be});var li=I.states.select;li&&(li.x+=I.x,li.y+=I.y)}else{var Lt=I.getBoundingRect().clone();Lt.applyTransform(I.getComputedTransform());var Vn=(I.style.margin||0)+2.1;Lt.y-=Vn/2,Lt.height+=Vn,r.push({label:I,labelLine:E,position:N,len:$,len2:K,minTurnAngle:G.get("minTurnAngle"),maxSurfaceAngle:G.get("maxSurfaceAngle"),surfaceNormal:new Xe(U,ne),linePoints:xe,textAlign:Be,labelDistance:B,labelAlignTo:V,edgeDistance:W,bleedMargin:j,rect:Lt,unconstrainedWidth:Lt.width,labelStyleWidth:I.style.width})}P.setTextConfig({inside:ee})}}),!o&&e.get("avoidLabelOverlap")&&$Ce(r,n,i,l,u,h,c,d);for(var m=0;m<r.length;m++){var y=r[m],C=y.label,w=y.labelLine,S=isNaN(C.x)||isNaN(C.y);if(C){C.setStyle({align:y.textAlign}),S&&(F(C.states,f),C.ignore=!0);var x=C.states.select;x&&(x.x+=C.x,x.y+=C.y)}if(w){var R=y.linePoints;S||!R?(F(w.states,f),w.ignore=!0):(aj(R,y.minTurnAngle),pye(R,y.surfaceNormal,y.maxSurfaceAngle),w.setShape({points:R}),C.__hostTarget.textGuideLineConfig={anchor:new Xe(R[0][0],R[0][1])})}}}var jCe=function(e){q(t,e);function t(r,n,i){var o=e.call(this)||this;o.z2=2;var a=new dt;return o.setTextContent(a),o.updateData(r,n,i,!0),o}return t.prototype.updateData=function(r,n,i,o){var a=this,s=r.hostModel,l=r.getItemModel(n),u=l.getModel("emphasis"),c=r.getItemLayout(n),d=ie(dc(l.getModel("itemStyle"),c,!0),c);if(isNaN(d.startAngle)){a.setShape(d);return}if(o){a.setShape(d);var h=s.getShallow("animationType");s.ecModel.ssr?(Vt(a,{scaleX:0,scaleY:0},s,{dataIndex:n,isFrom:!0}),a.originX=d.cx,a.originY=d.cy):h==="scale"?(a.shape.r=c.r0,Vt(a,{shape:{r:c.r}},s,n)):i!=null?(a.setShape({startAngle:i,endAngle:i}),Vt(a,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,n)):(a.shape.endAngle=c.startAngle,gt(a,{shape:{endAngle:c.endAngle}},s,n))}else Vo(a),gt(a,{shape:d},s,n);a.useStyle(r.getItemVisual(n,"style")),Qr(a,l);var f=(c.startAngle+c.endAngle)/2,g=s.get("selectedOffset"),m=Math.cos(f)*g,y=Math.sin(f)*g,C=l.getShallow("cursor");C&&a.attr("cursor",C),this._updateLabel(s,r,n),a.ensureState("emphasis").shape=ie({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},dc(u.getModel("itemStyle"),c)),ie(a.ensureState("select"),{x:m,y,shape:dc(l.getModel(["select","itemStyle"]),c)}),ie(a.ensureState("blur"),{shape:dc(l.getModel(["blur","itemStyle"]),c)});var w=a.getTextGuideLine(),S=a.getTextContent();w&&ie(w.ensureState("select"),{x:m,y}),ie(S.ensureState("select"),{x:m,y}),Kt(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(r,n,i){var o=this,a=n.getItemModel(i),s=a.getModel("labelLine"),l=n.getItemVisual(i,"style"),u=l&&l.fill,c=l&&l.opacity;Jr(o,Mr(a),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:c,defaultText:r.getFormattedLabel(i,"normal")||n.getName(i)});var d=o.getTextContent();o.setTextConfig({position:null,rotation:null}),d.attr({z2:10});var h=r.get(["label","position"]);if(h!=="outside"&&h!=="outer")o.removeTextGuideLine();else{var f=this.getTextGuideLine();f||(f=new Rn,this.setTextGuideLine(f)),AE(this,IE(a),{stroke:u,opacity:Io(s.get(["lineStyle","opacity"]),c,1)})}},t}(wn),YCe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return t.prototype.render=function(r,n,i,o){var a=r.getData(),s=this._data,l=this.group,u;if(!s&&a.count()>0){for(var c=a.getItemLayout(0),d=1;isNaN(c&&c.startAngle)&&d<a.count();++d)c=a.getItemLayout(d);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),a.count()===0&&r.get("showEmptyCircle")){var h=Bj(r),f=new wn({shape:ie(zj(r,i),h)});f.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=f,l.add(f)}a.diff(s).add(function(g){var m=new jCe(a,g,u);a.setItemGraphicEl(g,m),l.add(m)}).update(function(g,m){var y=s.getItemGraphicEl(m);y.updateData(a,g,u),y.off("click"),l.add(y),a.setItemGraphicEl(g,y)}).remove(function(g){var m=s.getItemGraphicEl(g);yv(m,r,g)}).execute(),UCe(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=a)},t.prototype.dispose=function(){},t.prototype.containPoint=function(r,n){var i=n.getData(),o=i.getItemLayout(0);if(o){var a=r[0]-o.cx,s=r[1]-o.cy,l=Math.sqrt(a*a+s*s);return l<=o.r&&l>=o.r0}},t.type="pie",t}(bt);function kf(e,t,r){t=se(t)&&{coordDimensions:t}||ie({encodeDefine:e.getEncode()},t);var n=e.getSource(),i=If(n,t).dimensions,o=new yn(i,e);return o.initData(n,r),o}var bm=function(){function e(t,r){this._getDataWithEncodedVisual=t,this._getRawData=r}return e.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},e.prototype.containName=function(t){var r=this._getRawData();return r.indexOfName(t)>=0},e.prototype.indexOfName=function(t){var r=this._getDataWithEncodedVisual();return r.indexOfName(t)},e.prototype.getItemVisual=function(t,r){var n=this._getDataWithEncodedVisual();return n.getItemVisual(t,r)},e}(),KCe=ft(),XCe=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new bm(Se(this.getData,this),Se(this.getRawData,this)),this._defaultLabelLine(r)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return kf(this,{coordDimensions:["value"],encodeDefaulter:je(nE,this)})},t.prototype.getDataParams=function(r){var n=this.getData(),i=KCe(n),o=i.seats;if(!o){var a=[];n.each(n.mapDimension("value"),function(l){a.push(l)}),o=i.seats=sU(a,n.hostModel.get("percentPrecision"))}var s=e.prototype.getDataParams.call(this,r);return s.percent=o[r]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(r){Ac(r,"labelLine",["show"]);var n=r.labelLine,i=r.emphasis.labelLine;n.show=n.show&&r.label.show,i.show=i.show&&r.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Tt);function qCe(e){return{seriesType:e,reset:function(t,r){var n=t.getData();n.filterSelf(function(i){var o=n.mapDimension("value"),a=n.get(o,i);return!(pt(a)&&!isNaN(a)&&a<0)})}}}function ZCe(e){e.registerChartView(YCe),e.registerSeriesModel(XCe),n7("pie",e.registerAction),e.registerLayout(je(HCe,"pie")),e.registerProcessor(wm("pie")),e.registerProcessor(qCe("pie"))}var QCe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r,n){return Na(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(r,n,i){return i.point(n.getItemLayout(r))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Tt),Gj=4,JCe=function(){function e(){}return e}(),ewe=function(e){q(t,e);function t(r){var n=e.call(this,r)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.getDefaultShape=function(){return new JCe},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(r,n){var i=n.points,o=n.size,a=this.symbolProxy,s=a.shape,l=r.getContext?r.getContext():r,u=l&&o[0]<Gj,c=this.softClipShape,d;if(u){this._ctx=l;return}for(this._ctx=null,d=this._off;d<i.length;){var h=i[d++],f=i[d++];isNaN(h)||isNaN(f)||c&&!c.contain(h,f)||(s.x=h-o[0]/2,s.y=f-o[1]/2,s.width=o[0],s.height=o[1],a.buildPath(r,s,!0))}this.incremental&&(this._off=d,this.notClear=!0)},t.prototype.afterBrush=function(){var r=this.shape,n=r.points,i=r.size,o=this._ctx,a=this.softClipShape,s;if(o){for(s=this._off;s<n.length;){var l=n[s++],u=n[s++];isNaN(l)||isNaN(u)||a&&!a.contain(l,u)||o.fillRect(l-i[0]/2,u-i[1]/2,i[0],i[1])}this.incremental&&(this._off=s,this.notClear=!0)}},t.prototype.findDataIndex=function(r,n){for(var i=this.shape,o=i.points,a=i.size,s=Math.max(a[0],4),l=Math.max(a[1],4),u=o.length/2-1;u>=0;u--){var c=u*2,d=o[c]-s/2,h=o[c+1]-l/2;if(r>=d&&n>=h&&r<=d+s&&n<=h+l)return u}return-1},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),o=this.getBoundingRect();if(r=i[0],n=i[1],o.contain(r,n)){var a=this.hoverDataIdx=this.findDataIndex(r,n);return a>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var n=this.shape,i=n.points,o=n.size,a=o[0],s=o[1],l=1/0,u=1/0,c=-1/0,d=-1/0,h=0;h<i.length;){var f=i[h++],g=i[h++];l=Math.min(f,l),c=Math.max(f,c),u=Math.min(g,u),d=Math.max(g,d)}r=this._rect=new qe(l-a/2,u-s/2,c-l+a,d-u+s)}return r},t}(nt),twe=function(){function e(){this.group=new Ne}return e.prototype.updateData=function(t,r){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,r)},e.prototype.updateLayout=function(t){var r=t.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var i=(n.endIndex-n.startIndex)*2,o=n.startIndex*4*2;r=new Float32Array(r.buffer,o,i)}n.setShape("points",r),n.reset()})},e.prototype.incrementalPrepareUpdate=function(t){this._clear()},e.prototype.incrementalUpdate=function(t,r,n){var i=this._newAdded[0],o=r.getLayout("points"),a=i&&i.shape.points;if(a&&a.length<2e4){var s=a.length,l=new Float32Array(s+o.length);l.set(a),l.set(o,s),i.endIndex=t.end,i.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:o}),this._setCommon(u,r,n)}},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new ewe({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},e.prototype._setCommon=function(t,r,n){var i=r.hostModel;n=n||{};var o=r.getVisual("symbolSize");t.setShape("size",o instanceof Array?o:[o,o]),t.softClipShape=n.clipShape||null,t.symbolProxy=hr(r.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var a=t.shape.size[0]<Gj;t.useStyle(i.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var s=r.getVisual("style"),l=s&&s.fill;l&&t.setColor(l);var u=Ve(t);u.seriesIndex=i.seriesIndex,t.on("mousemove",function(c){u.dataIndex=null;var d=t.hoverDataIdx;d>=0&&(u.dataIndex=d+(t.startIndex||0))})},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),rwe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var o=r.getData(),a=this._updateSymbolDraw(o,r);a.updateData(o,{clipShape:this._getClipShape(r)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(r,n,i){var o=r.getData(),a=this._updateSymbolDraw(o,r);a.incrementalPrepareUpdate(o),this._finished=!1},t.prototype.incrementalRender=function(r,n,i){this._symbolDraw.incrementalUpdate(r,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=r.end===n.getData().count()},t.prototype.updateTransform=function(r,n,i){var o=r.getData();if(this.group.dirty(),!this._finished||o.count()>1e4)return{update:!0};var a=Cm("").reset(r,n,i);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},t.prototype.eachRendered=function(r){this._symbolDraw&&this._symbolDraw.eachRendered(r)},t.prototype._getClipShape=function(r){if(r.get("clip",!0)){var n=r.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},t.prototype._updateSymbolDraw=function(r,n){var i=this._symbolDraw,o=n.pipelineContext,a=o.large;return(!i||a!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=a?new twe:new mm,this._isLargeDraw=a,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(r,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(bt),nwe=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(tt),uD=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",mr).models[0]},t.type="cartesian2dAxis",t}(tt);ar(uD,Mf);var Hj={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},iwe=Ke({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Hj),NE=Ke({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Hj),owe=Ke({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},NE),awe=Ee({logBase:10},NE);const Wj={category:iwe,value:NE,time:owe,log:awe};var swe={value:1,category:1,time:1,log:1};function qh(e,t,r,n){F(swe,function(i,o){var a=Ke(Ke({},Wj[o],!0),n,!0),s=function(l){q(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=t+"Axis."+o,c}return u.prototype.mergeDefaultAndTheme=function(c,d){var h=wv(this),f=h?Rf(c):{},g=d.getTheme();Ke(c,g.get(o+"Axis")),Ke(c,this.getDefaultOption()),c.type=WB(c),h&&jl(c,f,h)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=tD.createByAxisModel(this))},u.prototype.getCategories=function(c){var d=this.option;if(d.type==="category")return c?d.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+o,u.defaultOption=a,u}(r);e.registerComponentModel(s)}),e.registerSubTypeDefaulter(t+"Axis",WB)}function WB(e){return e.type||(e.data?"category":"value")}var lwe=function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return le(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),mt(this.getAxes(),function(r){return r.scale.type===t})},e.prototype.addAxis=function(t){var r=t.dim;this._axes[r]=t,this._dimList.push(r)},e}(),cD=["x","y"];function $B(e){return e.type==="interval"||e.type==="time"}var uwe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=cD,r}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!$B(r)||!$B(n))){var i=r.getExtent(),o=n.getExtent(),a=this.dataToPoint([i[0],o[0]]),s=this.dataToPoint([i[1],o[1]]),l=i[1]-i[0],u=o[1]-o[0];if(!(!l||!u)){var c=(s[0]-a[0])/l,d=(s[1]-a[1])/u,h=a[0]-i[0]*c,f=a[1]-o[0]*d,g=this._transform=[c,0,0,d,h,f];this._invTransform=Uc([],g)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(r){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(r[0]))&&i.contain(i.toLocalCoord(r[1]))},t.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},t.prototype.containZone=function(r,n){var i=this.dataToPoint(r),o=this.dataToPoint(n),a=this.getArea(),s=new qe(i[0],i[1],o[0]-i[0],o[1]-i[1]);return a.intersect(s)},t.prototype.dataToPoint=function(r,n,i){i=i||[];var o=r[0],a=r[1];if(this._transform&&o!=null&&isFinite(o)&&a!=null&&isFinite(a))return Hr(i,r,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(o,n)),i[1]=l.toGlobalCoord(l.dataToCoord(a,n)),i},t.prototype.clampData=function(r,n){var i=this.getAxis("x").scale,o=this.getAxis("y").scale,a=i.getExtent(),s=o.getExtent(),l=i.parse(r[0]),u=o.parse(r[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(a[0],a[1]),l),Math.max(a[0],a[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),n},t.prototype.pointToData=function(r,n){var i=[];if(this._invTransform)return Hr(i,r,this._invTransform);var o=this.getAxis("x"),a=this.getAxis("y");return i[0]=o.coordToData(o.toLocalCoord(r[0]),n),i[1]=a.coordToData(a.toLocalCoord(r[1]),n),i},t.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},t.prototype.getArea=function(r){r=r||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),o=Math.min(n[0],n[1])-r,a=Math.min(i[0],i[1])-r,s=Math.max(n[0],n[1])-o+r,l=Math.max(i[0],i[1])-a+r;return new qe(o,a,s,l)},t}(lwe),cwe=function(e){q(t,e);function t(r,n,i,o,a){var s=e.call(this,r,n,i)||this;return s.index=0,s.type=o||"value",s.position=a||"bottom",s}return t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},t.prototype.getGlobalExtent=function(r){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),r&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(r,n){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},t}(uo);function dD(e,t,r){r=r||{};var n=e.coordinateSystem,i=t.axis,o={},a=i.getAxesOnZeroOf()[0],s=i.position,l=a?"onZero":s,u=i.dim,c=n.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],h={left:0,right:1,top:0,bottom:1,onZero:2},f=t.get("offset")||0,g=u==="x"?[d[2]-f,d[3]+f]:[d[0]-f,d[1]+f];if(a){var m=a.toGlobalCoord(a.dataToCoord(0));g[h.onZero]=Math.max(Math.min(m,g[1]),g[0])}o.position=[u==="y"?g[h[l]]:d[0],u==="x"?g[h[l]]:d[3]],o.rotation=Math.PI/2*(u==="x"?0:1);var y={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=y[s],o.labelOffset=a?g[h[s]]-g[h.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),Ar(r.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var C=t.get(["axisLabel","rotate"]);return o.labelRotate=l==="top"?-C:C,o.z2=1,o}function UB(e){return e.get("coordinateSystem")==="cartesian2d"}function jB(e){var t={xAxisModel:null,yAxisModel:null};return F(t,function(r,n){var i=n.replace(/Model$/,""),o=e.getReferringComponents(i,mr).models[0];t[n]=o}),t}var n_=Math.log;function $j(e,t,r){var n=As.prototype,i=n.getTicks.call(r),o=n.getTicks.call(r,!0),a=i.length-1,s=n.getInterval.call(r),l=Y7(e,t),u=l.extent,c=l.fixMin,d=l.fixMax;if(e.type==="log"){var h=n_(e.base);u=[n_(u[0])/h,n_(u[1])/h]}e.setExtent(u[0],u[1]),e.calcNiceExtent({splitNumber:a,fixMin:c,fixMax:d});var f=n.getExtent.call(e);c&&(u[0]=f[0]),d&&(u[1]=f[1]);var g=n.getInterval.call(e),m=u[0],y=u[1];if(c&&d)g=(y-m)/a;else if(c)for(y=u[0]+g*a;y<u[1]&&isFinite(y)&&isFinite(u[1]);)g=HR(g),y=u[0]+g*a;else if(d)for(m=u[1]-g*a;m>u[0]&&isFinite(m)&&isFinite(u[0]);)g=HR(g),m=u[1]-g*a;else{var C=e.getTicks().length-1;C>a&&(g=HR(g));var w=g*a;y=Math.ceil(u[1]/g)*g,m=Zt(y-w),m<0&&u[0]>=0?(m=0,y=Zt(w)):y>0&&u[1]<=0&&(y=0,m=-Zt(w))}var S=(i[0].value-o[0].value)/s,x=(i[a].value-o[a].value)/s;n.setExtent.call(e,m+g*S,y+g*x),n.setInterval.call(e,g),(S||x)&&n.setNiceExtent.call(e,m+g,y-g)}var dwe=function(){function e(t,r,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cD,this._initCartesian(t,r,n),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,r){var n=this._axesMap;this._updateScale(t,this.model);function i(a){var s,l=at(a),u=l.length;if(u){for(var c=[],d=u-1;d>=0;d--){var h=+l[d],f=a[h],g=f.model,m=f.scale;rD(m)&&g.get("alignTicks")&&g.get("interval")==null?c.push(f):(Fc(m,g),rD(m)&&(s=f))}c.length&&(s||(s=c.pop(),Fc(s.scale,s.model)),F(c,function(y){$j(y.scale,y.model,s.scale)}))}}i(n.x),i(n.y);var o={};F(n.x,function(a){YB(n,"y",a,o)}),F(n.y,function(a){YB(n,"x",a,o)}),this.resize(this.model,r)},e.prototype.resize=function(t,r,n){var i=t.getBoxLayoutParams(),o=!n&&t.get("containLabel"),a=yr(i,{width:r.getWidth(),height:r.getHeight()});this._rect=a;var s=this._axesList;l(),o&&(F(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=Eme(u);if(c){var d=u.isHorizontal()?"height":"width",h=u.model.get(["axisLabel","margin"]);a[d]-=c[d]+h,u.position==="top"?a.y+=c.height+h:u.position==="left"&&(a.x+=c.width+h)}}}),l()),F(this._coordsList,function(u){u.calcAffineTransform()});function l(){F(s,function(u){var c=u.isHorizontal(),d=c?[0,a.width]:[0,a.height],h=u.inverse?1:0;u.setExtent(d[h],d[1-h]),hwe(u,c?a.x:a.y)})}},e.prototype.getAxis=function(t,r){var n=this._axesMap[t];if(n!=null)return n[r||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,r){if(t!=null&&r!=null){var n="x"+t+"y"+r;return this._coordsMap[n]}ke(t)&&(r=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===t||o[i].getAxis("y").index===r)return o[i]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(t,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(t){var r=t.seriesModel,n=t.xAxisModel||r&&r.getReferringComponents("xAxis",mr).models[0],i=t.yAxisModel||r&&r.getReferringComponents("yAxis",mr).models[0],o=t.gridModel,a=this._coordsList,s,l;if(r)s=r.coordinateSystem,Ze(a,s)<0&&(s=null);else if(n&&i)s=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(o){var u=o.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},e.prototype.containPoint=function(t){var r=this._coordsList[0];if(r)return r.containPoint(t)},e.prototype._initCartesian=function(t,r,n){var i=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(r.eachComponent("xAxis",u("x"),this),r.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,F(s.x,function(c,d){F(s.y,function(h,f){var g="x"+d+"y"+f,m=new uwe(g);m.master=i,m.model=t,i._coordsMap[g]=m,i._coordsList.push(m),m.addAxis(c),m.addAxis(h)})});function u(c){return function(d,h){if(i_(d,t)){var f=d.get("position");c==="x"?f!=="top"&&f!=="bottom"&&(f=a.bottom?"top":"bottom"):f!=="left"&&f!=="right"&&(f=a.left?"right":"left"),a[f]=!0;var g=new cwe(c,gm(d),[0,0],d.get("type"),f),m=g.type==="category";g.onBand=m&&d.get("boundaryGap"),g.inverse=d.get("inverse"),d.axis=g,g.model=d,g.grid=o,g.index=h,o._axesList.push(g),s[c][h]=g,l[c]++}}}},e.prototype._updateScale=function(t,r){F(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var o=i.model.get("categorySortInfo");i.scale.setSortInfo(o)}}),t.eachSeries(function(i){if(UB(i)){var o=jB(i),a=o.xAxisModel,s=o.yAxisModel;if(!i_(a,r)||!i_(s,r))return;var l=this.getCartesian(a.componentIndex,s.componentIndex),u=i.getData(),c=l.getAxis("x"),d=l.getAxis("y");n(u,c),n(u,d)}},this);function n(i,o){F(D0(i,o.dim),function(a){o.scale.unionExtentFromData(i,a)})}},e.prototype.getTooltipAxes=function(t){var r=[],n=[];return F(this.getCartesians(),function(i){var o=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),a=i.getOtherAxis(o);Ze(r,o)<0&&r.push(o),Ze(n,a)<0&&n.push(a)}),{baseAxes:r,otherAxes:n}},e.create=function(t,r){var n=[];return t.eachComponent("grid",function(i,o){var a=new e(i,t,r);a.name="grid_"+o,a.resize(i,r,!0),i.coordinateSystem=a,n.push(a)}),t.eachSeries(function(i){if(UB(i)){var o=jB(i),a=o.xAxisModel,s=o.yAxisModel,l=a.getCoordSysModel(),u=l.coordinateSystem;i.coordinateSystem=u.getCartesian(a.componentIndex,s.componentIndex)}}),n},e.dimensions=cD,e}();function i_(e,t){return e.getCoordSysModel()===t}function YB(e,t,r,n){r.getAxesOnZeroOf=function(){return o?[o]:[]};var i=e[t],o,a=r.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)KB(i[l])&&(o=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&KB(i[u])&&!n[c(i[u])]){o=i[u];break}o&&(n[c(o)]=!0);function c(d){return d.dim+"_"+d.index}}function KB(e){return e&&e.type!=="category"&&e.type!=="time"&&Ime(e)}function hwe(e,t){var r=e.getExtent(),n=r[0]+r[1];e.toGlobalCoord=e.dim==="x"?function(i){return i+t}:function(i){return n-i+t},e.toLocalCoord=e.dim==="x"?function(i){return i-t}:function(i){return n-i+t}}var Dl=Math.PI,On=function(){function e(t,r){this.group=new Ne,this.opt=r,this.axisModel=t,Ee(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Ne({x:r.position[0],y:r.position[1],rotation:r.rotation});n.updateTransform(),this._transformGroup=n}return e.prototype.hasBuilder=function(t){return!!XB[t]},e.prototype.add=function(t){XB[t](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(t,r,n){var i=PI(r-t),o,a;return $h(i)?(a=n>0?"top":"bottom",o="center"):$h(i-Dl)?(a=n>0?"bottom":"top",o="center"):(a="middle",i>0&&i<Dl?o=n>0?"right":"left":o=n>0?"left":"right"),{rotation:i,textAlign:o,textVerticalAlign:a}},e.makeAxisEventDataBase=function(t){var r={componentType:t.mainType,componentIndex:t.componentIndex};return r[t.mainType+"Index"]=t.componentIndex,r},e.isLabelSilent=function(t){var r=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||r&&r.show)},e}(),XB={axisLine:function(e,t,r,n){var i=t.get(["axisLine","show"]);if(i==="auto"&&e.handleAutoShown&&(i=e.handleAutoShown("axisLine")),!!i){var o=t.axis.getExtent(),a=n.transform,s=[o[0],0],l=[o[1],0],u=s[0]>l[0];a&&(Hr(s,s,a),Hr(l,l,a));var c=ie({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new Rr({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});jh(d.shape,d.style.lineWidth),d.anid="line",r.add(d);var h=t.get(["axisLine","symbol"]);if(h!=null){var f=t.get(["axisLine","symbolSize"]);we(h)&&(h=[h,h]),(we(f)||pt(f))&&(f=[f,f]);var g=Xc(t.get(["axisLine","symbolOffset"])||0,f),m=f[0],y=f[1];F([{rotate:e.rotation+Math.PI/2,offset:g[0],r:0},{rotate:e.rotation-Math.PI/2,offset:g[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(C,w){if(h[w]!=="none"&&h[w]!=null){var S=hr(h[w],-m/2,-y/2,m,y,c.stroke,!0),x=C.r+C.offset,R=u?l:s;S.attr({rotation:C.rotate,x:R[0]+x*Math.cos(e.rotation),y:R[1]-x*Math.sin(e.rotation),silent:!0,z2:11}),r.add(S)}})}}},axisTickLabel:function(e,t,r,n){var i=gwe(r,n,t,e),o=mwe(r,n,t,e);if(pwe(t,o,i),vwe(r,n,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])){var a=sj(le(o,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));cj(a)}},axisName:function(e,t,r,n){var i=Ar(e.axisName,t.get("name"));if(i){var o=t.get("nameLocation"),a=e.nameDirection,s=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=t.axis.getExtent(),c=u[0]>u[1]?-1:1,d=[o==="start"?u[0]-c*l:o==="end"?u[1]+c*l:(u[0]+u[1])/2,ZB(o)?e.labelOffset+a*l:0],h,f=t.get("nameRotate");f!=null&&(f=f*Dl/180);var g;ZB(o)?h=On.innerTextLayout(e.rotation,f??e.rotation,a):(h=fwe(e.rotation,o,f||0,u),g=e.axisNameAvailableWidth,g!=null&&(g=Math.abs(g/Math.sin(h.rotation)),!isFinite(g)&&(g=null)));var m=s.getFont(),y=t.get("nameTruncate",!0)||{},C=y.ellipsis,w=Ar(e.nameTruncateMaxWidth,y.maxWidth,g),S=new dt({x:d[0],y:d[1],rotation:h.rotation,silent:On.isLabelSilent(t),style:Mt(s,{text:i,font:m,overflow:"truncate",width:w,ellipsis:C,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||h.textAlign,verticalAlign:s.get("verticalAlign")||h.textVerticalAlign}),z2:1});if(jc({el:S,componentModel:t,itemName:i}),S.__fullText=i,S.anid="name",t.get("triggerEvent")){var x=On.makeAxisEventDataBase(t);x.targetType="axisName",x.name=i,Ve(S).eventData=x}n.add(S),S.updateTransform(),r.add(S),S.decomposeTransform()}}};function fwe(e,t,r,n){var i=PI(r-e),o,a,s=n[0]>n[1],l=t==="start"&&!s||t!=="start"&&s;return $h(i-Dl/2)?(a=l?"bottom":"top",o="center"):$h(i-Dl*1.5)?(a=l?"top":"bottom",o="center"):(a="middle",i<Dl*1.5&&i>Dl/2?o=l?"left":"right":o=l?"right":"left"),{rotation:i,textAlign:o,textVerticalAlign:a}}function pwe(e,t,r){if(!K7(e.axis)){var n=e.get(["axisLabel","showMinLabel"]),i=e.get(["axisLabel","showMaxLabel"]);t=t||[],r=r||[];var o=t[0],a=t[1],s=t[t.length-1],l=t[t.length-2],u=r[0],c=r[1],d=r[r.length-1],h=r[r.length-2];n===!1?(Li(o),Li(u)):qB(o,a)&&(n?(Li(a),Li(c)):(Li(o),Li(u))),i===!1?(Li(s),Li(d)):qB(l,s)&&(i?(Li(l),Li(h)):(Li(s),Li(d)))}}function Li(e){e&&(e.ignore=!0)}function qB(e,t){var r=e&&e.getBoundingRect().clone(),n=t&&t.getBoundingRect().clone();if(!(!r||!n)){var i=im([]);return Ql(i,i,-e.rotation),r.applyTransform(ba([],i,e.getLocalTransform())),n.applyTransform(ba([],i,t.getLocalTransform())),r.intersect(n)}}function ZB(e){return e==="middle"||e==="center"}function Uj(e,t,r,n,i){for(var o=[],a=[],s=[],l=0;l<e.length;l++){var u=e[l].coord;a[0]=u,a[1]=0,s[0]=u,s[1]=r,t&&(Hr(a,a,t),Hr(s,s,t));var c=new Rr({shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});jh(c.shape,c.style.lineWidth),c.anid=i+"_"+e[l].tickValue,o.push(c)}return o}function gwe(e,t,r,n){var i=r.axis,o=r.getModel("axisTick"),a=o.get("show");if(a==="auto"&&n.handleAutoShown&&(a=n.handleAutoShown("axisTick")),!(!a||i.scale.isBlank())){for(var s=o.getModel("lineStyle"),l=n.tickDirection*o.get("length"),u=i.getTicksCoords(),c=Uj(u,t.transform,l,Ee(s.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<c.length;d++)e.add(c[d]);return c}}function vwe(e,t,r,n){var i=r.axis,o=r.getModel("minorTick");if(!(!o.get("show")||i.scale.isBlank())){var a=i.getMinorTicksCoords();if(a.length)for(var s=o.getModel("lineStyle"),l=n*o.get("length"),u=Ee(s.getLineStyle(),Ee(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),c=0;c<a.length;c++)for(var d=Uj(a[c],t.transform,l,u,"minorticks_"+c),h=0;h<d.length;h++)e.add(d[h])}}function mwe(e,t,r,n){var i=r.axis,o=Ar(n.axisLabelShow,r.get(["axisLabel","show"]));if(!(!o||i.scale.isBlank())){var a=r.getModel("axisLabel"),s=a.get("margin"),l=i.getViewLabels(),u=(Ar(n.labelRotate,a.get("rotate"))||0)*Dl/180,c=On.innerTextLayout(n.rotation,u,n.labelDirection),d=r.getCategories&&r.getCategories(!0),h=[],f=On.isLabelSilent(r),g=r.get("triggerEvent");return F(l,function(m,y){var C=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(m.tickValue):m.tickValue,w=m.formattedLabel,S=m.rawLabel,x=a;if(d&&d[C]){var R=d[C];ke(R)&&R.textStyle&&(x=new yt(R.textStyle,a,r.ecModel))}var T=x.getTextColor()||r.get(["axisLine","lineStyle","color"]),P=i.dataToCoord(C),D=x.getShallow("align",!0)||c.textAlign,I=Ue(x.getShallow("alignMinLabel",!0),D),E=Ue(x.getShallow("alignMaxLabel",!0),D),k=x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||c.textVerticalAlign,L=Ue(x.getShallow("verticalAlignMinLabel",!0),k),N=Ue(x.getShallow("verticalAlignMaxLabel",!0),k),B=new dt({x:P,y:n.labelOffset+n.labelDirection*s,rotation:c.rotation,silent:f,z2:10+(m.level||0),style:Mt(x,{text:w,align:y===0?I:y===l.length-1?E:D,verticalAlign:y===0?L:y===l.length-1?N:k,fill:Ie(T)?T(i.type==="category"?S:i.type==="value"?C+"":C,y):T})});if(B.anid="label_"+C,jc({el:B,componentModel:r,itemName:w,formatterParamsExtra:{isTruncated:function(){return B.isTruncated},value:S,tickIndex:y}}),g){var V=On.makeAxisEventDataBase(r);V.targetType="axisLabel",V.value=S,V.tickIndex=y,i.type==="category"&&(V.dataIndex=C),Ve(B).eventData=V}t.add(B),B.updateTransform(),h.push(B),e.add(B),B.decomposeTransform()}),h}}function ywe(e,t){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Cwe(r,e,t),r.seriesInvolved&&bwe(r,e),r}function Cwe(e,t,r){var n=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),o=i.get("link",!0)||[],a=[];F(r.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=Av(s.model),u=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=s;var c=s.model,d=c.getModel("tooltip",n);if(F(s.getAxes(),je(m,!1,null)),s.getTooltipAxes&&n&&d.get("show")){var h=d.get("trigger")==="axis",f=d.get(["axisPointer","type"])==="cross",g=s.getTooltipAxes(d.get(["axisPointer","axis"]));(h||f)&&F(g.baseAxes,je(m,f?"cross":!0,h)),f&&F(g.otherAxes,je(m,"cross",!1))}function m(y,C,w){var S=w.model.getModel("axisPointer",i),x=S.get("show");if(!(!x||x==="auto"&&!y&&!hD(S))){C==null&&(C=S.get("triggerTooltip")),S=y?wwe(w,d,i,t,y,C):S;var R=S.get("snap"),T=S.get("triggerEmphasis"),P=Av(w.model),D=C||R||w.type==="category",I=e.axesInfo[P]={key:P,axis:w,coordSys:s,axisPointerModel:S,triggerTooltip:C,triggerEmphasis:T,involveSeries:D,snap:R,useHandle:hD(S),seriesModels:[],linkGroup:null};u[P]=I,e.seriesInvolved=e.seriesInvolved||D;var E=Swe(o,w);if(E!=null){var k=a[E]||(a[E]={axesInfo:{}});k.axesInfo[P]=I,k.mapper=o[E].mapper,I.linkGroup=k}}}})}function wwe(e,t,r,n,i,o){var a=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};F(s,function(h){l[h]=Fe(a.get(h))}),l.snap=e.type!=="category"&&!!o,a.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var c=a.get(["label","show"]);if(u.show=c??!0,!o){var d=l.lineStyle=a.get("crossStyle");d&&Ee(u,d.textStyle)}}return e.model.getModel("axisPointer",new yt(l,r,n))}function bwe(e,t){t.eachSeries(function(r){var n=r.coordinateSystem,i=r.get(["tooltip","trigger"],!0),o=r.get(["tooltip","show"],!0);!n||i==="none"||i===!1||i==="item"||o===!1||r.get(["axisPointer","show"],!0)===!1||F(e.coordSysAxesInfo[Av(n.model)],function(a){var s=a.axis;n.getAxis(s.dim)===s&&(a.seriesModels.push(r),a.seriesDataCount==null&&(a.seriesDataCount=0),a.seriesDataCount+=r.getData().count())})})}function Swe(e,t){for(var r=t.model,n=t.dim,i=0;i<e.length;i++){var o=e[i]||{};if(o_(o[n+"AxisId"],r.id)||o_(o[n+"AxisIndex"],r.componentIndex)||o_(o[n+"AxisName"],r.name))return i}}function o_(e,t){return e==="all"||se(e)&&Ze(e,t)>=0||e===t}function xwe(e){var t=zE(e);if(t){var r=t.axisPointerModel,n=t.axis.scale,i=r.option,o=r.get("status"),a=r.get("value");a!=null&&(a=n.parse(a));var s=hD(r);o==null&&(i.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(a==null||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),i.value=a,s&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function zE(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Av(e)]}function Rwe(e){var t=zE(e);return t&&t.axisPointerModel}function hD(e){return!!e.get(["handle","show"])}function Av(e){return e.type+"||"+e.id}var QB={},Zc=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,o){this.axisPointerClass&&xwe(r),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,i,!0)},t.prototype.updateAxisPointer=function(r,n,i,o){this._doUpdateAxisPointerClass(r,i,!1)},t.prototype.remove=function(r,n){var i=this._axisPointer;i&&i.remove(n)},t.prototype.dispose=function(r,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(r,n,i){var o=t.getAxisPointerClass(this.axisPointerClass);if(o){var a=Rwe(r);a?(this._axisPointer||(this._axisPointer=new o)).render(r,a,n,i):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},t.registerAxisPointerClass=function(r,n){QB[r]=n},t.getAxisPointerClass=function(r){return r&&QB[r]},t.type="axis",t}(zt),fD=ft();function jj(e,t,r,n){var i=r.axis;if(!i.scale.isBlank()){var o=r.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=n.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:o,clamp:!0});if(u.length){var c=s.length,d=fD(e).splitAreaColors,h=Pe(),f=0;if(d)for(var g=0;g<u.length;g++){var m=d.get(u[g].tickValue);if(m!=null){f=(m+(c-1)*g)%c;break}}var y=i.toGlobalCoord(u[0].coord),C=a.getAreaStyle();s=se(s)?s:[s];for(var g=1;g<u.length;g++){var w=i.toGlobalCoord(u[g].coord),S=void 0,x=void 0,R=void 0,T=void 0;i.isHorizontal()?(S=y,x=l.y,R=w-S,T=l.height,y=S+R):(S=l.x,x=y,R=l.width,T=w-x,y=x+T);var P=u[g-1].tickValue;P!=null&&h.set(P,f),t.add(new ht({anid:P!=null?"area_"+P:null,shape:{x:S,y:x,width:R,height:T},style:Ee({fill:s[f]},C),autoBatch:!0,silent:!0})),f=(f+1)%c}fD(e).splitAreaColors=h}}}function Yj(e){fD(e).splitAreaColors=null}var _we=["axisLine","axisTickLabel","axisName"],Twe=["splitArea","splitLine","minorSplitLine"],Kj=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="CartesianAxisPointer",r}return t.prototype.render=function(r,n,i,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Ne,this.group.add(this._axisGroup),!!r.get("show")){var s=r.getCoordSysModel(),l=dD(s,r),u=new On(r,ie({handleAutoShown:function(d){for(var h=s.coordinateSystem.getCartesians(),f=0;f<h.length;f++)if(rD(h[f].getOtherAxis(r.axis).scale))return!0;return!1}},l));F(_we,u.add,u),this._axisGroup.add(u.getGroup()),F(Twe,function(d){r.get([d,"show"])&&Pwe[d](this,this._axisGroup,r,s)},this);var c=o&&o.type==="changeAxisOrder"&&o.isInitSort;c||hm(a,this._axisGroup,r),e.prototype.render.call(this,r,n,i,o)}},t.prototype.remove=function(){Yj(this)},t.type="cartesianAxis",t}(Zc),Pwe={splitLine:function(e,t,r,n){var i=r.axis;if(!i.scale.isBlank()){var o=r.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color"),l=o.get("showMinLine")!==!1,u=o.get("showMaxLine")!==!1;s=se(s)?s:[s];for(var c=n.coordinateSystem.getRect(),d=i.isHorizontal(),h=0,f=i.getTicksCoords({tickModel:o}),g=[],m=[],y=a.getLineStyle(),C=0;C<f.length;C++){var w=i.toGlobalCoord(f[C].coord);if(!(C===0&&!l||C===f.length-1&&!u)){var S=f[C].tickValue;d?(g[0]=w,g[1]=c.y,m[0]=w,m[1]=c.y+c.height):(g[0]=c.x,g[1]=w,m[0]=c.x+c.width,m[1]=w);var x=h++%s.length,R=new Rr({anid:S!=null?"line_"+S:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:m[0],y2:m[1]},style:Ee({stroke:s[x]},y),silent:!0});jh(R.shape,y.lineWidth),t.add(R)}}}},minorSplitLine:function(e,t,r,n){var i=r.axis,o=r.getModel("minorSplitLine"),a=o.getModel("lineStyle"),s=n.coordinateSystem.getRect(),l=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var c=[],d=[],h=a.getLineStyle(),f=0;f<u.length;f++)for(var g=0;g<u[f].length;g++){var m=i.toGlobalCoord(u[f][g].coord);l?(c[0]=m,c[1]=s.y,d[0]=m,d[1]=s.y+s.height):(c[0]=s.x,c[1]=m,d[0]=s.x+s.width,d[1]=m);var y=new Rr({anid:"minor_line_"+u[f][g].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:h,silent:!0});jh(y.shape,h.lineWidth),t.add(y)}},splitArea:function(e,t,r,n){jj(e,t,r,n)}},Xj=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="xAxis",t}(Kj),Dwe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Xj.type,r}return t.type="yAxis",t}(Kj),Awe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="grid",r}return t.prototype.render=function(r,n){this.group.removeAll(),r.get("show")&&this.group.add(new ht({shape:r.coordinateSystem.getRect(),style:Ee({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(zt),JB={offset:0};function qj(e){e.registerComponentView(Awe),e.registerComponentModel(nwe),e.registerCoordinateSystem("cartesian2d",dwe),qh(e,"x",uD,JB),qh(e,"y",uD,JB),e.registerComponentView(Xj),e.registerComponentView(Dwe),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function Iwe(e){et(qj),e.registerSeriesModel(QCe),e.registerChartView(rwe),e.registerLayout(Cm("scatter"))}function Ewe(e){e.eachSeriesByType("radar",function(t){var r=t.getData(),n=[],i=t.coordinateSystem;if(i){var o=i.getIndicatorAxes();F(o,function(a,s){r.each(r.mapDimension(o[s].dim),function(l,u){n[u]=n[u]||[];var c=i.dataToPoint(l,s);n[u][s]=eV(c)?c:tV(i)})}),r.each(function(a){var s=S6(n[a],function(l){return eV(l)})||tV(i);n[a].push(s.slice()),r.setItemLayout(a,n[a])})}})}function eV(e){return!isNaN(e[0])&&!isNaN(e[1])}function tV(e){return[e.cx,e.cy]}function Mwe(e){var t=e.polar;if(t){se(t)||(t=[t]);var r=[];F(t,function(n,i){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),e.radar=e.radar||[],se(e.radar)||(e.radar=[e.radar]),e.radar.push(n)):r.push(n)}),e.polar=r}F(e.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var kwe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var o=r.coordinateSystem,a=this.group,s=r.getData(),l=this._data;function u(h,f){var g=h.getItemVisual(f,"symbol")||"circle";if(g!=="none"){var m=Af(h.getItemVisual(f,"symbolSize")),y=hr(g,-1,-1,2,2),C=h.getItemVisual(f,"symbolRotate")||0;return y.attr({style:{strokeNoScale:!0},z2:100,scaleX:m[0]/2,scaleY:m[1]/2,rotation:C*Math.PI/180||0}),y}}function c(h,f,g,m,y,C){g.removeAll();for(var w=0;w<f.length-1;w++){var S=u(m,y);S&&(S.__dimIdx=w,h[w]?(S.setPosition(h[w]),Yc[C?"initProps":"updateProps"](S,{x:f[w][0],y:f[w][1]},r,y)):S.setPosition(f[w]),g.add(S))}}function d(h){return le(h,function(f){return[o.cx,o.cy]})}s.diff(l).add(function(h){var f=s.getItemLayout(h);if(f){var g=new bn,m=new Rn,y={shape:{points:f}};g.shape.points=d(f),m.shape.points=d(f),Vt(g,y,r,h),Vt(m,y,r,h);var C=new Ne,w=new Ne;C.add(m),C.add(g),C.add(w),c(m.shape.points,f,w,s,h,!0),s.setItemGraphicEl(h,C)}}).update(function(h,f){var g=l.getItemGraphicEl(f),m=g.childAt(0),y=g.childAt(1),C=g.childAt(2),w={shape:{points:s.getItemLayout(h)}};w.shape.points&&(c(m.shape.points,w.shape.points,C,s,h,!1),Vo(y),Vo(m),gt(m,w,r),gt(y,w,r),s.setItemGraphicEl(h,g))}).remove(function(h){a.remove(l.getItemGraphicEl(h))}).execute(),s.eachItemGraphicEl(function(h,f){var g=s.getItemModel(f),m=h.childAt(0),y=h.childAt(1),C=h.childAt(2),w=s.getItemVisual(f,"style"),S=w.fill;a.add(h),m.useStyle(Ee(g.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:S})),Qr(m,g,"lineStyle"),Qr(y,g,"areaStyle");var x=g.getModel("areaStyle"),R=x.isEmpty()&&x.parentModel.isEmpty();y.ignore=R,F(["emphasis","select","blur"],function(D){var I=g.getModel([D,"areaStyle"]),E=I.isEmpty()&&I.parentModel.isEmpty();y.ensureState(D).ignore=E&&R}),y.useStyle(Ee(x.getAreaStyle(),{fill:S,opacity:.7,decal:w.decal}));var T=g.getModel("emphasis"),P=T.getModel("itemStyle").getItemStyle();C.eachChild(function(D){if(D instanceof Lr){var I=D.style;D.useStyle(ie({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},w))}else D.useStyle(w),D.setColor(S),D.style.strokeNoScale=!0;var E=D.ensureState("emphasis");E.style=Fe(P);var k=s.getStore().get(s.getDimensionIndex(D.__dimIdx),f);(k==null||isNaN(k))&&(k=""),Jr(D,Mr(g),{labelFetcher:s.hostModel,labelDataIndex:f,labelDimIndex:D.__dimIdx,defaultText:k,inheritColor:S,defaultOpacity:w.opacity})}),Kt(h,T.get("focus"),T.get("blurScope"),T.get("disabled"))}),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(bt),Fwe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new bm(Se(this.getData,this),Se(this.getRawData,this))},t.prototype.getInitialData=function(r,n){return kf(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(r,n,i){var o=this.getData(),a=this.coordinateSystem,s=a.getIndicatorAxes(),l=this.getData().getName(r),u=l===""?this.name:l,c=U8(this,r);return kr("section",{header:u,sortBlocks:!0,blocks:le(s,function(d){var h=o.get(o.mapDimension(d.dim),r);return kr("nameValue",{markerType:"subItem",markerColor:c,name:d.name,value:h,sortParam:h})})})},t.prototype.getTooltipPosition=function(r){if(r!=null){for(var n=this.getData(),i=this.coordinateSystem,o=n.getValues(le(i.dimensions,function(u){return n.mapDimension(u)}),r),a=0,s=o.length;a<s;a++)if(!isNaN(o[a])){var l=i.getIndicatorAxes();return i.coordToPoint(l[a].dataToCoord(o[a]),a)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(Tt),qp=Wj.value;function kC(e,t){return Ee({show:t},e)}var Lwe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(){var r=this.get("boundaryGap"),n=this.get("splitNumber"),i=this.get("scale"),o=this.get("axisLine"),a=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),d=this.get("axisNameGap"),h=this.get("triggerEvent"),f=le(this.get("indicator")||[],function(g){g.max!=null&&g.max>0&&!g.min?g.min=0:g.min!=null&&g.min<0&&!g.max&&(g.max=0);var m=l;g.color!=null&&(m=Ee({color:g.color},l));var y=Ke(Fe(g),{boundaryGap:r,splitNumber:n,scale:i,axisLine:o,axisTick:a,axisLabel:s,name:g.text,showName:u,nameLocation:"end",nameGap:d,nameTextStyle:m,triggerEvent:h},!1);if(we(c)){var C=y.name;y.name=c.replace("{value}",C??"")}else Ie(c)&&(y.name=c(y.name,y));var w=new yt(y,null,this.ecModel);return ar(w,Mf.prototype),w.mainType="radar",w.componentIndex=this.componentIndex,w},this);this._indicatorModels=f},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Ke({lineStyle:{color:"#bbb"}},qp.axisLine),axisLabel:kC(qp.axisLabel,!1),axisTick:kC(qp.axisTick,!1),splitLine:kC(qp.splitLine,!0),splitArea:kC(qp.splitArea,!0),indicator:[]},t}(tt),Owe=["axisLine","axisTickLabel","axisName"],Nwe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var o=this.group;o.removeAll(),this._buildAxes(r),this._buildSplitLineAndArea(r)},t.prototype._buildAxes=function(r){var n=r.coordinateSystem,i=n.getIndicatorAxes(),o=le(i,function(a){var s=a.model.get("showName")?a.name:"",l=new On(a.model,{axisName:s,position:[n.cx,n.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});F(o,function(a){F(Owe,a.add,a),this.group.add(a.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(r){var n=r.coordinateSystem,i=n.getIndicatorAxes();if(!i.length)return;var o=r.get("shape"),a=r.getModel("splitLine"),s=r.getModel("splitArea"),l=a.getModel("lineStyle"),u=s.getModel("areaStyle"),c=a.get("show"),d=s.get("show"),h=l.get("color"),f=u.get("color"),g=se(h)?h:[h],m=se(f)?f:[f],y=[],C=[];function w(V,W,j){var G=j%W.length;return V[G]=V[G]||[],G}if(o==="circle")for(var S=i[0].getTicksCoords(),x=n.cx,R=n.cy,T=0;T<S.length;T++){if(c){var P=w(y,g,T);y[P].push(new La({shape:{cx:x,cy:R,r:S[T].coord}}))}if(d&&T<S.length-1){var P=w(C,m,T);C[P].push(new mf({shape:{cx:x,cy:R,r0:S[T].coord,r:S[T+1].coord}}))}}else for(var D,I=le(i,function(V,W){var j=V.getTicksCoords();return D=D==null?j.length-1:Math.min(j.length-1,D),le(j,function(G){return n.coordToPoint(G.coord,W)})}),E=[],T=0;T<=D;T++){for(var k=[],L=0;L<i.length;L++)k.push(I[L][T]);if(k[0]&&k.push(k[0].slice()),c){var P=w(y,g,T);y[P].push(new Rn({shape:{points:k}}))}if(d&&E){var P=w(C,m,T-1);C[P].push(new bn({shape:{points:k.concat(E)}}))}E=k.slice().reverse()}var N=l.getLineStyle(),B=u.getAreaStyle();F(C,function(V,W){this.group.add(gi(V,{style:Ee({stroke:"none",fill:m[W%m.length]},B),silent:!0}))},this),F(y,function(V,W){this.group.add(gi(V,{style:Ee({fill:"none",stroke:g[W%g.length]},N),silent:!0}))},this)},t.type="radar",t}(zt),zwe=function(e){q(t,e);function t(r,n,i){var o=e.call(this,r,n,i)||this;return o.type="value",o.angle=0,o.name="",o}return t}(uo),Bwe=function(){function e(t,r,n){this.dimensions=[],this._model=t,this._indicatorAxes=le(t.getIndicatorModels(),function(i,o){var a="indicator_"+o,s=new zwe(a,new As);return s.name=i.get("name"),s.model=i,i.axis=s,this.dimensions.push(a),s},this),this.resize(t,n)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(t,r){var n=this._indicatorAxes[r];return this.coordToPoint(n.dataToCoord(t),r)},e.prototype.coordToPoint=function(t,r){var n=this._indicatorAxes[r],i=n.angle,o=this.cx+t*Math.cos(i),a=this.cy-t*Math.sin(i);return[o,a]},e.prototype.pointToData=function(t){var r=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(r*r+n*n);r/=i,n/=i;for(var o=Math.atan2(-n,r),a=1/0,s,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],d=Math.abs(o-c.angle);d<a&&(s=c,l=u,a=d)}return[l,+(s&&s.coordToData(i))]},e.prototype.resize=function(t,r){var n=t.get("center"),i=r.getWidth(),o=r.getHeight(),a=Math.min(i,o)/2;this.cx=me(n[0],i),this.cy=me(n[1],o),this.startAngle=t.get("startAngle")*Math.PI/180;var s=t.get("radius");(we(s)||pt(s))&&(s=[0,s]),this.r0=me(s[0],a),this.r=me(s[1],a),F(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},e.prototype.update=function(t,r){var n=this._indicatorAxes,i=this._model;F(n,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,l){if(!(s.get("coordinateSystem")!=="radar"||t.getComponent("radar",s.get("radarIndex"))!==i)){var u=s.getData();F(n,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var o=i.get("splitNumber"),a=new As;a.setExtent(0,o),a.setInterval(1),F(n,function(s,l){$j(s.scale,s.model,a)})},e.prototype.convertToPixel=function(t,r,n){return console.warn("Not implemented."),null},e.prototype.convertFromPixel=function(t,r,n){return console.warn("Not implemented."),null},e.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},e.create=function(t,r){var n=[];return t.eachComponent("radar",function(i){var o=new e(i,t,r);n.push(o),i.coordinateSystem=o}),t.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},e.dimensions=[],e}();function Vwe(e){e.registerCoordinateSystem("radar",Bwe),e.registerComponentModel(Lwe),e.registerComponentView(Nwe),e.registerVisual({seriesType:"radar",reset:function(t){var r=t.getData();r.each(function(n){r.setItemVisual(n,"legendIcon","roundRect")}),r.setVisual("legendIcon","roundRect")}})}function Gwe(e){et(Vwe),e.registerChartView(kwe),e.registerSeriesModel(Fwe),e.registerLayout(Ewe),e.registerProcessor(wm("radar")),e.registerPreprocessor(Mwe)}var rV="\0_ec_interaction_mutex";function Hwe(e,t,r){var n=BE(e);n[t]=r}function Wwe(e,t,r){var n=BE(e),i=n[t];i===r&&(n[t]=null)}function nV(e,t){return!!BE(e)[t]}function BE(e){return e[rV]||(e[rV]={})}Wo({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},ir);var Sm=function(e){q(t,e);function t(r){var n=e.call(this)||this;n._zr=r;var i=Se(n._mousedownHandler,n),o=Se(n._mousemoveHandler,n),a=Se(n._mouseupHandler,n),s=Se(n._mousewheelHandler,n),l=Se(n._pinchHandler,n);return n.enable=function(u,c){this.disable(),this._opt=Ee(Fe(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(r.on("mousedown",i),r.on("mousemove",o),r.on("mouseup",a)),(u===!0||u==="scale"||u==="zoom")&&(r.on("mousewheel",s),r.on("pinch",l))},n.disable=function(){r.off("mousedown",i),r.off("mousemove",o),r.off("mouseup",a),r.off("mousewheel",s),r.off("pinch",l)},n}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(r){this.pointerChecker=r},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(r){if(!O2(r)){for(var n=r.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var i=r.offsetX,o=r.offsetY;this.pointerChecker&&this.pointerChecker(r,i,o)&&(this._x=i,this._y=o,this._dragging=!0)}},t.prototype._mousemoveHandler=function(r){if(!(!this._dragging||!Dw("moveOnMouseMove",r,this._opt)||r.gestureEvent==="pinch"||nV(this._zr,"globalPan"))){var n=r.offsetX,i=r.offsetY,o=this._x,a=this._y,s=n-o,l=i-a;this._x=n,this._y=i,this._opt.preventDefaultMouseMove&&Rs(r.event),Zj(this,"pan","moveOnMouseMove",r,{dx:s,dy:l,oldX:o,oldY:a,newX:n,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(r){O2(r)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(r){var n=Dw("zoomOnMouseWheel",r,this._opt),i=Dw("moveOnMouseWheel",r,this._opt),o=r.wheelDelta,a=Math.abs(o),s=r.offsetX,l=r.offsetY;if(!(o===0||!n&&!i)){if(n){var u=a>3?1.4:a>1?1.2:1.1,c=o>0?u:1/u;a_(this,"zoom","zoomOnMouseWheel",r,{scale:c,originX:s,originY:l,isAvailableBehavior:null})}if(i){var d=Math.abs(o),h=(o>0?1:-1)*(d>3?.4:d>1?.15:.05);a_(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:h,originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(r){if(!nV(this._zr,"globalPan")){var n=r.pinchScale>1?1.1:1/1.1;a_(this,"zoom",null,r,{scale:n,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},t}(oo);function a_(e,t,r,n,i){e.pointerChecker&&e.pointerChecker(n,i.originX,i.originY)&&(Rs(n.event),Zj(e,t,r,n,i))}function Zj(e,t,r,n,i){i.isAvailableBehavior=Se(Dw,null,r,n),e.trigger(t,i)}function Dw(e,t,r){var n=r[e];return!e||n&&(!we(n)||t.event[n+"Key"])}function VE(e,t,r){var n=e.target;n.x+=t,n.y+=r,n.dirty()}function GE(e,t,r,n){var i=e.target,o=e.zoomLimit,a=e.zoom=e.zoom||1;if(a*=t,o){var s=o.min||0,l=o.max||1/0;a=Math.max(Math.min(l,a),s)}var u=a/e.zoom;e.zoom=a,i.x-=(r-i.x)*(u-1),i.y-=(n-i.y)*(u-1),i.scaleX*=u,i.scaleY*=u,i.dirty()}var $we={axisPointer:1,tooltip:1,brush:1};function pS(e,t,r){var n=t.getComponentByElement(e.topTarget),i=n&&n.coordinateSystem;return n&&n!==r&&!$we.hasOwnProperty(n.mainType)&&i&&i.model!==r}function Qj(e){if(we(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}var r=e;for(r.nodeType===9&&(r=r.firstChild);r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1;)r=r.nextSibling;return r}var s_,k0={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},iV=at(k0),F0={"alignment-baseline":"textBaseline","stop-color":"stopColor"},oV=at(F0),Uwe=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(t,r){r=r||{};var n=Qj(t);this._defsUsePending=[];var i=new Ne;this._root=i;var o=[],a=n.getAttribute("viewBox")||"",s=parseFloat(n.getAttribute("width")||r.width),l=parseFloat(n.getAttribute("height")||r.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),fi(n,i,null,!0,!1);for(var u=n.firstChild;u;)this._parseNode(u,i,o,null,!1,!1),u=u.nextSibling;Kwe(this._defs,this._defsUsePending),this._defsUsePending=[];var c,d;if(a){var h=gS(a);h.length>=4&&(c={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(c&&s!=null&&l!=null&&(d=e9(c,{x:0,y:0,width:s,height:l}),!r.ignoreViewBox)){var f=i;i=new Ne,i.add(f),f.scaleX=f.scaleY=d.scale,f.x=d.x,f.y=d.y}return!r.ignoreRootClip&&s!=null&&l!=null&&i.setClipPath(new ht({shape:{x:0,y:0,width:s,height:l}})),{root:i,width:s,height:l,viewBoxRect:c,viewBoxTransform:d,named:o}},e.prototype._parseNode=function(t,r,n,i,o,a){var s=t.nodeName.toLowerCase(),l,u=i;if(s==="defs"&&(o=!0),s==="text"&&(a=!0),s==="defs"||s==="switch")l=r;else{if(!o){var c=s_[s];if(c&&_e(s_,s)){l=c.call(this,t,r);var d=t.getAttribute("name");if(d){var h={name:d,namedFrom:null,svgNodeTagLower:s,el:l};n.push(h),s==="g"&&(u=h)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:l});r.add(l)}}var f=aV[s];if(f&&_e(aV,s)){var g=f.call(this,t),m=t.getAttribute("id");m&&(this._defs[m]=g)}}if(l&&l.isGroup)for(var y=t.firstChild;y;)y.nodeType===1?this._parseNode(y,l,n,u,o,a):y.nodeType===3&&a&&this._parseText(y,l),y=y.nextSibling},e.prototype._parseText=function(t,r){var n=new Uh({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Oi(r,n),fi(t,n,this._defsUsePending,!1,!1),jwe(n,r);var i=n.style,o=i.fontSize;o&&o<9&&(i.fontSize=9,n.scaleX*=o/9,n.scaleY*=o/9);var a=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=a;var s=n.getBoundingRect();return this._textX+=s.width,r.add(n),n},e.internalField=function(){s_={g:function(t,r){var n=new Ne;return Oi(r,n),fi(t,n,this._defsUsePending,!1,!1),n},rect:function(t,r){var n=new ht;return Oi(r,n),fi(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,r){var n=new La;return Oi(r,n),fi(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,r){var n=new Rr;return Oi(r,n),fi(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,r){var n=new um;return Oi(r,n),fi(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,r){var n=t.getAttribute("points"),i;n&&(i=uV(n));var o=new bn({shape:{points:i||[]},silent:!0});return Oi(r,o),fi(t,o,this._defsUsePending,!1,!1),o},polyline:function(t,r){var n=t.getAttribute("points"),i;n&&(i=uV(n));var o=new Rn({shape:{points:i||[]},silent:!0});return Oi(r,o),fi(t,o,this._defsUsePending,!1,!1),o},image:function(t,r){var n=new Lr;return Oi(r,n),fi(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,r){var n=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",o=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(o),this._textY=parseFloat(i)+parseFloat(a);var s=new Ne;return Oi(r,s),fi(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,r){var n=t.getAttribute("x"),i=t.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),i!=null&&(this._textY=parseFloat(i));var o=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0",s=new Ne;return Oi(r,s),fi(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(a),s},path:function(t,r){var n=t.getAttribute("d")||"",i=HU(n);return Oi(r,i),fi(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),e}(),aV={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),r=parseInt(e.getAttribute("y1")||"0",10),n=parseInt(e.getAttribute("x2")||"10",10),i=parseInt(e.getAttribute("y2")||"0",10),o=new Cf(t,r,n,i);return sV(e,o),lV(e,o),o},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),r=parseInt(e.getAttribute("cy")||"0",10),n=parseInt(e.getAttribute("r")||"0",10),i=new GI(t,r,n);return sV(e,i),lV(e,i),i}};function sV(e,t){var r=e.getAttribute("gradientUnits");r==="userSpaceOnUse"&&(t.global=!0)}function lV(e,t){for(var r=e.firstChild;r;){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var n=r.getAttribute("offset"),i=void 0;n&&n.indexOf("%")>0?i=parseInt(n,10)/100:n?i=parseFloat(n):i=0;var o={};Jj(r,o,o);var a=o.stopColor||r.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:i,color:a})}r=r.nextSibling}}function Oi(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),Ee(t.__inheritedStyle,e.__inheritedStyle))}function uV(e){for(var t=gS(e),r=[],n=0;n<t.length;n+=2){var i=parseFloat(t[n]),o=parseFloat(t[n+1]);r.push([i,o])}return r}function fi(e,t,r,n,i){var o=t,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};e.nodeType===1&&(Zwe(e,t),Jj(e,a,s),n||Qwe(e,a,s)),o.style=o.style||{},a.fill!=null&&(o.style.fill=cV(o,"fill",a.fill,r)),a.stroke!=null&&(o.style.stroke=cV(o,"stroke",a.stroke,r)),F(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){a[l]!=null&&(o.style[l]=parseFloat(a[l]))}),F(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){a[l]!=null&&(o.style[l]=a[l])}),i&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=le(gS(a.lineDash),function(l){return parseFloat(l)})),(a.visibility==="hidden"||a.visibility==="collapse")&&(o.invisible=!0),a.display==="none"&&(o.ignore=!0)}function jwe(e,t){var r=t.__selfStyle;if(r){var n=r.textBaseline,i=n;!n||n==="auto"||n==="baseline"?i="alphabetic":n==="before-edge"||n==="text-before-edge"?i="top":n==="after-edge"||n==="text-after-edge"?i="bottom":(n==="central"||n==="mathematical")&&(i="middle"),e.style.textBaseline=i}var o=t.__inheritedStyle;if(o){var a=o.textAlign,s=a;a&&(a==="middle"&&(s="center"),e.style.textAlign=s)}}var Ywe=/^url\(\s*#(.*?)\)/;function cV(e,t,r,n){var i=r&&r.match(Ywe);if(i){var o=Xi(i[1]);n.push([e,t,o]);return}return r==="none"&&(r=null),r}function Kwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n[0].style[n[1]]=e[n[2]]}}var Xwe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function gS(e){return e.match(Xwe)||[]}var qwe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,l_=Math.PI/180;function Zwe(e,t){var r=e.getAttribute("transform");if(r){r=r.replace(/,/g," ");var n=[],i=null;r.replace(qwe,function(d,h,f){return n.push(h,f),""});for(var o=n.length-1;o>0;o-=2){var a=n[o],s=n[o-1],l=gS(a);switch(i=i||oi(),s){case"translate":zo(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":Nb(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Ql(i,i,-parseFloat(l[0])*l_,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*l_);ba(i,[1,0,u,1,0,0],i);break;case"skewY":var c=Math.tan(parseFloat(l[0])*l_);ba(i,[1,c,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}t.setLocalTransform(i)}}var dV=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Jj(e,t,r){var n=e.getAttribute("style");if(n){dV.lastIndex=0;for(var i;(i=dV.exec(n))!=null;){var o=i[1],a=_e(k0,o)?k0[o]:null;a&&(t[a]=i[2]);var s=_e(F0,o)?F0[o]:null;s&&(r[s]=i[2])}}}function Qwe(e,t,r){for(var n=0;n<iV.length;n++){var i=iV[n],o=e.getAttribute(i);o!=null&&(t[k0[i]]=o)}for(var n=0;n<oV.length;n++){var i=oV[n],o=e.getAttribute(i);o!=null&&(r[F0[i]]=o)}}function e9(e,t){var r=t.width/e.width,n=t.height/e.height,i=Math.min(r,n);return{scale:i,x:-(e.x+e.width/2)*i+(t.x+t.width/2),y:-(e.y+e.height/2)*i+(t.y+t.height/2)}}function Jwe(e,t){var r=new Uwe;return r.parse(e,t)}var e0e=Pe(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),t0e=function(){function e(t,r){this.type="geoSVG",this._usedGraphicMap=Pe(),this._freedGraphics=[],this._mapName=t,this._parsedXML=Qj(r)}return e.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var r=n0e(t.named),n=r.regions,i=r.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(t){var r,n;try{r=t&&Jwe(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=r.root,Cn(n!=null)}catch(y){throw new Error(`Invalid svg format
`+y.message)}var i=new Ne;i.add(n),i.isGeoSVGGraphicRoot=!0;var o=r.width,a=r.height,s=r.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,d=void 0,h=void 0;if(o!=null?(u=0,d=o):s&&(u=s.x,d=s.width),a!=null?(c=0,h=a):s&&(c=s.y,h=s.height),u==null||c==null){var f=n.getBoundingRect();u==null&&(u=f.x,d=f.width),c==null&&(c=f.y,h=f.height)}l=this._boundingRect=new qe(u,c,d,h)}if(s){var g=e9(s,l);n.scaleX=n.scaleY=g.scale,n.x=g.x,n.y=g.y}i.setClipPath(new ht({shape:l.plain()}));var m=[];return F(r.named,function(y){e0e.get(y.svgNodeTagLower)!=null&&(m.push(y),r0e(y.el))}),{root:i,boundingRect:l,named:m}},e.prototype.useGraphic=function(t){var r=this._usedGraphicMap,n=r.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),r.set(t,n),n)},e.prototype.freeGraphic=function(t){var r=this._usedGraphicMap,n=r.get(t);n&&(r.removeKey(t),this._freedGraphics.push(n))},e}();function r0e(e){e.silent=!1,e.isGroup&&e.traverse(function(t){t.silent=!1})}function n0e(e){var t=[],r=Pe();return F(e,function(n){if(n.namedFrom==null){var i=new Wme(n.name,n.el);t.push(i),r.set(n.name,i)}}),{regions:t,regionsMap:r}}var pD=[126,25],hV="",$u=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Hu=0;Hu<$u.length;Hu++)for(var Xd=0;Xd<$u[Hu].length;Xd++)$u[Hu][Xd][0]/=10.5,$u[Hu][Xd][1]/=-10.5/.75,$u[Hu][Xd][0]+=pD[0],$u[Hu][Xd][1]+=pD[1];function i0e(e,t){if(e==="china"){for(var r=0;r<t.length;r++)if(t[r].name===hV)return;t.push(new q7(hV,le($u,function(n){return{type:"polygon",exterior:n}}),pD))}}var o0e={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function a0e(e,t){if(e==="china"){var r=o0e[t.name];if(r){var n=t.getCenter();n[0]+=r[0]/10.5,n[1]+=-r[1]/(10.5/.75),t.setCenter(n)}}}var s0e=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function l0e(e,t){e==="china"&&t.name===""&&t.geometries.push({type:"polygon",exterior:s0e[0]})}var u0e="name",c0e=function(){function e(t,r,n){this.type="geoJSON",this._parsedMap=Pe(),this._mapName=t,this._specialAreas=n,this._geoJSON=h0e(r)}return e.prototype.load=function(t,r){r=r||u0e;var n=this._parsedMap.get(r);if(!n){var i=this._parseToRegions(r);n=this._parsedMap.set(r,{regions:i,boundingRect:d0e(i)})}var o=Pe(),a=[];return F(n.regions,function(s){var l=s.name;t&&_e(t,l)&&(s=s.cloneShallow(l=t[l])),a.push(s),o.set(l,s)}),{regions:a,boundingRect:n.boundingRect||new qe(0,0,0,0),regionsMap:o}},e.prototype._parseToRegions=function(t){var r=this._mapName,n=this._geoJSON,i;try{i=n?iD(n,t):[]}catch(o){throw new Error(`Invalid geoJson format
`+o.message)}return i0e(r,i),F(i,function(o){var a=o.name;a0e(r,o),l0e(r,o);var s=this._specialAreas&&this._specialAreas[a];s&&o.transformTo(s.left,s.top,s.width,s.height)},this),i},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function d0e(e){for(var t,r=0;r<e.length;r++){var n=e[r].getBoundingRect();t=t||n.clone(),t.union(n)}return t}function h0e(e){return we(e)?typeof JSON<"u"&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e}var Zp=Pe();const Is={registerMap:function(e,t,r){if(t.svg){var n=new t0e(e,t.svg);Zp.set(e,n)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?r=t.specialAreas:i=t;var n=new c0e(e,i,r);Zp.set(e,n)}},getGeoResource:function(e){return Zp.get(e)},getMapForUser:function(e){var t=Zp.get(e);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(e,t,r){var n=Zp.get(e);if(n)return n.load(t,r)}};var HE=["rect","circle","line","ellipse","polygon","polyline","path"],f0e=Pe(HE),p0e=Pe(HE.concat(["g"])),g0e=Pe(HE.concat(["g"])),t9=ft();function FC(e){var t=e.getItemStyle(),r=e.get("areaColor");return r!=null&&(t.fill=r),t}function fV(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var r9=function(){function e(t){var r=new Ne;this.uid=xf("ec_map_draw"),this._controller=new Sm(t.getZr()),this._controllerHost={target:r},this.group=r,r.add(this._regionsGroup=new Ne),r.add(this._svgGroup=new Ne)}return e.prototype.draw=function(t,r,n,i,o){var a=t.mainType==="geo",s=t.getData&&t.getData();a&&r.eachComponent({mainType:"series",subType:"map"},function(C){!s&&C.getHostGeoModel()===t&&(s=C.getData())});var l=t.coordinateSystem,u=this._regionsGroup,c=this.group,d=l.getTransformInfo(),h=d.raw,f=d.roam,g=!u.childAt(0)||o;g?(c.x=f.x,c.y=f.y,c.scaleX=f.scaleX,c.scaleY=f.scaleY,c.dirty()):gt(c,f,t);var m=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,y={api:n,geo:l,mapOrGeoModel:t,data:s,isVisualEncodedByVisualMap:m,isGeo:a,transformInfoRaw:h};l.resourceType==="geoJSON"?this._buildGeoJSON(y):l.resourceType==="geoSVG"&&this._buildSVG(y),this._updateController(t,r,n),this._updateMapSelectHandler(t,u,n,i)},e.prototype._buildGeoJSON=function(t){var r=this._regionsGroupByName=Pe(),n=Pe(),i=this._regionsGroup,o=t.transformInfoRaw,a=t.mapOrGeoModel,s=t.data,l=t.geo.projection,u=l&&l.stream;function c(f,g){return g&&(f=g(f)),f&&[f[0]*o.scaleX+o.x,f[1]*o.scaleY+o.y]}function d(f){for(var g=[],m=!u&&l&&l.project,y=0;y<f.length;++y){var C=c(f[y],m);C&&g.push(C)}return g}function h(f){return{shape:{points:d(f)}}}i.removeAll(),F(t.geo.regions,function(f){var g=f.name,m=r.get(g),y=n.get(g)||{},C=y.dataIdx,w=y.regionModel;if(!m){m=r.set(g,new Ne),i.add(m),C=s?s.indexOfName(g):null,w=t.isGeo?a.getRegionModel(g):s?s.getItemModel(C):null;var S=w.get("silent",!0);S!=null&&(m.silent=S),n.set(g,{dataIdx:C,regionModel:w})}var x=[],R=[];F(f.geometries,function(D){if(D.type==="polygon"){var I=[D.exterior].concat(D.interiors||[]);u&&(I=CV(I,u)),F(I,function(k){x.push(new bn(h(k)))})}else{var E=D.points;u&&(E=CV(E,u,!0)),F(E,function(k){R.push(new Rn(h(k)))})}});var T=c(f.getCenter(),l&&l.project);function P(D,I){if(D.length){var E=new Kb({culling:!0,segmentIgnoreThreshold:1,shape:{paths:D}});m.add(E),pV(t,E,C,w),gV(t,E,g,w,a,C,T),I&&(fV(E),F(E.states,fV))}}P(x),P(R,!0)}),r.each(function(f,g){var m=n.get(g),y=m.dataIdx,C=m.regionModel;vV(t,f,g,C,a,y),mV(t,f,g,C,a),yV(t,f,g,C,a)},this)},e.prototype._buildSVG=function(t){var r=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(r)&&(this._freeSVG(),this._useSVG(r));var i=this._svgDispatcherMap=Pe(),o=!1;F(this._svgGraphicRecord.named,function(a){var s=a.name,l=t.mapOrGeoModel,u=t.data,c=a.svgNodeTagLower,d=a.el,h=u?u.indexOfName(s):null,f=l.getRegionModel(s);f0e.get(c)!=null&&d instanceof io&&pV(t,d,h,f),d instanceof io&&(d.culling=!0);var g=f.get("silent",!0);if(g!=null&&(d.silent=g),d.z2EmphasisLift=0,!a.namedFrom&&(g0e.get(c)!=null&&gV(t,d,s,f,l,h,null),vV(t,d,s,f,l,h),mV(t,d,s,f,l),p0e.get(c)!=null)){var m=yV(t,d,s,f,l);m==="self"&&(o=!0);var y=i.get(s)||i.set(s,[]);y.push(d)}},this),this._enableBlurEntireSVG(o,t)},e.prototype._enableBlurEntireSVG=function(t,r){if(t&&r.isGeo){var n=r.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=n.opacity;this._svgGraphicRecord.root.traverse(function(o){if(!o.isGroup){Mc(o);var a=o.ensureState("blur").style||{};a.opacity==null&&i!=null&&(a.opacity=i),o.ensureState("emphasis")}})}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(t,r){if(t==null)return[];var n=r.coordinateSystem;if(n.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var o=i.get(t);return o?[o]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},e.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},e.prototype._useSVG=function(t){var r=Is.getGeoResource(t);if(r&&r.type==="geoSVG"){var n=r.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},e.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var r=Is.getGeoResource(t);r&&r.type==="geoSVG"&&r.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(t,r,n){var i=t.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=t.get("scaleLimit"),a.zoom=i.getZoom(),o.enable(t.get("roam")||!1);var s=t.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=t.id,u}o.off("pan").on("pan",function(u){this._mouseDownFlag=!1,VE(a,u.dx,u.dy),n.dispatchAction(ie(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,GE(a,u.scale,u.originX,u.originY),n.dispatchAction(ie(l(),{totalZoom:a.zoom,zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),o.setPointerChecker(function(u,c,d){return i.containPoint([c,d])&&!pS(u,n,t)})},e.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var r=t.getTextContent();r&&(r.ignore=t9(r).ignore)})},e.prototype._updateMapSelectHandler=function(t,r,n,i){var o=this;r.off("mousedown"),r.off("click"),t.get("selectedMode")&&(r.on("mousedown",function(){o._mouseDownFlag=!0}),r.on("click",function(a){o._mouseDownFlag&&(o._mouseDownFlag=!1)}))},e}();function pV(e,t,r,n){var i=n.getModel("itemStyle"),o=n.getModel(["emphasis","itemStyle"]),a=n.getModel(["blur","itemStyle"]),s=n.getModel(["select","itemStyle"]),l=FC(i),u=FC(o),c=FC(s),d=FC(a),h=e.data;if(h){var f=h.getItemVisual(r,"style"),g=h.getItemVisual(r,"decal");e.isVisualEncodedByVisualMap&&f.fill&&(l.fill=f.fill),g&&(l.decal=Kh(g,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=c,t.ensureState("blur").style=d,Mc(t)}function gV(e,t,r,n,i,o,a){var s=e.data,l=e.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),o)),c=s&&s.getItemLayout(o);if(l||u||c&&c.showLabel){var d=l?r:o,h=void 0;(!s||o>=0)&&(h=i);var f=a?{normal:{align:"center",verticalAlign:"middle"}}:null;Jr(t,Mr(n),{labelFetcher:h,labelDataIndex:d,defaultText:r},f);var g=t.getTextContent();if(g&&(t9(g).ignore=g.ignore,t.textConfig&&a)){var m=t.getBoundingRect().clone();t.textConfig.layoutRect=m,t.textConfig.position=[(a[0]-m.x)/m.width*100+"%",(a[1]-m.y)/m.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function vV(e,t,r,n,i,o){e.data?e.data.setItemGraphicEl(o,t):Ve(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:r,region:n&&n.option||{}}}function mV(e,t,r,n,i){e.data||jc({el:t,componentModel:i,itemName:r,itemTooltipOption:n.get("tooltip")})}function yV(e,t,r,n,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var o=n.getModel("emphasis"),a=o.get("focus");return Kt(t,a,o.get("blurScope"),o.get("disabled")),e.isGeo&&Qhe(t,i,r),a}function CV(e,t,r){var n=[],i;function o(){i=[]}function a(){i.length&&(n.push(i),i=[])}var s=t({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!r&&s.polygonStart(),F(e,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!r&&s.polygonEnd(),n}var v0e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,o){if(!(o&&o.type==="mapToggleSelect"&&o.from===this.uid)){var a=this.group;if(a.removeAll(),!r.getHostGeoModel()){if(this._mapDraw&&o&&o.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),o&&o.type==="geoRoam"&&o.componentType==="series"&&o.seriesId===r.id){var s=this._mapDraw;s&&a.add(s.group)}else if(r.needsDrawMap){var s=this._mapDraw||new r9(i);a.add(s.group),s.draw(r,n,i,this,o),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;r.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(r,n,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(r,n,i){var o=r.originalData,a=this.group;o.each(o.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=o.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,d=u.offset,h=new La({style:{fill:r.getData().getVisual("style").fill},shape:{cx:c[0]+d*9,cy:c[1],r:3},silent:!0,z2:8+(d?0:vf+1)});if(!d){var f=r.mainSeries.getData(),g=o.getName(l),m=f.indexOfName(g),y=o.getItemModel(l),C=y.getModel("label"),w=f.getItemGraphicEl(m);Jr(h,Mr(y),{labelFetcher:{getFormattedLabel:function(S,x){return r.getFormattedLabel(m,x)}},defaultText:g}),h.disableLabelAnimation=!0,C.get("position")||h.setTextConfig({position:"bottom"}),w.onHoverStateChange=function(S){d0(h,S)}}a.add(h)}}})},t.type="map",t}(bt),m0e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.needsDrawMap=!1,r.seriesGroup=[],r.getTooltipPosition=function(n){if(n!=null){var i=this.getData().getName(n),o=this.coordinateSystem,a=o.getRegion(i);return a&&o.dataToPoint(a.getCenter())}},r}return t.prototype.getInitialData=function(r){for(var n=kf(this,{coordDimensions:["value"],encodeDefaulter:je(nE,this)}),i=Pe(),o=[],a=0,s=n.count();a<s;a++){var l=n.getName(a);i.set(l,a)}var u=Is.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return F(u.regions,function(c){var d=c.name,h=i.get(d),f=c.properties&&c.properties.echartsStyle,g;h==null?(g={name:d},o.push(g)):g=n.getRawDataItem(h),f&&Ke(g,f)}),n.appendData(o),n},t.prototype.getHostGeoModel=function(){var r=this.option.geoIndex;return r!=null?this.ecModel.getComponent("geo",r):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(r){var n=this.getData();return n.get(n.mapDimension("value"),r)},t.prototype.getRegionModel=function(r){var n=this.getData();return n.getItemModel(n.indexOfName(r))},t.prototype.formatTooltip=function(r,n,i){for(var o=this.getData(),a=this.getRawValue(r),s=o.getName(r),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var d=l[c].originalData.indexOfName(s),h=o.mapDimension("value");isNaN(l[c].originalData.get(h,d))||u.push(l[c].name)}return kr("section",{header:u.join(", "),noHeader:!u.length,blocks:[kr("nameValue",{name:s,value:a})]})},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.getLegendIcon=function(r){var n=r.icon||"roundRect",i=hr(n,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill);return i.setStyle(r.itemStyle),i.style.stroke="none",n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Tt);function y0e(e,t){var r={};return F(e,function(n){n.each(n.mapDimension("value"),function(i,o){var a="ec-"+n.getName(o);r[a]=r[a]||[],isNaN(i)||r[a].push(i)})}),e[0].map(e[0].mapDimension("value"),function(n,i){for(var o="ec-"+e[0].getName(i),a=0,s=1/0,l=-1/0,u=r[o].length,c=0;c<u;c++)s=Math.min(s,r[o][c]),l=Math.max(l,r[o][c]),a+=r[o][c];var d;return t==="min"?d=s:t==="max"?d=l:t==="average"?d=a/u:d=a,u===0?NaN:d})}function C0e(e){var t={};e.eachSeriesByType("map",function(r){var n=r.getHostGeoModel(),i=n?"o"+n.id:"i"+r.getMapType();(t[i]=t[i]||[]).push(r)}),F(t,function(r,n){for(var i=y0e(le(r,function(a){return a.getData()}),r[0].get("mapValueCalculation")),o=0;o<r.length;o++)r[o].originalData=r[o].getData();for(var o=0;o<r.length;o++)r[o].seriesGroup=r,r[o].needsDrawMap=o===0&&!r[o].getHostGeoModel(),r[o].setData(i.cloneShallow()),r[o].mainSeries=r[0]})}function w0e(e){var t={};e.eachSeriesByType("map",function(r){var n=r.getMapType();if(!(r.getHostGeoModel()||t[n])){var i={};F(r.seriesGroup,function(a){var s=a.coordinateSystem,l=a.originalData;a.get("showLegendSymbol")&&e.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var d=l.getName(c),h=s.getRegion(d);if(!(!h||isNaN(u))){var f=i[d]||0,g=s.dataToPoint(h.getCenter());i[d]=f+1,l.setItemLayout(c,{point:g,offset:f})}})});var o=r.getData();o.each(function(a){var s=o.getName(a),l=o.getItemLayout(a)||{};l.showLabel=!i[s],o.setItemLayout(a,l)}),t[n]=!0}})}var wV=Hr,xm=function(e){q(t,e);function t(r){var n=e.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new hs,n._rawTransformable=new hs,n.name=r,n}return t.prototype.setBoundingRect=function(r,n,i,o){return this._rect=new qe(r,n,i,o),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(r,n,i,o){this._transformTo(r,n,i,o),this._viewRect=new qe(r,n,i,o)},t.prototype._transformTo=function(r,n,i,o){var a=this.getBoundingRect(),s=this._rawTransformable;s.transform=a.calculateTransform(new qe(r,n,i,o));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},t.prototype.setCenter=function(r,n){r&&(this._center=[me(r[0],n.getWidth()),me(r[1],n.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(r){r=r||1;var n=this.zoomLimit;n&&(n.max!=null&&(r=Math.min(n.max,r)),n.min!=null&&(r=Math.max(n.min,r))),this._zoom=r,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var r=this.getBoundingRect(),n=r.x+r.width/2,i=r.y+r.height/2;return[n,i]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var r=this._rawTransformable.getLocalTransform(),n=this._roamTransformable,i=this.getDefaultCenter(),o=this.getCenter(),a=this.getZoom();o=Hr([],o,r),i=Hr([],i,r),n.originX=o[0],n.originY=o[1],n.x=i[0]-o[0],n.y=i[1]-o[1],n.scaleX=n.scaleY=a,this._updateTransform()},t.prototype._updateTransform=function(){var r=this._roamTransformable,n=this._rawTransformable;n.parent=r,r.updateTransform(),n.updateTransform(),Ob(this.transform||(this.transform=[]),n.transform||oi()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],Uc(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var r=this._rawTransformable,n=this._roamTransformable,i=new hs;return i.transform=n.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},t.prototype.dataToPoint=function(r,n,i){var o=n?this._rawTransform:this.transform;return i=i||[],o?wV(i,r,o):fn(i,r)},t.prototype.pointToData=function(r){var n=this.invTransform;return n?wV([],r,n):[r[0],r[1]]},t.prototype.convertToPixel=function(r,n,i){var o=bV(n);return o===this?o.dataToPoint(i):null},t.prototype.convertFromPixel=function(r,n,i){var o=bV(n);return o===this?o.pointToData(i):null},t.prototype.containPoint=function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])},t.dimensions=["x","y"],t}(hs);function bV(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var b0e={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},n9=["lng","lat"],gD=function(e){q(t,e);function t(r,n,i){var o=e.call(this,r)||this;o.dimensions=n9,o.type="geo",o._nameCoordMap=Pe(),o.map=n;var a=i.projection,s=Is.load(n,i.nameMap,i.nameProperty),l=Is.getGeoResource(n);o.resourceType=l?l.type:null;var u=o.regions=s.regions,c=b0e[l.type];o._regionsMap=s.regionsMap,o.regions=s.regions,o.projection=a;var d;if(a)for(var h=0;h<u.length;h++){var f=u[h].getBoundingRect(a);d=d||f.clone(),d.union(f)}else d=s.boundingRect;return o.setBoundingRect(d.x,d.y,d.width,d.height),o.aspectScale=a?1:Ue(i.aspectScale,c.aspectScale),o._invertLongitute=a?!1:c.invertLongitute,o}return t.prototype._transformTo=function(r,n,i,o){var a=this.getBoundingRect(),s=this._invertLongitute;a=a.clone(),s&&(a.y=-a.y-a.height);var l=this._rawTransformable;l.transform=a.calculateTransform(new qe(r,n,i,o));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(r){return this._regionsMap.get(r)},t.prototype.getRegionByCoord=function(r){for(var n=this.regions,i=0;i<n.length;i++){var o=n[i];if(o.type==="geoJSON"&&o.contain(r))return n[i]}},t.prototype.addGeoCoord=function(r,n){this._nameCoordMap.set(r,n)},t.prototype.getGeoCoord=function(r){var n=this._regionsMap.get(r);return this._nameCoordMap.get(r)||n&&n.getCenter()},t.prototype.dataToPoint=function(r,n,i){if(we(r)&&(r=this.getGeoCoord(r)),r){var o=this.projection;return o&&(r=o.project(r)),r&&this.projectedToPoint(r,n,i)}},t.prototype.pointToData=function(r){var n=this.projection;return n&&(r=n.unproject(r)),r&&this.pointToProjected(r)},t.prototype.pointToProjected=function(r){return e.prototype.pointToData.call(this,r)},t.prototype.projectedToPoint=function(r,n,i){return e.prototype.dataToPoint.call(this,r,n,i)},t.prototype.convertToPixel=function(r,n,i){var o=SV(n);return o===this?o.dataToPoint(i):null},t.prototype.convertFromPixel=function(r,n,i){var o=SV(n);return o===this?o.pointToData(i):null},t}(xm);ar(gD,xm);function SV(e){var t=e.geoModel,r=e.seriesModel;return t?t.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",mr).models[0]||{}).coordinateSystem:null}function xV(e,t){var r=e.get("boundingCoords");if(r!=null){var n=r[0],i=r[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])){var o=this.projection;if(o){var a=n[0],s=n[1],l=i[0],u=i[1];n=[1/0,1/0],i=[-1/0,-1/0];var c=function(T,P,D,I){for(var E=D-T,k=I-P,L=0;L<=100;L++){var N=L/100,B=o.project([T+E*N,P+k*N]);cs(n,n,B),ds(i,i,B)}};c(a,s,l,s),c(l,s,l,u),c(l,u,a,u),c(a,u,l,s)}this.setBoundingRect(n[0],n[1],i[0]-n[0],i[1]-n[1])}}var d=this.getBoundingRect(),h=e.get("layoutCenter"),f=e.get("layoutSize"),g=t.getWidth(),m=t.getHeight(),y=d.width/d.height*this.aspectScale,C=!1,w,S;h&&f&&(w=[me(h[0],g),me(h[1],m)],S=me(f,Math.min(g,m)),!isNaN(w[0])&&!isNaN(w[1])&&!isNaN(S)&&(C=!0));var x;if(C)x={},y>1?(x.width=S,x.height=S/y):(x.height=S,x.width=S*y),x.y=w[1]-x.height/2,x.x=w[0]-x.width/2;else{var R=e.getBoxLayoutParams();R.aspect=y,x=yr(R,{width:g,height:m})}this.setViewRect(x.x,x.y,x.width,x.height),this.setCenter(e.get("center"),t),this.setZoom(e.get("zoom"))}function S0e(e,t){F(t.get("geoCoord"),function(r,n){e.addGeoCoord(n,r)})}var x0e=function(){function e(){this.dimensions=n9}return e.prototype.create=function(t,r){var n=[];function i(a){return{nameProperty:a.get("nameProperty"),aspectScale:a.get("aspectScale"),projection:a.get("projection")}}t.eachComponent("geo",function(a,s){var l=a.get("map"),u=new gD(l+s,l,ie({nameMap:a.get("nameMap")},i(a)));u.zoomLimit=a.get("scaleLimit"),n.push(u),a.coordinateSystem=u,u.model=a,u.resize=xV,u.resize(a,r)}),t.eachSeries(function(a){var s=a.get("coordinateSystem");if(s==="geo"){var l=a.get("geoIndex")||0;a.coordinateSystem=n[l]}});var o={};return t.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var s=a.getMapType();o[s]=o[s]||[],o[s].push(a)}}),F(o,function(a,s){var l=le(a,function(c){return c.get("nameMap")}),u=new gD(s,s,ie({nameMap:kb(l)},i(a[0])));u.zoomLimit=Ar.apply(null,le(a,function(c){return c.get("scaleLimit")})),n.push(u),u.resize=xV,u.resize(a[0],r),F(a,function(c){c.coordinateSystem=u,S0e(u,c)})}),n},e.prototype.getFilledRegions=function(t,r,n,i){for(var o=(t||[]).slice(),a=Pe(),s=0;s<o.length;s++)a.set(o[s].name,o[s]);var l=Is.load(r,n,i);return F(l.regions,function(u){var c=u.name,d=a.get(c),h=u.properties&&u.properties.echartsStyle;d||(d={name:c},o.push(d)),h&&Ke(d,h)}),o},e}(),i9=new x0e,R0e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n,i){var o=Is.getGeoResource(r.map);if(o&&o.type==="geoJSON"){var a=r.itemStyle=r.itemStyle||{};"color"in a||(a.color="#eee")}this.mergeDefaultAndTheme(r,i),Ac(r,"label",["show"])},t.prototype.optionUpdated=function(){var r=this,n=this.option;n.regions=i9.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var i={};this._optionModelMap=no(n.regions||[],function(o,a){var s=a.name;return s&&(o.set(s,new yt(a,r,r.ecModel)),a.selected&&(i[s]=!0)),o},Pe()),n.selectedMap||(n.selectedMap=i)},t.prototype.getRegionModel=function(r){return this._optionModelMap.get(r)||new yt(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(r,n){var i=this.getRegionModel(r),o=n==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),a={name:r};if(Ie(o))return a.status=n,o(a);if(we(o))return o.replace("{a}",r??"")},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.select=function(r){var n=this.option,i=n.selectedMode;if(i){i!=="multiple"&&(n.selectedMap=null);var o=n.selectedMap||(n.selectedMap={});o[r]=!0}},t.prototype.unSelect=function(r){var n=this.option.selectedMap;n&&(n[r]=!1)},t.prototype.toggleSelected=function(r){this[this.isSelected(r)?"unSelect":"select"](r)},t.prototype.isSelected=function(r){var n=this.option.selectedMap;return!!(n&&n[r])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(tt);function RV(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function WE(e,t,r,n){var i=e.getZoom(),o=e.getCenter(),a=t.zoom,s=e.projectedToPoint?e.projectedToPoint(o):e.dataToPoint(o);if(t.dx!=null&&t.dy!=null&&(s[0]-=t.dx,s[1]-=t.dy,e.setCenter(RV(e,s),n)),a!=null){if(r){var l=r.min||0,u=r.max||1/0;a=Math.max(Math.min(i*a,u),l)/i}e.scaleX*=a,e.scaleY*=a;var c=(t.originX-e.x)*(a-1),d=(t.originY-e.y)*(a-1);e.x-=c,e.y-=d,e.updateTransform(),e.setCenter(RV(e,s),n),e.setZoom(a*i)}return{center:e.getCenter(),zoom:e.getZoom()}}var _0e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.focusBlurEnabled=!0,r}return t.prototype.init=function(r,n){this._api=n},t.prototype.render=function(r,n,i,o){if(this._model=r,!r.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new r9(i));var a=this._mapDraw;a.draw(r,n,i,this,o),a.group.on("click",this._handleRegionClick,this),a.group.silent=r.get("silent"),this.group.add(a.group),this.updateSelectStatus(r,n,i)},t.prototype._handleRegionClick=function(r){var n;lc(r.target,function(i){return(n=Ve(i).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},t.prototype.updateSelectStatus=function(r,n,i){var o=this;this._mapDraw.group.traverse(function(a){var s=Ve(a).eventData;if(s)return o._model.isSelected(s.name)?i.enterSelect(a):i.leaveSelect(a),!0})},t.prototype.findHighDownDispatchers=function(r){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(r,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(zt);function T0e(e,t,r){Is.registerMap(e,t,r)}function o9(e){e.registerCoordinateSystem("geo",i9),e.registerComponentModel(R0e),e.registerComponentView(_0e),e.registerImpl("registerMap",T0e),e.registerImpl("getMap",function(r){return Is.getMapForUser(r)});function t(r,n){n.update="geo:updateSelectStatus",e.registerAction(n,function(i,o){var a={},s=[];return o.eachComponent({mainType:"geo",query:i},function(l){l[r](i.name);var u=l.coordinateSystem;F(u.regions,function(d){a[d.name]=l.isSelected(d.name)||!1});var c=[];F(a,function(d,h){a[h]&&c.push(h)}),s.push({geoIndex:l.componentIndex,name:c})}),{selected:a,allSelected:s,name:i.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(r,n,i){var o=r.componentType||"series";n.eachComponent({mainType:o,query:r},function(a){var s=a.coordinateSystem;if(s.type==="geo"){var l=WE(s,r,a.get("scaleLimit"),i);a.setCenter&&a.setCenter(l.center),a.setZoom&&a.setZoom(l.zoom),o==="series"&&F(a.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function P0e(e){et(o9),e.registerChartView(v0e),e.registerSeriesModel(m0e),e.registerLayout(w0e),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,C0e),n7("map",e.registerAction)}function D0e(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r=[t],n,i;n=r.pop();)if(i=n.children,n.isExpand&&i.length)for(var o=i.length,a=o-1;a>=0;a--){var s=i[a];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:a,thread:null},r.push(s)}}function A0e(e,t){var r=e.isExpand?e.children:[],n=e.parentNode.children,i=e.hierNode.i?n[e.hierNode.i-1]:null;if(r.length){M0e(e);var o=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;i?(e.hierNode.prelim=i.hierNode.prelim+t(e,i),e.hierNode.modifier=e.hierNode.prelim-o):e.hierNode.prelim=o}else i&&(e.hierNode.prelim=i.hierNode.prelim+t(e,i));e.parentNode.hierNode.defaultAncestor=k0e(e,i,e.parentNode.hierNode.defaultAncestor||n[0],t)}function I0e(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function _V(e){return arguments.length?e:O0e}function Sg(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function E0e(e,t){return yr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function M0e(e){for(var t=e.children,r=t.length,n=0,i=0;--r>=0;){var o=t[r];o.hierNode.prelim+=n,o.hierNode.modifier+=n,i+=o.hierNode.change,n+=o.hierNode.shift+i}}function k0e(e,t,r,n){if(t){for(var i=e,o=e,a=o.parentNode.children[0],s=t,l=i.hierNode.modifier,u=o.hierNode.modifier,c=a.hierNode.modifier,d=s.hierNode.modifier;s=u_(s),o=c_(o),s&&o;){i=u_(i),a=c_(a),i.hierNode.ancestor=e;var h=s.hierNode.prelim+d-o.hierNode.prelim-u+n(s,o);h>0&&(L0e(F0e(s,e,r),e,h),u+=h,l+=h),d+=s.hierNode.modifier,u+=o.hierNode.modifier,l+=i.hierNode.modifier,c+=a.hierNode.modifier}s&&!u_(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=d-l),o&&!c_(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=u-c,r=e)}return r}function u_(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function c_(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function F0e(e,t,r){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:r}function L0e(e,t,r){var n=r/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=r,t.hierNode.modifier+=r,t.hierNode.prelim+=r,e.hierNode.change+=n}function O0e(e,t){return e.parentNode===t.parentNode?1:2}var N0e=function(){function e(){this.parentPoint=[],this.childPoints=[]}return e}(),z0e=function(e){q(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new N0e},t.prototype.buildPath=function(r,n){var i=n.childPoints,o=i.length,a=n.parentPoint,s=i[0],l=i[o-1];if(o===1){r.moveTo(a[0],a[1]),r.lineTo(s[0],s[1]);return}var u=n.orient,c=u==="TB"||u==="BT"?0:1,d=1-c,h=me(n.forkPosition,1),f=[];f[c]=a[c],f[d]=a[d]+(l[d]-a[d])*h,r.moveTo(a[0],a[1]),r.lineTo(f[0],f[1]),r.moveTo(s[0],s[1]),f[c]=s[c],r.lineTo(f[0],f[1]),f[c]=l[c],r.lineTo(f[0],f[1]),r.lineTo(l[0],l[1]);for(var g=1;g<o-1;g++){var m=i[g];r.moveTo(m[0],m[1]),f[c]=m[c],r.lineTo(f[0],f[1])}},t}(nt),B0e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._mainGroup=new Ne,r}return t.prototype.init=function(r,n){this._controller=new Sm(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(r,n,i){var o=r.getData(),a=r.layoutInfo,s=this._mainGroup,l=r.get("layout");l==="radial"?(s.x=a.x+a.width/2,s.y=a.y+a.height/2):(s.x=a.x,s.y=a.y),this._updateViewCoordSys(r,i),this._updateController(r,n,i);var u=this._data;o.diff(u).add(function(c){TV(o,c)&&PV(o,c,null,s,r)}).update(function(c,d){var h=u.getItemGraphicEl(d);if(!TV(o,c)){h&&AV(u,d,h,s,r);return}PV(o,c,h,s,r)}).remove(function(c){var d=u.getItemGraphicEl(c);d&&AV(u,c,d,s,r)}).execute(),this._nodeScaleRatio=r.get("nodeScaleRatio"),this._updateNodeAndLinkScale(r),r.get("expandAndCollapse")===!0&&o.eachItemGraphicEl(function(c,d){c.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:r.id,dataIndex:d})})}),this._data=o},t.prototype._updateViewCoordSys=function(r,n){var i=r.getData(),o=[];i.each(function(d){var h=i.getItemLayout(d);h&&!isNaN(h.x)&&!isNaN(h.y)&&o.push([+h.x,+h.y])});var a=[],s=[];Ub(o,a,s);var l=this._min,u=this._max;s[0]-a[0]===0&&(a[0]=l?l[0]:a[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-a[1]===0&&(a[1]=l?l[1]:a[1]-1,s[1]=u?u[1]:s[1]+1);var c=r.coordinateSystem=new xm;c.zoomLimit=r.get("scaleLimit"),c.setBoundingRect(a[0],a[1],s[0]-a[0],s[1]-a[1]),c.setCenter(r.get("center"),n),c.setZoom(r.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=a,this._max=s},t.prototype._updateController=function(r,n,i){var o=this,a=this._controller,s=this._controllerHost,l=this.group;a.setPointerChecker(function(u,c,d){var h=l.getBoundingRect();return h.applyTransform(l.transform),h.contain(c,d)&&!pS(u,i,r)}),a.enable(r.get("roam")),s.zoomLimit=r.get("scaleLimit"),s.zoom=r.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(u){VE(s,u.dx,u.dy),i.dispatchAction({seriesId:r.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){GE(s,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:r.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),o._updateNodeAndLinkScale(r),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(r){var n=r.getData(),i=this._getNodeGlobalScale(r);n.eachItemGraphicEl(function(o,a){o.setSymbolScale(i)})},t.prototype._getNodeGlobalScale=function(r){var n=r.coordinateSystem;if(n.type!=="view")return 1;var i=this._nodeScaleRatio,o=n.scaleX||1,a=n.getZoom(),s=(a-1)*i+1;return s/o},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(bt);function TV(e,t){var r=e.getItemLayout(t);return r&&!isNaN(r.x)&&!isNaN(r.y)}function PV(e,t,r,n,i){var o=!r,a=e.tree.getNodeByDataIndex(t),s=a.getModel(),l=a.getVisual("style").fill,u=a.isExpand===!1&&a.children.length!==0?l:"#fff",c=e.tree.root,d=a.parentNode===c?a:a.parentNode||a,h=e.getItemGraphicEl(d.dataIndex),f=d.getLayout(),g=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:f,m=a.getLayout();o?(r=new vm(e,t,null,{symbolInnerColor:u,useNameLabel:!0}),r.x=g.x,r.y=g.y):r.updateData(e,t,null,{symbolInnerColor:u,useNameLabel:!0}),r.__radialOldRawX=r.__radialRawX,r.__radialOldRawY=r.__radialRawY,r.__radialRawX=m.rawX,r.__radialRawY=m.rawY,n.add(r),e.setItemGraphicEl(t,r),r.__oldX=r.x,r.__oldY=r.y,gt(r,{x:m.x,y:m.y},i);var y=r.getSymbolPath();if(i.get("layout")==="radial"){var C=c.children[0],w=C.getLayout(),S=C.children.length,x=void 0,R=void 0;if(m.x===w.x&&a.isExpand===!0&&C.children.length){var T={x:(C.children[0].getLayout().x+C.children[S-1].getLayout().x)/2,y:(C.children[0].getLayout().y+C.children[S-1].getLayout().y)/2};x=Math.atan2(T.y-w.y,T.x-w.x),x<0&&(x=Math.PI*2+x),R=T.x<w.x,R&&(x=x-Math.PI)}else x=Math.atan2(m.y-w.y,m.x-w.x),x<0&&(x=Math.PI*2+x),a.children.length===0||a.children.length!==0&&a.isExpand===!1?(R=m.x<w.x,R&&(x=x-Math.PI)):(R=m.x>w.x,R||(x=x-Math.PI));var P=R?"left":"right",D=s.getModel("label"),I=D.get("rotate"),E=I*(Math.PI/180),k=y.getTextContent();k&&(y.setTextConfig({position:D.get("position")||P,rotation:I==null?-x:E,origin:"center"}),k.setStyle("verticalAlign","middle"))}var L=s.get(["emphasis","focus"]),N=L==="relative"?Wh(a.getAncestorsIndices(),a.getDescendantIndices()):L==="ancestor"?a.getAncestorsIndices():L==="descendant"?a.getDescendantIndices():null;N&&(Ve(r).focus=N),V0e(i,a,c,r,g,f,m,n),r.__edge&&(r.onHoverStateChange=function(B){if(B!=="blur"){var V=a.parentNode&&e.getItemGraphicEl(a.parentNode.dataIndex);V&&V.hoverState===lm||d0(r.__edge,B)}})}function V0e(e,t,r,n,i,o,a,s){var l=t.getModel(),u=e.get("edgeShape"),c=e.get("layout"),d=e.getOrient(),h=e.get(["lineStyle","curveness"]),f=e.get("edgeForkPosition"),g=l.getModel("lineStyle").getLineStyle(),m=n.__edge;if(u==="curve")t.parentNode&&t.parentNode!==r&&(m||(m=n.__edge=new yf({shape:vD(c,d,h,i,i)})),gt(m,{shape:vD(c,d,h,o,a)},e));else if(u==="polyline"&&c==="orthogonal"&&t!==r&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var y=t.children,C=[],w=0;w<y.length;w++){var S=y[w].getLayout();C.push([S.x,S.y])}m||(m=n.__edge=new z0e({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:d,forkPosition:f}})),gt(m,{shape:{parentPoint:[a.x,a.y],childPoints:C}},e)}m&&!(u==="polyline"&&!t.isExpand)&&(m.useStyle(Ee({strokeNoScale:!0,fill:null},g)),Qr(m,l,"lineStyle"),Mc(m),s.add(m))}function DV(e,t,r,n,i){var o=t.tree.root,a=a9(o,e),s=a.source,l=a.sourceLayout,u=t.getItemGraphicEl(e.dataIndex);if(u){var c=t.getItemGraphicEl(s.dataIndex),d=c.__edge,h=u.__edge||(s.isExpand===!1||s.children.length===1?d:void 0),f=n.get("edgeShape"),g=n.get("layout"),m=n.get("orient"),y=n.get(["lineStyle","curveness"]);h&&(f==="curve"?Ul(h,{shape:vD(g,m,y,l,l),style:{opacity:0}},n,{cb:function(){r.remove(h)},removeOpt:i}):f==="polyline"&&n.get("layout")==="orthogonal"&&Ul(h,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){r.remove(h)},removeOpt:i}))}}function a9(e,t){for(var r=t.parentNode===e?t:t.parentNode||t,n;n=r.getLayout(),n==null;)r=r.parentNode===e?r:r.parentNode||r;return{source:r,sourceLayout:n}}function AV(e,t,r,n,i){var o=e.tree.getNodeByDataIndex(t),a=e.tree.root,s=a9(a,o).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};Ul(r,{x:s.x+1,y:s.y+1},i,{cb:function(){n.remove(r),e.setItemGraphicEl(t,null)},removeOpt:l}),r.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:l}),o.children.forEach(function(u){DV(u,e,n,i,l)}),DV(o,e,n,i,l)}function vD(e,t,r,n,i){var o,a,s,l,u,c,d,h;if(e==="radial"){u=n.rawX,d=n.rawY,c=i.rawX,h=i.rawY;var f=Sg(u,d),g=Sg(u,d+(h-d)*r),m=Sg(c,h+(d-h)*r),y=Sg(c,h);return{x1:f.x||0,y1:f.y||0,x2:y.x||0,y2:y.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:m.x||0,cpy2:m.y||0}}else u=n.x,d=n.y,c=i.x,h=i.y,(t==="LR"||t==="RL")&&(o=u+(c-u)*r,a=d,s=c+(u-c)*r,l=h),(t==="TB"||t==="BT")&&(o=u,a=d+(h-d)*r,s=c,l=h+(d-h)*r);return{x1:u,y1:d,x2:c,y2:h,cpx1:o,cpy1:a,cpx2:s,cpy2:l}}var eo=ft();function s9(e){var t=e.mainData,r=e.datas;r||(r={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,l9(t,r,e),F(r,function(n){F(t.TRANSFERABLE_METHODS,function(i){n.wrapMethod(i,je(G0e,e))})}),t.wrapMethod("cloneShallow",je(W0e,e)),F(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,je(H0e,e))}),Cn(r[t.dataType]===t)}function G0e(e,t){if(j0e(this)){var r=ie({},eo(this).datas);r[this.dataType]=t,l9(t,r,e)}else $E(t,this.dataType,eo(this).mainData,e);return t}function H0e(e,t){return e.struct&&e.struct.update(),t}function W0e(e,t){return F(eo(t).datas,function(r,n){r!==t&&$E(r.cloneShallow(),n,t,e)}),t}function $0e(e){var t=eo(this).mainData;return e==null||t==null?t:eo(t).datas[e]}function U0e(){var e=eo(this).mainData;return e==null?[{data:e}]:le(at(eo(e).datas),function(t){return{type:t,data:eo(e).datas[t]}})}function j0e(e){return eo(e).mainData===e}function l9(e,t,r){eo(e).datas={},F(t,function(n,i){$E(n,i,e,r)})}function $E(e,t,r,n){eo(r).datas[t]=e,eo(e).mainData=r,e.dataType=t,n.struct&&(e[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=e),e.getLinkedData=$0e,e.getLinkedDataAll=U0e}var Y0e=function(){function e(t,r){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=r}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(t,r,n){Ie(t)&&(n=r,r=t,t=null),t=t||{},we(t)&&(t={order:t});var i=t.order||"preorder",o=this[t.attr||"children"],a;i==="preorder"&&(a=r.call(n,this));for(var s=0;!a&&s<o.length;s++)o[s].eachNode(t,r,n);i==="postorder"&&r.call(n,this)},e.prototype.updateDepthAndHeight=function(t){var r=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>r&&(r=i.height)}this.height=r+1},e.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var r=0,n=this.children,i=n.length;r<i;r++){var o=n[r].getNodeById(t);if(o)return o}},e.prototype.contains=function(t){if(t===this)return!0;for(var r=0,n=this.children,i=n.length;r<i;r++){var o=n[r].contains(t);if(o)return o}},e.prototype.getAncestors=function(t){for(var r=[],n=t?this:this.parentNode;n;)r.push(n),n=n.parentNode;return r.reverse(),r},e.prototype.getAncestorsIndices=function(){for(var t=[],r=this;r;)t.push(r.dataIndex),r=r.parentNode;return t.reverse(),t},e.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(r){t.push(r.dataIndex)}),t},e.prototype.getValue=function(t){var r=this.hostTree.data;return r.getStore().get(r.getDimensionIndex(t||"value"),this.dataIndex)},e.prototype.setLayout=function(t,r){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,r)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var r=this.hostTree,n=r.data.getItemModel(this.dataIndex);return n.getModel(t)}},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(t,r){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,r)},e.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,r=0;r<t.length;++r)if(t[r]===this)return r;return-1}return-1},e.prototype.isAncestorOf=function(t){for(var r=t.parentNode;r;){if(r===this)return!0;r=r.parentNode}return!1},e.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},e}(),UE=function(){function e(t){this.type="tree",this._nodes=[],this.hostModel=t}return e.prototype.eachNode=function(t,r,n){this.root.eachNode(t,r,n)},e.prototype.getNodeByDataIndex=function(t){var r=this.data.getRawIndex(t);return this._nodes[r]},e.prototype.getNodeById=function(t){return this.root.getNodeById(t)},e.prototype.update=function(){for(var t=this.data,r=this._nodes,n=0,i=r.length;n<i;n++)r[n].dataIndex=-1;for(var n=0,i=t.count();n<i;n++)r[t.getRawIndex(n)].dataIndex=n},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,r,n){var i=new e(r),o=[],a=1;s(t);function s(c,d){var h=c.value;a=Math.max(a,se(h)?h.length:1),o.push(c);var f=new Y0e(xr(c.name,""),i);d?K0e(f,d):i.root=f,i._nodes.push(f);var g=c.children;if(g)for(var m=0;m<g.length;m++)s(g[m],f)}i.root.updateDepthAndHeight(0);var l=If(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,u=new yn(l,r);return u.initData(o),n&&n(u),s9({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},e}();function K0e(e,t){var r=t.children;e.parentNode!==t&&(r.push(e),e.parentNode=t)}function Iv(e,t,r){if(e&&Ze(t,e.type)>=0){var n=r.getData().tree.root,i=e.targetNode;if(we(i)&&(i=n.getNodeById(i)),i&&n.contains(i))return{node:i};var o=e.targetNodeId;if(o!=null&&(i=n.getNodeById(o)))return{node:i}}}function u9(e){for(var t=[];e;)e=e.parentNode,e&&t.push(e);return t.reverse()}function jE(e,t){var r=u9(e);return Ze(r,t)>=0}function vS(e,t){for(var r=[];e;){var n=e.dataIndex;r.push({name:e.name,dataIndex:n,value:t.getRawValue(n)}),e=e.parentNode}return r.reverse(),r}var X0e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.hasSymbolVisual=!0,r.ignoreStyleOnData=!0,r}return t.prototype.getInitialData=function(r){var n={name:r.name,children:r.data},i=r.leaves||{},o=new yt(i,this,this.ecModel),a=UE.createTree(n,this,s);function s(d){d.wrapMethod("getItemModel",function(h,f){var g=a.getNodeByDataIndex(f);return g&&g.children.length&&g.isExpand||(h.parentModel=o),h})}var l=0;a.eachNode("preorder",function(d){d.depth>l&&(l=d.depth)});var u=r.expandAndCollapse,c=u&&r.initialTreeDepth>=0?r.initialTreeDepth:l;return a.root.eachNode("preorder",function(d){var h=d.hostTree.data.getRawDataItem(d.dataIndex);d.isExpand=h&&h.collapsed!=null?!h.collapsed:d.depth<=c}),a.data},t.prototype.getOrient=function(){var r=this.get("orient");return r==="horizontal"?r="LR":r==="vertical"&&(r="TB"),r},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.formatTooltip=function(r,n,i){for(var o=this.getData().tree,a=o.root.children[0],s=o.getNodeByDataIndex(r),l=s.getValue(),u=s.name;s&&s!==a;)u=s.parentNode.name+"."+u,s=s.parentNode;return kr("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},t.prototype.getDataParams=function(r){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(r);return n.treeAncestors=vS(i,this),n.collapsed=!i.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Tt);function q0e(e,t,r){for(var n=[e],i=[],o;o=n.pop();)if(i.push(o),o.isExpand){var a=o.children;if(a.length)for(var s=0;s<a.length;s++)n.push(a[s])}for(;o=i.pop();)t(o,r)}function Qp(e,t){for(var r=[e],n;n=r.pop();)if(t(n),n.isExpand){var i=n.children;if(i.length)for(var o=i.length-1;o>=0;o--)r.push(i[o])}}function Z0e(e,t){e.eachSeriesByType("tree",function(r){Q0e(r,t)})}function Q0e(e,t){var r=E0e(e,t);e.layoutInfo=r;var n=e.get("layout"),i=0,o=0,a=null;n==="radial"?(i=2*Math.PI,o=Math.min(r.height,r.width)/2,a=_V(function(S,x){return(S.parentNode===x.parentNode?1:2)/S.depth})):(i=r.width,o=r.height,a=_V());var s=e.getData().tree.root,l=s.children[0];if(l){D0e(s),q0e(l,A0e,a),s.hierNode.modifier=-l.hierNode.prelim,Qp(l,I0e);var u=l,c=l,d=l;Qp(l,function(S){var x=S.getLayout().x;x<u.getLayout().x&&(u=S),x>c.getLayout().x&&(c=S),S.depth>d.depth&&(d=S)});var h=u===c?1:a(u,c)/2,f=h-u.getLayout().x,g=0,m=0,y=0,C=0;if(n==="radial")g=i/(c.getLayout().x+h+f),m=o/(d.depth-1||1),Qp(l,function(S){y=(S.getLayout().x+f)*g,C=(S.depth-1)*m;var x=Sg(y,C);S.setLayout({x:x.x,y:x.y,rawX:y,rawY:C},!0)});else{var w=e.getOrient();w==="RL"||w==="LR"?(m=o/(c.getLayout().x+h+f),g=i/(d.depth-1||1),Qp(l,function(S){C=(S.getLayout().x+f)*m,y=w==="LR"?(S.depth-1)*g:i-(S.depth-1)*g,S.setLayout({x:y,y:C},!0)})):(w==="TB"||w==="BT")&&(g=i/(c.getLayout().x+h+f),m=o/(d.depth-1||1),Qp(l,function(S){y=(S.getLayout().x+f)*g,C=w==="TB"?(S.depth-1)*m:o-(S.depth-1)*m,S.setLayout({x:y,y:C},!0)}))}}}function J0e(e){e.eachSeriesByType("tree",function(t){var r=t.getData(),n=r.tree;n.eachNode(function(i){var o=i.getModel(),a=o.getModel("itemStyle").getItemStyle(),s=r.ensureUniqueItemVisual(i.dataIndex,"style");ie(s,a)})})}function ebe(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"tree",query:t},function(n){var i=t.dataIndex,o=n.getData().tree,a=o.getNodeByDataIndex(i);a.isExpand=!a.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,r,n){r.eachComponent({mainType:"series",subType:"tree",query:t},function(i){var o=i.coordinateSystem,a=WE(o,t,void 0,n);i.setCenter&&i.setCenter(a.center),i.setZoom&&i.setZoom(a.zoom)})})}function tbe(e){e.registerChartView(B0e),e.registerSeriesModel(X0e),e.registerLayout(Z0e),e.registerVisual(J0e),ebe(e)}var IV=["treemapZoomToNode","treemapRender","treemapMove"];function rbe(e){for(var t=0;t<IV.length;t++)e.registerAction({type:IV[t],update:"updateView"},ir);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(r,n){n.eachComponent({mainType:"series",subType:"treemap",query:r},i);function i(o,a){var s=["treemapZoomToNode","treemapRootToNode"],l=Iv(r,s,o);if(l){var u=o.getViewRoot();u&&(r.direction=jE(u,l.node)?"rollUp":"drillDown"),o.resetViewRoot(l.node)}}})}function c9(e){var t=e.getData(),r=t.tree,n={};r.eachNode(function(i){for(var o=i;o&&o.depth>1;)o=o.parentNode;var a=WP(e.ecModel,o.name||o.dataIndex+"",n);i.setVisual("decal",a)})}var nbe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.preventUsingHoverLayer=!0,r}return t.prototype.getInitialData=function(r,n){var i={name:r.name,children:r.data};d9(i);var o=r.levels||[],a=this.designatedVisualItemStyle={},s=new yt({itemStyle:a},this,n);o=r.levels=ibe(o,n);var l=le(o||[],function(d){return new yt(d,s,n)},this),u=UE.createTree(i,this,c);function c(d){d.wrapMethod("getItemModel",function(h,f){var g=u.getNodeByDataIndex(f),m=g?l[g.depth]:null;return h.parentModel=m||s,h})}return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(r,n,i){var o=this.getData(),a=this.getRawValue(r),s=o.getName(r);return kr("nameValue",{name:s,value:a})},t.prototype.getDataParams=function(r){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(r);return n.treeAncestors=vS(i,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(r){this.layoutInfo=this.layoutInfo||{},ie(this.layoutInfo,r)},t.prototype.mapIdToIndex=function(r){var n=this._idIndexMap;n||(n=this._idIndexMap=Pe(),this._idIndexMapCount=0);var i=n.get(r);return i==null&&n.set(r,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var n=this.getRawData().tree.root;(!r||r!==n&&!n.contains(r))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){c9(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(Tt);function d9(e){var t=0;F(e.children,function(n){d9(n);var i=n.value;se(i)&&(i=i[0]),t+=i});var r=e.value;se(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=t),r<0&&(r=0),se(e.value)?e.value[0]=r:e.value=r}function ibe(e,t){var r=_t(t.get("color")),n=_t(t.get(["aria","decal","decals"]));if(r){e=e||[];var i,o;F(e,function(s){var l=new yt(s),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(o=!0)});var a=e[0]||(e[0]={});return i||(a.color=r.slice()),!o&&n&&(a.decal=n.slice()),e}}var obe=8,EV=8,d_=5,abe=function(){function e(t){this.group=new Ne,t.add(this.group)}return e.prototype.render=function(t,r,n,i){var o=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),!(!o.get("show")||!n)){var s=o.getModel("itemStyle"),l=o.getModel("emphasis"),u=s.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),d={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:r.getWidth(),height:r.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,d,u),this._renderContent(t,d,s,l,u,c,i),rS(a,d.pos,d.box)}},e.prototype._prepare=function(t,r,n){for(var i=t;i;i=i.parentNode){var o=xr(i.getModel().get("name"),""),a=n.getTextRect(o),s=Math.max(a.width+obe*2,r.emptyItemWidth);r.totalWidth+=s+EV,r.renderList.push({node:i,text:o,width:s})}},e.prototype._renderContent=function(t,r,n,i,o,a,s){for(var l=0,u=r.emptyItemWidth,c=t.get(["breadcrumb","height"]),d=Qfe(r.pos,r.box),h=r.totalWidth,f=r.renderList,g=i.getModel("itemStyle").getItemStyle(),m=f.length-1;m>=0;m--){var y=f[m],C=y.node,w=y.width,S=y.text;h>d.width&&(h-=w-u,w=u,S=null);var x=new bn({shape:{points:sbe(l,0,w,c,m===f.length-1,m===0)},style:Ee(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new dt({style:Mt(o,{text:S})}),textConfig:{position:"inside"},z2:vf*1e4,onclick:je(s,C)});x.disableLabelAnimation=!0,x.getTextContent().ensureState("emphasis").style=Mt(a,{text:S}),x.ensureState("emphasis").style=g,Kt(x,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(x),lbe(x,t,C),l+=w+EV}},e.prototype.remove=function(){this.group.removeAll()},e}();function sbe(e,t,r,n,i,o){var a=[[i?e:e-d_,t],[e+r,t],[e+r,t+n],[i?e:e-d_,t+n]];return!o&&a.splice(2,0,[e+r+d_,t+n/2]),!i&&a.push([e,t+n/2]),a}function lbe(e,t,r){Ve(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&vS(r,t)}}var ube=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(t,r,n,i,o){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:r,duration:n,delay:i,easing:o}),!0)},e.prototype.finished=function(t){return this._finishedCallback=t,this},e.prototype.start=function(){for(var t=this,r=this._storage.length,n=function(){r--,r<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,o=this._storage.length;i<o;i++){var a=this._storage[i];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:n,aborted:n})}return this},e}();function cbe(){return new ube}var mD=Ne,MV=ht,kV=3,FV="label",LV="upperLabel",dbe=vf*10,hbe=vf*2,fbe=vf*3,Uu=Ec([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),OV=function(e){var t=Uu(e);return t.stroke=t.fill=t.lineWidth=null,t},L0=ft(),pbe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._state="ready",r._storage=Jp(),r}return t.prototype.render=function(r,n,i,o){var a=n.findComponents({mainType:"series",subType:"treemap",query:o});if(!(Ze(a,r)<0)){this.seriesModel=r,this.api=i,this.ecModel=n;var s=["treemapZoomToNode","treemapRootToNode"],l=Iv(o,s,r),u=o&&o.type,c=r.layoutInfo,d=!this._oldTree,h=this._storage,f=u==="treemapRootToNode"&&l&&h?{rootNodeGroup:h.nodeGroup[l.node.getRawIndex()],direction:o.direction}:null,g=this._giveContainerGroup(c),m=r.get("animation"),y=this._doRender(g,r,f);m&&!d&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(g,y,r,f):y.renderFinally(),this._resetController(i),this._renderBreadcrumb(r,i,l)}},t.prototype._giveContainerGroup=function(r){var n=this._containerGroup;return n||(n=this._containerGroup=new mD,this._initEvents(n),this.group.add(n)),n.x=r.x,n.y=r.y,n},t.prototype._doRender=function(r,n,i){var o=n.getData().tree,a=this._oldTree,s=Jp(),l=Jp(),u=this._storage,c=[];function d(w,S,x,R){return gbe(n,l,u,i,s,c,w,S,x,R)}m(o.root?[o.root]:[],a&&a.root?[a.root]:[],r,o===a||!a,0);var h=y(u);if(this._oldTree=o,this._storage=l,this._controllerHost){var f=this.seriesModel.layoutInfo,g=o.root.getLayout();g.width===f.width&&g.height===f.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:h,renderFinally:C};function m(w,S,x,R,T){R?(S=w,F(w,function(I,E){!I.isRemoved()&&D(E,E)})):new Ps(S,w,P,P).add(D).update(D).remove(je(D,null)).execute();function P(I){return I.getId()}function D(I,E){var k=I!=null?w[I]:null,L=E!=null?S[E]:null,N=d(k,L,x,T);N&&m(k&&k.viewChildren||[],L&&L.viewChildren||[],N,R,T+1)}}function y(w){var S=Jp();return w&&F(w,function(x,R){var T=S[R];F(x,function(P){P&&(T.push(P),L0(P).willDelete=!0)})}),S}function C(){F(h,function(w){F(w,function(S){S.parent&&S.parent.remove(S)})}),F(c,function(w){w.invisible=!0,w.dirty()})}},t.prototype._doAnimation=function(r,n,i,o){var a=i.get("animationDurationUpdate"),s=i.get("animationEasing"),l=(Ie(a)?0:a)||0,u=(Ie(s)?null:s)||"cubicOut",c=cbe();F(n.willDeleteEls,function(d,h){F(d,function(f,g){if(!f.invisible){var m=f.parent,y,C=L0(m);if(o&&o.direction==="drillDown")y=m===o.rootNodeGroup?{shape:{x:0,y:0,width:C.nodeWidth,height:C.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var w=0,S=0;C.willDelete||(w=C.nodeWidth/2,S=C.nodeHeight/2),y=h==="nodeGroup"?{x:w,y:S,style:{opacity:0}}:{shape:{x:w,y:S,width:0,height:0},style:{opacity:0}}}y&&c.add(f,y,l,0,u)}})}),F(this._storage,function(d,h){F(d,function(f,g){var m=n.lastsForAnimation[h][g],y={};m&&(f instanceof Ne?m.oldX!=null&&(y.x=f.x,y.y=f.y,f.x=m.oldX,f.y=m.oldY):(m.oldShape&&(y.shape=ie({},f.shape),f.setShape(m.oldShape)),m.fadein?(f.setStyle("opacity",0),y.style={opacity:1}):f.style.opacity!==1&&(y.style={opacity:1})),c.add(f,y,l,0,u))})},this),this._state="animating",c.finished(Se(function(){this._state="ready",n.renderFinally()},this)).start()},t.prototype._resetController=function(r){var n=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),n||(n=this._controller=new Sm(r.getZr()),n.enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),n.on("pan",Se(this._onPan,this)),n.on("zoom",Se(this._onZoom,this)));var o=new qe(0,0,r.getWidth(),r.getHeight());n.setPointerChecker(function(a,s,l){return o.contain(s,l)})},t.prototype._clearController=function(){var r=this._controller;this._controllerHost=null,r&&(r.dispose(),r=null)},t.prototype._onPan=function(r){if(this._state!=="animating"&&(Math.abs(r.dx)>kV||Math.abs(r.dy)>kV)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+r.dx,y:i.y+r.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(r){var n=r.originX,i=r.originY,o=r.scale;if(this._state!=="animating"){var a=this.seriesModel.getData().tree.root;if(!a)return;var s=a.getLayout();if(!s)return;var l=new qe(s.x,s.y,s.width,s.height),u=null,c=this._controllerHost;u=c.zoomLimit;var d=c.zoom=c.zoom||1;if(d*=o,u){var h=u.min||0,f=u.max||1/0;d=Math.max(Math.min(f,d),h)}var g=d/c.zoom;c.zoom=d;var m=this.seriesModel.layoutInfo;n-=m.x,i-=m.y;var y=oi();zo(y,y,[-n,-i]),Nb(y,y,[g,g]),zo(y,y,[n,i]),l.applyTransform(y),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(r){var n=this;r.on("click",function(i){if(n._state==="ready"){var o=n.seriesModel.get("nodeClick",!0);if(o){var a=n.findTarget(i.offsetX,i.offsetY);if(a){var s=a.node;if(s.getLayout().isLeafRoot)n._rootToNode(a);else if(o==="zoomToNode")n._zoomToNode(a);else if(o==="link"){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&m0(u,c)}}}}},this)},t.prototype._renderBreadcrumb=function(r,n,i){var o=this;i||(i=r.get("leafDepth",!0)!=null?{node:r.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),i||(i={node:r.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new abe(this.group))).render(r,n,i.node,function(a){o._state!=="animating"&&(jE(r.getViewRoot(),a)?o._rootToNode({node:a}):o._zoomToNode({node:a}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=Jp(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(r){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},t.prototype._rootToNode=function(r){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},t.prototype.findTarget=function(r,n){var i,o=this.seriesModel.getViewRoot();return o.eachNode({attr:"viewChildren",order:"preorder"},function(a){var s=this._storage.background[a.getRawIndex()];if(s){var l=s.transformCoordToLocal(r,n),u=s.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)i={node:a,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},t.type="treemap",t}(bt);function Jp(){return{nodeGroup:[],background:[],content:[]}}function gbe(e,t,r,n,i,o,a,s,l,u){if(!a)return;var c=a.getLayout(),d=e.getData(),h=a.getModel();if(d.setItemGraphicEl(a.dataIndex,null),!c||!c.isInView)return;var f=c.width,g=c.height,m=c.borderWidth,y=c.invisible,C=a.getRawIndex(),w=s&&s.getRawIndex(),S=a.viewChildren,x=c.upperHeight,R=S&&S.length,T=h.getModel("itemStyle"),P=h.getModel(["emphasis","itemStyle"]),D=h.getModel(["blur","itemStyle"]),I=h.getModel(["select","itemStyle"]),E=T.get("borderRadius")||0,k=he("nodeGroup",mD);if(!k)return;if(l.add(k),k.x=c.x||0,k.y=c.y||0,k.markRedraw(),L0(k).nodeWidth=f,L0(k).nodeHeight=g,c.isAboveViewRoot)return k;var L=he("background",MV,u,hbe);L&&K(k,L,R&&c.upperLabelHeight);var N=h.getModel("emphasis"),B=N.get("focus"),V=N.get("blurScope"),W=N.get("disabled"),j=B==="ancestor"?a.getAncestorsIndices():B==="descendant"?a.getDescendantIndices():B;if(R)mv(k)&&ac(k,!1),L&&(ac(L,!W),d.setItemGraphicEl(a.dataIndex,L),LP(L,j,V));else{var G=he("content",MV,u,fbe);G&&H(k,G),L.disableMorphing=!0,L&&mv(L)&&ac(L,!1),ac(k,!W),d.setItemGraphicEl(a.dataIndex,k);var $=h.getShallow("cursor");$&&G.attr("cursor",$),LP(k,j,V)}return k;function K(ee,Z,fe){var de=Ve(Z);if(de.dataIndex=a.dataIndex,de.seriesIndex=e.seriesIndex,Z.setShape({x:0,y:0,width:f,height:g,r:E}),y)U(Z);else{Z.invisible=!1;var pe=a.getVisual("style"),Ae=pe.stroke,Oe=OV(T);Oe.fill=Ae;var Ge=Uu(P);Ge.fill=P.get("borderColor");var st=Uu(D);st.fill=D.get("borderColor");var Ft=Uu(I);if(Ft.fill=I.get("borderColor"),fe){var fr=f-2*m;ne(Z,Ae,pe.opacity,{x:m,y:0,width:fr,height:x})}else Z.removeTextContent();Z.setStyle(Oe),Z.ensureState("emphasis").style=Ge,Z.ensureState("blur").style=st,Z.ensureState("select").style=Ft,Mc(Z)}ee.add(Z)}function H(ee,Z){var fe=Ve(Z);fe.dataIndex=a.dataIndex,fe.seriesIndex=e.seriesIndex;var de=Math.max(f-2*m,0),pe=Math.max(g-2*m,0);if(Z.culling=!0,Z.setShape({x:m,y:m,width:de,height:pe,r:E}),y)U(Z);else{Z.invisible=!1;var Ae=a.getVisual("style"),Oe=Ae.fill,Ge=OV(T);Ge.fill=Oe,Ge.decal=Ae.decal;var st=Uu(P),Ft=Uu(D),fr=Uu(I);ne(Z,Oe,Ae.opacity,null),Z.setStyle(Ge),Z.ensureState("emphasis").style=st,Z.ensureState("blur").style=Ft,Z.ensureState("select").style=fr,Mc(Z)}ee.add(Z)}function U(ee){!ee.invisible&&o.push(ee)}function ne(ee,Z,fe,de){var pe=h.getModel(de?LV:FV),Ae=xr(h.get("name"),null),Oe=pe.getShallow("show");Jr(ee,Mr(h,de?LV:FV),{defaultText:Oe?Ae:null,inheritColor:Z,defaultOpacity:fe,labelFetcher:e,labelDataIndex:a.dataIndex});var Ge=ee.getTextContent();if(Ge){var st=Ge.style,Ft=Lb(st.padding||0);de&&(ee.setTextConfig({layoutRect:de}),Ge.disableLabelLayout=!0),Ge.beforeUpdate=function(){var sr=Math.max((de?de.width:ee.shape.width)-Ft[1]-Ft[3],0),lr=Math.max((de?de.height:ee.shape.height)-Ft[0]-Ft[2],0);(st.width!==sr||st.height!==lr)&&Ge.setStyle({width:sr,height:lr})},st.truncateMinChar=2,st.lineOverflow="truncate",oe(st,de,c);var fr=Ge.getState("emphasis");oe(fr?fr.style:null,de,c)}}function oe(ee,Z,fe){var de=ee?ee.text:null;if(!Z&&fe.isLeafRoot&&de!=null){var pe=e.get("drillDownIcon",!0);ee.text=pe?pe+" "+de:de}}function he(ee,Z,fe,de){var pe=w!=null&&r[ee][w],Ae=i[ee];return pe?(r[ee][w]=null,xe(Ae,pe)):y||(pe=new Z,pe instanceof io&&(pe.z2=vbe(fe,de)),Be(Ae,pe)),t[ee][C]=pe}function xe(ee,Z){var fe=ee[C]={};Z instanceof mD?(fe.oldX=Z.x,fe.oldY=Z.y):fe.oldShape=ie({},Z.shape)}function Be(ee,Z){var fe=ee[C]={},de=a.parentNode,pe=Z instanceof Ne;if(de&&(!n||n.direction==="drillDown")){var Ae=0,Oe=0,Ge=i.background[de.getRawIndex()];!n&&Ge&&Ge.oldShape&&(Ae=Ge.oldShape.width,Oe=Ge.oldShape.height),pe?(fe.oldX=0,fe.oldY=Oe):fe.oldShape={x:Ae,y:Oe,width:0,height:0}}fe.fadein=!pe}}function vbe(e,t){return e*dbe+t}var Ev=F,mbe=ke,O0=-1,Er=function(){function e(t){var r=t.mappingMethod,n=t.type,i=this.option=Fe(t);this.type=n,this.mappingMethod=r,this._normalizeData=wbe[r];var o=e.visualHandlers[n];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[r],r==="piecewise"?(h_(i),ybe(i)):r==="category"?i.categories?Cbe(i):h_(i,!0):(Cn(r!=="linear"||i.dataExtent),h_(i))}return e.prototype.mapValueToVisual=function(t){var r=this._normalizeData(t);return this._normalizedToVisual(r,t)},e.prototype.getNormalizer=function(){return Se(this._normalizeData,this)},e.listVisualTypes=function(){return at(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(t,r,n){ke(t)?F(t,r,n):r.call(n,t)},e.mapVisual=function(t,r,n){var i,o=se(t)?[]:ke(t)?{}:(i=!0,null);return e.eachVisual(t,function(a,s){var l=r.call(n,a,s);i?o=l:o[s]=l}),o},e.retrieveVisuals=function(t){var r={},n;return t&&Ev(e.visualHandlers,function(i,o){t.hasOwnProperty(o)&&(r[o]=t[o],n=!0)}),n?r:null},e.prepareVisualTypes=function(t){if(se(t))t=t.slice();else if(mbe(t)){var r=[];Ev(t,function(n,i){r.push(i)}),t=r}else return[];return t.sort(function(n,i){return i==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),t},e.dependsOn=function(t,r){return r==="color"?!!(t&&t.indexOf(r)===0):t===r},e.findPieceIndex=function(t,r,n){for(var i,o=1/0,a=0,s=r.length;a<s;a++){var l=r[a].value;if(l!=null){if(l===t||we(l)&&l===t+"")return a;n&&h(l,a)}}for(var a=0,s=r.length;a<s;a++){var u=r[a],c=u.interval,d=u.close;if(c){if(c[0]===-1/0){if(OC(d[1],t,c[1]))return a}else if(c[1]===1/0){if(OC(d[0],c[0],t))return a}else if(OC(d[0],c[0],t)&&OC(d[1],t,c[1]))return a;n&&h(c[0],a),n&&h(c[1],a)}}if(n)return t===1/0?r.length-1:t===-1/0?0:i;function h(f,g){var m=Math.abs(f-t);m<o&&(o=m,i=g)}},e.visualHandlers={color:{applyVisual:eg("color"),getColorMapper:function(){var t=this.option;return Se(t.mappingMethod==="category"?function(r,n){return!n&&(r=this._normalizeData(r)),xg.call(this,r)}:function(r,n,i){var o=!!i;return!n&&(r=this._normalizeData(r)),i=Lg(r,t.parsedVisual,i),o?i:Mo(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return Mo(Lg(t,this.option.parsedVisual),"rgba")},category:xg,piecewise:function(t,r){var n=CD.call(this,r);return n==null&&(n=Mo(Lg(t,this.option.parsedVisual),"rgba")),n},fixed:ju}},colorHue:LC(function(t,r){return Th(t,r)}),colorSaturation:LC(function(t,r){return Th(t,null,r)}),colorLightness:LC(function(t,r){return Th(t,null,null,r)}),colorAlpha:LC(function(t,r){return hv(t,r)}),decal:{applyVisual:eg("decal"),_normalizedToVisual:{linear:null,category:xg,piecewise:null,fixed:null}},opacity:{applyVisual:eg("opacity"),_normalizedToVisual:yD([0,1])},liftZ:{applyVisual:eg("liftZ"),_normalizedToVisual:{linear:ju,category:ju,piecewise:ju,fixed:ju}},symbol:{applyVisual:function(t,r,n){var i=this.mapValueToVisual(t);n("symbol",i)},_normalizedToVisual:{linear:NV,category:xg,piecewise:function(t,r){var n=CD.call(this,r);return n==null&&(n=NV.call(this,t)),n},fixed:ju}},symbolSize:{applyVisual:eg("symbolSize"),_normalizedToVisual:yD([0,1])}},e}();function ybe(e){var t=e.pieceList;e.hasSpecialVisual=!1,F(t,function(r,n){r.originIndex=n,r.visual!=null&&(e.hasSpecialVisual=!0)})}function Cbe(e){var t=e.categories,r=e.categoryMap={},n=e.visual;if(Ev(t,function(a,s){r[a]=s}),!se(n)){var i=[];ke(n)?Ev(n,function(a,s){var l=r[s];i[l??O0]=a}):i[O0]=n,n=h9(e,i)}for(var o=t.length-1;o>=0;o--)n[o]==null&&(delete r[t[o]],t.pop())}function h_(e,t){var r=e.visual,n=[];ke(r)?Ev(r,function(o){n.push(o)}):r!=null&&n.push(r);var i={color:1,symbol:1};!t&&n.length===1&&!i.hasOwnProperty(e.type)&&(n[1]=n[0]),h9(e,n)}function LC(e){return{applyVisual:function(t,r,n){var i=this.mapValueToVisual(t);n("color",e(r("color"),i))},_normalizedToVisual:yD([0,1])}}function NV(e){var t=this.option.visual;return t[Math.round(Ct(e,[0,1],[0,t.length-1],!0))]||{}}function eg(e){return function(t,r,n){n(e,this.mapValueToVisual(t))}}function xg(e){var t=this.option.visual;return t[this.option.loop&&e!==O0?e%t.length:e]}function ju(){return this.option.visual[0]}function yD(e){return{linear:function(t){return Ct(t,e,this.option.visual,!0)},category:xg,piecewise:function(t,r){var n=CD.call(this,r);return n==null&&(n=Ct(t,e,this.option.visual,!0)),n},fixed:ju}}function CD(e){var t=this.option,r=t.pieceList;if(t.hasSpecialVisual){var n=Er.findPieceIndex(e,r),i=r[n];if(i&&i.visual)return i.visual[this.type]}}function h9(e,t){return e.visual=t,e.type==="color"&&(e.parsedVisual=le(t,function(r){var n=Ln(r);return n||[0,0,0,1]})),t}var wbe={linear:function(e){return Ct(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,r=Er.findPieceIndex(e,t,!0);if(r!=null)return Ct(r,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return t??O0},fixed:ir};function OC(e,t,r){return e?t<=r:t<r}var bbe="itemStyle",f9=ft();const Sbe={seriesType:"treemap",reset:function(e){var t=e.getData().tree,r=t.root;r.isRemoved()||p9(r,{},e.getViewRoot().getAncestors(),e)}};function p9(e,t,r,n){var i=e.getModel(),o=e.getLayout(),a=e.hostTree.data;if(!(!o||o.invisible||!o.isInView)){var s=i.getModel(bbe),l=xbe(s,t,n),u=a.ensureUniqueItemVisual(e.dataIndex,"style"),c=s.get("borderColor"),d=s.get("borderColorSaturation"),h;d!=null&&(h=zV(l),c=Rbe(d,h)),u.stroke=c;var f=e.viewChildren;if(!f||!f.length)h=zV(l),u.fill=h;else{var g=_be(e,i,o,s,l,f);F(f,function(m,y){if(m.depth>=r.length||m===r[m.depth]){var C=Tbe(i,l,m,y,g,n);p9(m,C,r,n)}})}}}function xbe(e,t,r){var n=ie({},t),i=r.designatedVisualItemStyle;return F(["color","colorAlpha","colorSaturation"],function(o){i[o]=t[o];var a=e.get(o);i[o]=null,a!=null&&(n[o]=a)}),n}function zV(e){var t=f_(e,"color");if(t){var r=f_(e,"colorAlpha"),n=f_(e,"colorSaturation");return n&&(t=Th(t,null,null,n)),r&&(t=hv(t,r)),t}}function Rbe(e,t){return t!=null?Th(t,null,null,e):null}function f_(e,t){var r=e[t];if(r!=null&&r!=="none")return r}function _be(e,t,r,n,i,o){if(!(!o||!o.length)){var a=p_(t,"color")||i.color!=null&&i.color!=="none"&&(p_(t,"colorAlpha")||p_(t,"colorSaturation"));if(a){var s=t.get("visualMin"),l=t.get("visualMax"),u=r.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s),l!=null&&l>u[1]&&(u[1]=l);var c=t.get("colorMappingBy"),d={type:a.name,dataExtent:u,visual:a.range};d.type==="color"&&(c==="index"||c==="id")?(d.mappingMethod="category",d.loop=!0):d.mappingMethod="linear";var h=new Er(d);return f9(h).drColorMappingBy=c,h}}}function p_(e,t){var r=e.get(t);return se(r)&&r.length?{name:t,range:r}:null}function Tbe(e,t,r,n,i,o){var a=ie({},t);if(i){var s=i.type,l=s==="color"&&f9(i).drColorMappingBy,u=l==="index"?n:l==="id"?o.mapIdToIndex(r.getId()):r.getValue(e.get("visualDimension"));a[s]=i.mapValueToVisual(u)}return a}var Mv=Math.max,N0=Math.min,BV=Ar,YE=F,g9=["itemStyle","borderWidth"],Pbe=["itemStyle","gapWidth"],Dbe=["upperLabel","show"],Abe=["upperLabel","height"];const Ibe={seriesType:"treemap",reset:function(e,t,r,n){var i=r.getWidth(),o=r.getHeight(),a=e.option,s=yr(e.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),l=a.size||[],u=me(BV(s.width,l[0]),i),c=me(BV(s.height,l[1]),o),d=n&&n.type,h=["treemapZoomToNode","treemapRootToNode"],f=Iv(n,h,e),g=d==="treemapRender"||d==="treemapMove"?n.rootRect:null,m=e.getViewRoot(),y=u9(m);if(d!=="treemapMove"){var C=d==="treemapZoomToNode"?Obe(e,f,m,u,c):g?[g.width,g.height]:[u,c],w=a.sort;w&&w!=="asc"&&w!=="desc"&&(w="desc");var S={squareRatio:a.squareRatio,sort:w,leafDepth:a.leafDepth};m.hostTree.clearLayouts();var x={x:0,y:0,width:C[0],height:C[1],area:C[0]*C[1]};m.setLayout(x),v9(m,S,!1,0),x=m.getLayout(),YE(y,function(T,P){var D=(y[P+1]||m).getValue();T.setLayout(ie({dataExtent:[D,D],borderWidth:0,upperHeight:0},x))})}var R=e.getData().tree.root;R.setLayout(Nbe(s,g,f),!0),e.setLayoutInfo(s),m9(R,new qe(-s.x,-s.y,i,o),y,m,0)}};function v9(e,t,r,n){var i,o;if(!e.isRemoved()){var a=e.getLayout();i=a.width,o=a.height;var s=e.getModel(),l=s.get(g9),u=s.get(Pbe)/2,c=y9(s),d=Math.max(l,c),h=l-u,f=d-u;e.setLayout({borderWidth:l,upperHeight:d,upperLabelHeight:c},!0),i=Mv(i-2*h,0),o=Mv(o-h-f,0);var g=i*o,m=Ebe(e,s,g,t,r,n);if(m.length){var y={x:h,y:f,width:i,height:o},C=N0(i,o),w=1/0,S=[];S.area=0;for(var x=0,R=m.length;x<R;){var T=m[x];S.push(T),S.area+=T.getLayout().area;var P=Lbe(S,C,t.squareRatio);P<=w?(x++,w=P):(S.area-=S.pop().getLayout().area,VV(S,C,y,u,!1),C=N0(y.width,y.height),S.length=S.area=0,w=1/0)}if(S.length&&VV(S,C,y,u,!0),!r){var D=s.get("childrenVisibleMin");D!=null&&g<D&&(r=!0)}for(var x=0,R=m.length;x<R;x++)v9(m[x],t,r,n+1)}}}function Ebe(e,t,r,n,i,o){var a=e.children||[],s=n.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=n.leafDepth!=null&&n.leafDepth<=o;if(i&&!l)return e.viewChildren=[];a=mt(a,function(f){return!f.isRemoved()}),kbe(a,s);var u=Fbe(t,a,s);if(u.sum===0)return e.viewChildren=[];if(u.sum=Mbe(t,r,u.sum,s,a),u.sum===0)return e.viewChildren=[];for(var c=0,d=a.length;c<d;c++){var h=a[c].getValue()/u.sum*r;a[c].setLayout({area:h})}return l&&(a.length&&e.setLayout({isLeafRoot:!0},!0),a.length=0),e.viewChildren=a,e.setLayout({dataExtent:u.dataExtent},!0),a}function Mbe(e,t,r,n,i){if(!n)return r;for(var o=e.get("visibleMin"),a=i.length,s=a,l=a-1;l>=0;l--){var u=i[n==="asc"?a-l-1:l].getValue();u/r*t<o&&(s=l,r-=u)}return n==="asc"?i.splice(0,a-s):i.splice(s,a-s),r}function kbe(e,t){return t&&e.sort(function(r,n){var i=t==="asc"?r.getValue()-n.getValue():n.getValue()-r.getValue();return i===0?t==="asc"?r.dataIndex-n.dataIndex:n.dataIndex-r.dataIndex:i}),e}function Fbe(e,t,r){for(var n=0,i=0,o=t.length;i<o;i++)n+=t[i].getValue();var a=e.get("visualDimension"),s;return!t||!t.length?s=[NaN,NaN]:a==="value"&&r?(s=[t[t.length-1].getValue(),t[0].getValue()],r==="asc"&&s.reverse()):(s=[1/0,-1/0],YE(t,function(l){var u=l.getValue(a);u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)})),{sum:n,dataExtent:s}}function Lbe(e,t,r){for(var n=0,i=1/0,o=0,a=void 0,s=e.length;o<s;o++)a=e[o].getLayout().area,a&&(a<i&&(i=a),a>n&&(n=a));var l=e.area*e.area,u=t*t*r;return l?Mv(u*n/l,l/(u*i)):1/0}function VV(e,t,r,n,i){var o=t===r.width?0:1,a=1-o,s=["x","y"],l=["width","height"],u=r[s[o]],c=t?e.area/t:0;(i||c>r[l[a]])&&(c=r[l[a]]);for(var d=0,h=e.length;d<h;d++){var f=e[d],g={},m=c?f.getLayout().area/c:0,y=g[l[a]]=Mv(c-2*n,0),C=r[s[o]]+r[l[o]]-u,w=d===h-1||C<m?C:m,S=g[l[o]]=Mv(w-2*n,0);g[s[a]]=r[s[a]]+N0(n,y/2),g[s[o]]=u+N0(n,S/2),u+=w,f.setLayout(g,!0)}r[s[a]]+=c,r[l[a]]-=c}function Obe(e,t,r,n,i){var o=(t||{}).node,a=[n,i];if(!o||o===r)return a;for(var s,l=n*i,u=l*e.option.zoomToNodeRatio;s=o.parentNode;){for(var c=0,d=s.children,h=0,f=d.length;h<f;h++)c+=d[h].getValue();var g=o.getValue();if(g===0)return a;u*=c/g;var m=s.getModel(),y=m.get(g9),C=Math.max(y,y9(m));u+=4*y*y+(3*y+C)*Math.pow(u,.5),u>TP&&(u=TP),o=s}u<l&&(u=l);var w=Math.pow(u/l,.5);return[n*w,i*w]}function Nbe(e,t,r){if(t)return{x:t.x,y:t.y};var n={x:0,y:0};if(!r)return n;var i=r.node,o=i.getLayout();if(!o)return n;for(var a=[o.width/2,o.height/2],s=i;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:e.width/2-a[0],y:e.height/2-a[1]}}function m9(e,t,r,n,i){var o=e.getLayout(),a=r[i],s=a&&a===e;if(!(a&&!s||i===r.length&&e!==n)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(o),isAboveViewRoot:s},!0);var l=new qe(t.x-o.x,t.y-o.y,t.width,t.height);YE(e.viewChildren||[],function(u){m9(u,l,r,n,i+1)})}}function y9(e){return e.get(Dbe)?e.get(Abe):0}function zbe(e){e.registerSeriesModel(nbe),e.registerChartView(pbe),e.registerVisual(Sbe),e.registerLayout(Ibe),rbe(e)}function Bbe(e){var t=e.findComponents({mainType:"legend"});!t||!t.length||e.eachSeriesByType("graph",function(r){var n=r.getCategoriesData(),i=r.getGraph(),o=i.data,a=n.mapArray(n.getName);o.filterSelf(function(s){var l=o.getItemModel(s),u=l.getShallow("category");if(u!=null){pt(u)&&(u=a[u]);for(var c=0;c<t.length;c++)if(!t[c].isSelected(u))return!1}return!0})})}function Vbe(e){var t={};e.eachSeriesByType("graph",function(r){var n=r.getCategoriesData(),i=r.getData(),o={};n.each(function(a){var s=n.getName(a);o["ec-"+s]=a;var l=n.getItemModel(a),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=r.getColorFromPalette(s,t)),n.setItemVisual(a,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],d=0;d<c.length;d++){var h=l.getShallow(c[d],!0);h!=null&&n.setItemVisual(a,c[d],h)}}),n.count()&&i.each(function(a){var s=i.getItemModel(a),l=s.getShallow("category");if(l!=null){we(l)&&(l=o["ec-"+l]);var u=n.getItemVisual(l,"style"),c=i.ensureUniqueItemVisual(a,"style");ie(c,u);for(var d=["symbol","symbolSize","symbolKeepAspect"],h=0;h<d.length;h++)i.setItemVisual(a,d[h],n.getItemVisual(l,d[h]))}})})}function NC(e){return e instanceof Array||(e=[e,e]),e}function Gbe(e){e.eachSeriesByType("graph",function(t){var r=t.getGraph(),n=t.getEdgeData(),i=NC(t.get("edgeSymbol")),o=NC(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",o&&o[0]),n.setVisual("toSymbolSize",o&&o[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each(function(a){var s=n.getItemModel(a),l=r.getEdgeByIndex(a),u=NC(s.getShallow("symbol",!0)),c=NC(s.getShallow("symbolSize",!0)),d=s.getModel("lineStyle").getLineStyle(),h=n.ensureUniqueItemVisual(a,"style");switch(ie(h,d),h.stroke){case"source":{var f=l.node1.getVisual("style");h.stroke=f&&f.fill;break}case"target":{var f=l.node2.getVisual("style");h.stroke=f&&f.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var wD="-->",mS=function(e){return e.get("autoCurveness")||null},C9=function(e,t){var r=mS(e),n=20,i=[];if(pt(r))n=r;else if(se(r)){e.__curvenessList=r;return}t>n&&(n=t);var o=n%2?n+2:n+3;i=[];for(var a=0;a<o;a++)i.push((a%2?a+1:a)/10*(a%2?-1:1));e.__curvenessList=i},kv=function(e,t,r){var n=[e.id,e.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[r.uid,n,i].join(wD)},w9=function(e){var t=e.split(wD);return[t[0],t[2],t[1]].join(wD)},Hbe=function(e,t){var r=kv(e.node1,e.node2,t);return t.__edgeMap[r]},Wbe=function(e,t){var r=bD(kv(e.node1,e.node2,t),t),n=bD(kv(e.node2,e.node1,t),t);return r+n},bD=function(e,t){var r=t.__edgeMap;return r[e]?r[e].length:0};function $be(e){mS(e)&&(e.__curvenessList=[],e.__edgeMap={},C9(e))}function Ube(e,t,r,n){if(mS(r)){var i=kv(e,t,r),o=r.__edgeMap,a=o[w9(i)];o[i]&&!a?o[i].isForward=!0:a&&o[i]&&(a.isForward=!0,o[i].isForward=!1),o[i]=o[i]||[],o[i].push(n)}}function KE(e,t,r,n){var i=mS(t),o=se(i);if(!i)return null;var a=Hbe(e,t);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===r){s=l;break}var u=Wbe(e,t);C9(t,u),e.lineStyle=e.lineStyle||{};var c=kv(e.node1,e.node2,t),d=t.__curvenessList,h=o||u%2?0:1;if(a.isForward)return d[h+s];var f=w9(c),g=bD(f,t),m=d[s+g+h];return n?o?i&&i[0]===0?(g+h)%2?m:-m:((g%2?0:1)+h)%2?m:-m:(g+h)%2?m:-m:d[s+g+h]}function b9(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view")){var r=e.getGraph();r.eachNode(function(n){var i=n.getModel();n.setLayout([+i.get("x"),+i.get("y")])}),XE(r,e)}}function XE(e,t){e.eachEdge(function(r,n){var i=Io(r.getModel().get(["lineStyle","curveness"]),-KE(r,t,n,!0),0),o=wa(r.node1.getLayout()),a=wa(r.node2.getLayout()),s=[o,a];+i&&s.push([(o[0]+a[0])/2-(o[1]-a[1])*i,(o[1]+a[1])/2-(a[0]-o[0])*i]),r.setLayout(s)})}function jbe(e,t){e.eachSeriesByType("graph",function(r){var n=r.get("layout"),i=r.coordinateSystem;if(i&&i.type!=="view"){var o=r.getData(),a=[];F(i.dimensions,function(h){a=a.concat(o.mapDimensionsAll(h))});for(var s=0;s<o.count();s++){for(var l=[],u=!1,c=0;c<a.length;c++){var d=o.get(a[c],s);isNaN(d)||(u=!0),l.push(d)}u?o.setItemLayout(s,i.dataToPoint(l)):o.setItemLayout(s,[NaN,NaN])}XE(o.graph,r)}else(!n||n==="none")&&b9(r)})}function Rg(e){var t=e.coordinateSystem;if(t.type!=="view")return 1;var r=e.option.nodeScaleRatio,n=t.scaleX,i=t.getZoom(),o=(i-1)*r+1;return o/n}function _g(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var GV=Math.PI,g_=[];function qE(e,t,r,n){var i=e.coordinateSystem;if(!(i&&i.type!=="view")){var o=i.getBoundingRect(),a=e.getData(),s=a.graph,l=o.width/2+o.x,u=o.height/2+o.y,c=Math.min(o.width,o.height)/2,d=a.count();if(a.setLayout({cx:l,cy:u}),!!d){if(r){var h=i.pointToData(n),f=h[0],g=h[1],m=[f-l,g-u];$c(m,m),Mg(m,m,c),r.setLayout([l+m[0],u+m[1]],!0);var y=e.get(["circular","rotateLabel"]);S9(r,y,l,u)}Ybe[t](e,s,a,c,l,u,d),s.eachEdge(function(C,w){var S=Io(C.getModel().get(["lineStyle","curveness"]),KE(C,e,w),0),x=wa(C.node1.getLayout()),R=wa(C.node2.getLayout()),T,P=(x[0]+R[0])/2,D=(x[1]+R[1])/2;+S&&(S*=3,T=[l*S+P*(1-S),u*S+D*(1-S)]),C.setLayout([x,R,T])})}}}var Ybe={value:function(e,t,r,n,i,o,a){var s=0,l=r.getSum("value"),u=Math.PI*2/(l||a);t.eachNode(function(c){var d=c.getValue("value"),h=u*(l?d:1)/2;s+=h,c.setLayout([n*Math.cos(s)+i,n*Math.sin(s)+o]),s+=h})},symbolSize:function(e,t,r,n,i,o,a){var s=0;g_.length=a;var l=Rg(e);t.eachNode(function(d){var h=_g(d);isNaN(h)&&(h=2),h<0&&(h=0),h*=l;var f=Math.asin(h/2/n);isNaN(f)&&(f=GV/2),g_[d.dataIndex]=f,s+=f*2});var u=(2*GV-s)/a/2,c=0;t.eachNode(function(d){var h=u+g_[d.dataIndex];c+=h,(!d.getLayout()||!d.getLayout().fixed)&&d.setLayout([n*Math.cos(c)+i,n*Math.sin(c)+o]),c+=h})}};function S9(e,t,r,n){var i=e.getGraphicEl();if(i){var o=e.getModel(),a=o.get(["label","rotate"])||0,s=i.getSymbolPath();if(t){var l=e.getLayout(),u=Math.atan2(l[1]-n,l[0]-r);u<0&&(u=Math.PI*2+u);var c=l[0]<r;c&&(u=u-Math.PI);var d=c?"left":"right";s.setTextConfig({rotation:-u,position:d,origin:"center"});var h=s.ensureState("emphasis");ie(h.textConfig||(h.textConfig={}),{position:d})}else s.setTextConfig({rotation:a*=Math.PI/180})}}function Kbe(e){e.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&qE(t,"symbolSize")})}var qd=t0;function Xbe(e,t,r){for(var n=e,i=t,o=r.rect,a=o.width,s=o.height,l=[o.x+a/2,o.y+s/2],u=r.gravity==null?.1:r.gravity,c=0;c<n.length;c++){var d=n[c];d.p||(d.p=Zl(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),d.pp=wa(d.p),d.edges=null}var h=r.friction==null?.6:r.friction,f=h,g,m;return{warmUp:function(){f=h*.8},setFixed:function(y){n[y].fixed=!0},setUnfixed:function(y){n[y].fixed=!1},beforeStep:function(y){g=y},afterStep:function(y){m=y},step:function(y){g&&g(n,i);for(var C=[],w=n.length,S=0;S<i.length;S++){var x=i[S];if(!x.ignoreForceLayout){var R=x.n1,T=x.n2;Rl(C,T.p,R.p);var P=uv(C)-x.d,D=T.w/(R.w+T.w);isNaN(D)&&(D=0),$c(C,C),!R.fixed&&qd(R.p,R.p,C,D*P*f),!T.fixed&&qd(T.p,T.p,C,-(1-D)*P*f)}}for(var S=0;S<w;S++){var I=n[S];I.fixed||(Rl(C,l,I.p),qd(I.p,I.p,C,u*f))}for(var S=0;S<w;S++)for(var R=n[S],E=S+1;E<w;E++){var T=n[E];Rl(C,T.p,R.p);var P=uv(C);P===0&&(D6(C,Math.random()-.5,Math.random()-.5),P=1);var k=(R.rep+T.rep)/P/P;!R.fixed&&qd(R.pp,R.pp,C,k),!T.fixed&&qd(T.pp,T.pp,C,-k)}for(var L=[],S=0;S<w;S++){var I=n[S];I.fixed||(Rl(L,I.p,I.pp),qd(I.p,I.p,L,f),fn(I.pp,I.p))}f=f*.992;var N=f<.01;m&&m(n,i,N),y&&y(N)}}}function qbe(e){e.eachSeriesByType("graph",function(t){var r=t.coordinateSystem;if(!(r&&r.type!=="view"))if(t.get("layout")==="force"){var n=t.preservedPoints||{},i=t.getGraph(),o=i.data,a=i.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?o.each(function(S){var x=o.getId(S);o.setItemLayout(S,n[x]||[NaN,NaN])}):!l||l==="none"?b9(t):l==="circular"&&qE(t,"value");var u=o.getDataExtent("value"),c=a.getDataExtent("value"),d=s.get("repulsion"),h=s.get("edgeLength"),f=se(d)?d:[d,d],g=se(h)?h:[h,h];g=[g[1],g[0]];var m=o.mapArray("value",function(S,x){var R=o.getItemLayout(x),T=Ct(S,u,f);return isNaN(T)&&(T=(f[0]+f[1])/2),{w:T,rep:T,fixed:o.getItemModel(x).get("fixed"),p:!R||isNaN(R[0])||isNaN(R[1])?null:R}}),y=a.mapArray("value",function(S,x){var R=i.getEdgeByIndex(x),T=Ct(S,c,g);isNaN(T)&&(T=(g[0]+g[1])/2);var P=R.getModel(),D=Io(R.getModel().get(["lineStyle","curveness"]),-KE(R,t,x,!0),0);return{n1:m[R.node1.dataIndex],n2:m[R.node2.dataIndex],d:T,curveness:D,ignoreForceLayout:P.get("ignoreForceLayout")}}),C=r.getBoundingRect(),w=Xbe(m,y,{rect:C,gravity:s.get("gravity"),friction:s.get("friction")});w.beforeStep(function(S,x){for(var R=0,T=S.length;R<T;R++)S[R].fixed&&fn(S[R].p,i.getNodeByIndex(R).getLayout())}),w.afterStep(function(S,x,R){for(var T=0,P=S.length;T<P;T++)S[T].fixed||i.getNodeByIndex(T).setLayout(S[T].p),n[o.getId(T)]=S[T].p;for(var T=0,P=x.length;T<P;T++){var D=x[T],I=i.getEdgeByIndex(T),E=D.n1.p,k=D.n2.p,L=I.getLayout();L=L?L.slice():[],L[0]=L[0]||[],L[1]=L[1]||[],fn(L[0],E),fn(L[1],k),+D.curveness&&(L[2]=[(E[0]+k[0])/2-(E[1]-k[1])*D.curveness,(E[1]+k[1])/2-(k[0]-E[0])*D.curveness]),I.setLayout(L)}}),t.forceLayout=w,t.preservedPoints=n,w.step()}else t.forceLayout=null})}function Zbe(e,t,r){var n=ie(e.getBoxLayoutParams(),{aspect:r});return yr(n,{width:t.getWidth(),height:t.getHeight()})}function Qbe(e,t){var r=[];return e.eachSeriesByType("graph",function(n){var i=n.get("coordinateSystem");if(!i||i==="view"){var o=n.getData(),a=o.mapArray(function(y){var C=o.getItemModel(y);return[+C.get("x"),+C.get("y")]}),s=[],l=[];Ub(a,s,l),l[0]-s[0]===0&&(l[0]+=1,s[0]-=1),l[1]-s[1]===0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=Zbe(n,t,u);isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var d=l[0]-s[0],h=l[1]-s[1],f=c.width,g=c.height,m=n.coordinateSystem=new xm;m.zoomLimit=n.get("scaleLimit"),m.setBoundingRect(s[0],s[1],d,h),m.setViewRect(c.x,c.y,f,g),m.setCenter(n.get("center"),t),m.setZoom(n.get("zoom")),r.push(m)}}),r}var HV=Rr.prototype,v_=yf.prototype,x9=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}();(function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(x9);function m_(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var Jbe=function(e){q(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-line",n}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new x9},t.prototype.buildPath=function(r,n){m_(n)?HV.buildPath.call(this,r,n):v_.buildPath.call(this,r,n)},t.prototype.pointAt=function(r){return m_(this.shape)?HV.pointAt.call(this,r):v_.pointAt.call(this,r)},t.prototype.tangentAt=function(r){var n=this.shape,i=m_(n)?[n.x2-n.x1,n.y2-n.y1]:v_.tangentAt.call(this,r);return $c(i,i)},t}(nt),y_=["fromSymbol","toSymbol"];function WV(e){return"_"+e+"Type"}function $V(e,t,r){var n=t.getItemVisual(r,e);if(!n||n==="none")return n;var i=t.getItemVisual(r,e+"Size"),o=t.getItemVisual(r,e+"Rotate"),a=t.getItemVisual(r,e+"Offset"),s=t.getItemVisual(r,e+"KeepAspect"),l=Af(i),u=Xc(a||0,l);return n+l+u+(o||"")+(s||"")}function UV(e,t,r){var n=t.getItemVisual(r,e);if(!(!n||n==="none")){var i=t.getItemVisual(r,e+"Size"),o=t.getItemVisual(r,e+"Rotate"),a=t.getItemVisual(r,e+"Offset"),s=t.getItemVisual(r,e+"KeepAspect"),l=Af(i),u=Xc(a||0,l),c=hr(n,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=o==null||isNaN(o)?void 0:+o*Math.PI/180||0,c.name=e,c}}function eSe(e){var t=new Jbe({name:"line",subPixelOptimize:!0});return SD(t.shape,e),t}function SD(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var r=t[2];r?(e.cpx1=r[0],e.cpy1=r[1]):(e.cpx1=NaN,e.cpy1=NaN)}var ZE=function(e){q(t,e);function t(r,n,i){var o=e.call(this)||this;return o._createLine(r,n,i),o}return t.prototype._createLine=function(r,n,i){var o=r.hostModel,a=r.getItemLayout(n),s=eSe(a);s.shape.percent=0,Vt(s,{shape:{percent:1}},o,n),this.add(s),F(y_,function(l){var u=UV(l,r,n);this.add(u),this[WV(l)]=$V(l,r,n)},this),this._updateCommonStl(r,n,i)},t.prototype.updateData=function(r,n,i){var o=r.hostModel,a=this.childOfName("line"),s=r.getItemLayout(n),l={shape:{}};SD(l.shape,s),gt(a,l,o,n),F(y_,function(u){var c=$V(u,r,n),d=WV(u);if(this[d]!==c){this.remove(this.childOfName(u));var h=UV(u,r,n);this.add(h)}this[d]=c},this),this._updateCommonStl(r,n,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(r,n,i){var o=r.hostModel,a=this.childOfName("line"),s=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,u=i&&i.selectLineStyle,c=i&&i.labelStatesModels,d=i&&i.emphasisDisabled,h=i&&i.focus,f=i&&i.blurScope;if(!i||r.hasItemOption){var g=r.getItemModel(n),m=g.getModel("emphasis");s=m.getModel("lineStyle").getLineStyle(),l=g.getModel(["blur","lineStyle"]).getLineStyle(),u=g.getModel(["select","lineStyle"]).getLineStyle(),d=m.get("disabled"),h=m.get("focus"),f=m.get("blurScope"),c=Mr(g)}var y=r.getItemVisual(n,"style"),C=y.stroke;a.useStyle(y),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=s,a.ensureState("blur").style=l,a.ensureState("select").style=u,F(y_,function(T){var P=this.childOfName(T);if(P){P.setColor(C),P.style.opacity=y.opacity;for(var D=0;D<Bn.length;D++){var I=Bn[D],E=a.getState(I);if(E){var k=E.style||{},L=P.ensureState(I),N=L.style||(L.style={});k.stroke!=null&&(N[P.__isEmptyBrush?"stroke":"fill"]=k.stroke),k.opacity!=null&&(N.opacity=k.opacity)}}P.markRedraw()}},this);var w=o.getRawValue(n);Jr(this,c,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(T,P){return o.getFormattedLabel(T,P,r.dataType)}},inheritColor:C||"#000",defaultOpacity:y.opacity,defaultText:(w==null?r.getName(n):isFinite(w)?Zt(w):w)+""});var S=this.getTextContent();if(S){var x=c.normal;S.__align=S.style.align,S.__verticalAlign=S.style.verticalAlign,S.__position=x.get("position")||"middle";var R=x.get("distance");se(R)||(R=[R,R]),S.__labelDistance=R}this.setTextConfig({position:null,local:!0,inside:!1}),Kt(this,h,f,d)},t.prototype.highlight=function(){_s(this)},t.prototype.downplay=function(){Ts(this)},t.prototype.updateLayout=function(r,n){this.setLinePoints(r.getItemLayout(n))},t.prototype.setLinePoints=function(r){var n=this.childOfName("line");SD(n.shape,r),n.dirty()},t.prototype.beforeUpdate=function(){var r=this,n=r.childOfName("fromSymbol"),i=r.childOfName("toSymbol"),o=r.getTextContent();if(!n&&!i&&(!o||o.ignore))return;for(var a=1,s=this.parent;s;)s.scaleX&&(a/=s.scaleX),s=s.parent;var l=r.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),d=l.pointAt(u),h=Rl([],d,c);$c(h,h);function f(E,k){var L=E.__specifiedRotation;if(L==null){var N=l.tangentAt(k);E.attr("rotation",(k===1?-1:1)*Math.PI/2-Math.atan2(N[1],N[0]))}else E.attr("rotation",L)}if(n&&(n.setPosition(c),f(n,0),n.scaleX=n.scaleY=a*u,n.markRedraw()),i&&(i.setPosition(d),f(i,1),i.scaleX=i.scaleY=a*u,i.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var g=void 0,m=void 0,y=o.__labelDistance,C=y[0]*a,w=y[1]*a,S=u/2,x=l.tangentAt(S),R=[x[1],-x[0]],T=l.pointAt(S);R[1]>0&&(R[0]=-R[0],R[1]=-R[1]);var P=x[0]<0?-1:1;if(o.__position!=="start"&&o.__position!=="end"){var D=-Math.atan2(x[1],x[0]);d[0]<c[0]&&(D=Math.PI+D),o.rotation=D}var I=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":I=-w,m="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":I=w,m="top";break;default:I=0,m="middle"}switch(o.__position){case"end":o.x=h[0]*C+d[0],o.y=h[1]*w+d[1],g=h[0]>.8?"left":h[0]<-.8?"right":"center",m=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":o.x=-h[0]*C+c[0],o.y=-h[1]*w+c[1],g=h[0]>.8?"right":h[0]<-.8?"left":"center",m=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=C*P+c[0],o.y=c[1]+I,g=x[0]<0?"right":"left",o.originX=-C*P,o.originY=-I;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=T[0],o.y=T[1]+I,g="center",o.originY=-I;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-C*P+d[0],o.y=d[1]+I,g=x[0]>=0?"right":"left",o.originX=C*P,o.originY=-I;break}o.scaleX=o.scaleY=a,o.setStyle({verticalAlign:o.__verticalAlign||m,align:o.__align||g})}},t}(Ne),QE=function(){function e(t){this.group=new Ne,this._LineCtor=t||ZE}return e.prototype.updateData=function(t){var r=this;this._progressiveEls=null;var n=this,i=n.group,o=n._lineData;n._lineData=t,o||i.removeAll();var a=jV(t);t.diff(o).add(function(s){r._doAdd(t,s,a)}).update(function(s,l){r._doUpdate(o,t,l,s,a)}).remove(function(s){i.remove(o.getItemGraphicEl(s))}).execute()},e.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(r,n){r.updateLayout(t,n)},this)},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=jV(t),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,r){this._progressiveEls=[];function n(s){!s.isGroup&&!tSe(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var o=r.getItemLayout(i);if(C_(o)){var a=new this._LineCtor(r,i,this._seriesScope);a.traverse(n),this.group.add(a),r.setItemGraphicEl(i,a),this._progressiveEls.push(a)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(t){Jl(this._progressiveEls||this.group,t)},e.prototype._doAdd=function(t,r,n){var i=t.getItemLayout(r);if(C_(i)){var o=new this._LineCtor(t,r,n);t.setItemGraphicEl(r,o),this.group.add(o)}},e.prototype._doUpdate=function(t,r,n,i,o){var a=t.getItemGraphicEl(n);if(!C_(r.getItemLayout(i))){this.group.remove(a);return}a?a.updateData(r,i,o):a=new this._LineCtor(r,i,o),r.setItemGraphicEl(i,a),this.group.add(a)},e}();function tSe(e){return e.animators&&e.animators.length>0}function jV(e){var t=e.hostModel,r=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:Mr(t)}}function YV(e){return isNaN(e[0])||isNaN(e[1])}function C_(e){return e&&!YV(e[0])&&!YV(e[1])}var w_=[],b_=[],S_=[],Zd=Gr,x_=Ml,KV=Math.abs;function XV(e,t,r){for(var n=e[0],i=e[1],o=e[2],a=1/0,s,l=r*r,u=.1,c=.1;c<=.9;c+=.1){w_[0]=Zd(n[0],i[0],o[0],c),w_[1]=Zd(n[1],i[1],o[1],c);var d=KV(x_(w_,t)-l);d<a&&(a=d,s=c)}for(var h=0;h<32;h++){var f=s+u;b_[0]=Zd(n[0],i[0],o[0],s),b_[1]=Zd(n[1],i[1],o[1],s),S_[0]=Zd(n[0],i[0],o[0],f),S_[1]=Zd(n[1],i[1],o[1],f);var d=x_(b_,t)-l;if(KV(d)<.01)break;var g=x_(S_,t)-l;u/=2,d<0?g>=0?s=s+u:s=s-u:g>=0?s=s-u:s=s+u}return s}function R_(e,t){var r=[],n=cv,i=[[],[],[]],o=[[],[]],a=[];t/=2,e.eachEdge(function(s,l){var u=s.getLayout(),c=s.getVisual("fromSymbol"),d=s.getVisual("toSymbol");u.__original||(u.__original=[wa(u[0]),wa(u[1])],u[2]&&u.__original.push(wa(u[2])));var h=u.__original;if(u[2]!=null){if(fn(i[0],h[0]),fn(i[1],h[2]),fn(i[2],h[1]),c&&c!=="none"){var f=_g(s.node1),g=XV(i,h[0],f*t);n(i[0][0],i[1][0],i[2][0],g,r),i[0][0]=r[3],i[1][0]=r[4],n(i[0][1],i[1][1],i[2][1],g,r),i[0][1]=r[3],i[1][1]=r[4]}if(d&&d!=="none"){var f=_g(s.node2),g=XV(i,h[1],f*t);n(i[0][0],i[1][0],i[2][0],g,r),i[1][0]=r[1],i[2][0]=r[2],n(i[0][1],i[1][1],i[2][1],g,r),i[1][1]=r[1],i[2][1]=r[2]}fn(u[0],i[0]),fn(u[1],i[2]),fn(u[2],i[1])}else{if(fn(o[0],h[0]),fn(o[1],h[1]),Rl(a,o[1],o[0]),$c(a,a),c&&c!=="none"){var f=_g(s.node1);t0(o[0],o[0],a,f*t)}if(d&&d!=="none"){var f=_g(s.node2);t0(o[1],o[1],a,-f*t)}fn(u[0],o[0]),fn(u[1],o[1])}})}function qV(e){return e.type==="view"}var rSe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){var i=new mm,o=new QE,a=this.group;this._controller=new Sm(n.getZr()),this._controllerHost={target:a},a.add(i.group),a.add(o.group),this._symbolDraw=i,this._lineDraw=o,this._firstRender=!0},t.prototype.render=function(r,n,i){var o=this,a=r.coordinateSystem;this._model=r;var s=this._symbolDraw,l=this._lineDraw,u=this.group;if(qV(a)){var c={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};this._firstRender?u.attr(c):gt(u,c,r)}R_(r.getGraph(),Rg(r));var d=r.getData();s.updateData(d);var h=r.getEdgeData();l.updateData(h),this._updateNodeAndLinkScale(),this._updateController(r,n,i),clearTimeout(this._layoutTimeout);var f=r.forceLayout,g=r.get(["force","layoutAnimation"]);f&&this._startForceLayoutIteration(f,g);var m=r.get("layout");d.graph.eachNode(function(S){var x=S.dataIndex,R=S.getGraphicEl(),T=S.getModel();if(R){R.off("drag").off("dragend");var P=T.get("draggable");P&&R.on("drag",function(I){switch(m){case"force":f.warmUp(),!o._layouting&&o._startForceLayoutIteration(f,g),f.setFixed(x),d.setItemLayout(x,[R.x,R.y]);break;case"circular":d.setItemLayout(x,[R.x,R.y]),S.setLayout({fixed:!0},!0),qE(r,"symbolSize",S,[I.offsetX,I.offsetY]),o.updateLayout(r);break;case"none":default:d.setItemLayout(x,[R.x,R.y]),XE(r.getGraph(),r),o.updateLayout(r);break}}).on("dragend",function(){f&&f.setUnfixed(x)}),R.setDraggable(P,!!T.get("cursor"));var D=T.get(["emphasis","focus"]);D==="adjacency"&&(Ve(R).focus=S.getAdjacentDataIndices())}}),d.graph.eachEdge(function(S){var x=S.getGraphicEl(),R=S.getModel().get(["emphasis","focus"]);x&&R==="adjacency"&&(Ve(x).focus={edge:[S.dataIndex],node:[S.node1.dataIndex,S.node2.dataIndex]})});var y=r.get("layout")==="circular"&&r.get(["circular","rotateLabel"]),C=d.getLayout("cx"),w=d.getLayout("cy");d.graph.eachNode(function(S){S9(S,y,C,w)}),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(r,n){var i=this;(function o(){r.step(function(a){i.updateLayout(i._model),(i._layouting=!a)&&(n?i._layoutTimeout=setTimeout(o,16):o())})})()},t.prototype._updateController=function(r,n,i){var o=this,a=this._controller,s=this._controllerHost,l=this.group;if(a.setPointerChecker(function(u,c,d){var h=l.getBoundingRect();return h.applyTransform(l.transform),h.contain(c,d)&&!pS(u,i,r)}),!qV(r.coordinateSystem)){a.disable();return}a.enable(r.get("roam")),s.zoomLimit=r.get("scaleLimit"),s.zoom=r.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(u){VE(s,u.dx,u.dy),i.dispatchAction({seriesId:r.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){GE(s,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:r.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),o._updateNodeAndLinkScale(),R_(r.getGraph(),Rg(r)),o._lineDraw.updateLayout(),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(){var r=this._model,n=r.getData(),i=Rg(r);n.eachItemGraphicEl(function(o,a){o&&o.setSymbolScale(i)})},t.prototype.updateLayout=function(r){R_(r.getGraph(),Rg(r)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(bt);function Qd(e){return"_EC_"+e}var nSe=function(){function e(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(t,r){t=t==null?""+r:""+t;var n=this._nodesMap;if(!n[Qd(t)]){var i=new Yu(t,r);return i.hostGraph=this,this.nodes.push(i),n[Qd(t)]=i,i}},e.prototype.getNodeByIndex=function(t){var r=this.data.getRawIndex(t);return this.nodes[r]},e.prototype.getNodeById=function(t){return this._nodesMap[Qd(t)]},e.prototype.addEdge=function(t,r,n){var i=this._nodesMap,o=this._edgesMap;if(pt(t)&&(t=this.nodes[t]),pt(r)&&(r=this.nodes[r]),t instanceof Yu||(t=i[Qd(t)]),r instanceof Yu||(r=i[Qd(r)]),!(!t||!r)){var a=t.id+"-"+r.id,s=new R9(t,r,n);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),r.inEdges.push(s)),t.edges.push(s),t!==r&&r.edges.push(s),this.edges.push(s),o[a]=s,s}},e.prototype.getEdgeByIndex=function(t){var r=this.edgeData.getRawIndex(t);return this.edges[r]},e.prototype.getEdge=function(t,r){t instanceof Yu&&(t=t.id),r instanceof Yu&&(r=r.id);var n=this._edgesMap;return this._directed?n[t+"-"+r]:n[t+"-"+r]||n[r+"-"+t]},e.prototype.eachNode=function(t,r){for(var n=this.nodes,i=n.length,o=0;o<i;o++)n[o].dataIndex>=0&&t.call(r,n[o],o)},e.prototype.eachEdge=function(t,r){for(var n=this.edges,i=n.length,o=0;o<i;o++)n[o].dataIndex>=0&&n[o].node1.dataIndex>=0&&n[o].node2.dataIndex>=0&&t.call(r,n[o],o)},e.prototype.breadthFirstTraverse=function(t,r,n,i){if(r instanceof Yu||(r=this._nodesMap[Qd(r)]),!!r){for(var o=n==="out"?"outEdges":n==="in"?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(i,r,null))for(var s=[r];s.length;)for(var l=s.shift(),u=l[o],a=0;a<u.length;a++){var c=u[a],d=c.node1===l?c.node2:c.node1;if(!d.__visited){if(t.call(i,d,l))return;s.push(d),d.__visited=!0}}}},e.prototype.update=function(){for(var t=this.data,r=this.edgeData,n=this.nodes,i=this.edges,o=0,a=n.length;o<a;o++)n[o].dataIndex=-1;for(var o=0,a=t.count();o<a;o++)n[t.getRawIndex(o)].dataIndex=o;r.filterSelf(function(s){var l=i[r.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(var o=0,a=r.count();o<a;o++)i[r.getRawIndex(o)].dataIndex=o},e.prototype.clone=function(){for(var t=new e(this._directed),r=this.nodes,n=this.edges,i=0;i<r.length;i++)t.addNode(r[i].id,r[i].dataIndex);for(var i=0;i<n.length;i++){var o=n[i];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},e}(),Yu=function(){function e(t,r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=r??-1}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var r=this.hostGraph,n=r.data.getItemModel(this.dataIndex);return n.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},r=0;r<this.edges.length;r++){var n=this.edges[r];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},e.prototype.getTrajectoryDataIndices=function(){for(var t=Pe(),r=Pe(),n=0;n<this.edges.length;n++){var i=this.edges[n];if(!(i.dataIndex<0)){t.set(i.dataIndex,!0);for(var o=[i.node1],a=[i.node2],s=0;s<o.length;){var l=o[s];s++,r.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)t.set(l.inEdges[u].dataIndex,!0),o.push(l.inEdges[u].node1)}for(s=0;s<a.length;){var c=a[s];s++,r.set(c.dataIndex,!0);for(var u=0;u<c.outEdges.length;u++)t.set(c.outEdges[u].dataIndex,!0),a.push(c.outEdges[u].node2)}}}return{edge:t.keys(),node:r.keys()}},e}(),R9=function(){function e(t,r,n){this.dataIndex=-1,this.node1=t,this.node2=r,this.dataIndex=n??-1}return e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var r=this.hostGraph,n=r.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var t=Pe(),r=Pe();t.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],o=0;o<n.length;){var a=n[o];o++,r.set(a.dataIndex,!0);for(var s=0;s<a.inEdges.length;s++)t.set(a.inEdges[s].dataIndex,!0),n.push(a.inEdges[s].node1)}for(o=0;o<i.length;){var l=i[o];o++,r.set(l.dataIndex,!0);for(var s=0;s<l.outEdges.length;s++)t.set(l.outEdges[s].dataIndex,!0),i.push(l.outEdges[s].node2)}return{edge:t.keys(),node:r.keys()}},e}();function _9(e,t){return{getValue:function(r){var n=this[e][t];return n.getStore().get(n.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,n){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,r,n)},getVisual:function(r){return this[e][t].getItemVisual(this.dataIndex,r)},setLayout:function(r,n){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,r,n)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}ar(Yu,_9("hostGraph","data"));ar(R9,_9("hostGraph","edgeData"));function T9(e,t,r,n,i){for(var o=new nSe(n),a=0;a<e.length;a++)o.addNode(Ar(e[a].id,e[a].name,a),a);for(var s=[],l=[],u=0,a=0;a<t.length;a++){var c=t[a],d=c.source,h=c.target;o.addEdge(d,h,u)&&(l.push(c),s.push(Ar(xr(c.id,null),d+" > "+h)),u++)}var f=r.get("coordinateSystem"),g;if(f==="cartesian2d"||f==="polar")g=Na(e,r);else{var m=Tf.get(f),y=m?m.dimensions||[]:[];Ze(y,"value")<0&&y.concat(["value"]);var C=If(e,{coordDimensions:y,encodeDefine:r.getEncode()}).dimensions;g=new yn(C,r),g.initData(e)}var w=new yn(["value"],r);return w.initData(l,s),i&&i(g,w),s9({mainData:g,struct:o,structAttr:"graph",datas:{node:g,edge:w},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}var iSe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new bm(i,i),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},t.prototype.mergeOption=function(r){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(r){e.prototype.mergeDefaultAndTheme.apply(this,arguments),Ac(r,"edgeLabel",["show"])},t.prototype.getInitialData=function(r,n){var i=r.edges||r.links||[],o=r.data||r.nodes||[],a=this;if(o&&i){$be(this);var s=T9(o,i,this,!0,l);return F(s.edges,function(u){Ube(u.node1,u.node2,this,u.dataIndex)},this),s.data}function l(u,c){u.wrapMethod("getItemModel",function(g){var m=a._categoriesModels,y=g.getShallow("category"),C=m[y];return C&&(C.parentModel=g.parentModel,g.parentModel=C),g});var d=yt.prototype.getModel;function h(g,m){var y=d.call(this,g,m);return y.resolveParentPath=f,y}c.wrapMethod("getItemModel",function(g){return g.resolveParentPath=f,g.getModel=h,g});function f(g){if(g&&(g[0]==="label"||g[1]==="label")){var m=g.slice();return g[0]==="label"?m[0]="edgeLabel":g[1]==="label"&&(m[1]="edgeLabel"),m}return g}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(r,n,i){if(i==="edge"){var o=this.getData(),a=this.getDataParams(r,i),s=o.graph.getEdgeByIndex(r),l=o.getName(s.node1.dataIndex),u=o.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),kr("nameValue",{name:c.join(" > "),value:a.value,noValue:a.value==null})}var d=Y8({series:this,dataIndex:r,multipleSeries:n});return d},t.prototype._updateCategoriesData=function(){var r=le(this.option.categories||[],function(i){return i.value!=null?i:ie({value:0},i)}),n=new yn(["value"],this);n.initData(r),this._categoriesData=n,this._categoriesModels=n.mapArray(function(i){return n.getItemModel(i)})},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Tt),oSe={type:"graphRoam",event:"graphRoam",update:"none"};function aSe(e){e.registerChartView(rSe),e.registerSeriesModel(iSe),e.registerProcessor(Bbe),e.registerVisual(Vbe),e.registerVisual(Gbe),e.registerLayout(jbe),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,Kbe),e.registerLayout(qbe),e.registerCoordinateSystem("graphView",{dimensions:xm.dimensions,create:Qbe}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},ir),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},ir),e.registerAction(oSe,function(t,r,n){r.eachComponent({mainType:"series",query:t},function(i){var o=i.coordinateSystem,a=WE(o,t,void 0,n);i.setCenter&&i.setCenter(a.center),i.setZoom&&i.setZoom(a.zoom)})})}var sSe=function(){function e(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return e}(),lSe=function(e){q(t,e);function t(r){var n=e.call(this,r)||this;return n.type="pointer",n}return t.prototype.getDefaultShape=function(){return new sSe},t.prototype.buildPath=function(r,n){var i=Math.cos,o=Math.sin,a=n.r,s=n.width,l=n.angle,u=n.x-i(l)*s*(s>=a/3?1:2),c=n.y-o(l)*s*(s>=a/3?1:2);l=n.angle-Math.PI/2,r.moveTo(u,c),r.lineTo(n.x+i(l)*s,n.y+o(l)*s),r.lineTo(n.x+i(n.angle)*a,n.y+o(n.angle)*a),r.lineTo(n.x-i(l)*s,n.y-o(l)*s),r.lineTo(u,c)},t}(nt);function uSe(e,t){var r=e.get("center"),n=t.getWidth(),i=t.getHeight(),o=Math.min(n,i),a=me(r[0],t.getWidth()),s=me(r[1],t.getHeight()),l=me(e.get("radius"),o/2);return{cx:a,cy:s,r:l}}function zC(e,t){var r=e==null?"":e+"";return t&&(we(t)?r=t.replace("{value}",r):Ie(t)&&(r=t(e))),r}var cSe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){this.group.removeAll();var o=r.get(["axisLine","lineStyle","color"]),a=uSe(r,i);this._renderMain(r,n,i,o,a),this._data=r.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(r,n,i,o,a){var s=this.group,l=r.get("clockwise"),u=-r.get("startAngle")/180*Math.PI,c=-r.get("endAngle")/180*Math.PI,d=r.getModel("axisLine"),h=d.get("roundCap"),f=h?M0:wn,g=d.get("show"),m=d.getModel("lineStyle"),y=m.get("width"),C=[u,c];FI(C,!l),u=C[0],c=C[1];for(var w=c-u,S=u,x=[],R=0;g&&R<o.length;R++){var T=Math.min(Math.max(o[R][0],0),1);c=u+w*T;var P=new f({shape:{startAngle:S,endAngle:c,cx:a.cx,cy:a.cy,clockwise:l,r0:a.r-y,r:a.r},silent:!0});P.setStyle({fill:o[R][1]}),P.setStyle(m.getLineStyle(["color","width"])),x.push(P),S=c}x.reverse(),F(x,function(I){return s.add(I)});var D=function(I){if(I<=0)return o[0][1];var E;for(E=0;E<o.length;E++)if(o[E][0]>=I&&(E===0?0:o[E-1][0])<I)return o[E][1];return o[E-1][1]};this._renderTicks(r,n,i,D,a,u,c,l,y),this._renderTitleAndDetail(r,n,i,D,a),this._renderAnchor(r,a),this._renderPointer(r,n,i,D,a,u,c,l,y)},t.prototype._renderTicks=function(r,n,i,o,a,s,l,u,c){for(var d=this.group,h=a.cx,f=a.cy,g=a.r,m=+r.get("min"),y=+r.get("max"),C=r.getModel("splitLine"),w=r.getModel("axisTick"),S=r.getModel("axisLabel"),x=r.get("splitNumber"),R=w.get("splitNumber"),T=me(C.get("length"),g),P=me(w.get("length"),g),D=s,I=(l-s)/x,E=I/R,k=C.getModel("lineStyle").getLineStyle(),L=w.getModel("lineStyle").getLineStyle(),N=C.get("distance"),B,V,W=0;W<=x;W++){if(B=Math.cos(D),V=Math.sin(D),C.get("show")){var j=N?N+c:c,G=new Rr({shape:{x1:B*(g-j)+h,y1:V*(g-j)+f,x2:B*(g-T-j)+h,y2:V*(g-T-j)+f},style:k,silent:!0});k.stroke==="auto"&&G.setStyle({stroke:o(W/x)}),d.add(G)}if(S.get("show")){var j=S.get("distance")+N,$=zC(Zt(W/x*(y-m)+m),S.get("formatter")),K=o(W/x),H=B*(g-T-j)+h,U=V*(g-T-j)+f,ne=S.get("rotate"),oe=0;ne==="radial"?(oe=-D+2*Math.PI,oe>Math.PI/2&&(oe+=Math.PI)):ne==="tangential"?oe=-D-Math.PI/2:pt(ne)&&(oe=ne*Math.PI/180),oe===0?d.add(new dt({style:Mt(S,{text:$,x:H,y:U,verticalAlign:V<-.8?"top":V>.8?"bottom":"middle",align:B<-.4?"left":B>.4?"right":"center"},{inheritColor:K}),silent:!0})):d.add(new dt({style:Mt(S,{text:$,x:H,y:U,verticalAlign:"middle",align:"center"},{inheritColor:K}),silent:!0,originX:H,originY:U,rotation:oe}))}if(w.get("show")&&W!==x){var j=w.get("distance");j=j?j+c:c;for(var he=0;he<=R;he++){B=Math.cos(D),V=Math.sin(D);var xe=new Rr({shape:{x1:B*(g-j)+h,y1:V*(g-j)+f,x2:B*(g-P-j)+h,y2:V*(g-P-j)+f},silent:!0,style:L});L.stroke==="auto"&&xe.setStyle({stroke:o((W+he/R)/x)}),d.add(xe),D+=E}D-=E}else D+=I}},t.prototype._renderPointer=function(r,n,i,o,a,s,l,u,c){var d=this.group,h=this._data,f=this._progressEls,g=[],m=r.get(["pointer","show"]),y=r.getModel("progress"),C=y.get("show"),w=r.getData(),S=w.mapDimension("value"),x=+r.get("min"),R=+r.get("max"),T=[x,R],P=[s,l];function D(E,k){var L=w.getItemModel(E),N=L.getModel("pointer"),B=me(N.get("width"),a.r),V=me(N.get("length"),a.r),W=r.get(["pointer","icon"]),j=N.get("offsetCenter"),G=me(j[0],a.r),$=me(j[1],a.r),K=N.get("keepAspect"),H;return W?H=hr(W,G-B/2,$-V,B,V,null,K):H=new lSe({shape:{angle:-Math.PI/2,width:B,r:V,x:G,y:$}}),H.rotation=-(k+Math.PI/2),H.x=a.cx,H.y=a.cy,H}function I(E,k){var L=y.get("roundCap"),N=L?M0:wn,B=y.get("overlap"),V=B?y.get("width"):c/w.count(),W=B?a.r-V:a.r-(E+1)*V,j=B?a.r:a.r-E*V,G=new N({shape:{startAngle:s,endAngle:k,cx:a.cx,cy:a.cy,clockwise:u,r0:W,r:j}});return B&&(G.z2=Ct(w.get(S,E),[x,R],[100,0],!0)),G}(C||m)&&(w.diff(h).add(function(E){var k=w.get(S,E);if(m){var L=D(E,s);Vt(L,{rotation:-((isNaN(+k)?P[0]:Ct(k,T,P,!0))+Math.PI/2)},r),d.add(L),w.setItemGraphicEl(E,L)}if(C){var N=I(E,s),B=y.get("clip");Vt(N,{shape:{endAngle:Ct(k,T,P,B)}},r),d.add(N),MP(r.seriesIndex,w.dataType,E,N),g[E]=N}}).update(function(E,k){var L=w.get(S,E);if(m){var N=h.getItemGraphicEl(k),B=N?N.rotation:s,V=D(E,B);V.rotation=B,gt(V,{rotation:-((isNaN(+L)?P[0]:Ct(L,T,P,!0))+Math.PI/2)},r),d.add(V),w.setItemGraphicEl(E,V)}if(C){var W=f[k],j=W?W.shape.endAngle:s,G=I(E,j),$=y.get("clip");gt(G,{shape:{endAngle:Ct(L,T,P,$)}},r),d.add(G),MP(r.seriesIndex,w.dataType,E,G),g[E]=G}}).execute(),w.each(function(E){var k=w.getItemModel(E),L=k.getModel("emphasis"),N=L.get("focus"),B=L.get("blurScope"),V=L.get("disabled");if(m){var W=w.getItemGraphicEl(E),j=w.getItemVisual(E,"style"),G=j.fill;if(W instanceof Lr){var $=W.style;W.useStyle(ie({image:$.image,x:$.x,y:$.y,width:$.width,height:$.height},j))}else W.useStyle(j),W.type!=="pointer"&&W.setColor(G);W.setStyle(k.getModel(["pointer","itemStyle"]).getItemStyle()),W.style.fill==="auto"&&W.setStyle("fill",o(Ct(w.get(S,E),T,[0,1],!0))),W.z2EmphasisLift=0,Qr(W,k),Kt(W,N,B,V)}if(C){var K=g[E];K.useStyle(w.getItemVisual(E,"style")),K.setStyle(k.getModel(["progress","itemStyle"]).getItemStyle()),K.z2EmphasisLift=0,Qr(K,k),Kt(K,N,B,V)}}),this._progressEls=g)},t.prototype._renderAnchor=function(r,n){var i=r.getModel("anchor"),o=i.get("show");if(o){var a=i.get("size"),s=i.get("icon"),l=i.get("offsetCenter"),u=i.get("keepAspect"),c=hr(s,n.cx-a/2+me(l[0],n.r),n.cy-a/2+me(l[1],n.r),a,a,null,u);c.z2=i.get("showAbove")?1:0,c.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(c)}},t.prototype._renderTitleAndDetail=function(r,n,i,o,a){var s=this,l=r.getData(),u=l.mapDimension("value"),c=+r.get("min"),d=+r.get("max"),h=new Ne,f=[],g=[],m=r.isAnimationEnabled(),y=r.get(["pointer","showAbove"]);l.diff(this._data).add(function(C){f[C]=new dt({silent:!0}),g[C]=new dt({silent:!0})}).update(function(C,w){f[C]=s._titleEls[w],g[C]=s._detailEls[w]}).execute(),l.each(function(C){var w=l.getItemModel(C),S=l.get(u,C),x=new Ne,R=o(Ct(S,[c,d],[0,1],!0)),T=w.getModel("title");if(T.get("show")){var P=T.get("offsetCenter"),D=a.cx+me(P[0],a.r),I=a.cy+me(P[1],a.r),E=f[C];E.attr({z2:y?0:2,style:Mt(T,{x:D,y:I,text:l.getName(C),align:"center",verticalAlign:"middle"},{inheritColor:R})}),x.add(E)}var k=w.getModel("detail");if(k.get("show")){var L=k.get("offsetCenter"),N=a.cx+me(L[0],a.r),B=a.cy+me(L[1],a.r),V=me(k.get("width"),a.r),W=me(k.get("height"),a.r),j=r.get(["progress","show"])?l.getItemVisual(C,"style").fill:R,E=g[C],G=k.get("formatter");E.attr({z2:y?0:2,style:Mt(k,{x:N,y:B,text:zC(S,G),width:isNaN(V)?null:V,height:isNaN(W)?null:W,align:"center",verticalAlign:"middle"},{inheritColor:j})}),e8(E,{normal:k},S,function(K){return zC(K,G)}),m&&t8(E,C,l,r,{getFormattedLabel:function(K,H,U,ne,oe,he){return zC(he?he.interpolatedValue:S,G)}}),x.add(E)}h.add(x)}),this.group.add(h),this._titleEls=f,this._detailEls=g},t.type="gauge",t}(bt),dSe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.visualStyleAccessPath="itemStyle",r}return t.prototype.getInitialData=function(r,n){return kf(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Tt);function hSe(e){e.registerChartView(cSe),e.registerSeriesModel(dSe)}var fSe=["itemStyle","opacity"],pSe=function(e){q(t,e);function t(r,n){var i=e.call(this)||this,o=i,a=new Rn,s=new dt;return o.setTextContent(s),i.setTextGuideLine(a),i.updateData(r,n,!0),i}return t.prototype.updateData=function(r,n,i){var o=this,a=r.hostModel,s=r.getItemModel(n),l=r.getItemLayout(n),u=s.getModel("emphasis"),c=s.get(fSe);c=c??1,i||Vo(o),o.useStyle(r.getItemVisual(n,"style")),o.style.lineJoin="round",i?(o.setShape({points:l.points}),o.style.opacity=0,Vt(o,{style:{opacity:c}},a,n)):gt(o,{style:{opacity:c},shape:{points:l.points}},a,n),Qr(o,s),this._updateLabel(r,n),Kt(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(r,n){var i=this,o=this.getTextGuideLine(),a=i.getTextContent(),s=r.hostModel,l=r.getItemModel(n),u=r.getItemLayout(n),c=u.label,d=r.getItemVisual(n,"style"),h=d.fill;Jr(a,Mr(l),{labelFetcher:r.hostModel,labelDataIndex:n,defaultOpacity:d.opacity,defaultText:r.getName(n)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}}),i.setTextConfig({local:!0,inside:!!c.inside,insideStroke:h,outsideFill:h});var f=c.linePoints;o.setShape({points:f}),i.textGuideLineConfig={anchor:f?new Xe(f[0][0],f[0][1]):null},gt(a,{style:{x:c.x,y:c.y}},s,n),a.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),AE(i,IE(l),{stroke:h})},t}(bn),gSe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.ignoreLabelLineUpdate=!0,r}return t.prototype.render=function(r,n,i){var o=r.getData(),a=this._data,s=this.group;o.diff(a).add(function(l){var u=new pSe(o,l);o.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var c=a.getItemGraphicEl(u);c.updateData(o,l),s.add(c),o.setItemGraphicEl(l,c)}).remove(function(l){var u=a.getItemGraphicEl(l);yv(u,r,l)}).execute(),this._data=o},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(bt),vSe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new bm(Se(this.getData,this),Se(this.getRawData,this)),this._defaultLabelLine(r)},t.prototype.getInitialData=function(r,n){return kf(this,{coordDimensions:["value"],encodeDefaulter:je(nE,this)})},t.prototype._defaultLabelLine=function(r){Ac(r,"labelLine",["show"]);var n=r.labelLine,i=r.emphasis.labelLine;n.show=n.show&&r.label.show,i.show=i.show&&r.emphasis.label.show},t.prototype.getDataParams=function(r){var n=this.getData(),i=e.prototype.getDataParams.call(this,r),o=n.mapDimension("value"),a=n.getSum(o);return i.percent=a?+(n.get(o,r)/a*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Tt);function mSe(e,t){return yr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function ySe(e,t){for(var r=e.mapDimension("value"),n=e.mapArray(r,function(l){return l}),i=[],o=t==="ascending",a=0,s=e.count();a<s;a++)i[a]=a;return Ie(t)?i.sort(t):t!=="none"&&i.sort(function(l,u){return o?n[l]-n[u]:n[u]-n[l]}),i}function CSe(e){var t=e.hostModel,r=t.get("orient");e.each(function(n){var i=e.getItemModel(n),o=i.getModel("label"),a=o.get("position"),s=i.getModel("labelLine"),l=e.getItemLayout(n),u=l.points,c=a==="inner"||a==="inside"||a==="center"||a==="insideLeft"||a==="insideRight",d,h,f,g;if(c)a==="insideLeft"?(h=(u[0][0]+u[3][0])/2+5,f=(u[0][1]+u[3][1])/2,d="left"):a==="insideRight"?(h=(u[1][0]+u[2][0])/2-5,f=(u[1][1]+u[2][1])/2,d="right"):(h=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,f=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,d="center"),g=[[h,f],[h,f]];else{var m=void 0,y=void 0,C=void 0,w=void 0,S=s.get("length");a==="left"?(m=(u[3][0]+u[0][0])/2,y=(u[3][1]+u[0][1])/2,C=m-S,h=C-5,d="right"):a==="right"?(m=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,C=m+S,h=C+5,d="left"):a==="top"?(m=(u[3][0]+u[0][0])/2,y=(u[3][1]+u[0][1])/2,w=y-S,f=w-5,d="center"):a==="bottom"?(m=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,w=y+S,f=w+5,d="center"):a==="rightTop"?(m=r==="horizontal"?u[3][0]:u[1][0],y=r==="horizontal"?u[3][1]:u[1][1],r==="horizontal"?(w=y-S,f=w-5,d="center"):(C=m+S,h=C+5,d="top")):a==="rightBottom"?(m=u[2][0],y=u[2][1],r==="horizontal"?(w=y+S,f=w+5,d="center"):(C=m+S,h=C+5,d="bottom")):a==="leftTop"?(m=u[0][0],y=r==="horizontal"?u[0][1]:u[1][1],r==="horizontal"?(w=y-S,f=w-5,d="center"):(C=m-S,h=C-5,d="right")):a==="leftBottom"?(m=r==="horizontal"?u[1][0]:u[3][0],y=r==="horizontal"?u[1][1]:u[2][1],r==="horizontal"?(w=y+S,f=w+5,d="center"):(C=m-S,h=C-5,d="right")):(m=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,r==="horizontal"?(w=y+S,f=w+5,d="center"):(C=m+S,h=C+5,d="left")),r==="horizontal"?(C=m,h=C):(w=y,f=w),g=[[m,y],[C,w]]}l.label={linePoints:g,x:h,y:f,verticalAlign:"middle",textAlign:d,inside:c}})}function wSe(e,t){e.eachSeriesByType("funnel",function(r){var n=r.getData(),i=n.mapDimension("value"),o=r.get("sort"),a=mSe(r,t),s=r.get("orient"),l=a.width,u=a.height,c=ySe(n,o),d=a.x,h=a.y,f=s==="horizontal"?[me(r.get("minSize"),u),me(r.get("maxSize"),u)]:[me(r.get("minSize"),l),me(r.get("maxSize"),l)],g=n.getDataExtent(i),m=r.get("min"),y=r.get("max");m==null&&(m=Math.min(g[0],0)),y==null&&(y=g[1]);var C=r.get("funnelAlign"),w=r.get("gap"),S=s==="horizontal"?l:u,x=(S-w*(n.count()-1))/n.count(),R=function(B,V){if(s==="horizontal"){var W=n.get(i,B)||0,j=Ct(W,[m,y],f,!0),G=void 0;switch(C){case"top":G=h;break;case"center":G=h+(u-j)/2;break;case"bottom":G=h+(u-j);break}return[[V,G],[V,G+j]]}var $=n.get(i,B)||0,K=Ct($,[m,y],f,!0),H;switch(C){case"left":H=d;break;case"center":H=d+(l-K)/2;break;case"right":H=d+l-K;break}return[[H,V],[H+K,V]]};o==="ascending"&&(x=-x,w=-w,s==="horizontal"?d+=l:h+=u,c=c.reverse());for(var T=0;T<c.length;T++){var P=c[T],D=c[T+1],I=n.getItemModel(P);if(s==="horizontal"){var E=I.get(["itemStyle","width"]);E==null?E=x:(E=me(E,l),o==="ascending"&&(E=-E));var k=R(P,d),L=R(D,d+E);d+=E+w,n.setItemLayout(P,{points:k.concat(L.slice().reverse())})}else{var N=I.get(["itemStyle","height"]);N==null?N=x:(N=me(N,u),o==="ascending"&&(N=-N));var k=R(P,h),L=R(D,h+N);h+=N+w,n.setItemLayout(P,{points:k.concat(L.slice().reverse())})}}CSe(n)})}function bSe(e){e.registerChartView(gSe),e.registerSeriesModel(vSe),e.registerLayout(wSe),e.registerProcessor(wm("funnel"))}var SSe=.3,xSe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._dataGroup=new Ne,r._initialized=!1,r}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(r,n,i,o){this._progressiveEls=null;var a=this._dataGroup,s=r.getData(),l=this._data,u=r.coordinateSystem,c=u.dimensions,d=QV(r);s.diff(l).add(h).update(f).remove(g).execute();function h(y){var C=ZV(s,a,y,c,u);__(C,s,y,d)}function f(y,C){var w=l.getItemGraphicEl(C),S=P9(s,y,c,u);s.setItemGraphicEl(y,w),gt(w,{shape:{points:S}},r,y),Vo(w),__(w,s,y,d)}function g(y){var C=l.getItemGraphicEl(y);a.remove(C)}if(!this._initialized){this._initialized=!0;var m=RSe(u,r,function(){setTimeout(function(){a.removeClipPath()})});a.setClipPath(m)}this._data=s},t.prototype.incrementalPrepareRender=function(r,n,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(r,n,i){for(var o=n.getData(),a=n.coordinateSystem,s=a.dimensions,l=QV(n),u=this._progressiveEls=[],c=r.start;c<r.end;c++){var d=ZV(o,this._dataGroup,c,s,a);d.incremental=!0,__(d,o,c,l),u.push(d)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(bt);function RSe(e,t,r){var n=e.model,i=e.getRect(),o=new ht({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),a=n.get("layout")==="horizontal"?"width":"height";return o.setShape(a,0),Vt(o,{shape:{width:i.width,height:i.height}},t,r),o}function P9(e,t,r,n){for(var i=[],o=0;o<r.length;o++){var a=r[o],s=e.get(e.mapDimension(a),t);_Se(s,n.getAxis(a).type)||i.push(n.dataToPoint(s,a))}return i}function ZV(e,t,r,n,i){var o=P9(e,r,n,i),a=new Rn({shape:{points:o},z2:10});return t.add(a),e.setItemGraphicEl(r,a),a}function QV(e){var t=e.get("smooth",!0);return t===!0&&(t=SSe),t=Ia(t),Hh(t)&&(t=0),{smooth:t}}function __(e,t,r,n){e.useStyle(t.getItemVisual(r,"style")),e.style.fill=null,e.setShape("smooth",n.smooth);var i=t.getItemModel(r),o=i.getModel("emphasis");Qr(e,i,"lineStyle"),Kt(e,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function _Se(e,t){return t==="category"?e==null:e==null||isNaN(e)}var TSe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return t.prototype.getInitialData=function(r,n){return Na(null,this,{useEncodeDefaulter:Se(PSe,null,this)})},t.prototype.getRawIndicesByActiveState=function(r){var n=this.coordinateSystem,i=this.getData(),o=[];return n.eachActiveState(i,function(a,s){r===a&&o.push(i.getRawIndex(s))}),o},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(Tt);function PSe(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var r={};return F(t.dimensions,function(n){var i=DSe(n);r[n]=i}),r}}function DSe(e){return+e.replace("dim","")}var ASe=["lineStyle","opacity"],ISe={seriesType:"parallel",reset:function(e,t){var r=e.coordinateSystem,n={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(i,o){r.eachActiveState(o,function(a,s){var l=n[a];if(a==="normal"&&o.hasItemOption){var u=o.getItemModel(s).get(ASe,!0);u!=null&&(l=u)}var c=o.ensureUniqueItemVisual(s,"style");c.opacity=l},i.start,i.end)}}}};function ESe(e){MSe(e),kSe(e)}function MSe(e){if(!e.parallel){var t=!1;F(e.series,function(r){r&&r.type==="parallel"&&(t=!0)}),t&&(e.parallel=[{}])}}function kSe(e){var t=_t(e.parallelAxis);F(t,function(r){if(ke(r)){var n=r.parallelIndex||0,i=_t(e.parallel)[n];i&&i.parallelAxisDefault&&Ke(r,i.parallelAxisDefault,!1)}})}var FSe=5,LSe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){this._model=r,this._api=i,this._handlers||(this._handlers={},F(OSe,function(o,a){i.getZr().on(a,this._handlers[a]=Se(o,this))},this)),Df(this,"_throttledDispatchExpand",r.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(r,n){Sv(this,"_throttledDispatchExpand"),F(this._handlers,function(i,o){n.getZr().off(o,i)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(r){this._dispatchExpand(r)},t.prototype._dispatchExpand=function(r){r&&this._api.dispatchAction(ie({type:"parallelAxisExpand"},r))},t.type="parallel",t}(zt),OSe={mousedown:function(e){T_(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(T_(this,"click")&&t){var r=[e.offsetX,e.offsetY],n=Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2);if(n>FSe)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!(this._mouseDownPoint||!T_(this,"mousemove"))){var t=this._model,r=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),n=r.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function T_(e,t){var r=e._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===t}var NSe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(r){var n=this.option;r&&Ke(n,r,!0),this._initDimensions()},t.prototype.contains=function(r,n){var i=r.get("parallelIndex");return i!=null&&n.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(r){F(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){r.hasOwnProperty(n)&&(this.option[n]=r[n])},this)},t.prototype._initDimensions=function(){var r=this.dimensions=[],n=this.parallelAxisIndex=[],i=mt(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(o){return(o.get("parallelIndex")||0)===this.componentIndex},this);F(i,function(o){r.push("dim"+o.get("dim")),n.push(o.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(tt),zSe=function(e){q(t,e);function t(r,n,i,o,a){var s=e.call(this,r,n,i)||this;return s.type=o||"value",s.axisIndex=a,s}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t}(uo);function Qc(e,t,r,n,i,o){e=e||0;var a=r[1]-r[0];if(i!=null&&(i=Jd(i,[0,a])),o!=null&&(o=Math.max(o,i??0)),n==="all"){var s=Math.abs(t[1]-t[0]);s=Jd(s,[0,a]),i=o=Jd(s,[i,o]),n=0}t[0]=Jd(t[0],r),t[1]=Jd(t[1],r);var l=P_(t,n);t[n]+=e;var u=i||0,c=r.slice();l.sign<0?c[0]+=u:c[1]-=u,t[n]=Jd(t[n],c);var d;return d=P_(t,n),i!=null&&(d.sign!==l.sign||d.span<i)&&(t[1-n]=t[n]+l.sign*i),d=P_(t,n),o!=null&&d.span>o&&(t[1-n]=t[n]+d.sign*o),t}function P_(e,t){var r=e[t]-e[1-t];return{span:Math.abs(r),sign:r>0?-1:r<0?1:t?-1:1}}function Jd(e,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,e))}var D_=F,D9=Math.min,A9=Math.max,JV=Math.floor,BSe=Math.ceil,eG=Zt,VSe=Math.PI,GSe=function(){function e(t,r,n){this.type="parallel",this._axesMap=Pe(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,r,n)}return e.prototype._init=function(t,r,n){var i=t.dimensions,o=t.parallelAxisIndex;D_(i,function(a,s){var l=o[s],u=r.getComponent("parallelAxis",l),c=this._axesMap.set(a,new zSe(a,gm(u),[0,0],u.get("type"),l)),d=c.type==="category";c.onBand=d&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},e.prototype.update=function(t,r){this._updateAxesFromSeries(this._model,t)},e.prototype.containPoint=function(t){var r=this._makeLayoutInfo(),n=r.axisBase,i=r.layoutBase,o=r.pixelDimIndex,a=t[1-o],s=t[o];return a>=n&&a<=n+r.axisLength&&s>=i&&s<=i+r.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(t,r){r.eachSeries(function(n){if(t.contains(n,r)){var i=n.getData();D_(this.dimensions,function(o){var a=this._axesMap.get(o);a.scale.unionExtentFromData(i,i.mapDimension(o)),Fc(a.scale,a.model)},this)}},this)},e.prototype.resize=function(t,r){this._rect=yr(t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var t=this._model,r=this._rect,n=["x","y"],i=["width","height"],o=t.get("layout"),a=o==="horizontal"?0:1,s=r[i[a]],l=[0,s],u=this.dimensions.length,c=BC(t.get("axisExpandWidth"),l),d=BC(t.get("axisExpandCount")||0,[0,u]),h=t.get("axisExpandable")&&u>3&&u>d&&d>1&&c>0&&s>0,f=t.get("axisExpandWindow"),g;if(f)g=BC(f[1]-f[0],l),f[1]=f[0]+g;else{g=BC(c*(d-1),l);var m=t.get("axisExpandCenter")||JV(u/2);f=[c*m-g/2],f[1]=f[0]+g}var y=(s-g)/(u-d);y<3&&(y=0);var C=[JV(eG(f[0]/c,1))+1,BSe(eG(f[1]/c,1))-1],w=y/c*f[0];return{layout:o,pixelDimIndex:a,layoutBase:r[n[a]],layoutLength:s,axisBase:r[n[1-a]],axisLength:r[i[1-a]],axisExpandable:h,axisExpandWidth:c,axisCollapseWidth:y,axisExpandWindow:f,axisCount:u,winInnerIndices:C,axisExpandWindow0Pos:w}},e.prototype._layoutAxes=function(){var t=this._rect,r=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),o=i.layout;r.each(function(a){var s=[0,i.axisLength],l=a.inverse?1:0;a.setExtent(s[l],s[1-l])}),D_(n,function(a,s){var l=(i.axisExpandable?WSe:HSe)(s,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},c={horizontal:VSe/2,vertical:0},d=[u[o].x+t.x,u[o].y+t.y],h=c[o],f=oi();Ql(f,f,h),zo(f,f,d),this._axesLayout[a]={position:d,rotation:h,transform:f,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},e.prototype.getAxis=function(t){return this._axesMap.get(t)},e.prototype.dataToPoint=function(t,r){return this.axisCoordToPoint(this._axesMap.get(r).dataToCoord(t),r)},e.prototype.eachActiveState=function(t,r,n,i){n==null&&(n=0),i==null&&(i=t.count());var o=this._axesMap,a=this.dimensions,s=[],l=[];F(a,function(y){s.push(t.mapDimension(y)),l.push(o.get(y).model)});for(var u=this.hasAxisBrushed(),c=n;c<i;c++){var d=void 0;if(!u)d="normal";else{d="active";for(var h=t.getValues(s,c),f=0,g=a.length;f<g;f++){var m=l[f].getActiveState(h[f]);if(m==="inactive"){d="inactive";break}}}r(d,c)}},e.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,r=this._axesMap,n=!1,i=0,o=t.length;i<o;i++)r.get(t[i]).model.getActiveState()!=="normal"&&(n=!0);return n},e.prototype.axisCoordToPoint=function(t,r){var n=this._axesLayout[r];return ko([t,0],n.transform)},e.prototype.getAxisLayout=function(t){return Fe(this._axesLayout[t])},e.prototype.getSlidedAxisExpandWindow=function(t){var r=this._makeLayoutInfo(),n=r.pixelDimIndex,i=r.axisExpandWindow.slice(),o=i[1]-i[0],a=[0,r.axisExpandWidth*(r.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var s=t[n]-r.layoutBase-r.axisExpandWindow0Pos,l,u="slide",c=r.axisCollapseWidth,d=this._model.get("axisExpandSlideTriggerArea"),h=d[0]!=null;if(c)h&&c&&s<o*d[0]?(u="jump",l=s-o*d[2]):h&&c&&s>o*(1-d[0])?(u="jump",l=s-o*(1-d[2])):(l=s-o*d[1])>=0&&(l=s-o*(1-d[1]))<=0&&(l=0),l*=r.axisExpandWidth/c,l?Qc(l,i,a,"all"):u="none";else{var f=i[1]-i[0],g=a[1]*s/f;i=[A9(0,g-f/2)],i[1]=D9(a[1],i[0]+f),i[0]=i[1]-f}return{axisExpandWindow:i,behavior:u}},e}();function BC(e,t){return D9(A9(e,t[0]),t[1])}function HSe(e,t){var r=t.layoutLength/(t.axisCount-1);return{position:r*e,axisNameAvailableWidth:r,axisLabelShow:!0}}function WSe(e,t){var r=t.layoutLength,n=t.axisExpandWidth,i=t.axisCount,o=t.axisCollapseWidth,a=t.winInnerIndices,s,l=o,u=!1,c;return e<a[0]?(s=e*o,c=o):e<=a[1]?(s=t.axisExpandWindow0Pos+e*n-t.axisExpandWindow[0],l=n,u=!0):(s=r-(i-1-e)*o,c=o),{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function $Se(e,t){var r=[];return e.eachComponent("parallel",function(n,i){var o=new GSe(n,e,t);o.name="parallel_"+i,o.resize(n,t),n.coordinateSystem=o,o.model=n,r.push(o)}),e.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var i=n.getReferringComponents("parallel",mr).models[0];n.coordinateSystem=i.coordinateSystem}}),r}var USe={create:$Se},xD=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.activeIntervals=[],r}return t.prototype.getAreaSelectStyle=function(){return Ec([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(r){var n=this.activeIntervals=Fe(r);if(n)for(var i=n.length-1;i>=0;i--)mi(n[i])},t.prototype.getActiveState=function(r){var n=this.activeIntervals;if(!n.length)return"normal";if(r==null||isNaN(+r))return"inactive";if(n.length===1){var i=n[0];if(i[0]<=r&&r<=i[1])return"active"}else for(var o=0,a=n.length;o<a;o++)if(n[o][0]<=r&&r<=n[o][1])return"active";return"inactive"},t}(tt);ar(xD,Mf);var Lc=!0,Fv=Math.min,Zh=Math.max,jSe=Math.pow,YSe=1e4,KSe=6,XSe=6,tG="globalPan",qSe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},ZSe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},rG={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},QSe=0,JE=function(e){q(t,e);function t(r){var n=e.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=r,n.group=new Ne,n._uid="brushController_"+QSe++,F(oxe,function(i,o){this._handlers[o]=Se(i,this)},n),n}return t.prototype.enableBrush=function(r){return this._brushType&&this._doDisableBrush(),r.brushType&&this._doEnableBrush(r),this},t.prototype._doEnableBrush=function(r){var n=this._zr;this._enableGlobalPan||Hwe(n,tG,this._uid),F(this._handlers,function(i,o){n.on(o,i)}),this._brushType=r.brushType,this._brushOption=Ke(Fe(rG),r,!0)},t.prototype._doDisableBrush=function(){var r=this._zr;Wwe(r,tG,this._uid),F(this._handlers,function(n,i){r.off(i,n)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(r){if(r&&r.length){var n=this._panels={};F(r,function(i){n[i.panelId]=Fe(i)})}else this._panels=null;return this},t.prototype.mount=function(r){r=r||{},this._enableGlobalPan=r.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1}),this._transform=n.getLocalTransform(),this},t.prototype.updateCovers=function(r){r=le(r,function(h){return Ke(Fe(rG),h,!0)});var n="\0-brush-index-",i=this._covers,o=this._covers=[],a=this,s=this._creatingCover;return new Ps(i,r,u,l).add(c).update(c).remove(d).execute(),this;function l(h,f){return(h.id!=null?h.id:n+f)+"-"+h.brushType}function u(h,f){return l(h.__brushOption,f)}function c(h,f){var g=r[h];if(f!=null&&i[f]===s)o[h]=i[f];else{var m=o[h]=f!=null?(i[f].__brushOption=g,i[f]):E9(a,I9(a,g));eM(a,m)}}function d(h){i[h]!==s&&a.group.remove(i[h])}},t.prototype.unmount=function(){return this.enableBrush(!1),RD(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(oo);function I9(e,t){var r=yS[t.brushType].createCover(e,t);return r.__brushOption=t,k9(r,t),e.group.add(r),r}function E9(e,t){var r=tM(t);return r.endCreating&&(r.endCreating(e,t),k9(t,t.__brushOption)),t}function M9(e,t){var r=t.__brushOption;tM(t).updateCoverShape(e,t,r.range,r)}function k9(e,t){var r=t.z;r==null&&(r=YSe),e.traverse(function(n){n.z=r,n.z2=r})}function eM(e,t){tM(t).updateCommon(e,t),M9(e,t)}function tM(e){return yS[e.__brushOption.brushType]}function rM(e,t,r){var n=e._panels;if(!n)return Lc;var i,o=e._transform;return F(n,function(a){a.isTargetByCursor(t,r,o)&&(i=a)}),i}function F9(e,t){var r=e._panels;if(!r)return Lc;var n=t.__brushOption.panelId;return n!=null?r[n]:Lc}function RD(e){var t=e._covers,r=t.length;return F(t,function(n){e.group.remove(n)},e),t.length=0,!!r}function Oc(e,t){var r=le(e._covers,function(n){var i=n.__brushOption,o=Fe(i.range);return{brushType:i.brushType,panelId:i.panelId,range:o}});e.trigger("brush",{areas:r,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function JSe(e){var t=e._track;if(!t.length)return!1;var r=t[t.length-1],n=t[0],i=r[0]-n[0],o=r[1]-n[1],a=jSe(i*i+o*o,.5);return a>KSe}function L9(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function O9(e,t,r,n){var i=new Ne;return i.add(new ht({name:"main",style:nM(r),silent:!0,draggable:!0,cursor:"move",drift:je(nG,e,t,i,["n","s","w","e"]),ondragend:je(Oc,t,{isEnd:!0})})),F(n,function(o){i.add(new ht({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:je(nG,e,t,i,o),ondragend:je(Oc,t,{isEnd:!0})}))}),i}function N9(e,t,r,n){var i=n.brushStyle.lineWidth||0,o=Zh(i,XSe),a=r[0][0],s=r[1][0],l=a-i/2,u=s-i/2,c=r[0][1],d=r[1][1],h=c-o+i/2,f=d-o+i/2,g=c-a,m=d-s,y=g+i,C=m+i;Ja(e,t,"main",a,s,g,m),n.transformable&&(Ja(e,t,"w",l,u,o,C),Ja(e,t,"e",h,u,o,C),Ja(e,t,"n",l,u,y,o),Ja(e,t,"s",l,f,y,o),Ja(e,t,"nw",l,u,o,o),Ja(e,t,"ne",h,u,o,o),Ja(e,t,"sw",l,f,o,o),Ja(e,t,"se",h,f,o,o))}function _D(e,t){var r=t.__brushOption,n=r.transformable,i=t.childAt(0);i.useStyle(nM(r)),i.attr({silent:!n,cursor:n?"move":"default"}),F([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(o){var a=t.childOfName(o.join("")),s=o.length===1?TD(e,o[0]):txe(e,o);a&&a.attr({silent:!n,invisible:!n,cursor:n?ZSe[s]+"-resize":null})})}function Ja(e,t,r,n,i,o,a){var s=t.childOfName(r);s&&s.setShape(nxe(iM(e,t,[[n,i],[n+o,i+a]])))}function nM(e){return Ee({strokeNoScale:!0},e.brushStyle)}function z9(e,t,r,n){var i=[Fv(e,r),Fv(t,n)],o=[Zh(e,r),Zh(t,n)];return[[i[0],o[0]],[i[1],o[1]]]}function exe(e){return Ll(e.group)}function TD(e,t){var r={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=qb(r[t],exe(e));return n[i]}function txe(e,t){var r=[TD(e,t[0]),TD(e,t[1])];return(r[0]==="e"||r[0]==="w")&&r.reverse(),r.join("")}function nG(e,t,r,n,i,o){var a=r.__brushOption,s=e.toRectRange(a.range),l=B9(t,i,o);F(n,function(u){var c=qSe[u];s[c[0]][c[1]]+=l[c[0]]}),a.range=e.fromRectRange(z9(s[0][0],s[1][0],s[0][1],s[1][1])),eM(t,r),Oc(t,{isEnd:!1})}function rxe(e,t,r,n){var i=t.__brushOption.range,o=B9(e,r,n);F(i,function(a){a[0]+=o[0],a[1]+=o[1]}),eM(e,t),Oc(e,{isEnd:!1})}function B9(e,t,r){var n=e.group,i=n.transformCoordToLocal(t,r),o=n.transformCoordToLocal(0,0);return[i[0]-o[0],i[1]-o[1]]}function iM(e,t,r){var n=F9(e,t);return n&&n!==Lc?n.clipPath(r,e._transform):Fe(r)}function nxe(e){var t=Fv(e[0][0],e[1][0]),r=Fv(e[0][1],e[1][1]),n=Zh(e[0][0],e[1][0]),i=Zh(e[0][1],e[1][1]);return{x:t,y:r,width:n-t,height:i-r}}function ixe(e,t,r){if(!(!e._brushType||axe(e,t.offsetX,t.offsetY))){var n=e._zr,i=e._covers,o=rM(e,t,r);if(!e._dragging)for(var a=0;a<i.length;a++){var s=i[a].__brushOption;if(o&&(o===Lc||s.panelId===o.panelId)&&yS[s.brushType].contain(i[a],r[0],r[1]))return}o&&n.setCursorStyle("crosshair")}}function PD(e){var t=e.event;t.preventDefault&&t.preventDefault()}function DD(e,t,r){return e.childOfName("main").contain(t,r)}function V9(e,t,r,n){var i=e._creatingCover,o=e._creatingPanel,a=e._brushOption,s;if(e._track.push(r.slice()),JSe(e)||i){if(o&&!i){a.brushMode==="single"&&RD(e);var l=Fe(a);l.brushType=iG(l.brushType,o),l.panelId=o===Lc?null:o.panelId,i=e._creatingCover=I9(e,l),e._covers.push(i)}if(i){var u=yS[iG(e._brushType,o)],c=i.__brushOption;c.range=u.getCreatingRange(iM(e,i,e._track)),n&&(E9(e,i),u.updateCommon(e,i)),M9(e,i),s={isEnd:n}}}else n&&a.brushMode==="single"&&a.removeOnClick&&rM(e,t,r)&&RD(e)&&(s={isEnd:n,removeOnClick:!0});return s}function iG(e,t){return e==="auto"?t.defaultBrushType:e}var oxe={mousedown:function(e){if(this._dragging)oG(this,e);else if(!e.target||!e.target.draggable){PD(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var r=this._creatingPanel=rM(this,e,t);r&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,r=e.offsetY,n=this.group.transformCoordToLocal(t,r);if(ixe(this,e,n),this._dragging){PD(e);var i=V9(this,e,n,!1);i&&Oc(this,i)}},mouseup:function(e){oG(this,e)}};function oG(e,t){if(e._dragging){PD(t);var r=t.offsetX,n=t.offsetY,i=e.group.transformCoordToLocal(r,n),o=V9(e,t,i,!0);e._dragging=!1,e._track=[],e._creatingCover=null,o&&Oc(e,o)}}function axe(e,t,r){var n=e._zr;return t<0||t>n.getWidth()||r<0||r>n.getHeight()}var yS={lineX:aG(0),lineY:aG(1),rect:{createCover:function(e,t){function r(n){return n}return O9({toRectRange:r,fromRectRange:r},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=L9(e);return z9(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,r,n){N9(e,t,r,n)},updateCommon:_D,contain:DD},polygon:{createCover:function(e,t){var r=new Ne;return r.add(new Rn({name:"main",style:nM(t),silent:!0})),r},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new bn({name:"main",draggable:!0,drift:je(rxe,e,t),ondragend:je(Oc,e,{isEnd:!0})}))},updateCoverShape:function(e,t,r,n){t.childAt(0).setShape({points:iM(e,t,r)})},updateCommon:_D,contain:DD}};function aG(e){return{createCover:function(t,r){return O9({toRectRange:function(n){var i=[n,[0,100]];return e&&i.reverse(),i},fromRectRange:function(n){return n[e]}},t,r,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var r=L9(t),n=Fv(r[0][e],r[1][e]),i=Zh(r[0][e],r[1][e]);return[n,i]},updateCoverShape:function(t,r,n,i){var o,a=F9(t,r);if(a!==Lc&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(e);else{var s=t._zr;o=[0,[s.getWidth(),s.getHeight()][1-e]]}var l=[n,o];e&&l.reverse(),N9(t,r,l,i)},updateCommon:_D,contain:DD}}function G9(e){return e=oM(e),function(t){return UI(t,e)}}function H9(e,t){return e=oM(e),function(r){var n=t??r,i=n?e.width:e.height,o=n?e.x:e.y;return[o,o+(i||0)]}}function W9(e,t,r){var n=oM(e);return function(i,o){return n.contain(o[0],o[1])&&!pS(i,t,r)}}function oM(e){return qe.create(e)}var sxe=["axisLine","axisTickLabel","axisName"],lxe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){e.prototype.init.apply(this,arguments),(this._brushController=new JE(n.getZr())).on("brush",Se(this._onBrush,this))},t.prototype.render=function(r,n,i,o){if(!uxe(r,n,o)){this.axisModel=r,this.api=i,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Ne,this.group.add(this._axisGroup),!!r.get("show")){var s=dxe(r,n),l=s.coordinateSystem,u=r.getAreaSelectStyle(),c=u.width,d=r.axis.dim,h=l.getAxisLayout(d),f=ie({strokeContainThreshold:c},h),g=new On(r,f);F(sxe,g.add,g),this._axisGroup.add(g.getGroup()),this._refreshBrushController(f,u,r,s,c,i),hm(a,this._axisGroup,r)}}},t.prototype._refreshBrushController=function(r,n,i,o,a,s){var l=i.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),d=qe.create({x:l[0],y:-a/2,width:u,height:a});d.x-=c,d.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:r.rotation,x:r.position[0],y:r.position[1]}).setPanels([{panelId:"pl",clipPath:G9(d),isTargetByCursor:W9(d,s,o),getLinearBrushOtherExtent:H9(d,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(cxe(i))},t.prototype._onBrush=function(r){var n=r.areas,i=this.axisModel,o=i.axis,a=le(n,function(s){return[o.coordToData(s.range[0],!0),o.coordToData(s.range[1],!0)]});(!i.option.realtime===r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:a})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(zt);function uxe(e,t,r){return r&&r.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:r})[0]===e}function cxe(e){var t=e.axis;return le(e.activeIntervals,function(r){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(r[0],!0),t.dataToCoord(r[1],!0)]}})}function dxe(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}var hxe={type:"axisAreaSelect",event:"axisAreaSelected"};function fxe(e){e.registerAction(hxe,function(t,r){r.eachComponent({mainType:"parallelAxis",query:t},function(n){n.axis.model.setActiveIntervals(t.intervals)})}),e.registerAction("parallelAxisExpand",function(t,r){r.eachComponent({mainType:"parallel",query:t},function(n){n.setAxisExpand(t)})})}var pxe={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function $9(e){e.registerComponentView(LSe),e.registerComponentModel(NSe),e.registerCoordinateSystem("parallel",USe),e.registerPreprocessor(ESe),e.registerComponentModel(xD),e.registerComponentView(lxe),qh(e,"parallel",xD,pxe),fxe(e)}function gxe(e){et($9),e.registerChartView(xSe),e.registerSeriesModel(TSe),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,ISe)}var vxe=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return e}(),mxe=function(e){q(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new vxe},t.prototype.buildPath=function(r,n){var i=n.extent;r.moveTo(n.x1,n.y1),r.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(r.lineTo(n.x2+i,n.y2),r.bezierCurveTo(n.cpx2+i,n.cpy2,n.cpx1+i,n.cpy1,n.x1+i,n.y1)):(r.lineTo(n.x2,n.y2+i),r.bezierCurveTo(n.cpx2,n.cpy2+i,n.cpx1,n.cpy1+i,n.x1,n.y1+i)),r.closePath()},t.prototype.highlight=function(){_s(this)},t.prototype.downplay=function(){Ts(this)},t}(nt),yxe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._focusAdjacencyDisabled=!1,r}return t.prototype.render=function(r,n,i){var o=this,a=r.getGraph(),s=this.group,l=r.layoutInfo,u=l.width,c=l.height,d=r.getData(),h=r.getData("edge"),f=r.get("orient");this._model=r,s.removeAll(),s.x=l.x,s.y=l.y,a.eachEdge(function(g){var m=new mxe,y=Ve(m);y.dataIndex=g.dataIndex,y.seriesIndex=r.seriesIndex,y.dataType="edge";var C=g.getModel(),w=C.getModel("lineStyle"),S=w.get("curveness"),x=g.node1.getLayout(),R=g.node1.getModel(),T=R.get("localX"),P=R.get("localY"),D=g.node2.getLayout(),I=g.node2.getModel(),E=I.get("localX"),k=I.get("localY"),L=g.getLayout(),N,B,V,W,j,G,$,K;m.shape.extent=Math.max(1,L.dy),m.shape.orient=f,f==="vertical"?(N=(T!=null?T*u:x.x)+L.sy,B=(P!=null?P*c:x.y)+x.dy,V=(E!=null?E*u:D.x)+L.ty,W=k!=null?k*c:D.y,j=N,G=B*(1-S)+W*S,$=V,K=B*S+W*(1-S)):(N=(T!=null?T*u:x.x)+x.dx,B=(P!=null?P*c:x.y)+L.sy,V=E!=null?E*u:D.x,W=(k!=null?k*c:D.y)+L.ty,j=N*(1-S)+V*S,G=B,$=N*S+V*(1-S),K=W),m.setShape({x1:N,y1:B,x2:V,y2:W,cpx1:j,cpy1:G,cpx2:$,cpy2:K}),m.useStyle(w.getItemStyle()),sG(m.style,f,g);var H=""+C.get("value"),U=Mr(C,"edgeLabel");Jr(m,U,{labelFetcher:{getFormattedLabel:function(he,xe,Be,ee,Z,fe){return r.getFormattedLabel(he,xe,"edge",ee,Io(Z,U.normal&&U.normal.get("formatter"),H),fe)}},labelDataIndex:g.dataIndex,defaultText:H}),m.setTextConfig({position:"inside"});var ne=C.getModel("emphasis");Qr(m,C,"lineStyle",function(he){var xe=he.getItemStyle();return sG(xe,f,g),xe}),s.add(m),h.setItemGraphicEl(g.dataIndex,m);var oe=ne.get("focus");Kt(m,oe==="adjacency"?g.getAdjacentDataIndices():oe==="trajectory"?g.getTrajectoryDataIndices():oe,ne.get("blurScope"),ne.get("disabled"))}),a.eachNode(function(g){var m=g.getLayout(),y=g.getModel(),C=y.get("localX"),w=y.get("localY"),S=y.getModel("emphasis"),x=y.get(["itemStyle","borderRadius"])||0,R=new ht({shape:{x:C!=null?C*u:m.x,y:w!=null?w*c:m.y,width:m.dx,height:m.dy,r:x},style:y.getModel("itemStyle").getItemStyle(),z2:10});Jr(R,Mr(y),{labelFetcher:{getFormattedLabel:function(P,D){return r.getFormattedLabel(P,D,"node")}},labelDataIndex:g.dataIndex,defaultText:g.id}),R.disableLabelAnimation=!0,R.setStyle("fill",g.getVisual("color")),R.setStyle("decal",g.getVisual("style").decal),Qr(R,y),s.add(R),d.setItemGraphicEl(g.dataIndex,R),Ve(R).dataType="node";var T=S.get("focus");Kt(R,T==="adjacency"?g.getAdjacentDataIndices():T==="trajectory"?g.getTrajectoryDataIndices():T,S.get("blurScope"),S.get("disabled"))}),d.eachItemGraphicEl(function(g,m){var y=d.getItemModel(m);y.get("draggable")&&(g.drift=function(C,w){o._focusAdjacencyDisabled=!0,this.shape.x+=C,this.shape.y+=w,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:r.id,dataIndex:d.getRawIndex(m),localX:this.shape.x/u,localY:this.shape.y/c})},g.ondragend=function(){o._focusAdjacencyDisabled=!1},g.draggable=!0,g.cursor="move")}),!this._data&&r.isAnimationEnabled()&&s.setClipPath(Cxe(s.getBoundingRect(),r,function(){s.removeClipPath()})),this._data=r.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(bt);function sG(e,t,r){switch(e.fill){case"source":e.fill=r.node1.getVisual("color"),e.decal=r.node1.getVisual("style").decal;break;case"target":e.fill=r.node2.getVisual("color"),e.decal=r.node2.getVisual("style").decal;break;case"gradient":var n=r.node1.getVisual("color"),i=r.node2.getVisual("color");we(n)&&we(i)&&(e.fill=new Cf(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:n,offset:0},{color:i,offset:1}]))}}function Cxe(e,t,r){var n=new ht({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Vt(n,{shape:{width:e.width+20}},t,r),n}var wxe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(r,n){var i=r.edges||r.links||[],o=r.data||r.nodes||[],a=r.levels||[];this.levelModels=[];for(var s=this.levelModels,l=0;l<a.length;l++)a[l].depth!=null&&a[l].depth>=0&&(s[a[l].depth]=new yt(a[l],this,n));var u=T9(o,i,this,!0,c);return u.data;function c(d,h){d.wrapMethod("getItemModel",function(f,g){var m=f.parentModel,y=m.getData().getItemLayout(g);if(y){var C=y.depth,w=m.levelModels[C];w&&(f.parentModel=w)}return f}),h.wrapMethod("getItemModel",function(f,g){var m=f.parentModel,y=m.getGraph().getEdgeByIndex(g),C=y.node1.getLayout();if(C){var w=C.depth,S=m.levelModels[w];S&&(f.parentModel=S)}return f})}},t.prototype.setNodePosition=function(r,n){var i=this.option.data||this.option.nodes,o=i[r];o.localX=n[0],o.localY=n[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(r,n,i){function o(f){return isNaN(f)||f==null}if(i==="edge"){var a=this.getDataParams(r,i),s=a.data,l=a.value,u=s.source+" -- "+s.target;return kr("nameValue",{name:u,value:l,noValue:o(l)})}else{var c=this.getGraph().getNodeByIndex(r),d=c.getLayout().value,h=this.getDataParams(r,i).data.name;return kr("nameValue",{name:h!=null?h+"":null,value:d,noValue:o(d)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(r,n){var i=e.prototype.getDataParams.call(this,r,n);if(i.value==null&&n==="node"){var o=this.getGraph().getNodeByIndex(r),a=o.getLayout().value;i.value=a}return i},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(Tt);function bxe(e,t){e.eachSeriesByType("sankey",function(r){var n=r.get("nodeWidth"),i=r.get("nodeGap"),o=Sxe(r,t);r.layoutInfo=o;var a=o.width,s=o.height,l=r.getGraph(),u=l.nodes,c=l.edges;Rxe(u);var d=mt(u,function(m){return m.getLayout().value===0}),h=d.length!==0?0:r.get("layoutIterations"),f=r.get("orient"),g=r.get("nodeAlign");xxe(u,c,n,i,a,s,h,f,g)})}function Sxe(e,t){return yr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function xxe(e,t,r,n,i,o,a,s,l){_xe(e,t,r,i,o,s,l),Axe(e,t,o,i,n,a,s),zxe(e,s)}function Rxe(e){F(e,function(t){var r=zl(t.outEdges,z0),n=zl(t.inEdges,z0),i=t.getValue()||0,o=Math.max(r,n,i);t.setLayout({value:o},!0)})}function _xe(e,t,r,n,i,o,a){for(var s=[],l=[],u=[],c=[],d=0,h=0;h<t.length;h++)s[h]=1;for(var h=0;h<e.length;h++)l[h]=e[h].inEdges.length,l[h]===0&&u.push(e[h]);for(var f=-1;u.length;){for(var g=0;g<u.length;g++){var m=u[g],y=m.hostGraph.data.getRawDataItem(m.dataIndex),C=y.depth!=null&&y.depth>=0;C&&y.depth>f&&(f=y.depth),m.setLayout({depth:C?y.depth:d},!0),o==="vertical"?m.setLayout({dy:r},!0):m.setLayout({dx:r},!0);for(var w=0;w<m.outEdges.length;w++){var S=m.outEdges[w],x=t.indexOf(S);s[x]=0;var R=S.node2,T=e.indexOf(R);--l[T]===0&&c.indexOf(R)<0&&c.push(R)}}++d,u=c,c=[]}for(var h=0;h<s.length;h++)if(s[h]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var P=f>d-1?f:d-1;a&&a!=="left"&&Txe(e,a,o,P);var D=o==="vertical"?(i-r)/P:(n-r)/P;Dxe(e,D,o)}function U9(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return t.depth!=null&&t.depth>=0}function Txe(e,t,r,n){if(t==="right"){for(var i=[],o=e,a=0;o.length;){for(var s=0;s<o.length;s++){var l=o[s];l.setLayout({skNodeHeight:a},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];i.indexOf(c.node1)<0&&i.push(c.node1)}}o=i,i=[],++a}F(e,function(d){U9(d)||d.setLayout({depth:Math.max(0,n-d.getLayout().skNodeHeight)},!0)})}else t==="justify"&&Pxe(e,n)}function Pxe(e,t){F(e,function(r){!U9(r)&&!r.outEdges.length&&r.setLayout({depth:t},!0)})}function Dxe(e,t,r){F(e,function(n){var i=n.getLayout().depth*t;r==="vertical"?n.setLayout({y:i},!0):n.setLayout({x:i},!0)})}function Axe(e,t,r,n,i,o,a){var s=Ixe(e,a);Exe(s,t,r,n,i,a),A_(s,i,r,n,a);for(var l=1;o>0;o--)l*=.99,Mxe(s,l,a),A_(s,i,r,n,a),Nxe(s,l,a),A_(s,i,r,n,a)}function Ixe(e,t){var r=[],n=t==="vertical"?"y":"x",i=DP(e,function(o){return o.getLayout()[n]});return i.keys.sort(function(o,a){return o-a}),F(i.keys,function(o){r.push(i.buckets.get(o))}),r}function Exe(e,t,r,n,i,o){var a=1/0;F(e,function(s){var l=s.length,u=0;F(s,function(d){u+=d.getLayout().value});var c=o==="vertical"?(n-(l-1)*i)/u:(r-(l-1)*i)/u;c<a&&(a=c)}),F(e,function(s){F(s,function(l,u){var c=l.getLayout().value*a;o==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),F(t,function(s){var l=+s.getValue()*a;s.setLayout({dy:l},!0)})}function A_(e,t,r,n,i){var o=i==="vertical"?"x":"y";F(e,function(a){a.sort(function(m,y){return m.getLayout()[o]-y.getLayout()[o]});for(var s,l,u,c=0,d=a.length,h=i==="vertical"?"dx":"dy",f=0;f<d;f++)l=a[f],u=c-l.getLayout()[o],u>0&&(s=l.getLayout()[o]+u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[o]+l.getLayout()[h]+t;var g=i==="vertical"?n:r;if(u=c-t-g,u>0){s=l.getLayout()[o]-u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0),c=s;for(var f=d-2;f>=0;--f)l=a[f],u=l.getLayout()[o]+l.getLayout()[h]+t-c,u>0&&(s=l.getLayout()[o]-u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[o]}})}function Mxe(e,t,r){F(e.slice().reverse(),function(n){F(n,function(i){if(i.outEdges.length){var o=zl(i.outEdges,kxe,r)/zl(i.outEdges,z0);if(isNaN(o)){var a=i.outEdges.length;o=a?zl(i.outEdges,Fxe,r)/a:0}if(r==="vertical"){var s=i.getLayout().x+(o-Yl(i,r))*t;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(o-Yl(i,r))*t;i.setLayout({y:l},!0)}}})})}function kxe(e,t){return Yl(e.node2,t)*e.getValue()}function Fxe(e,t){return Yl(e.node2,t)}function Lxe(e,t){return Yl(e.node1,t)*e.getValue()}function Oxe(e,t){return Yl(e.node1,t)}function Yl(e,t){return t==="vertical"?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function z0(e){return e.getValue()}function zl(e,t,r){for(var n=0,i=e.length,o=-1;++o<i;){var a=+t(e[o],r);isNaN(a)||(n+=a)}return n}function Nxe(e,t,r){F(e,function(n){F(n,function(i){if(i.inEdges.length){var o=zl(i.inEdges,Lxe,r)/zl(i.inEdges,z0);if(isNaN(o)){var a=i.inEdges.length;o=a?zl(i.inEdges,Oxe,r)/a:0}if(r==="vertical"){var s=i.getLayout().x+(o-Yl(i,r))*t;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(o-Yl(i,r))*t;i.setLayout({y:l},!0)}}})})}function zxe(e,t){var r=t==="vertical"?"x":"y";F(e,function(n){n.outEdges.sort(function(i,o){return i.node2.getLayout()[r]-o.node2.getLayout()[r]}),n.inEdges.sort(function(i,o){return i.node1.getLayout()[r]-o.node1.getLayout()[r]})}),F(e,function(n){var i=0,o=0;F(n.outEdges,function(a){a.setLayout({sy:i},!0),i+=a.getLayout().dy}),F(n.inEdges,function(a){a.setLayout({ty:o},!0),o+=a.getLayout().dy})})}function Bxe(e){e.eachSeriesByType("sankey",function(t){var r=t.getGraph(),n=r.nodes,i=r.edges;if(n.length){var o=1/0,a=-1/0;F(n,function(s){var l=s.getLayout().value;l<o&&(o=l),l>a&&(a=l)}),F(n,function(s){var l=new Er({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:t.get("color")}),u=l.mapValueToVisual(s.getLayout().value),c=s.getModel().get(["itemStyle","color"]);c!=null?(s.setVisual("color",c),s.setVisual("style",{fill:c})):(s.setVisual("color",u),s.setVisual("style",{fill:u}))})}i.length&&F(i,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}function Vxe(e){e.registerChartView(yxe),e.registerSeriesModel(wxe),e.registerLayout(bxe),e.registerVisual(Bxe),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"sankey",query:t},function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var j9=function(){function e(){}return e.prototype._hasEncodeRule=function(t){var r=this.getEncode();return r&&r.get(t)!=null},e.prototype.getInitialData=function(t,r){var n,i=r.getComponent("xAxis",this.get("xAxisIndex")),o=r.getComponent("yAxis",this.get("yAxisIndex")),a=i.get("type"),s=o.get("type"),l;a==="category"?(t.layout="horizontal",n=i.getOrdinalMeta(),l=!this._hasEncodeRule("x")):s==="category"?(t.layout="vertical",n=o.getOrdinalMeta(),l=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var u=["x","y"],c=t.layout==="horizontal"?0:1,d=this._baseAxisDim=u[c],h=u[1-c],f=[i,o],g=f[c].get("type"),m=f[1-c].get("type"),y=t.data;if(y&&l){var C=[];F(y,function(x,R){var T;se(x)?(T=x.slice(),x.unshift(R)):se(x.value)?(T=ie({},x),T.value=T.value.slice(),x.value.unshift(R)):T=x,C.push(T)}),t.data=C}var w=this.defaultValueDimensions,S=[{name:d,type:P0(g),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:P0(m),dimsDef:w.slice()}];return kf(this,{coordDimensions:S,dimensionsCount:w.length+1,encodeDefaulter:je(w8,S,this)})},e.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},e}(),Y9=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],r.visualDrawType="stroke",r}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(Tt);ar(Y9,j9,!0);var Gxe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var o=r.getData(),a=this.group,s=this._data;this._data||a.removeAll();var l=r.get("layout")==="horizontal"?1:0;o.diff(s).add(function(u){if(o.hasValue(u)){var c=o.getItemLayout(u),d=lG(c,o,u,l,!0);o.setItemGraphicEl(u,d),a.add(d)}}).update(function(u,c){var d=s.getItemGraphicEl(c);if(!o.hasValue(u)){a.remove(d);return}var h=o.getItemLayout(u);d?(Vo(d),K9(h,d,o,u)):d=lG(h,o,u,l),a.add(d),o.setItemGraphicEl(u,d)}).remove(function(u){var c=s.getItemGraphicEl(u);c&&a.remove(c)}).execute(),this._data=o},t.prototype.remove=function(r){var n=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(o){o&&n.remove(o)})},t.type="boxplot",t}(bt),Hxe=function(){function e(){}return e}(),Wxe=function(e){q(t,e);function t(r){var n=e.call(this,r)||this;return n.type="boxplotBoxPath",n}return t.prototype.getDefaultShape=function(){return new Hxe},t.prototype.buildPath=function(r,n){var i=n.points,o=0;for(r.moveTo(i[o][0],i[o][1]),o++;o<4;o++)r.lineTo(i[o][0],i[o][1]);for(r.closePath();o<i.length;o++)r.moveTo(i[o][0],i[o][1]),o++,r.lineTo(i[o][0],i[o][1])},t}(nt);function lG(e,t,r,n,i){var o=e.ends,a=new Wxe({shape:{points:i?$xe(o,n,e):o}});return K9(e,a,t,r,i),a}function K9(e,t,r,n,i){var o=r.hostModel,a=Yc[i?"initProps":"updateProps"];a(t,{shape:{points:e.ends}},o,n),t.useStyle(r.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.z2=100;var s=r.getItemModel(n),l=s.getModel("emphasis");Qr(t,s),Kt(t,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function $xe(e,t,r){return le(e,function(n){return n=n.slice(),n[t]=r.initBaseline,n})}var jg=F;function Uxe(e){var t=jxe(e);jg(t,function(r){var n=r.seriesModels;n.length&&(Yxe(r),jg(n,function(i,o){Kxe(i,r.boxOffsetList[o],r.boxWidthList[o])}))})}function jxe(e){var t=[],r=[];return e.eachSeriesByType("boxplot",function(n){var i=n.getBaseAxis(),o=Ze(r,i);o<0&&(o=r.length,r[o]=i,t[o]={axis:i,seriesModels:[]}),t[o].seriesModels.push(n)}),t}function Yxe(e){var t=e.axis,r=e.seriesModels,n=r.length,i=e.boxWidthList=[],o=e.boxOffsetList=[],a=[],s;if(t.type==="category")s=t.getBandWidth();else{var l=0;jg(r,function(g){l=Math.max(l,g.getData().count())});var u=t.getExtent();s=Math.abs(u[1]-u[0])/l}jg(r,function(g){var m=g.get("boxWidth");se(m)||(m=[m,m]),a.push([me(m[0],s)||0,me(m[1],s)||0])});var c=s*.8-2,d=c/n*.3,h=(c-d*(n-1))/n,f=h/2-c/2;jg(r,function(g,m){o.push(f),f+=d+h,i.push(Math.min(Math.max(h,a[m][0]),a[m][1]))})}function Kxe(e,t,r){var n=e.coordinateSystem,i=e.getData(),o=r/2,a=e.get("layout")==="horizontal"?0:1,s=1-a,l=["x","y"],u=i.mapDimension(l[a]),c=i.mapDimensionsAll(l[s]);if(u==null||c.length<5)return;for(var d=0;d<i.count();d++){var h=i.get(u,d),f=S(h,c[2],d),g=S(h,c[0],d),m=S(h,c[1],d),y=S(h,c[3],d),C=S(h,c[4],d),w=[];x(w,m,!1),x(w,y,!0),w.push(g,m,C,y),R(w,g),R(w,C),R(w,f),i.setItemLayout(d,{initBaseline:f[s],ends:w})}function S(T,P,D){var I=i.get(P,D),E=[];E[a]=T,E[s]=I;var k;return isNaN(T)||isNaN(I)?k=[NaN,NaN]:(k=n.dataToPoint(E),k[a]+=t),k}function x(T,P,D){var I=P.slice(),E=P.slice();I[a]+=o,E[a]-=o,D?T.push(I,E):T.push(E,I)}function R(T,P){var D=P.slice(),I=P.slice();D[a]-=o,I[a]+=o,T.push(D,I)}}function Xxe(e,t){t=t||{};for(var r=[],n=[],i=t.boundIQR,o=i==="none"||i===0,a=0;a<e.length;a++){var s=mi(e[a].slice()),l=ww(s,.25),u=ww(s,.5),c=ww(s,.75),d=s[0],h=s[s.length-1],f=(i??1.5)*(c-l),g=o?d:Math.max(d,l-f),m=o?h:Math.min(h,c+f),y=t.itemNameFormatter,C=Ie(y)?y({value:a}):we(y)?y.replace("{value}",a+""):a+"";r.push([C,g,l,u,c,m]);for(var w=0;w<s.length;w++){var S=s[w];if(S<g||S>m){var x=[C,S];n.push(x)}}}return{boxData:r,outliers:n}}var qxe={type:"echarts:boxplot",transform:function(t){var r=t.upstream;if(r.sourceFormat!==Sn){var n="";wt(n)}var i=Xxe(r.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function Zxe(e){e.registerSeriesModel(Y9),e.registerChartView(Gxe),e.registerLayout(Uxe),e.registerTransform(qxe)}var Qxe=["itemStyle","borderColor"],Jxe=["itemStyle","borderColor0"],e1e=["itemStyle","borderColorDoji"],t1e=["itemStyle","color"],r1e=["itemStyle","color0"];function aM(e,t){return t.get(e>0?t1e:r1e)}function sM(e,t){return t.get(e===0?e1e:e>0?Qxe:Jxe)}var n1e={seriesType:"candlestick",plan:Pf(),performRawSeries:!0,reset:function(e,t){if(!t.isSeriesFiltered(e)){var r=e.pipelineContext.large;return!r&&{progress:function(n,i){for(var o;(o=n.next())!=null;){var a=i.getItemModel(o),s=i.getItemLayout(o).sign,l=a.getItemStyle();l.fill=aM(s,a),l.stroke=sM(s,a)||l.fill;var u=i.ensureUniqueItemVisual(o,"style");ie(u,l)}}}}}},i1e=["color","borderColor"],o1e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(r),this._isLargeDraw?this._renderLarge(r):this._renderNormal(r)},t.prototype.incrementalPrepareRender=function(r,n,i){this._clear(),this._updateDrawMode(r)},t.prototype.incrementalRender=function(r,n,i,o){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(r,n):this._incrementalRenderNormal(r,n)},t.prototype.eachRendered=function(r){Jl(this._progressiveEls||this.group,r)},t.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(r){var n=r.getData(),i=this._data,o=this.group,a=n.getLayout("isSimpleBox"),s=r.get("clip",!0),l=r.coordinateSystem,u=l.getArea&&l.getArea();this._data||o.removeAll(),n.diff(i).add(function(c){if(n.hasValue(c)){var d=n.getItemLayout(c);if(s&&uG(u,d))return;var h=I_(d,c,!0);Vt(h,{shape:{points:d.ends}},r,c),E_(h,n,c,a),o.add(h),n.setItemGraphicEl(c,h)}}).update(function(c,d){var h=i.getItemGraphicEl(d);if(!n.hasValue(c)){o.remove(h);return}var f=n.getItemLayout(c);if(s&&uG(u,f)){o.remove(h);return}h?(gt(h,{shape:{points:f.ends}},r,c),Vo(h)):h=I_(f),E_(h,n,c,a),o.add(h),n.setItemGraphicEl(c,h)}).remove(function(c){var d=i.getItemGraphicEl(c);d&&o.remove(d)}).execute(),this._data=n},t.prototype._renderLarge=function(r){this._clear(),cG(r,this.group);var n=r.get("clip",!0)?ym(r.coordinateSystem,!1,r):null;n?this.group.setClipPath(n):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(r,n){for(var i=n.getData(),o=i.getLayout("isSimpleBox"),a;(a=r.next())!=null;){var s=i.getItemLayout(a),l=I_(s);E_(l,i,a,o),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},t.prototype._incrementalRenderLarge=function(r,n){cG(n,this.group,this._progressiveEls,!0)},t.prototype.remove=function(r){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(bt),a1e=function(){function e(){}return e}(),s1e=function(e){q(t,e);function t(r){var n=e.call(this,r)||this;return n.type="normalCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new a1e},t.prototype.buildPath=function(r,n){var i=n.points;this.__simpleBox?(r.moveTo(i[4][0],i[4][1]),r.lineTo(i[6][0],i[6][1])):(r.moveTo(i[0][0],i[0][1]),r.lineTo(i[1][0],i[1][1]),r.lineTo(i[2][0],i[2][1]),r.lineTo(i[3][0],i[3][1]),r.closePath(),r.moveTo(i[4][0],i[4][1]),r.lineTo(i[5][0],i[5][1]),r.moveTo(i[6][0],i[6][1]),r.lineTo(i[7][0],i[7][1]))},t}(nt);function I_(e,t,r){var n=e.ends;return new s1e({shape:{points:r?l1e(n,e):n},z2:100})}function uG(e,t){for(var r=!0,n=0;n<t.ends.length;n++)if(e.contain(t.ends[n][0],t.ends[n][1])){r=!1;break}return r}function E_(e,t,r,n){var i=t.getItemModel(r);e.useStyle(t.getItemVisual(r,"style")),e.style.strokeNoScale=!0,e.__simpleBox=n,Qr(e,i);var o=t.getItemLayout(r).sign;F(e.states,function(s,l){var u=i.getModel(l),c=aM(o,u),d=sM(o,u)||c,h=s.style||(s.style={});c&&(h.fill=c),d&&(h.stroke=d)});var a=i.getModel("emphasis");Kt(e,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function l1e(e,t){return le(e,function(r){return r=r.slice(),r[1]=t.initBaseline,r})}var u1e=function(){function e(){}return e}(),M_=function(e){q(t,e);function t(r){var n=e.call(this,r)||this;return n.type="largeCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new u1e},t.prototype.buildPath=function(r,n){for(var i=n.points,o=0;o<i.length;)if(this.__sign===i[o++]){var a=i[o++];r.moveTo(a,i[o++]),r.lineTo(a,i[o++])}else o+=3},t}(nt);function cG(e,t,r,n){var i=e.getData(),o=i.getLayout("largePoints"),a=new M_({shape:{points:o},__sign:1,ignoreCoarsePointer:!0});t.add(a);var s=new M_({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0});t.add(s);var l=new M_({shape:{points:o},__sign:0,ignoreCoarsePointer:!0});t.add(l),k_(1,a,e),k_(-1,s,e),k_(0,l,e),n&&(a.incremental=!0,s.incremental=!0),r&&r.push(a,s)}function k_(e,t,r,n){var i=sM(e,r)||aM(e,r),o=r.getModel("itemStyle").getItemStyle(i1e);t.useStyle(o),t.style.fill=null,t.style.stroke=i}var X9=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],r}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(r,n,i){var o=n.getItemLayout(r);return o&&i.rect(o.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(Tt);ar(X9,j9,!0);function c1e(e){!e||!se(e.series)||F(e.series,function(t){ke(t)&&t.type==="k"&&(t.type="candlestick")})}var d1e={seriesType:"candlestick",plan:Pf(),reset:function(e){var t=e.coordinateSystem,r=e.getData(),n=h1e(e,r),i=0,o=1,a=["x","y"],s=r.getDimensionIndex(r.mapDimension(a[i])),l=le(r.mapDimensionsAll(a[o]),r.getDimensionIndex,r),u=l[0],c=l[1],d=l[2],h=l[3];if(r.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),s<0||l.length<4)return;return{progress:e.pipelineContext.large?g:f};function f(m,y){for(var C,w=y.getStore();(C=m.next())!=null;){var S=w.get(s,C),x=w.get(u,C),R=w.get(c,C),T=w.get(d,C),P=w.get(h,C),D=Math.min(x,R),I=Math.max(x,R),E=j(D,S),k=j(I,S),L=j(T,S),N=j(P,S),B=[];G(B,k,0),G(B,E,1),B.push(K(N),K(k),K(L),K(E));var V=y.getItemModel(C),W=!!V.get(["itemStyle","borderColorDoji"]);y.setItemLayout(C,{sign:dG(w,C,x,R,c,W),initBaseline:x>R?k[o]:E[o],ends:B,brushRect:$(T,P,S)})}function j(H,U){var ne=[];return ne[i]=U,ne[o]=H,isNaN(U)||isNaN(H)?[NaN,NaN]:t.dataToPoint(ne)}function G(H,U,ne){var oe=U.slice(),he=U.slice();oe[i]=xw(oe[i]+n/2,1,!1),he[i]=xw(he[i]-n/2,1,!0),ne?H.push(oe,he):H.push(he,oe)}function $(H,U,ne){var oe=j(H,ne),he=j(U,ne);return oe[i]-=n/2,he[i]-=n/2,{x:oe[0],y:oe[1],width:n,height:he[1]-oe[1]}}function K(H){return H[i]=xw(H[i],1),H}}function g(m,y){for(var C=va(m.count*4),w=0,S,x=[],R=[],T,P=y.getStore(),D=!!e.get(["itemStyle","borderColorDoji"]);(T=m.next())!=null;){var I=P.get(s,T),E=P.get(u,T),k=P.get(c,T),L=P.get(d,T),N=P.get(h,T);if(isNaN(I)||isNaN(L)||isNaN(N)){C[w++]=NaN,w+=3;continue}C[w++]=dG(P,T,E,k,c,D),x[i]=I,x[o]=L,S=t.dataToPoint(x,null,R),C[w++]=S?S[0]:NaN,C[w++]=S?S[1]:NaN,x[o]=N,S=t.dataToPoint(x,null,R),C[w++]=S?S[1]:NaN}y.setLayout("largePoints",C)}}};function dG(e,t,r,n,i,o){var a;return r>n?a=-1:r<n?a=1:a=o?0:t>0?e.get(i,t-1)<=n?1:-1:1,a}function h1e(e,t){var r=e.getBaseAxis(),n,i=r.type==="category"?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/t.count()),o=me(Ue(e.get("barMaxWidth"),i),i),a=me(Ue(e.get("barMinWidth"),1),i),s=e.get("barWidth");return s!=null?me(s,i):Math.max(Math.min(i/2,o),a)}function f1e(e){e.registerChartView(o1e),e.registerSeriesModel(X9),e.registerPreprocessor(c1e),e.registerVisual(n1e),e.registerLayout(d1e)}function hG(e,t){var r=t.rippleEffectColor||t.color;e.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?r:null,fill:t.brushType==="fill"?r:null}})})}var p1e=function(e){q(t,e);function t(r,n){var i=e.call(this)||this,o=new vm(r,n),a=new Ne;return i.add(o),i.add(a),i.updateData(r,n),i}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(r){for(var n=r.symbolType,i=r.color,o=r.rippleNumber,a=this.childAt(1),s=0;s<o;s++){var l=hr(n,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/o*r.period+r.effectOffset;l.animate("",!0).when(r.period,{scaleX:r.rippleScale/2,scaleY:r.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(r.period,{opacity:0}).delay(u).start(),a.add(l)}hG(a,r)},t.prototype.updateEffectAnimation=function(r){for(var n=this._effectCfg,i=this.childAt(1),o=["symbolType","period","rippleScale","rippleNumber"],a=0;a<o.length;a++){var s=o[a];if(n[s]!==r[s]){this.stopEffectAnimation(),this.startEffectAnimation(r);return}}hG(i,r)},t.prototype.highlight=function(){_s(this)},t.prototype.downplay=function(){Ts(this)},t.prototype.getSymbolType=function(){var r=this.childAt(0);return r&&r.getSymbolType()},t.prototype.updateData=function(r,n){var i=this,o=r.hostModel;this.childAt(0).updateData(r,n);var a=this.childAt(1),s=r.getItemModel(n),l=r.getItemVisual(n,"symbol"),u=Af(r.getItemVisual(n,"symbolSize")),c=r.getItemVisual(n,"style"),d=c&&c.fill,h=s.getModel("emphasis");a.setScale(u),a.traverse(function(y){y.setStyle("fill",d)});var f=Xc(r.getItemVisual(n,"symbolOffset"),u);f&&(a.x=f[0],a.y=f[1]);var g=r.getItemVisual(n,"symbolRotate");a.rotation=(g||0)*Math.PI/180||0;var m={};m.showEffectOn=o.get("showEffectOn"),m.rippleScale=s.get(["rippleEffect","scale"]),m.brushType=s.get(["rippleEffect","brushType"]),m.period=s.get(["rippleEffect","period"])*1e3,m.effectOffset=n/r.count(),m.z=o.getShallow("z")||0,m.zlevel=o.getShallow("zlevel")||0,m.symbolType=l,m.color=d,m.rippleEffectColor=s.get(["rippleEffect","color"]),m.rippleNumber=s.get(["rippleEffect","number"]),m.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(m):this.startEffectAnimation(m),this._effectCfg=m):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(y){y==="emphasis"?m.showEffectOn!=="render"&&i.startEffectAnimation(m):y==="normal"&&m.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=m,Kt(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},t.prototype.fadeOut=function(r){r&&r()},t}(Ne),g1e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this._symbolDraw=new mm(p1e)},t.prototype.render=function(r,n,i){var o=r.getData(),a=this._symbolDraw;a.updateData(o,{clipShape:this._getClipShape(r)}),this.group.add(a.group)},t.prototype._getClipShape=function(r){var n=r.coordinateSystem,i=n&&n.getArea&&n.getArea();return r.get("clip",!0)?i:null},t.prototype.updateTransform=function(r,n,i){var o=r.getData();this.group.dirty();var a=Cm("").reset(r,n,i);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(r){var n=r.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=E6(n.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(r,n){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(bt),v1e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r,n){return Na(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(r,n,i){return i.point(n.getItemLayout(r))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(Tt);function m1e(e){e.registerChartView(g1e),e.registerSeriesModel(v1e),e.registerLayout(Cm("effectScatter"))}var q9=function(e){q(t,e);function t(r,n,i){var o=e.call(this)||this;return o.add(o.createLine(r,n,i)),o._updateEffectSymbol(r,n),o}return t.prototype.createLine=function(r,n,i){return new ZE(r,n,i)},t.prototype._updateEffectSymbol=function(r,n){var i=r.getItemModel(n),o=i.getModel("effect"),a=o.get("symbolSize"),s=o.get("symbol");se(a)||(a=[a,a]);var l=r.getItemVisual(n,"style"),u=o.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==s&&(this.remove(c),c=hr(s,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(o.getItemStyle(["color"])),c.scaleX=a[0],c.scaleY=a[1],c.setColor(u),this._symbolType=s,this._symbolScale=a,this._updateEffectAnimation(r,o,n))},t.prototype._updateEffectAnimation=function(r,n,i){var o=this.childAt(1);if(o){var a=r.getItemLayout(i),s=n.get("period")*1e3,l=n.get("loop"),u=n.get("roundTrip"),c=n.get("constantSpeed"),d=Ar(n.get("delay"),function(f){return f/r.count()*s/3});if(o.ignore=!0,this._updateAnimationPoints(o,a),c>0&&(s=this._getLineLength(o)/c*1e3),s!==this._period||l!==this._loop||u!==this._roundTrip){o.stopAnimation();var h=void 0;Ie(d)?h=d(i):h=d,o.__t>0&&(h=-s*o.__t),this._animateSymbol(o,s,h,l,u)}this._period=s,this._loop=l,this._roundTrip=u}},t.prototype._animateSymbol=function(r,n,i,o,a){if(n>0){r.__t=0;var s=this,l=r.animate("",o).when(a?n*2:n,{__t:a?2:1}).delay(i).during(function(){s._updateSymbolPosition(r)});o||l.done(function(){s.remove(r)}),l.start()}},t.prototype._getLineLength=function(r){return us(r.__p1,r.__cp1)+us(r.__cp1,r.__p2)},t.prototype._updateAnimationPoints=function(r,n){r.__p1=n[0],r.__p2=n[1],r.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},t.prototype.updateData=function(r,n,i){this.childAt(0).updateData(r,n,i),this._updateEffectSymbol(r,n)},t.prototype._updateSymbolPosition=function(r){var n=r.__p1,i=r.__p2,o=r.__cp1,a=r.__t<1?r.__t:2-r.__t,s=[r.x,r.y],l=s.slice(),u=Gr,c=hP;s[0]=u(n[0],o[0],i[0],a),s[1]=u(n[1],o[1],i[1],a);var d=r.__t<1?c(n[0],o[0],i[0],a):c(i[0],o[0],n[0],1-a),h=r.__t<1?c(n[1],o[1],i[1],a):c(i[1],o[1],n[1],1-a);r.rotation=-Math.atan2(h,d)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(r.__lastT!==void 0&&r.__lastT<r.__t?(r.scaleY=us(l,s)*1.05,a===1&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):r.__lastT===1?r.scaleY=2*us(n,s):r.scaleY=this._symbolScale[1]),r.__lastT=r.__t,r.ignore=!1,r.x=s[0],r.y=s[1]},t.prototype.updateLayout=function(r,n){this.childAt(0).updateLayout(r,n);var i=r.getItemModel(n).getModel("effect");this._updateEffectAnimation(r,i,n)},t}(Ne),Z9=function(e){q(t,e);function t(r,n,i){var o=e.call(this)||this;return o._createPolyline(r,n,i),o}return t.prototype._createPolyline=function(r,n,i){var o=r.getItemLayout(n),a=new Rn({shape:{points:o}});this.add(a),this._updateCommonStl(r,n,i)},t.prototype.updateData=function(r,n,i){var o=r.hostModel,a=this.childAt(0),s={shape:{points:r.getItemLayout(n)}};gt(a,s,o,n),this._updateCommonStl(r,n,i)},t.prototype._updateCommonStl=function(r,n,i){var o=this.childAt(0),a=r.getItemModel(n),s=i&&i.emphasisLineStyle,l=i&&i.focus,u=i&&i.blurScope,c=i&&i.emphasisDisabled;if(!i||r.hasItemOption){var d=a.getModel("emphasis");s=d.getModel("lineStyle").getLineStyle(),c=d.get("disabled"),l=d.get("focus"),u=d.get("blurScope")}o.useStyle(r.getItemVisual(n,"style")),o.style.fill=null,o.style.strokeNoScale=!0;var h=o.ensureState("emphasis");h.style=s,Kt(this,l,u,c)},t.prototype.updateLayout=function(r,n){var i=this.childAt(0);i.setShape("points",r.getItemLayout(n))},t}(Ne),y1e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._lastFrame=0,r._lastFramePercent=0,r}return t.prototype.createLine=function(r,n,i){return new Z9(r,n,i)},t.prototype._updateAnimationPoints=function(r,n){this._points=n;for(var i=[0],o=0,a=1;a<n.length;a++){var s=n[a-1],l=n[a];o+=us(s,l),i.push(o)}if(o===0){this._length=0;return}for(var a=0;a<i.length;a++)i[a]/=o;this._offsets=i,this._length=o},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(r){var n=r.__t<1?r.__t:2-r.__t,i=this._points,o=this._offsets,a=i.length;if(o){var s=this._lastFrame,l;if(n<this._lastFramePercent){var u=Math.min(s+1,a-1);for(l=u;l>=0&&!(o[l]<=n);l--);l=Math.min(l,a-2)}else{for(l=s;l<a&&!(o[l]>n);l++);l=Math.min(l-1,a-2)}var c=(n-o[l])/(o[l+1]-o[l]),d=i[l],h=i[l+1];r.x=d[0]*(1-c)+c*h[0],r.y=d[1]*(1-c)+c*h[1];var f=r.__t<1?h[0]-d[0]:d[0]-h[0],g=r.__t<1?h[1]-d[1]:d[1]-h[1];r.rotation=-Math.atan2(g,f)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=n,r.ignore=!1}},t}(q9),C1e=function(){function e(){this.polyline=!1,this.curveness=0,this.segs=[]}return e}(),w1e=function(e){q(t,e);function t(r){var n=e.call(this,r)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new C1e},t.prototype.buildPath=function(r,n){var i=n.segs,o=n.curveness,a;if(n.polyline)for(a=this._off;a<i.length;){var s=i[a++];if(s>0){r.moveTo(i[a++],i[a++]);for(var l=1;l<s;l++)r.lineTo(i[a++],i[a++])}}else for(a=this._off;a<i.length;){var u=i[a++],c=i[a++],d=i[a++],h=i[a++];if(r.moveTo(u,c),o>0){var f=(u+d)/2-(c-h)*o,g=(c+h)/2-(d-u)*o;r.quadraticCurveTo(f,g,d,h)}else r.lineTo(d,h)}this.incremental&&(this._off=a,this.notClear=!0)},t.prototype.findDataIndex=function(r,n){var i=this.shape,o=i.segs,a=i.curveness,s=this.style.lineWidth;if(i.polyline)for(var l=0,u=0;u<o.length;){var c=o[u++];if(c>0)for(var d=o[u++],h=o[u++],f=1;f<c;f++){var g=o[u++],m=o[u++];if(yl(d,h,g,m,s,r,n))return l}l++}else for(var l=0,u=0;u<o.length;){var d=o[u++],h=o[u++],g=o[u++],m=o[u++];if(a>0){var y=(d+g)/2-(h-m)*a,C=(h+m)/2-(g-d)*a;if(xU(d,h,y,C,g,m,s,r,n))return l}else if(yl(d,h,g,m,s,r,n))return l;l++}return-1},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),o=this.getBoundingRect();if(r=i[0],n=i[1],o.contain(r,n)){var a=this.hoverDataIdx=this.findDataIndex(r,n);return a>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var n=this.shape,i=n.segs,o=1/0,a=1/0,s=-1/0,l=-1/0,u=0;u<i.length;){var c=i[u++],d=i[u++];o=Math.min(c,o),s=Math.max(c,s),a=Math.min(d,a),l=Math.max(d,l)}r=this._rect=new qe(o,a,s,l)}return r},t}(nt),b1e=function(){function e(){this.group=new Ne}return e.prototype.updateData=function(t){this._clear();var r=this._create();r.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(r,t)},e.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(t,r){var n=this._newAdded[0],i=r.getLayout("linesPoints"),o=n&&n.shape.segs;if(o&&o.length<2e4){var a=o.length,s=new Float32Array(a+i.length);s.set(o),s.set(i,a),n.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,r),l.__startIndex=t.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new w1e({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},e.prototype._setCommon=function(t,r,n){var i=r.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var o=r.getVisual("style");o&&o.stroke&&t.setStyle("stroke",o.stroke),t.setStyle("fill",null);var a=Ve(t);a.seriesIndex=i.seriesIndex,t.on("mousemove",function(s){a.dataIndex=null;var l=t.hoverDataIdx;l>0&&(a.dataIndex=l+t.__startIndex)})},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),Q9={seriesType:"lines",plan:Pf(),reset:function(e){var t=e.coordinateSystem;if(t){var r=e.get("polyline"),n=e.pipelineContext.large;return{progress:function(i,o){var a=[];if(n){var s=void 0,l=i.end-i.start;if(r){for(var u=0,c=i.start;c<i.end;c++)u+=e.getLineCoordsCount(c);s=new Float32Array(l+u*2)}else s=new Float32Array(l*4);for(var d=0,h=[],c=i.start;c<i.end;c++){var f=e.getLineCoords(c,a);r&&(s[d++]=f);for(var g=0;g<f;g++)h=t.dataToPoint(a[g],!1,h),s[d++]=h[0],s[d++]=h[1]}o.setLayout("linesPoints",s)}else for(var c=i.start;c<i.end;c++){var m=o.getItemModel(c),f=e.getLineCoords(c,a),y=[];if(r)for(var C=0;C<f;C++)y.push(t.dataToPoint(a[C]));else{y[0]=t.dataToPoint(a[0]),y[1]=t.dataToPoint(a[1]);var w=m.get(["lineStyle","curveness"]);+w&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*w,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*w])}o.setItemLayout(c,y)}}}}}},S1e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var o=r.getData(),a=this._updateLineDraw(o,r),s=r.get("zlevel"),l=r.get(["effect","trailLength"]),u=i.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(s).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(r)&&l>0&&(c||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),a.updateData(o);var d=r.get("clip",!0)&&ym(r.coordinateSystem,!1,r);d?this.group.setClipPath(d):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},t.prototype.incrementalPrepareRender=function(r,n,i){var o=r.getData(),a=this._updateLineDraw(o,r);a.incrementalPrepareUpdate(o),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(r,n,i){this._lineDraw.incrementalUpdate(r,n.getData()),this._finished=r.end===n.getData().count()},t.prototype.eachRendered=function(r){this._lineDraw&&this._lineDraw.eachRendered(r)},t.prototype.updateTransform=function(r,n,i){var o=r.getData(),a=r.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var s=Q9.reset(r,n,i);s.progress&&s.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(r,n){var i=this._lineDraw,o=this._showEffect(n),a=!!n.get("polyline"),s=n.pipelineContext,l=s.large;return(!i||o!==this._hasEffet||a!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new b1e:new QE(a?o?y1e:Z9:o?q9:ZE),this._hasEffet=o,this._isPolyline=a,this._isLargeDraw=l),this.group.add(i.group),i},t.prototype._showEffect=function(r){return!!r.get(["effect","show"])},t.prototype._clearLayer=function(r){var n=r.getZr(),i=n.painter.getType()==="svg";!i&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(r,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},t.prototype.dispose=function(r,n){this.remove(r,n)},t.type="lines",t}(bt),x1e=typeof Uint32Array>"u"?Array:Uint32Array,R1e=typeof Float64Array>"u"?Array:Float64Array;function fG(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=le(t,function(r){var n=[r[0].coord,r[1].coord],i={coords:n};return r[0].name&&(i.fromName=r[0].name),r[1].name&&(i.toName=r[1].name),kb([i,r[0],r[1]])}))}var _1e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return t.prototype.init=function(r){r.data=r.data||[],fG(r);var n=this._processFlatCoordsArray(r.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(r.data=new Float32Array(n.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(r){if(fG(r),r.data){var n=this._processFlatCoordsArray(r.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(r.data=new Float32Array(n.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(r){var n=this._processFlatCoordsArray(r.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=Wh(this._flatCoords,n.flatCoords),this._flatCoordsOffset=Wh(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),r.data=new Float32Array(n.count)),this.getRawData().appendData(r.data)},t.prototype._getCoordsFromItemModel=function(r){var n=this.getData().getItemModel(r),i=n.option instanceof Array?n.option:n.getShallow("coords");return i},t.prototype.getLineCoordsCount=function(r){return this._flatCoordsOffset?this._flatCoordsOffset[r*2+1]:this._getCoordsFromItemModel(r).length},t.prototype.getLineCoords=function(r,n){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[r*2],o=this._flatCoordsOffset[r*2+1],a=0;a<o;a++)n[a]=n[a]||[],n[a][0]=this._flatCoords[i+a*2],n[a][1]=this._flatCoords[i+a*2+1];return o}else{for(var s=this._getCoordsFromItemModel(r),a=0;a<s.length;a++)n[a]=n[a]||[],n[a][0]=s[a][0],n[a][1]=s[a][1];return s.length}},t.prototype._processFlatCoordsArray=function(r){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),pt(r[0])){for(var i=r.length,o=new x1e(i),a=new R1e(i),s=0,l=0,u=0,c=0;c<i;){u++;var d=r[c++];o[l++]=s+n,o[l++]=d;for(var h=0;h<d;h++){var f=r[c++],g=r[c++];a[s++]=f,a[s++]=g}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,l),flatCoords:a,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},t.prototype.getInitialData=function(r,n){var i=new yn(["value"],this);return i.hasItemOption=!1,i.initData(r.data,[],function(o,a,s,l){if(o instanceof Array)return NaN;i.hasItemOption=!0;var u=o.value;if(u!=null)return u instanceof Array?u[l]:u}),i},t.prototype.formatTooltip=function(r,n,i){var o=this.getData(),a=o.getItemModel(r),s=a.get("name");if(s)return s;var l=a.get("fromName"),u=a.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),kr("nameValue",{name:c.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var r=this.getModel("effect"),n=r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:r.get("show")&&n>0?n+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Tt);function VC(e){return e instanceof Array||(e=[e,e]),e}var T1e={seriesType:"lines",reset:function(e){var t=VC(e.get("symbol")),r=VC(e.get("symbolSize")),n=e.getData();n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]);function i(o,a){var s=o.getItemModel(a),l=VC(s.getShallow("symbol",!0)),u=VC(s.getShallow("symbolSize",!0));l[0]&&o.setItemVisual(a,"fromSymbol",l[0]),l[1]&&o.setItemVisual(a,"toSymbol",l[1]),u[0]&&o.setItemVisual(a,"fromSymbolSize",u[0]),u[1]&&o.setItemVisual(a,"toSymbolSize",u[1])}return{dataEach:n.hasItemOption?i:null}}};function P1e(e){e.registerChartView(S1e),e.registerSeriesModel(_1e),e.registerLayout(Q9),e.registerVisual(T1e)}var D1e=256,A1e=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=No.createCanvas();this.canvas=t}return e.prototype.update=function(t,r,n,i,o,a){var s=this._getBrush(),l=this._getGradient(o,"inRange"),u=this._getGradient(o,"outOfRange"),c=this.pointSize+this.blurSize,d=this.canvas,h=d.getContext("2d"),f=t.length;d.width=r,d.height=n;for(var g=0;g<f;++g){var m=t[g],y=m[0],C=m[1],w=m[2],S=i(w);h.globalAlpha=S,h.drawImage(s,y-c,C-c)}if(!d.width||!d.height)return d;for(var x=h.getImageData(0,0,d.width,d.height),R=x.data,T=0,P=R.length,D=this.minOpacity,I=this.maxOpacity,E=I-D;T<P;){var S=R[T+3]/256,k=Math.floor(S*(D1e-1))*4;if(S>0){var L=a(S)?l:u;S>0&&(S=S*E+D),R[T++]=L[k],R[T++]=L[k+1],R[T++]=L[k+2],R[T++]=L[k+3]*S*256}else T+=4}return h.putImageData(x,0,0),d},e.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=No.createCanvas()),r=this.pointSize+this.blurSize,n=r*2;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-r,r,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),t},e.prototype._getGradient=function(t,r){for(var n=this._gradientPixels,i=n[r]||(n[r]=new Uint8ClampedArray(256*4)),o=[0,0,0,0],a=0,s=0;s<256;s++)t[r](s/255,!0,o),i[a++]=o[0],i[a++]=o[1],i[a++]=o[2],i[a++]=o[3];return i},e}();function I1e(e,t,r){var n=e[1]-e[0];t=le(t,function(a){return{interval:[(a.interval[0]-e[0])/n,(a.interval[1]-e[0])/n]}});var i=t.length,o=0;return function(a){var s;for(s=o;s<i;s++){var l=t[s].interval;if(l[0]<=a&&a<=l[1]){o=s;break}}if(s===i)for(s=o-1;s>=0;s--){var l=t[s].interval;if(l[0]<=a&&a<=l[1]){o=s;break}}return s>=0&&s<i&&r[s]}}function E1e(e,t){var r=e[1]-e[0];return t=[(t[0]-e[0])/r,(t[1]-e[0])/r],function(n){return n>=t[0]&&n<=t[1]}}function pG(e){var t=e.dimensions;return t[0]==="lng"&&t[1]==="lat"}var M1e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var o;n.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===r&&(o=s)})}),this._progressiveEls=null,this.group.removeAll();var a=r.coordinateSystem;a.type==="cartesian2d"||a.type==="calendar"?this._renderOnCartesianAndCalendar(r,i,0,r.getData().count()):pG(a)&&this._renderOnGeo(a,r,o,i)},t.prototype.incrementalPrepareRender=function(r,n,i){this.group.removeAll()},t.prototype.incrementalRender=function(r,n,i,o){var a=n.coordinateSystem;a&&(pG(a)?this.render(n,i,o):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(n,o,r.start,r.end,!0)))},t.prototype.eachRendered=function(r){Jl(this._progressiveEls||this.group,r)},t.prototype._renderOnCartesianAndCalendar=function(r,n,i,o,a){var s=r.coordinateSystem,l=qc(s,"cartesian2d"),u,c,d,h;if(l){var f=s.getAxis("x"),g=s.getAxis("y");u=f.getBandWidth()+.5,c=g.getBandWidth()+.5,d=f.scale.getExtent(),h=g.scale.getExtent()}for(var m=this.group,y=r.getData(),C=r.getModel(["emphasis","itemStyle"]).getItemStyle(),w=r.getModel(["blur","itemStyle"]).getItemStyle(),S=r.getModel(["select","itemStyle"]).getItemStyle(),x=r.get(["itemStyle","borderRadius"]),R=Mr(r),T=r.getModel("emphasis"),P=T.get("focus"),D=T.get("blurScope"),I=T.get("disabled"),E=l?[y.mapDimension("x"),y.mapDimension("y"),y.mapDimension("value")]:[y.mapDimension("time"),y.mapDimension("value")],k=i;k<o;k++){var L=void 0,N=y.getItemVisual(k,"style");if(l){var B=y.get(E[0],k),V=y.get(E[1],k);if(isNaN(y.get(E[2],k))||isNaN(B)||isNaN(V)||B<d[0]||B>d[1]||V<h[0]||V>h[1])continue;var W=s.dataToPoint([B,V]);L=new ht({shape:{x:W[0]-u/2,y:W[1]-c/2,width:u,height:c},style:N})}else{if(isNaN(y.get(E[1],k)))continue;L=new ht({z2:1,shape:s.dataToRect([y.get(E[0],k)]).contentShape,style:N})}if(y.hasItemOption){var j=y.getItemModel(k),G=j.getModel("emphasis");C=G.getModel("itemStyle").getItemStyle(),w=j.getModel(["blur","itemStyle"]).getItemStyle(),S=j.getModel(["select","itemStyle"]).getItemStyle(),x=j.get(["itemStyle","borderRadius"]),P=G.get("focus"),D=G.get("blurScope"),I=G.get("disabled"),R=Mr(j)}L.shape.r=x;var $=r.getRawValue(k),K="-";$&&$[2]!=null&&(K=$[2]+""),Jr(L,R,{labelFetcher:r,labelDataIndex:k,defaultOpacity:N.opacity,defaultText:K}),L.ensureState("emphasis").style=C,L.ensureState("blur").style=w,L.ensureState("select").style=S,Kt(L,P,D,I),L.incremental=a,a&&(L.states.emphasis.hoverLayer=!0),m.add(L),y.setItemGraphicEl(k,L),this._progressiveEls&&this._progressiveEls.push(L)}},t.prototype._renderOnGeo=function(r,n,i,o){var a=i.targetVisuals.inRange,s=i.targetVisuals.outOfRange,l=n.getData(),u=this._hmLayer||this._hmLayer||new A1e;u.blurSize=n.get("blurSize"),u.pointSize=n.get("pointSize"),u.minOpacity=n.get("minOpacity"),u.maxOpacity=n.get("maxOpacity");var c=r.getViewRect().clone(),d=r.getRoamTransform();c.applyTransform(d);var h=Math.max(c.x,0),f=Math.max(c.y,0),g=Math.min(c.width+c.x,o.getWidth()),m=Math.min(c.height+c.y,o.getHeight()),y=g-h,C=m-f,w=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],S=l.mapArray(w,function(P,D,I){var E=r.dataToPoint([P,D]);return E[0]-=h,E[1]-=f,E.push(I),E}),x=i.getExtent(),R=i.type==="visualMap.continuous"?E1e(x,i.option.range):I1e(x,i.getPieceList(),i.option.selected);u.update(S,y,C,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:s.color.getColorMapper()},R);var T=new Lr({style:{width:y,height:C,x:h,y:f,image:u.canvas},silent:!0});this.group.add(T)},t.type="heatmap",t}(bt),k1e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(r,n){return Na(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var r=Tf.get(this.get("coordinateSystem"));if(r&&r.dimensions)return r.dimensions[0]==="lng"&&r.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Tt);function F1e(e){e.registerChartView(M1e),e.registerSeriesModel(k1e)}var L1e=["itemStyle","borderWidth"],gG=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],F_=new La,O1e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var o=this.group,a=r.getData(),s=this._data,l=r.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),d=l.master.getRect(),h={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:r,coordSys:l,coordSysExtent:[[d.x,d.x+d.width],[d.y,d.y+d.height]],isHorizontal:c,valueDim:gG[+c],categoryDim:gG[1-+c]};a.diff(s).add(function(g){if(a.hasValue(g)){var m=mG(a,g),y=vG(a,g,m,h),C=yG(a,h,y);a.setItemGraphicEl(g,C),o.add(C),wG(C,h,y)}}).update(function(g,m){var y=s.getItemGraphicEl(m);if(!a.hasValue(g)){o.remove(y);return}var C=mG(a,g),w=vG(a,g,C,h),S=iY(a,w);y&&S!==y.__pictorialShapeStr&&(o.remove(y),a.setItemGraphicEl(g,null),y=null),y?W1e(y,h,w):y=yG(a,h,w,!0),a.setItemGraphicEl(g,y),y.__pictorialSymbolMeta=w,o.add(y),wG(y,h,w)}).remove(function(g){var m=s.getItemGraphicEl(g);m&&CG(s,g,m.__pictorialSymbolMeta.animationModel,m)}).execute();var f=r.get("clip",!0)?ym(r.coordinateSystem,!1,r):null;return f?o.setClipPath(f):o.removeClipPath(),this._data=a,this.group},t.prototype.remove=function(r,n){var i=this.group,o=this._data;r.get("animation")?o&&o.eachItemGraphicEl(function(a){CG(o,Ve(a).dataIndex,r,a)}):i.removeAll()},t.type="pictorialBar",t}(bt);function vG(e,t,r,n){var i=e.getItemLayout(t),o=r.get("symbolRepeat"),a=r.get("symbolClip"),s=r.get("symbolPosition")||"start",l=r.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=r.get("symbolPatternSize")||2,d=r.isAnimationEnabled(),h={dataIndex:t,layout:i,itemModel:r,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:d?r:null,hoverScale:d&&r.get(["emphasis","scale"]),z2:r.getShallow("z",!0)||0};N1e(r,o,i,n,h),z1e(e,t,i,o,a,h.boundingLength,h.pxSign,c,n,h),B1e(r,h.symbolScale,u,n,h);var f=h.symbolSize,g=Xc(r.get("symbolOffset"),f);return V1e(r,f,i,o,a,g,s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,n,h),h}function N1e(e,t,r,n,i){var o=n.valueDim,a=e.get("symbolBoundingData"),s=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),u=1-+(r[o.wh]<=0),c;if(se(a)){var d=[L_(s,a[0])-l,L_(s,a[1])-l];d[1]<d[0]&&d.reverse(),c=d[u]}else a!=null?c=L_(s,a)-l:t?c=n.coordSysExtent[o.index][u]-l:c=r[o.wh];i.boundingLength=c,t&&(i.repeatCutLength=r[o.wh]);var h=o.xy==="x",f=s.inverse;i.pxSign=h&&!f||!h&&f?c>=0?1:-1:c>0?1:-1}function L_(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function z1e(e,t,r,n,i,o,a,s,l,u){var c=l.valueDim,d=l.categoryDim,h=Math.abs(r[d.wh]),f=e.getItemVisual(t,"symbolSize"),g;se(f)?g=f.slice():f==null?g=["100%","100%"]:g=[f,f],g[d.index]=me(g[d.index],h),g[c.index]=me(g[c.index],n?h:Math.abs(o)),u.symbolSize=g;var m=u.symbolScale=[g[0]/s,g[1]/s];m[c.index]*=(l.isHorizontal?-1:1)*a}function B1e(e,t,r,n,i){var o=e.get(L1e)||0;o&&(F_.attr({scaleX:t[0],scaleY:t[1],rotation:r}),F_.updateTransform(),o/=F_.getLineScale(),o*=t[n.valueDim.index]),i.valueLineWidth=o||0}function V1e(e,t,r,n,i,o,a,s,l,u,c,d){var h=c.categoryDim,f=c.valueDim,g=d.pxSign,m=Math.max(t[f.index]+s,0),y=m;if(n){var C=Math.abs(l),w=Ar(e.get("symbolMargin"),"15%")+"",S=!1;w.lastIndexOf("!")===w.length-1&&(S=!0,w=w.slice(0,w.length-1));var x=me(w,t[f.index]),R=Math.max(m+x*2,0),T=S?0:x*2,P=AI(n),D=P?n:bG((C+T)/R),I=C-D*m;x=I/2/(S?D:Math.max(D-1,1)),R=m+x*2,T=S?0:x*2,!P&&n!=="fixed"&&(D=u?bG((Math.abs(u)+T)/R):0),y=D*R-T,d.repeatTimes=D,d.symbolMargin=x}var E=g*(y/2),k=d.pathPosition=[];k[h.index]=r[h.wh]/2,k[f.index]=a==="start"?E:a==="end"?l-E:l/2,o&&(k[0]+=o[0],k[1]+=o[1]);var L=d.bundlePosition=[];L[h.index]=r[h.xy],L[f.index]=r[f.xy];var N=d.barRectShape=ie({},r);N[f.wh]=g*Math.max(Math.abs(r[f.wh]),Math.abs(k[f.index]+E)),N[h.wh]=r[h.wh];var B=d.clipShape={};B[h.xy]=-r[h.xy],B[h.wh]=c.ecSize[h.wh],B[f.xy]=0,B[f.wh]=r[f.wh]}function J9(e){var t=e.symbolPatternSize,r=hr(e.symbolType,-t/2,-t/2,t,t);return r.attr({culling:!0}),r.type!=="image"&&r.setStyle({strokeNoScale:!0}),r}function eY(e,t,r,n){var i=e.__pictorialBundle,o=r.symbolSize,a=r.valueLineWidth,s=r.pathPosition,l=t.valueDim,u=r.repeatTimes||0,c=0,d=o[t.valueDim.index]+a+r.symbolMargin*2;for(lM(e,function(m){m.__pictorialAnimationIndex=c,m.__pictorialRepeatTimes=u,c<u?Eh(m,null,g(c),r,n):Eh(m,null,{scaleX:0,scaleY:0},r,n,function(){i.remove(m)}),c++});c<u;c++){var h=J9(r);h.__pictorialAnimationIndex=c,h.__pictorialRepeatTimes=u,i.add(h);var f=g(c);Eh(h,{x:f.x,y:f.y,scaleX:0,scaleY:0},{scaleX:f.scaleX,scaleY:f.scaleY,rotation:f.rotation},r,n)}function g(m){var y=s.slice(),C=r.pxSign,w=m;return(r.symbolRepeatDirection==="start"?C>0:C<0)&&(w=u-1-m),y[l.index]=d*(w-u/2+.5)+s[l.index],{x:y[0],y:y[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function tY(e,t,r,n){var i=e.__pictorialBundle,o=e.__pictorialMainPath;o?Eh(o,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,n):(o=e.__pictorialMainPath=J9(r),i.add(o),Eh(o,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,n))}function rY(e,t,r){var n=ie({},t.barRectShape),i=e.__pictorialBarRect;i?Eh(i,null,{shape:n},t,r):(i=e.__pictorialBarRect=new ht({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,e.add(i))}function nY(e,t,r,n){if(r.symbolClip){var i=e.__pictorialClipPath,o=ie({},r.clipShape),a=t.valueDim,s=r.animationModel,l=r.dataIndex;if(i)gt(i,{shape:o},s,l);else{o[a.wh]=0,i=new ht({shape:o}),e.__pictorialBundle.setClipPath(i),e.__pictorialClipPath=i;var u={};u[a.wh]=r.clipShape[a.wh],Yc[n?"updateProps":"initProps"](i,{shape:u},s,l)}}}function mG(e,t){var r=e.getItemModel(t);return r.getAnimationDelayParams=G1e,r.isAnimationEnabled=H1e,r}function G1e(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function H1e(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function yG(e,t,r,n){var i=new Ne,o=new Ne;return i.add(o),i.__pictorialBundle=o,o.x=r.bundlePosition[0],o.y=r.bundlePosition[1],r.symbolRepeat?eY(i,t,r):tY(i,t,r),rY(i,r,n),nY(i,t,r,n),i.__pictorialShapeStr=iY(e,r),i.__pictorialSymbolMeta=r,i}function W1e(e,t,r){var n=r.animationModel,i=r.dataIndex,o=e.__pictorialBundle;gt(o,{x:r.bundlePosition[0],y:r.bundlePosition[1]},n,i),r.symbolRepeat?eY(e,t,r,!0):tY(e,t,r,!0),rY(e,r,!0),nY(e,t,r,!0)}function CG(e,t,r,n){var i=n.__pictorialBarRect;i&&i.removeTextContent();var o=[];lM(n,function(a){o.push(a)}),n.__pictorialMainPath&&o.push(n.__pictorialMainPath),n.__pictorialClipPath&&(r=null),F(o,function(a){Ul(a,{scaleX:0,scaleY:0},r,t,function(){n.parent&&n.parent.remove(n)})}),e.setItemGraphicEl(t,null)}function iY(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function lM(e,t,r){F(e.__pictorialBundle.children(),function(n){n!==e.__pictorialBarRect&&t.call(r,n)})}function Eh(e,t,r,n,i,o){t&&e.attr(t),n.symbolClip&&!i?r&&e.attr(r):r&&Yc[i?"updateProps":"initProps"](e,r,n.animationModel,n.dataIndex,o)}function wG(e,t,r){var n=r.dataIndex,i=r.itemModel,o=i.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),s=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),u=i.getShallow("cursor"),c=o.get("focus"),d=o.get("blurScope"),h=o.get("scale");lM(e,function(m){if(m instanceof Lr){var y=m.style;m.useStyle(ie({image:y.image,x:y.x,y:y.y,width:y.width,height:y.height},r.style))}else m.useStyle(r.style);var C=m.ensureState("emphasis");C.style=a,h&&(C.scaleX=m.scaleX*1.1,C.scaleY=m.scaleY*1.1),m.ensureState("blur").style=s,m.ensureState("select").style=l,u&&(m.cursor=u),m.z2=r.z2});var f=t.valueDim.posDesc[+(r.boundingLength>0)],g=e.__pictorialBarRect;g.ignoreClip=!0,Jr(g,Mr(i),{labelFetcher:t.seriesModel,labelDataIndex:n,defaultText:Xh(t.seriesModel.getData(),n),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:f}),Kt(e,c,d,o.get("disabled"))}function bG(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var $1e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r.defaultSymbol="roundRect",r}return t.prototype.getInitialData=function(r){return r.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=eu(Dv.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(Dv);function U1e(e){e.registerChartView(O1e),e.registerSeriesModel($1e),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,je(G7,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,H7("pictorialBar"))}var j1e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._layers=[],r}return t.prototype.render=function(r,n,i){var o=r.getData(),a=this,s=this.group,l=r.getLayerSeries(),u=o.getLayout("layoutInfo"),c=u.rect,d=u.boundaryGap;s.x=0,s.y=c.y+d[0];function h(y){return y.name}var f=new Ps(this._layersSeries||[],l,h,h),g=[];f.add(Se(m,this,"add")).update(Se(m,this,"update")).remove(Se(m,this,"remove")).execute();function m(y,C,w){var S=a._layers;if(y==="remove"){s.remove(S[C]);return}for(var x=[],R=[],T,P=l[C].indices,D=0;D<P.length;D++){var I=o.getItemLayout(P[D]),E=I.x,k=I.y0,L=I.y;x.push(E,k),R.push(E,k+L),T=o.getItemVisual(P[D],"style")}var N,B=o.getItemLayout(P[0]),V=r.getModel("label"),W=V.get("margin"),j=r.getModel("emphasis");if(y==="add"){var G=g[C]=new Ne;N=new Ij({shape:{points:x,stackedOnPoints:R,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),G.add(N),s.add(G),r.isAnimationEnabled()&&N.setClipPath(Y1e(N.getBoundingRect(),r,function(){N.removeClipPath()}))}else{var G=S[w];N=G.childAt(0),s.add(G),g[C]=G,gt(N,{shape:{points:x,stackedOnPoints:R}},r),Vo(N)}Jr(N,Mr(r),{labelDataIndex:P[D-1],defaultText:o.getName(P[D-1]),inheritColor:T.fill},{normal:{verticalAlign:"middle"}}),N.setTextConfig({position:null,local:!0});var $=N.getTextContent();$&&($.x=B.x-W,$.y=B.y0+B.y/2),N.useStyle(T),o.setItemGraphicEl(C,N),Qr(N,r),Kt(N,j.get("focus"),j.get("blurScope"),j.get("disabled"))}this._layersSeries=l,this._layers=g},t.type="themeRiver",t}(bt);function Y1e(e,t,r){var n=new ht({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Vt(n,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,r),n}var O_=2,K1e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new bm(Se(this.getData,this),Se(this.getRawData,this))},t.prototype.fixData=function(r){var n=r.length,i={},o=DP(r,function(h){return i.hasOwnProperty(h[0]+"")||(i[h[0]+""]=-1),h[2]}),a=[];o.buckets.each(function(h,f){a.push({name:f,dataList:h})});for(var s=a.length,l=0;l<s;++l){for(var u=a[l].name,c=0;c<a[l].dataList.length;++c){var d=a[l].dataList[c][0]+"";i[d]=l}for(var d in i)i.hasOwnProperty(d)&&i[d]!==l&&(i[d]=l,r[n]=[d,0,u],n++)}return r},t.prototype.getInitialData=function(r,n){for(var i=this.getReferringComponents("singleAxis",mr).models[0],o=i.get("type"),a=mt(r.data,function(g){return g[2]!==void 0}),s=this.fixData(a||[]),l=[],u=this.nameMap=Pe(),c=0,d=0;d<s.length;++d)l.push(s[d][O_]),u.get(s[d][O_])||(u.set(s[d][O_],c),c++);var h=If(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:P0(o)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,f=new yn(h,this);return f.initData(s),f},t.prototype.getLayerSeries=function(){for(var r=this.getData(),n=r.count(),i=[],o=0;o<n;++o)i[o]=o;var a=r.mapDimension("single"),s=DP(i,function(u){return r.get("name",u)}),l=[];return s.buckets.each(function(u,c){u.sort(function(d,h){return r.get(a,d)-r.get(a,h)}),l.push({name:c,indices:u})}),l},t.prototype.getAxisTooltipData=function(r,n,i){se(r)||(r=r?[r]:[]);for(var o=this.getData(),a=this.getLayerSeries(),s=[],l=a.length,u,c=0;c<l;++c){for(var d=Number.MAX_VALUE,h=-1,f=a[c].indices.length,g=0;g<f;++g){var m=o.get(r[0],a[c].indices[g]),y=Math.abs(m-n);y<=d&&(u=m,d=y,h=a[c].indices[g])}s.push(h)}return{dataIndices:s,nestestValue:u}},t.prototype.formatTooltip=function(r,n,i){var o=this.getData(),a=o.getName(r),s=o.get(o.mapDimension("value"),r);return kr("nameValue",{name:a,value:s})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(Tt);function X1e(e,t){e.eachSeriesByType("themeRiver",function(r){var n=r.getData(),i=r.coordinateSystem,o={},a=i.getRect();o.rect=a;var s=r.get("boundaryGap"),l=i.getAxis();if(o.boundaryGap=s,l.orient==="horizontal"){s[0]=me(s[0],a.height),s[1]=me(s[1],a.height);var u=a.height-s[0]-s[1];SG(n,r,u)}else{s[0]=me(s[0],a.width),s[1]=me(s[1],a.width);var c=a.width-s[0]-s[1];SG(n,r,c)}n.setLayout("layoutInfo",o)})}function SG(e,t,r){if(e.count())for(var n=t.coordinateSystem,i=t.getLayerSeries(),o=e.mapDimension("single"),a=e.mapDimension("value"),s=le(i,function(y){return le(y.indices,function(C){var w=n.dataToPoint(e.get(o,C));return w[1]=e.get(a,C),w})}),l=q1e(s),u=l.y0,c=r/l.max,d=i.length,h=i[0].indices.length,f,g=0;g<h;++g){f=u[g]*c,e.setItemLayout(i[0].indices[g],{layerIndex:0,x:s[0][g][0],y0:f,y:s[0][g][1]*c});for(var m=1;m<d;++m)f+=s[m-1][g][1]*c,e.setItemLayout(i[m].indices[g],{layerIndex:m,x:s[m][g][0],y0:f,y:s[m][g][1]*c})}}function q1e(e){for(var t=e.length,r=e[0].length,n=[],i=[],o=0,a=0;a<r;++a){for(var s=0,l=0;l<t;++l)s+=e[l][a][1];s>o&&(o=s),n.push(s)}for(var u=0;u<r;++u)i[u]=(o-n[u])/2;o=0;for(var c=0;c<r;++c){var d=n[c]+i[c];d>o&&(o=d)}return{y0:i,max:o}}function Z1e(e){e.registerChartView(j1e),e.registerSeriesModel(K1e),e.registerLayout(X1e),e.registerProcessor(wm("themeRiver"))}var Q1e=2,J1e=4,xG=function(e){q(t,e);function t(r,n,i,o){var a=e.call(this)||this;a.z2=Q1e,a.textConfig={inside:!0},Ve(a).seriesIndex=n.seriesIndex;var s=new dt({z2:J1e,silent:r.getModel().get(["label","silent"])});return a.setTextContent(s),a.updateData(!0,r,n,i,o),a}return t.prototype.updateData=function(r,n,i,o,a){this.node=n,n.piece=this,i=i||this._seriesModel,o=o||this._ecModel;var s=this;Ve(s).dataIndex=n.dataIndex;var l=n.getModel(),u=l.getModel("emphasis"),c=n.getLayout(),d=ie({},c);d.label=null;var h=n.getVisual("style");h.lineJoin="bevel";var f=n.getVisual("decal");f&&(h.decal=Kh(f,a));var g=dc(l.getModel("itemStyle"),d,!0);ie(d,g),F(Bn,function(w){var S=s.ensureState(w),x=l.getModel([w,"itemStyle"]);S.style=x.getItemStyle();var R=dc(x,d);R&&(S.shape=R)}),r?(s.setShape(d),s.shape.r=c.r0,Vt(s,{shape:{r:c.r}},i,n.dataIndex)):(gt(s,{shape:d},i),Vo(s)),s.useStyle(h),this._updateLabel(i);var m=l.getShallow("cursor");m&&s.attr("cursor",m),this._seriesModel=i||this._seriesModel,this._ecModel=o||this._ecModel;var y=u.get("focus"),C=y==="relative"?Wh(n.getAncestorsIndices(),n.getDescendantIndices()):y==="ancestor"?n.getAncestorsIndices():y==="descendant"?n.getDescendantIndices():y;Kt(this,C,u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(r){var n=this,i=this.node.getModel(),o=i.getModel("label"),a=this.node.getLayout(),s=a.endAngle-a.startAngle,l=(a.startAngle+a.endAngle)/2,u=Math.cos(l),c=Math.sin(l),d=this,h=d.getTextContent(),f=this.node.dataIndex,g=o.get("minAngle")/180*Math.PI,m=o.get("show")&&!(g!=null&&Math.abs(s)<g);h.ignore=!m,F(vv,function(C){var w=C==="normal"?i.getModel("label"):i.getModel([C,"label"]),S=C==="normal",x=S?h:h.ensureState(C),R=r.getFormattedLabel(f,C);S&&(R=R||n.node.name),x.style=Mt(w,{},null,C!=="normal",!0),R&&(x.style.text=R);var T=w.get("show");T!=null&&!S&&(x.ignore=!T);var P=y(w,"position"),D=S?d:d.states[C],I=D.style.fill;D.textConfig={outsideFill:w.get("color")==="inherit"?I:null,inside:P!=="outside"};var E,k=y(w,"distance")||0,L=y(w,"align"),N=y(w,"rotate"),B=Math.PI*.5,V=Math.PI*1.5,W=yi(N==="tangential"?Math.PI/2-l:l),j=W>B&&!$h(W-B)&&W<V;P==="outside"?(E=a.r+k,L=j?"right":"left"):!L||L==="center"?(s===2*Math.PI&&a.r0===0?E=0:E=(a.r+a.r0)/2,L="center"):L==="left"?(E=a.r0+k,L=j?"right":"left"):L==="right"&&(E=a.r-k,L=j?"left":"right"),x.style.align=L,x.style.verticalAlign=y(w,"verticalAlign")||"middle",x.x=E*u+a.cx,x.y=E*c+a.cy;var G=0;N==="radial"?G=yi(-l)+(j?Math.PI:0):N==="tangential"?G=yi(Math.PI/2-l)+(j?Math.PI:0):pt(N)&&(G=N*Math.PI/180),x.rotation=yi(G)});function y(C,w){var S=C.get(w);return S??o.get(w)}h.dirtyStyle()},t}(wn),AD="sunburstRootToNode",RG="sunburstHighlight",eRe="sunburstUnhighlight";function tRe(e){e.registerAction({type:AD,update:"updateView"},function(t,r){r.eachComponent({mainType:"series",subType:"sunburst",query:t},n);function n(i,o){var a=Iv(t,[AD],i);if(a){var s=i.getViewRoot();s&&(t.direction=jE(s,a.node)?"rollUp":"drillDown"),i.resetViewRoot(a.node)}}}),e.registerAction({type:RG,update:"none"},function(t,r,n){t=ie({},t),r.eachComponent({mainType:"series",subType:"sunburst",query:t},i);function i(o){var a=Iv(t,[RG],o);a&&(t.dataIndex=a.node.dataIndex)}n.dispatchAction(ie(t,{type:"highlight"}))}),e.registerAction({type:eRe,update:"updateView"},function(t,r,n){t=ie({},t),n.dispatchAction(ie(t,{type:"downplay"}))})}var rRe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,o){var a=this;this.seriesModel=r,this.api=i,this.ecModel=n;var s=r.getData(),l=s.tree.root,u=r.getViewRoot(),c=this.group,d=r.get("renderLabelForZeroData"),h=[];u.eachNode(function(w){h.push(w)});var f=this._oldChildren||[];g(h,f),C(l,u),this._initEvents(),this._oldChildren=h;function g(w,S){if(w.length===0&&S.length===0)return;new Ps(S,w,x,x).add(R).update(R).remove(je(R,null)).execute();function x(T){return T.getId()}function R(T,P){var D=T==null?null:w[T],I=P==null?null:S[P];m(D,I)}}function m(w,S){if(!d&&w&&!w.getValue()&&(w=null),w!==l&&S!==l){if(S&&S.piece)w?(S.piece.updateData(!1,w,r,n,i),s.setItemGraphicEl(w.dataIndex,S.piece)):y(S);else if(w){var x=new xG(w,r,n,i);c.add(x),s.setItemGraphicEl(w.dataIndex,x)}}}function y(w){w&&w.piece&&(c.remove(w.piece),w.piece=null)}function C(w,S){S.depth>0?(a.virtualPiece?a.virtualPiece.updateData(!1,w,r,n,i):(a.virtualPiece=new xG(w,r,n,i),c.add(a.virtualPiece)),S.piece.off("click"),a.virtualPiece.on("click",function(x){a._rootToNode(S.parentNode)})):a.virtualPiece&&(c.remove(a.virtualPiece),a.virtualPiece=null)}},t.prototype._initEvents=function(){var r=this;this.group.off("click"),this.group.on("click",function(n){var i=!1,o=r.seriesModel.getViewRoot();o.eachNode(function(a){if(!i&&a.piece&&a.piece===n.target){var s=a.getModel().get("nodeClick");if(s==="rootToNode")r._rootToNode(a);else if(s==="link"){var l=a.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";m0(u,c)}}i=!0}})})},t.prototype._rootToNode=function(r){r!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:AD,from:this.uid,seriesId:this.seriesModel.id,targetNode:r})},t.prototype.containPoint=function(r,n){var i=n.getData(),o=i.getItemLayout(0);if(o){var a=r[0]-o.cx,s=r[1]-o.cy,l=Math.sqrt(a*a+s*s);return l<=o.r&&l>=o.r0}},t.type="sunburst",t}(bt),nRe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.ignoreStyleOnData=!0,r}return t.prototype.getInitialData=function(r,n){var i={name:r.name,children:r.data};oY(i);var o=this._levelModels=le(r.levels||[],function(l){return new yt(l,this,n)},this),a=UE.createTree(i,this,s);function s(l){l.wrapMethod("getItemModel",function(u,c){var d=a.getNodeByDataIndex(c),h=o[d.depth];return h&&(u.parentModel=h),u})}return a.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(r){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(r);return n.treePathInfo=vS(i,this),n},t.prototype.getLevelModel=function(r){return this._levelModels&&this._levelModels[r.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var n=this.getRawData().tree.root;(!r||r!==n&&!n.contains(r))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){c9(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(Tt);function oY(e){var t=0;F(e.children,function(n){oY(n);var i=n.value;se(i)&&(i=i[0]),t+=i});var r=e.value;se(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=t),r<0&&(r=0),se(e.value)?e.value[0]=r:e.value=r}var _G=Math.PI/180;function iRe(e,t,r){t.eachSeriesByType(e,function(n){var i=n.get("center"),o=n.get("radius");se(o)||(o=[0,o]),se(i)||(i=[i,i]);var a=r.getWidth(),s=r.getHeight(),l=Math.min(a,s),u=me(i[0],a),c=me(i[1],s),d=me(o[0],l/2),h=me(o[1],l/2),f=-n.get("startAngle")*_G,g=n.get("minAngle")*_G,m=n.getData().tree.root,y=n.getViewRoot(),C=y.depth,w=n.get("sort");w!=null&&aY(y,w);var S=0;F(y.children,function(W){!isNaN(W.getValue())&&S++});var x=y.getValue(),R=Math.PI/(x||S)*2,T=y.depth>0,P=y.height-(T?-1:1),D=(h-d)/(P||1),I=n.get("clockwise"),E=n.get("stillShowZeroSum"),k=I?1:-1,L=function(W,j){if(W){var G=j;if(W!==m){var $=W.getValue(),K=x===0&&E?R:$*R;K<g&&(K=g),G=j+k*K;var H=W.depth-C-(T?-1:1),U=d+D*H,ne=d+D*(H+1),oe=n.getLevelModel(W);if(oe){var he=oe.get("r0",!0),xe=oe.get("r",!0),Be=oe.get("radius",!0);Be!=null&&(he=Be[0],xe=Be[1]),he!=null&&(U=me(he,l/2)),xe!=null&&(ne=me(xe,l/2))}W.setLayout({angle:K,startAngle:j,endAngle:G,clockwise:I,cx:u,cy:c,r0:U,r:ne})}if(W.children&&W.children.length){var ee=0;F(W.children,function(Z){ee+=L(Z,j+ee)})}return G-j}};if(T){var N=d,B=d+D,V=Math.PI*2;m.setLayout({angle:V,startAngle:f,endAngle:f+V,clockwise:I,cx:u,cy:c,r0:N,r:B})}L(y,f)})}function aY(e,t){var r=e.children||[];e.children=oRe(r,t),r.length&&F(e.children,function(n){aY(n,t)})}function oRe(e,t){if(Ie(t)){var r=le(e,function(i,o){var a=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return a}},index:o}});return r.sort(function(i,o){return t(i.params,o.params)}),le(r,function(i){return e[i.index]})}else{var n=t==="asc";return e.sort(function(i,o){var a=(i.getValue()-o.getValue())*(n?1:-1);return a===0?(i.dataIndex-o.dataIndex)*(n?-1:1):a})}}function aRe(e){var t={};function r(n,i,o){for(var a=n;a&&a.depth>1;)a=a.parentNode;var s=i.getColorFromPalette(a.name||a.dataIndex+"",t);return n.depth>1&&we(s)&&(s=o0(s,(n.depth-1)/(o-1)*.5)),s}e.eachSeriesByType("sunburst",function(n){var i=n.getData(),o=i.tree;o.eachNode(function(a){var s=a.getModel(),l=s.getModel("itemStyle").getItemStyle();l.fill||(l.fill=r(a,n,o.root.height));var u=i.ensureUniqueItemVisual(a.dataIndex,"style");ie(u,l)})})}function sRe(e){e.registerChartView(rRe),e.registerSeriesModel(nRe),e.registerLayout(je(iRe,"sunburst")),e.registerProcessor(je(wm,"sunburst")),e.registerVisual(aRe),tRe(e)}var TG={color:"fill",borderColor:"stroke"},lRe={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},gs=ft(),uRe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(r,n){return Na(null,this)},t.prototype.getDataParams=function(r,n,i){var o=e.prototype.getDataParams.call(this,r,n);return i&&(o.info=gs(i).info),o},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(Tt);function cRe(e,t){return t=t||[0,0],le(["x","y"],function(r,n){var i=this.getAxis(r),o=t[n],a=e[n]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(o-a)-i.dataToCoord(o+a))},this)}function dRe(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(r){return e.dataToPoint(r)},size:Se(cRe,e)}}}function hRe(e,t){return t=t||[0,0],le([0,1],function(r){var n=t[r],i=e[r]/2,o=[],a=[];return o[r]=n-i,a[r]=n+i,o[1-r]=a[1-r]=t[1-r],Math.abs(this.dataToPoint(o)[r]-this.dataToPoint(a)[r])},this)}function fRe(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(r){return e.dataToPoint(r)},size:Se(hRe,e)}}}function pRe(e,t){var r=this.getAxis(),n=t instanceof Array?t[0]:t,i=(e instanceof Array?e[0]:e)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(n-i)-r.dataToCoord(n+i))}function gRe(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(r){return e.dataToPoint(r)},size:Se(pRe,e)}}}function vRe(e,t){return t=t||[0,0],le(["Radius","Angle"],function(r,n){var i="get"+r+"Axis",o=this[i](),a=t[n],s=e[n]/2,l=o.type==="category"?o.getBandWidth():Math.abs(o.dataToCoord(a-s)-o.dataToCoord(a+s));return r==="Angle"&&(l=l*Math.PI/180),l},this)}function mRe(e){var t=e.getRadiusAxis(),r=e.getAngleAxis(),n=t.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:n[1],r0:n[0]},api:{coord:function(i){var o=t.dataToRadius(i[0]),a=r.dataToAngle(i[1]),s=e.coordToPoint([o,a]);return s.push(o,a*Math.PI/180),s},size:Se(vRe,e)}}}function yRe(e){var t=e.getRect(),r=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function(n,i){return e.dataToPoint(n,i)}}}}function sY(e,t,r,n){return e&&(e.legacy||e.legacy!==!1&&!r&&!n&&t!=="tspan"&&(t==="text"||_e(e,"text")))}function lY(e,t,r){var n=e,i,o,a;if(t==="text")a=n;else{a={},_e(n,"text")&&(a.text=n.text),_e(n,"rich")&&(a.rich=n.rich),_e(n,"textFill")&&(a.fill=n.textFill),_e(n,"textStroke")&&(a.stroke=n.textStroke),_e(n,"fontFamily")&&(a.fontFamily=n.fontFamily),_e(n,"fontSize")&&(a.fontSize=n.fontSize),_e(n,"fontStyle")&&(a.fontStyle=n.fontStyle),_e(n,"fontWeight")&&(a.fontWeight=n.fontWeight),o={type:"text",style:a,silent:!0},i={};var s=_e(n,"textPosition");r?i.position=s?n.textPosition:"inside":s&&(i.position=n.textPosition),_e(n,"textPosition")&&(i.position=n.textPosition),_e(n,"textOffset")&&(i.offset=n.textOffset),_e(n,"textRotation")&&(i.rotation=n.textRotation),_e(n,"textDistance")&&(i.distance=n.textDistance)}return PG(a,e),F(a.rich,function(l){PG(l,l)}),{textConfig:i,textContent:o}}function PG(e,t){t&&(t.font=t.textFont||t.font,_e(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),_e(t,"textAlign")&&(e.align=t.textAlign),_e(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),_e(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),_e(t,"textWidth")&&(e.width=t.textWidth),_e(t,"textHeight")&&(e.height=t.textHeight),_e(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),_e(t,"textPadding")&&(e.padding=t.textPadding),_e(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),_e(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),_e(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),_e(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),_e(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),_e(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),_e(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function DG(e,t,r){var n=e;n.textPosition=n.textPosition||r.position||"inside",r.offset!=null&&(n.textOffset=r.offset),r.rotation!=null&&(n.textRotation=r.rotation),r.distance!=null&&(n.textDistance=r.distance);var i=n.textPosition.indexOf("inside")>=0,o=e.fill||"#000";AG(n,t);var a=n.textFill==null;return i?a&&(n.textFill=r.insideFill||"#fff",!n.textStroke&&r.insideStroke&&(n.textStroke=r.insideStroke),!n.textStroke&&(n.textStroke=o),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(a&&(n.textFill=e.fill||r.outsideFill||"#000"),!n.textStroke&&r.outsideStroke&&(n.textStroke=r.outsideStroke)),n.text=t.text,n.rich=t.rich,F(t.rich,function(s){AG(s,s)}),n}function AG(e,t){t&&(_e(t,"fill")&&(e.textFill=t.fill),_e(t,"stroke")&&(e.textStroke=t.fill),_e(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),_e(t,"font")&&(e.font=t.font),_e(t,"fontStyle")&&(e.fontStyle=t.fontStyle),_e(t,"fontWeight")&&(e.fontWeight=t.fontWeight),_e(t,"fontSize")&&(e.fontSize=t.fontSize),_e(t,"fontFamily")&&(e.fontFamily=t.fontFamily),_e(t,"align")&&(e.textAlign=t.align),_e(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),_e(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),_e(t,"width")&&(e.textWidth=t.width),_e(t,"height")&&(e.textHeight=t.height),_e(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),_e(t,"padding")&&(e.textPadding=t.padding),_e(t,"borderColor")&&(e.textBorderColor=t.borderColor),_e(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),_e(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),_e(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),_e(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),_e(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),_e(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),_e(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),_e(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),_e(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),_e(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var uY={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},IG=at(uY);no(Aa,function(e,t){return e[t]=1,e},{});Aa.join(", ");var B0=["","style","shape","extra"],Qh=ft();function uM(e,t,r,n,i){var o=e+"Animation",a=wf(e,n,i)||{},s=Qh(t).userDuring;return a.duration>0&&(a.during=s?Se(xRe,{el:t,userDuring:s}):null,a.setToFinal=!0,a.scope=e),ie(a,r[o]),a}function Aw(e,t,r,n){n=n||{};var i=n.dataIndex,o=n.isInit,a=n.clearStyle,s=r.isAnimationEnabled(),l=Qh(e),u=t.style;l.userDuring=t.during;var c={},d={};if(_Re(e,t,d),MG("shape",t,d),MG("extra",t,d),!o&&s&&(RRe(e,t,c),EG("shape",e,t,c),EG("extra",e,t,c),TRe(e,t,u,c)),d.style=u,CRe(e,d,a),bRe(e,t),s)if(o){var h={};F(B0,function(g){var m=g?t[g]:t;m&&m.enterFrom&&(g&&(h[g]=h[g]||{}),ie(g?h[g]:h,m.enterFrom))});var f=uM("enter",e,t,r,i);f.duration>0&&e.animateFrom(h,f)}else wRe(e,t,i||0,r,c);cY(e,t),u?e.dirty():e.markRedraw()}function cY(e,t){for(var r=Qh(e).leaveToProps,n=0;n<B0.length;n++){var i=B0[n],o=i?t[i]:t;o&&o.leaveTo&&(r||(r=Qh(e).leaveToProps={}),i&&(r[i]=r[i]||{}),ie(i?r[i]:r,o.leaveTo))}}function CS(e,t,r,n){if(e){var i=e.parent,o=Qh(e).leaveToProps;if(o){var a=uM("update",e,t,r,0);a.done=function(){i.remove(e)},e.animateTo(o,a)}else i.remove(e)}}function Cc(e){return e==="all"}function CRe(e,t,r){var n=t.style;if(!e.isGroup&&n){if(r){e.useStyle({});for(var i=e.animators,o=0;o<i.length;o++){var a=i[o];a.targetName==="style"&&a.changeTarget(e.style)}}e.setStyle(n)}t&&(t.style=null,t&&e.attr(t),t.style=n)}function wRe(e,t,r,n,i){if(i){var o=uM("update",e,t,n,r);o.duration>0&&e.animateFrom(i,o)}}function bRe(e,t){_e(t,"silent")&&(e.silent=t.silent),_e(t,"ignore")&&(e.ignore=t.ignore),e instanceof io&&_e(t,"invisible")&&(e.invisible=t.invisible),e instanceof nt&&_e(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}var oa={},SRe={setTransform:function(e,t){return oa.el[e]=t,this},getTransform:function(e){return oa.el[e]},setShape:function(e,t){var r=oa.el,n=r.shape||(r.shape={});return n[e]=t,r.dirtyShape&&r.dirtyShape(),this},getShape:function(e){var t=oa.el.shape;if(t)return t[e]},setStyle:function(e,t){var r=oa.el,n=r.style;return n&&(n[e]=t,r.dirtyStyle&&r.dirtyStyle()),this},getStyle:function(e){var t=oa.el.style;if(t)return t[e]},setExtra:function(e,t){var r=oa.el.extra||(oa.el.extra={});return r[e]=t,this},getExtra:function(e){var t=oa.el.extra;if(t)return t[e]}};function xRe(){var e=this,t=e.el;if(t){var r=Qh(t).userDuring,n=e.userDuring;if(r!==n){e.el=e.userDuring=null;return}oa.el=t,n(SRe)}}function EG(e,t,r,n){var i=r[e];if(i){var o=t[e],a;if(o){var s=r.transition,l=i.transition;if(l)if(!a&&(a=n[e]={}),Cc(l))ie(a,o);else for(var u=_t(l),c=0;c<u.length;c++){var d=u[c],h=o[d];a[d]=h}else if(Cc(s)||Ze(s,e)>=0){!a&&(a=n[e]={});for(var f=at(o),c=0;c<f.length;c++){var d=f[c],h=o[d];PRe(i[d],h)&&(a[d]=h)}}}}}function MG(e,t,r){var n=t[e];if(n)for(var i=r[e]={},o=at(n),a=0;a<o.length;a++){var s=o[a];i[s]=Og(n[s])}}function RRe(e,t,r){for(var n=t.transition,i=Cc(n)?Aa:_t(n||[]),o=0;o<i.length;o++){var a=i[o];if(!(a==="style"||a==="shape"||a==="extra")){var s=e[a];r[a]=s}}}function _Re(e,t,r){for(var n=0;n<IG.length;n++){var i=IG[n],o=uY[i],a=t[i];a&&(r[o[0]]=a[0],r[o[1]]=a[1])}for(var n=0;n<Aa.length;n++){var s=Aa[n];t[s]!=null&&(r[s]=t[s])}}function TRe(e,t,r,n){if(r){var i=e.style,o;if(i){var a=r.transition,s=t.transition;if(a&&!Cc(a)){var l=_t(a);!o&&(o=n.style={});for(var u=0;u<l.length;u++){var c=l[u],d=i[c];o[c]=d}}else if(e.getAnimationStyleProps&&(Cc(s)||Cc(a)||Ze(s,"style")>=0)){var h=e.getAnimationStyleProps(),f=h?h.style:null;if(f){!o&&(o=n.style={});for(var g=at(r),u=0;u<g.length;u++){var c=g[u];if(f[c]){var d=i[c];o[c]=d}}}}}}}function PRe(e,t){return Zr(e)?e!==t:e!=null&&isFinite(e)}var dY=ft(),DRe=["percent","easing","shape","style","extra"];function hY(e){e.stopAnimation("keyframe"),e.attr(dY(e))}function V0(e,t,r){if(!(!r.isAnimationEnabled()||!t)){if(se(t)){F(t,function(s){V0(e,s,r)});return}var n=t.keyframes,i=t.duration;if(r&&i==null){var o=wf("enter",r,0);i=o&&o.duration}if(!(!n||!i)){var a=dY(e);F(B0,function(s){if(!(s&&!e[s])){var l;n.sort(function(u,c){return u.percent-c.percent}),F(n,function(u){var c=e.animators,d=s?u[s]:u;if(d){var h=at(d);if(s||(h=mt(h,function(m){return Ze(DRe,m)<0})),!!h.length){l||(l=e.animate(s,t.loop,!0),l.scope="keyframe");for(var f=0;f<c.length;f++)c[f]!==l&&c[f].targetName===l.targetName&&c[f].stopTracks(h);s&&(a[s]=a[s]||{});var g=s?a[s]:a;F(h,function(m){g[m]=((s?e[s]:e)||{})[m]}),l.whenWithKeys(i*u.percent,d,h,u.easing)}}}),l&&l.delay(t.delay||0).duration(i).start(t.easing)}})}}}var vs="emphasis",Al="normal",cM="blur",dM="select",Kl=[Al,vs,cM,dM],N_={normal:["itemStyle"],emphasis:[vs,"itemStyle"],blur:[cM,"itemStyle"],select:[dM,"itemStyle"]},z_={normal:["label"],emphasis:[vs,"label"],blur:[cM,"label"],select:[dM,"label"]},ARe=["x","y"],IRe="e\0\0",Ni={normal:{},emphasis:{},blur:{},select:{}},ERe={cartesian2d:dRe,geo:fRe,single:gRe,polar:mRe,calendar:yRe};function ID(e){return e instanceof nt}function ED(e){return e instanceof io}function MRe(e,t){t.copyTransform(e),ED(t)&&ED(e)&&(t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel,t.invisible=e.invisible,t.ignore=e.ignore,ID(t)&&ID(e)&&t.setShape(e.shape))}var kRe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,o){this._progressiveEls=null;var a=this._data,s=r.getData(),l=this.group,u=kG(r,s,n,i);a||l.removeAll(),s.diff(a).add(function(d){B_(i,null,d,u(d,o),r,l,s)}).remove(function(d){var h=a.getItemGraphicEl(d);h&&CS(h,gs(h).option,r)}).update(function(d,h){var f=a.getItemGraphicEl(h);B_(i,f,d,u(d,o),r,l,s)}).execute();var c=r.get("clip",!0)?ym(r.coordinateSystem,!1,r):null;c?l.setClipPath(c):l.removeClipPath(),this._data=s},t.prototype.incrementalPrepareRender=function(r,n,i){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(r,n,i,o,a){var s=n.getData(),l=kG(n,s,i,o),u=this._progressiveEls=[];function c(f){f.isGroup||(f.incremental=!0,f.ensureState("emphasis").hoverLayer=!0)}for(var d=r.start;d<r.end;d++){var h=B_(null,null,d,l(d,a),n,this.group,s);h&&(h.traverse(c),u.push(h))}},t.prototype.eachRendered=function(r){Jl(this._progressiveEls||this.group,r)},t.prototype.filterForExposedEvent=function(r,n,i,o){var a=n.element;if(a==null||i.name===a)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===a)return!0;return!1},t.type="custom",t}(bt);function hM(e){var t=e.type,r;if(t==="path"){var n=e.shape,i=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,o=gY(n);r=dm(o,null,i,n.layout||"center"),gs(r).customPathData=o}else if(t==="image")r=new Lr({}),gs(r).customImagePath=e.style.image;else if(t==="text")r=new dt({});else if(t==="group")r=new Ne;else{if(t==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var a=Xb(t);if(!a){var s="";wt(s)}r=new a}return gs(r).customGraphicType=t,r.name=e.name,r.z2EmphasisLift=1,r.z2SelectLift=1,r}function fM(e,t,r,n,i,o,a){hY(t);var s=i&&i.normal.cfg;s&&t.setTextConfig(s),n&&n.transition==null&&(n.transition=ARe);var l=n&&n.style;if(l){if(t.type==="text"){var u=l;_e(u,"textFill")&&(u.fill=u.textFill),_e(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,d=ID(t)?l.decal:null;e&&d&&(d.dirty=!0,c=Kh(d,e)),l.__decalPattern=c}if(ED(t)&&l){var c=l.__decalPattern;c&&(l.decal=c)}Aw(t,n,o,{dataIndex:r,isInit:a,clearStyle:!0}),V0(t,n.keyframeAnimation,o)}function fY(e,t,r,n,i){var o=t.isGroup?null:t,a=i&&i[e].cfg;if(o){var s=o.ensureState(e);if(n===!1){var l=o.getState(e);l&&(l.style=null)}else s.style=n||null;a&&(s.textConfig=a),Mc(o)}}function FRe(e,t,r){if(!e.isGroup){var n=e,i=r.currentZ,o=r.currentZLevel;n.z=i,n.zlevel=o;var a=t.z2;a!=null&&(n.z2=a||0);for(var s=0;s<Kl.length;s++)LRe(n,t,Kl[s])}}function LRe(e,t,r){var n=r===Al,i=n?t:G0(t,r),o=i?i.z2:null,a;o!=null&&(a=n?e:e.ensureState(r),a.z2=o||0)}function kG(e,t,r,n){var i=e.get("renderItem"),o=e.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):ERe[o.type](o));for(var s=Ee({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:x,style:T,ordinalRawValue:R,styleEmphasis:P,visual:E,barLayout:k,currentSeriesIndices:L,font:N},a.api||{}),l={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:a.coordSys,dataInsideLength:t.count(),encode:ORe(e.getData())},u,c,d={},h={},f={},g={},m=0;m<Kl.length;m++){var y=Kl[m];f[y]=e.getModel(N_[y]),g[y]=e.getModel(z_[y])}function C(B){return B===u?c||(c=t.getItemModel(B)):t.getItemModel(B)}function w(B,V){return t.hasItemOption?B===u?d[V]||(d[V]=C(B).getModel(N_[V])):C(B).getModel(N_[V]):f[V]}function S(B,V){return t.hasItemOption?B===u?h[V]||(h[V]=C(B).getModel(z_[V])):C(B).getModel(z_[V]):g[V]}return function(B,V){return u=B,c=null,d={},h={},i&&i(Ee({dataIndexInside:B,dataIndex:t.getRawIndex(B),actionType:V?V.type:null},l),s)};function x(B,V){return V==null&&(V=u),t.getStore().get(t.getDimensionIndex(B||0),V)}function R(B,V){V==null&&(V=u),B=B||0;var W=t.getDimensionInfo(B);if(!W){var j=t.getDimensionIndex(B);return j>=0?t.getStore().get(j,V):void 0}var G=t.get(W.name,V),$=W&&W.ordinalMeta;return $?$.categories[G]:G}function T(B,V){V==null&&(V=u);var W=t.getItemVisual(V,"style"),j=W&&W.fill,G=W&&W.opacity,$=w(V,Al).getItemStyle();j!=null&&($.fill=j),G!=null&&($.opacity=G);var K={inheritColor:we(j)?j:"#000"},H=S(V,Al),U=Mt(H,null,K,!1,!0);U.text=H.getShallow("show")?Ue(e.getFormattedLabel(V,Al),Xh(t,V)):null;var ne=g0(H,K,!1);return I(B,$),$=DG($,U,ne),B&&D($,B),$.legacy=!0,$}function P(B,V){V==null&&(V=u);var W=w(V,vs).getItemStyle(),j=S(V,vs),G=Mt(j,null,null,!0,!0);G.text=j.getShallow("show")?Io(e.getFormattedLabel(V,vs),e.getFormattedLabel(V,Al),Xh(t,V)):null;var $=g0(j,null,!0);return I(B,W),W=DG(W,G,$),B&&D(W,B),W.legacy=!0,W}function D(B,V){for(var W in V)_e(V,W)&&(B[W]=V[W])}function I(B,V){B&&(B.textFill&&(V.textFill=B.textFill),B.textPosition&&(V.textPosition=B.textPosition))}function E(B,V){if(V==null&&(V=u),_e(TG,B)){var W=t.getItemVisual(V,"style");return W?W[TG[B]]:null}if(_e(lRe,B))return t.getItemVisual(V,B)}function k(B){if(o.type==="cartesian2d"){var V=o.getBaseAxis();return dme(Ee({axis:V},B))}}function L(){return r.getCurrentSeriesIndices()}function N(B){return jI(B,r)}}function ORe(e){var t={};return F(e.dimensions,function(r){var n=e.getDimensionInfo(r);if(!n.isExtraCoord){var i=n.coordDim,o=t[i]=t[i]||[];o[n.coordDimIndex]=e.getDimensionIndex(r)}}),t}function B_(e,t,r,n,i,o,a){if(!n){o.remove(t);return}var s=pM(e,t,r,n,i,o);return s&&a.setItemGraphicEl(r,s),s&&Kt(s,n.focus,n.blurScope,n.emphasisDisabled),s}function pM(e,t,r,n,i,o){var a=-1,s=t;t&&pY(t,n,i)&&(a=Ze(o.childrenRef(),t),t=null);var l=!t,u=t;u?u.clearStates():(u=hM(n),s&&MRe(s,u)),n.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),Ni.normal.cfg=Ni.normal.conOpt=Ni.emphasis.cfg=Ni.emphasis.conOpt=Ni.blur.cfg=Ni.blur.conOpt=Ni.select.cfg=Ni.select.conOpt=null,Ni.isLegacy=!1,zRe(u,r,n,i,l,Ni),NRe(u,r,n,i,l),fM(e,u,r,n,Ni,i,l),_e(n,"info")&&(gs(u).info=n.info);for(var c=0;c<Kl.length;c++){var d=Kl[c];if(d!==Al){var h=G0(n,d),f=gM(n,h,d);fY(d,u,h,f,Ni)}}return FRe(u,n,i),n.type==="group"&&BRe(e,u,r,n,i),a>=0?o.replaceAt(u,a):o.add(u),u}function pY(e,t,r){var n=gs(e),i=t.type,o=t.shape,a=t.style;return r.isUniversalTransitionEnabled()||i!=null&&i!==n.customGraphicType||i==="path"&&WRe(o)&&gY(o)!==n.customPathData||i==="image"&&_e(a,"image")&&a.image!==n.customImagePath}function NRe(e,t,r,n,i){var o=r.clipPath;if(o===!1)e&&e.getClipPath()&&e.removeClipPath();else if(o){var a=e.getClipPath();a&&pY(a,o,n)&&(a=null),a||(a=hM(o),e.setClipPath(a)),fM(null,a,t,o,null,n,i)}}function zRe(e,t,r,n,i,o){if(!e.isGroup){FG(r,null,o),FG(r,vs,o);var a=o.normal.conOpt,s=o.emphasis.conOpt,l=o.blur.conOpt,u=o.select.conOpt;if(a!=null||s!=null||u!=null||l!=null){var c=e.getTextContent();if(a===!1)c&&e.removeTextContent();else{a=o.normal.conOpt=a||{type:"text"},c?c.clearStates():(c=hM(a),e.setTextContent(c)),fM(null,c,t,a,null,n,i);for(var d=a&&a.style,h=0;h<Kl.length;h++){var f=Kl[h];if(f!==Al){var g=o[f].conOpt;fY(f,c,g,gM(a,g,f),null)}}d?c.dirty():c.markRedraw()}}}}function FG(e,t,r){var n=t?G0(e,t):e,i=t?gM(e,n,vs):e.style,o=e.type,a=n?n.textConfig:null,s=e.textContent,l=s?t?G0(s,t):s:null;if(i&&(r.isLegacy||sY(i,o,!!a,!!l))){r.isLegacy=!0;var u=lY(i,o,!t);!a&&u.textConfig&&(a=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var c=l;!c.type&&(c.type="text")}var d=t?r[t]:r.normal;d.cfg=a,d.conOpt=l}function G0(e,t){return t?e?e[t]:null:e}function gM(e,t,r){var n=t&&t.style;return n==null&&r===vs&&e&&(n=e.styleEmphasis),n}function BRe(e,t,r,n,i){var o=n.children,a=o?o.length:0,s=n.$mergeChildren,l=s==="byName"||n.diffChildrenByName,u=s===!1;if(!(!a&&!l&&!u)){if(l){GRe({api:e,oldChildren:t.children()||[],newChildren:o||[],dataIndex:r,seriesModel:i,group:t});return}u&&t.removeAll();for(var c=0;c<a;c++){var d=o[c],h=t.childAt(c);d?(d.ignore==null&&(d.ignore=!1),pM(e,h,r,d,i,t)):h.ignore=!0}for(var f=t.childCount()-1;f>=c;f--){var g=t.childAt(f);VRe(t,g,i)}}}function VRe(e,t,r){t&&CS(t,gs(e).option,r)}function GRe(e){new Ps(e.oldChildren,e.newChildren,LG,LG,e).add(OG).update(OG).remove(HRe).execute()}function LG(e,t){var r=e&&e.name;return r??IRe+t}function OG(e,t){var r=this.context,n=e!=null?r.newChildren[e]:null,i=t!=null?r.oldChildren[t]:null;pM(r.api,i,r.dataIndex,n,r.seriesModel,r.group)}function HRe(e){var t=this.context,r=t.oldChildren[e];r&&CS(r,gs(r).option,t.seriesModel)}function gY(e){return e&&(e.pathData||e.d)}function WRe(e){return e&&(_e(e,"pathData")||_e(e,"d"))}function $Re(e){e.registerChartView(kRe),e.registerSeriesModel(uRe)}var Ju=ft(),NG=Fe,V_=Se,vM=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(t,r,n,i){var o=r.get("value"),a=r.get("status");if(this._axisModel=t,this._axisPointerModel=r,this._api=n,!(!i&&this._lastValue===o&&this._lastStatus===a)){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||a==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,o,t,r,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var d=this._moveAnimation=this.determineAnimation(t,r);if(!s)s=this._group=new Ne,this.createPointerEl(s,u,t,r),this.createLabelEl(s,u,t,r),n.getZr().add(s);else{var h=je(zG,r,d);this.updatePointerEl(s,u,h),this.updateLabelEl(s,u,h,r)}VG(s,r,!0),this._renderHandle(o)}},e.prototype.remove=function(t){this.clear(t)},e.prototype.dispose=function(t){this.clear(t)},e.prototype.determineAnimation=function(t,r){var n=r.get("animation"),i=t.axis,o=i.type==="category",a=r.get("snap");if(!a&&!o)return!1;if(n==="auto"||n==null){var s=this.animationThreshold;if(o&&i.getBandWidth()>s)return!0;if(a){var l=zE(t).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return n===!0},e.prototype.makeElOption=function(t,r,n,i,o){},e.prototype.createPointerEl=function(t,r,n,i){var o=r.pointer;if(o){var a=Ju(t).pointerEl=new Yc[o.type](NG(r.pointer));t.add(a)}},e.prototype.createLabelEl=function(t,r,n,i){if(r.label){var o=Ju(t).labelEl=new dt(NG(r.label));t.add(o),BG(o,i)}},e.prototype.updatePointerEl=function(t,r,n){var i=Ju(t).pointerEl;i&&r.pointer&&(i.setStyle(r.pointer.style),n(i,{shape:r.pointer.shape}))},e.prototype.updateLabelEl=function(t,r,n,i){var o=Ju(t).labelEl;o&&(o.setStyle(r.label.style),n(o,{x:r.label.x,y:r.label.y}),BG(o,i))},e.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,n=this._api.getZr(),i=this._handle,o=r.getModel("handle"),a=r.get("status");if(!o.get("show")||!a||a==="hide"){i&&n.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=bf(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Rs(u.event)},onmousedown:V_(this._onHandleDragMove,this,0,0),drift:V_(this._onHandleDragMove,this),ondragend:V_(this._onHandleDragEnd,this)}),n.add(i)),VG(i,r,!1),i.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=o.get("size");se(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,Df(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,s)}},e.prototype._moveHandleToValue=function(t,r){zG(this._axisPointerModel,!r&&this._moveAnimation,this._handle,G_(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(t,r){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(G_(n),[t,r],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(G_(i)),Ju(n).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var r=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var r=t.getZr(),n=this._group,i=this._handle;r&&n&&(this._lastGraphicKey=null,n&&r.remove(n),i&&r.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),Sv(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(t,r,n){return n=n||0,{x:t[n],y:t[1-n],width:r[n],height:r[1-n]}},e}();function zG(e,t,r,n){vY(Ju(r).lastProp,n)||(Ju(r).lastProp=n,t?gt(r,n,e):(r.stopAnimation(),r.attr(n)))}function vY(e,t){if(ke(e)&&ke(t)){var r=!0;return F(t,function(n,i){r=r&&vY(e[i],n)}),!!r}else return e===t}function BG(e,t){e[t.get(["label","show"])?"show":"hide"]()}function G_(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function VG(e,t,r){var n=t.get("z"),i=t.get("zlevel");e&&e.traverse(function(o){o.type!=="group"&&(n!=null&&(o.z=n),i!=null&&(o.zlevel=i),o.silent=r)})}function mM(e){var t=e.get("type"),r=e.getModel(t+"Style"),n;return t==="line"?(n=r.getLineStyle(),n.fill=null):t==="shadow"&&(n=r.getAreaStyle(),n.stroke=null),n}function mY(e,t,r,n,i){var o=r.get("value"),a=yY(o,t.axis,t.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),s=r.getModel("label"),l=Kc(s.get("padding")||0),u=s.getFont(),c=am(a,u),d=i.position,h=c.width+l[1]+l[3],f=c.height+l[0]+l[2],g=i.align;g==="right"&&(d[0]-=h),g==="center"&&(d[0]-=h/2);var m=i.verticalAlign;m==="bottom"&&(d[1]-=f),m==="middle"&&(d[1]-=f/2),URe(d,h,f,n);var y=s.get("backgroundColor");(!y||y==="auto")&&(y=t.get(["axisLine","lineStyle","color"])),e.label={x:d[0],y:d[1],style:Mt(s,{text:a,font:u,fill:s.getTextColor(),padding:l,backgroundColor:y}),z2:10}}function URe(e,t,r,n){var i=n.getWidth(),o=n.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+r,o)-r,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function yY(e,t,r,n,i){e=t.scale.parse(e);var o=t.scale.getLabel({value:e},{precision:i.precision}),a=i.formatter;if(a){var s={value:PE(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};F(n,function(l){var u=r.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,d=u&&u.getDataParams(c);d&&s.seriesData.push(d)}),we(a)?o=a.replace("{value}",o):Ie(a)&&(o=a(s))}return o}function yM(e,t,r){var n=oi();return Ql(n,n,r.rotation),zo(n,n,r.position),ko([e.dataToCoord(t),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],n)}function CY(e,t,r,n,i,o){var a=On.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=i.get(["label","margin"]),mY(t,n,i,o,{position:yM(n.axis,e,r),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function CM(e,t,r){return r=r||0,{x1:e[r],y1:e[1-r],x2:t[r],y2:t[1-r]}}function wY(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}}function GG(e,t,r,n,i,o){return{cx:e,cy:t,r0:r,r:n,startAngle:i,endAngle:o,clockwise:!0}}var jRe=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,i,o,a){var s=i.axis,l=s.grid,u=o.get("type"),c=HG(l,s).getOtherAxis(s).getGlobalExtent(),d=s.toGlobalCoord(s.dataToCoord(n,!0));if(u&&u!=="none"){var h=mM(o),f=YRe[u](s,d,c);f.style=h,r.graphicKey=f.type,r.pointer=f}var g=dD(l.model,i);CY(n,r,g,i,o,a)},t.prototype.getHandleTransform=function(r,n,i){var o=dD(n.axis.grid.model,n,{labelInside:!1});o.labelMargin=i.get(["handle","margin"]);var a=yM(n.axis,r,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(r,n,i,o){var a=i.axis,s=a.grid,l=a.getGlobalExtent(!0),u=HG(s,a).getOtherAxis(a).getGlobalExtent(),c=a.dim==="x"?0:1,d=[r.x,r.y];d[c]+=n[c],d[c]=Math.min(l[1],d[c]),d[c]=Math.max(l[0],d[c]);var h=(u[1]+u[0])/2,f=[h,h];f[c]=d[c];var g=[{verticalAlign:"middle"},{align:"center"}];return{x:d[0],y:d[1],rotation:r.rotation,cursorPoint:f,tooltipOption:g[c]}},t}(vM);function HG(e,t){var r={};return r[t.dim+"AxisIndex"]=t.index,e.getCartesian(r)}var YRe={line:function(e,t,r){var n=CM([t,r[0]],[t,r[1]],WG(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,t,r){var n=Math.max(1,e.getBandWidth()),i=r[1]-r[0];return{type:"Rect",shape:wY([t-n/2,r[0]],[n,i],WG(e))}}};function WG(e){return e.dim==="x"?0:1}var KRe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(tt),fs=ft(),XRe=F;function bY(e,t,r){if(!rt.node){var n=t.getZr();fs(n).records||(fs(n).records={}),qRe(n,t);var i=fs(n).records[e]||(fs(n).records[e]={});i.handler=r}}function qRe(e,t){if(fs(e).initialized)return;fs(e).initialized=!0,r("click",je($G,"click")),r("mousemove",je($G,"mousemove")),r("globalout",QRe);function r(n,i){e.on(n,function(o){var a=JRe(t);XRe(fs(e).records,function(s){s&&i(s,o,a.dispatchAction)}),ZRe(a.pendings,t)})}}function ZRe(e,t){var r=e.showTip.length,n=e.hideTip.length,i;r?i=e.showTip[r-1]:n&&(i=e.hideTip[n-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function QRe(e,t,r){e.handler("leave",null,r)}function $G(e,t,r,n){t.handler(e,r,n)}function JRe(e){var t={showTip:[],hideTip:[]},r=function(n){var i=t[n.type];i?i.push(n):(n.dispatchAction=r,e.dispatchAction(n))};return{dispatchAction:r,pendings:t}}function MD(e,t){if(!rt.node){var r=t.getZr(),n=(fs(r).records||{})[e];n&&(fs(r).records[e]=null)}}var e_e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var o=n.getComponent("tooltip"),a=r.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";bY("axisPointer",i,function(s,l,u){a!=="none"&&(s==="leave"||a.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(r,n){MD("axisPointer",n)},t.prototype.dispose=function(r,n){MD("axisPointer",n)},t.type="axisPointer",t}(zt);function SY(e,t){var r=[],n=e.seriesIndex,i;if(n==null||!(i=t.getSeriesByIndex(n)))return{point:[]};var o=i.getData(),a=Ic(o,e);if(a==null||a<0||se(a))return{point:[]};var s=o.getItemGraphicEl(a),l=i.coordinateSystem;if(i.getTooltipPosition)r=i.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(e.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),d=c.dim,h=u.dim,f=d==="x"||d==="radius"?1:0,g=o.mapDimension(h),m=[];m[f]=o.get(g,a),m[1-f]=o.get(o.getCalculationInfo("stackResultDimension"),a),r=l.dataToPoint(m)||[]}else r=l.dataToPoint(o.getValues(le(l.dimensions,function(C){return o.mapDimension(C)}),a))||[];else if(s){var y=s.getBoundingRect().clone();y.applyTransform(s.transform),r=[y.x+y.width/2,y.y+y.height/2]}return{point:r,el:s}}var UG=ft();function t_e(e,t,r){var n=e.currTrigger,i=[e.x,e.y],o=e,a=e.dispatchAction||Se(r.dispatchAction,r),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){Iw(i)&&(i=SY({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var l=Iw(i),u=o.axesInfo,c=s.axesInfo,d=n==="leave"||Iw(i),h={},f={},g={list:[],map:{}},m={showPointer:je(n_e,f),showTooltip:je(i_e,g)};F(s.coordSysMap,function(C,w){var S=l||C.containPoint(i);F(s.coordSysAxesInfo[w],function(x,R){var T=x.axis,P=l_e(u,x);if(!d&&S&&(!u||P)){var D=P&&P.value;D==null&&!l&&(D=T.pointToData(i)),D!=null&&jG(x,D,m,!1,h)}})});var y={};return F(c,function(C,w){var S=C.linkGroup;S&&!f[w]&&F(S.axesInfo,function(x,R){var T=f[R];if(x!==C&&T){var P=T.value;S.mapper&&(P=C.axis.scale.parse(S.mapper(P,YG(x),YG(C)))),y[C.key]=P}})}),F(y,function(C,w){jG(c[w],C,m,!0,h)}),o_e(f,c,h),a_e(g,i,e,a),s_e(c,a,r),h}}function jG(e,t,r,n,i){var o=e.axis;if(!(o.scale.isBlank()||!o.containData(t))){if(!e.involveSeries){r.showPointer(e,t);return}var a=r_e(t,e),s=a.payloadBatch,l=a.snapToValue;s[0]&&i.seriesIndex==null&&ie(i,s[0]),!n&&e.snap&&o.containData(l)&&l!=null&&(t=l),r.showPointer(e,t,s),r.showTooltip(e,a,l)}}function r_e(e,t){var r=t.axis,n=r.dim,i=e,o=[],a=Number.MAX_VALUE,s=-1;return F(t.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(n),d,h;if(l.getAxisTooltipData){var f=l.getAxisTooltipData(c,e,r);h=f.dataIndices,d=f.nestestValue}else{if(h=l.getData().indicesOfNearest(c[0],e,r.type==="category"?.5:null),!h.length)return;d=l.getData().get(c[0],h[0])}if(!(d==null||!isFinite(d))){var g=e-d,m=Math.abs(g);m<=a&&((m<a||g>=0&&s<0)&&(a=m,s=g,i=d,o.length=0),F(h,function(y){o.push({seriesIndex:l.seriesIndex,dataIndexInside:y,dataIndex:l.getData().getRawIndex(y)})}))}}),{payloadBatch:o,snapToValue:i}}function n_e(e,t,r,n){e[t.key]={value:r,payloadBatch:n}}function i_e(e,t,r,n){var i=r.payloadBatch,o=t.axis,a=o.model,s=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var l=t.coordSys.model,u=Av(l),c=e.map[u];c||(c=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function o_e(e,t,r){var n=r.axesInfo=[];F(t,function(i,o){var a=i.axisPointerModel.option,s=e[o];s?(!i.useHandle&&(a.status="show"),a.value=s.value,a.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(a.status="hide"),a.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:a.value})})}function a_e(e,t,r,n){if(Iw(t)||!e.list.length){n({type:"hideTip"});return}var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}function s_e(e,t,r){var n=r.getZr(),i="axisPointerLastHighlights",o=UG(n)[i]||{},a=UG(n)[i]={};F(e,function(u,c){var d=u.axisPointerModel.option;d.status==="show"&&u.triggerEmphasis&&F(d.seriesDataIndices,function(h){var f=h.seriesIndex+" | "+h.dataIndex;a[f]=h})});var s=[],l=[];F(o,function(u,c){!a[c]&&l.push(u)}),F(a,function(u,c){!o[c]&&s.push(u)}),l.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function l_e(e,t){for(var r=0;r<(e||[]).length;r++){var n=e[r];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}function YG(e){var t=e.axis.model,r={},n=r.axisDim=e.axis.dim;return r.axisIndex=r[n+"AxisIndex"]=t.componentIndex,r.axisName=r[n+"AxisName"]=t.name,r.axisId=r[n+"AxisId"]=t.id,r}function Iw(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function Rm(e){Zc.registerAxisPointerClass("CartesianAxisPointer",jRe),e.registerComponentModel(KRe),e.registerComponentView(e_e),e.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var r=t.axisPointer.link;r&&!se(r)&&(t.axisPointer.link=[r])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(t,r){t.getComponent("axisPointer").coordSysAxesInfo=ywe(t,r)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},t_e)}function u_e(e){et(qj),et(Rm)}var c_e=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,i,o,a){var s=i.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),c=u.getExtent(),d=s.dataToCoord(n),h=o.get("type");if(h&&h!=="none"){var f=mM(o),g=h_e[h](s,l,d,c);g.style=f,r.graphicKey=g.type,r.pointer=g}var m=o.get(["label","margin"]),y=d_e(n,i,o,l,m);mY(r,i,o,a,y)},t}(vM);function d_e(e,t,r,n,i){var o=t.axis,a=o.dataToCoord(e),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=n.getRadiusAxis().getExtent(),u,c,d;if(o.dim==="radius"){var h=oi();Ql(h,h,s),zo(h,h,[n.cx,n.cy]),u=ko([a,-i],h);var f=t.getModel("axisLabel").get("rotate")||0,g=On.innerTextLayout(s,f*Math.PI/180,-1);c=g.textAlign,d=g.textVerticalAlign}else{var m=l[1];u=n.coordToPoint([m+i,a]);var y=n.cx,C=n.cy;c=Math.abs(u[0]-y)/m<.3?"center":u[0]>y?"left":"right",d=Math.abs(u[1]-C)/m<.3?"middle":u[1]>C?"top":"bottom"}return{position:u,align:c,verticalAlign:d}}var h_e={line:function(e,t,r,n){return e.dim==="angle"?{type:"Line",shape:CM(t.coordToPoint([n[0],r]),t.coordToPoint([n[1],r]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r}}},shadow:function(e,t,r,n){var i=Math.max(1,e.getBandWidth()),o=Math.PI/180;return e.dim==="angle"?{type:"Sector",shape:GG(t.cx,t.cy,n[0],n[1],(-r-i/2)*o,(-r+i/2)*o)}:{type:"Sector",shape:GG(t.cx,t.cy,r-i/2,r+i/2,0,Math.PI*2)}}},f_e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.findAxisModel=function(r){var n,i=this.ecModel;return i.eachComponent(r,function(o){o.getCoordSysModel()===this&&(n=o)},this),n},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(tt),wM=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",mr).models[0]},t.type="polarAxis",t}(tt);ar(wM,Mf);var p_e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="angleAxis",t}(wM),g_e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="radiusAxis",t}(wM),bM=function(e){q(t,e);function t(r,n){return e.call(this,"radius",r,n)||this}return t.prototype.pointToData=function(r,n){return this.polar.pointToData(r,n)[this.dim==="radius"?0:1]},t}(uo);bM.prototype.dataToRadius=uo.prototype.dataToCoord;bM.prototype.radiusToData=uo.prototype.coordToData;var v_e=ft(),SM=function(e){q(t,e);function t(r,n){return e.call(this,"angle",r,n||[0,360])||this}return t.prototype.pointToData=function(r,n){return this.polar.pointToData(r,n)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var r=this,n=r.getLabelModel(),i=r.scale,o=i.getExtent(),a=i.count();if(o[1]-o[0]<1)return 0;var s=o[0],l=r.dataToCoord(s+1)-r.dataToCoord(s),u=Math.abs(l),c=am(s==null?"":s+"",n.getFont(),"center","top"),d=Math.max(c.height,7),h=d/u;isNaN(h)&&(h=1/0);var f=Math.max(0,Math.floor(h)),g=v_e(r.model),m=g.lastAutoInterval,y=g.lastTickCount;return m!=null&&y!=null&&Math.abs(m-f)<=1&&Math.abs(y-a)<=1&&m>f?f=m:(g.lastTickCount=a,g.lastAutoInterval=f),f},t}(uo);SM.prototype.dataToAngle=uo.prototype.dataToCoord;SM.prototype.angleToData=uo.prototype.coordToData;var xY=["radius","angle"],m_e=function(){function e(t){this.dimensions=xY,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new bM,this._angleAxis=new SM,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(t){var r=this.pointToCoord(t);return this._radiusAxis.contain(r[0])&&this._angleAxis.contain(r[1])},e.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},e.prototype.getAxis=function(t){var r="_"+t+"Axis";return this[r]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(t){var r=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&r.push(n),i.scale.type===t&&r.push(i),r},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(t){var r=this._angleAxis;return t===r?this._radiusAxis:r},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(t){var r=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[r],otherAxes:[this.getOtherAxis(r)]}},e.prototype.dataToPoint=function(t,r){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],r),this._angleAxis.dataToAngle(t[1],r)])},e.prototype.pointToData=function(t,r){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],r),this._angleAxis.angleToData(n[1],r)]},e.prototype.pointToCoord=function(t){var r=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),o=i.getExtent(),a=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);i.inverse?a=s-360:s=a+360;var l=Math.sqrt(r*r+n*n);r/=l,n/=l;for(var u=Math.atan2(-n,r)/Math.PI*180,c=u<a?1:-1;u<a||u>s;)u+=c*360;return[l,u]},e.prototype.coordToPoint=function(t){var r=t[0],n=t[1]/180*Math.PI,i=Math.cos(n)*r+this.cx,o=-Math.sin(n)*r+this.cy;return[i,o]},e.prototype.getArea=function(){var t=this.getAngleAxis(),r=this.getRadiusAxis(),n=r.getExtent().slice();n[0]>n[1]&&n.reverse();var i=t.getExtent(),o=Math.PI/180,a=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*o,endAngle:-i[1]*o,clockwise:t.inverse,contain:function(s,l){var u=s-this.cx,c=l-this.cy,d=u*u+c*c,h=this.r,f=this.r0;return h!==f&&d-a<=h*h&&d+a>=f*f}}},e.prototype.convertToPixel=function(t,r,n){var i=KG(r);return i===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,r,n){var i=KG(r);return i===this?this.pointToData(n):null},e}();function KG(e){var t=e.seriesModel,r=e.polarModel;return r&&r.coordinateSystem||t&&t.coordinateSystem}function y_e(e,t,r){var n=t.get("center"),i=r.getWidth(),o=r.getHeight();e.cx=me(n[0],i),e.cy=me(n[1],o);var a=e.getRadiusAxis(),s=Math.min(i,o)/2,l=t.get("radius");l==null?l=[0,"100%"]:se(l)||(l=[0,l]);var u=[me(l[0],s),me(l[1],s)];a.inverse?a.setExtent(u[1],u[0]):a.setExtent(u[0],u[1])}function C_e(e,t){var r=this,n=r.getAngleAxis(),i=r.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),e.eachSeries(function(s){if(s.coordinateSystem===r){var l=s.getData();F(D0(l,"radius"),function(u){i.scale.unionExtentFromData(l,u)}),F(D0(l,"angle"),function(u){n.scale.unionExtentFromData(l,u)})}}),Fc(n.scale,n.model),Fc(i.scale,i.model),n.type==="category"&&!n.onBand){var o=n.getExtent(),a=360/n.scale.count();n.inverse?o[1]+=a:o[1]-=a,n.setExtent(o[0],o[1])}}function w_e(e){return e.mainType==="angleAxis"}function XG(e,t){var r;if(e.type=t.get("type"),e.scale=gm(t),e.onBand=t.get("boundaryGap")&&e.type==="category",e.inverse=t.get("inverse"),w_e(t)){e.inverse=e.inverse!==t.get("clockwise");var n=t.get("startAngle"),i=(r=t.get("endAngle"))!==null&&r!==void 0?r:n+(e.inverse?-360:360);e.setExtent(n,i)}t.axis=e,e.model=t}var b_e={dimensions:xY,create:function(e,t){var r=[];return e.eachComponent("polar",function(n,i){var o=new m_e(i+"");o.update=C_e;var a=o.getRadiusAxis(),s=o.getAngleAxis(),l=n.findAxisModel("radiusAxis"),u=n.findAxisModel("angleAxis");XG(a,l),XG(s,u),y_e(o,n,t),r.push(o),n.coordinateSystem=o,o.model=n}),e.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var i=n.getReferringComponents("polar",mr).models[0];n.coordinateSystem=i.coordinateSystem}}),r}},S_e=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function GC(e,t,r){t[1]>t[0]&&(t=t.slice().reverse());var n=e.coordToPoint([t[0],r]),i=e.coordToPoint([t[1],r]);return{x1:n[0],y1:n[1],x2:i[0],y2:i[1]}}function HC(e){var t=e.getRadiusAxis();return t.inverse?0:1}function qG(e){var t=e[0],r=e[e.length-1];t&&r&&Math.abs(Math.abs(t.coord-r.coord)-360)<1e-4&&e.pop()}var x_e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="PolarAxisPointer",r}return t.prototype.render=function(r,n){if(this.group.removeAll(),!!r.get("show")){var i=r.axis,o=i.polar,a=o.getRadiusAxis().getExtent(),s=i.getTicksCoords(),l=i.getMinorTicksCoords(),u=le(i.getViewLabels(),function(c){c=Fe(c);var d=i.scale,h=d.type==="ordinal"?d.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=i.dataToCoord(h),c});qG(u),qG(s),F(S_e,function(c){r.get([c,"show"])&&(!i.scale.isBlank()||c==="axisLine")&&R_e[c](this.group,r,o,s,l,a,u)},this)}},t.type="angleAxis",t}(Zc),R_e={axisLine:function(e,t,r,n,i,o){var a=t.getModel(["axisLine","lineStyle"]),s=r.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),c=HC(r),d=c?0:1,h,f=Math.abs(u[1]-u[0])===360?"Circle":"Arc";o[d]===0?h=new Yc[f]({shape:{cx:r.cx,cy:r.cy,r:o[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:a.getLineStyle(),z2:1,silent:!0}):h=new mf({shape:{cx:r.cx,cy:r.cy,r:o[c],r0:o[d]},style:a.getLineStyle(),z2:1,silent:!0}),h.style.fill=null,e.add(h)},axisTick:function(e,t,r,n,i,o){var a=t.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=o[HC(r)],u=le(n,function(c){return new Rr({shape:GC(r,[l,l+s],c.coord)})});e.add(gi(u,{style:Ee(a.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,r,n,i,o){if(i.length){for(var a=t.getModel("axisTick"),s=t.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),u=o[HC(r)],c=[],d=0;d<i.length;d++)for(var h=0;h<i[d].length;h++)c.push(new Rr({shape:GC(r,[u,u+l],i[d][h].coord)}));e.add(gi(c,{style:Ee(s.getModel("lineStyle").getLineStyle(),Ee(a.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,r,n,i,o,a){var s=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),c=t.get("triggerEvent");F(a,function(d,h){var f=l,g=d.tickValue,m=o[HC(r)],y=r.coordToPoint([m+u,d.coord]),C=r.cx,w=r.cy,S=Math.abs(y[0]-C)/m<.3?"center":y[0]>C?"left":"right",x=Math.abs(y[1]-w)/m<.3?"middle":y[1]>w?"top":"bottom";if(s&&s[g]){var R=s[g];ke(R)&&R.textStyle&&(f=new yt(R.textStyle,l,l.ecModel))}var T=new dt({silent:On.isLabelSilent(t),style:Mt(f,{x:y[0],y:y[1],fill:f.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:d.formattedLabel,align:S,verticalAlign:x})});if(e.add(T),c){var P=On.makeAxisEventDataBase(t);P.targetType="axisLabel",P.value=d.rawLabel,Ve(T).eventData=P}},this)},splitLine:function(e,t,r,n,i,o){var a=t.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],d=0;d<n.length;d++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new Rr({shape:GC(r,o,n[d].coord)}))}for(var d=0;d<c.length;d++)e.add(gi(c[d],{style:Ee({stroke:l[d%l.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,r,n,i,o){if(i.length){for(var a=t.getModel("minorSplitLine"),s=a.getModel("lineStyle"),l=[],u=0;u<i.length;u++)for(var c=0;c<i[u].length;c++)l.push(new Rr({shape:GC(r,o,i[u][c].coord)}));e.add(gi(l,{style:s.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,r,n,i,o){if(n.length){var a=t.getModel("splitArea"),s=a.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],d=Math.PI/180,h=-n[0].coord*d,f=Math.min(o[0],o[1]),g=Math.max(o[0],o[1]),m=t.get("clockwise"),y=1,C=n.length;y<=C;y++){var w=y===C?n[0].coord:n[y].coord,S=u++%l.length;c[S]=c[S]||[],c[S].push(new wn({shape:{cx:r.cx,cy:r.cy,r0:f,r:g,startAngle:h,endAngle:-w*d,clockwise:m},silent:!0})),h=-w*d}for(var y=0;y<c.length;y++)e.add(gi(c[y],{style:Ee({fill:l[y%l.length]},s.getAreaStyle()),silent:!0}))}}},__e=["axisLine","axisTickLabel","axisName"],T_e=["splitLine","splitArea","minorSplitLine"],P_e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="PolarAxisPointer",r}return t.prototype.render=function(r,n){if(this.group.removeAll(),!!r.get("show")){var i=this._axisGroup,o=this._axisGroup=new Ne;this.group.add(o);var a=r.axis,s=a.polar,l=s.getAngleAxis(),u=a.getTicksCoords(),c=a.getMinorTicksCoords(),d=l.getExtent()[0],h=a.getExtent(),f=A_e(s,r,d),g=new On(r,f);F(__e,g.add,g),o.add(g.getGroup()),hm(i,o,r),F(T_e,function(m){r.get([m,"show"])&&!a.scale.isBlank()&&D_e[m](this.group,r,s,d,h,u,c)},this)}},t.type="radiusAxis",t}(Zc),D_e={splitLine:function(e,t,r,n,i,o){var a=t.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color"),u=0,c=r.getAngleAxis(),d=Math.PI/180,h=c.getExtent(),f=Math.abs(h[1]-h[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var g=[],m=0;m<o.length;m++){var y=u++%l.length;g[y]=g[y]||[],g[y].push(new Yc[f]({shape:{cx:r.cx,cy:r.cy,r:Math.max(o[m].coord,0),startAngle:-h[0]*d,endAngle:-h[1]*d,clockwise:c.inverse}}))}for(var m=0;m<g.length;m++)e.add(gi(g[m],{style:Ee({stroke:l[m%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,r,n,i,o,a){if(a.length){for(var s=t.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],c=0;c<a.length;c++)for(var d=0;d<a[c].length;d++)u.push(new La({shape:{cx:r.cx,cy:r.cy,r:a[c][d].coord}}));e.add(gi(u,{style:Ee({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(e,t,r,n,i,o){if(o.length){var a=t.getModel("splitArea"),s=a.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],d=o[0].coord,h=1;h<o.length;h++){var f=u++%l.length;c[f]=c[f]||[],c[f].push(new wn({shape:{cx:r.cx,cy:r.cy,r0:d,r:o[h].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),d=o[h].coord}for(var h=0;h<c.length;h++)e.add(gi(c[h],{style:Ee({fill:l[h%l.length]},s.getAreaStyle()),silent:!0}))}}};function A_e(e,t,r){return{position:[e.cx,e.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function RY(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function _Y(e,t){return t.dim+e.model.componentIndex}function I_e(e,t,r){var n={},i=E_e(mt(t.getSeriesByType(e),function(o){return!t.isSeriesFiltered(o)&&o.coordinateSystem&&o.coordinateSystem.type==="polar"}));t.eachSeriesByType(e,function(o){if(o.coordinateSystem.type==="polar"){var a=o.getData(),s=o.coordinateSystem,l=s.getBaseAxis(),u=_Y(s,l),c=RY(o),d=i[u][c],h=d.offset,f=d.width,g=s.getOtherAxis(l),m=o.coordinateSystem.cx,y=o.coordinateSystem.cy,C=o.get("barMinHeight")||0,w=o.get("barMinAngle")||0;n[c]=n[c]||[];for(var S=a.mapDimension(g.dim),x=a.mapDimension(l.dim),R=Ds(a,S),T=l.dim!=="radius"||!o.get("roundCap",!0),P=g.model,D=P.get("startValue"),I=g.dataToCoord(D||0),E=0,k=a.count();E<k;E++){var L=a.get(S,E),N=a.get(x,E),B=L>=0?"p":"n",V=I;R&&(n[c][N]||(n[c][N]={p:I,n:I}),V=n[c][N][B]);var W=void 0,j=void 0,G=void 0,$=void 0;if(g.dim==="radius"){var K=g.dataToCoord(L)-I,H=l.dataToCoord(N);Math.abs(K)<C&&(K=(K<0?-1:1)*C),W=V,j=V+K,G=H-h,$=G-f,R&&(n[c][N][B]=j)}else{var U=g.dataToCoord(L,T)-I,ne=l.dataToCoord(N);Math.abs(U)<w&&(U=(U<0?-1:1)*w),W=ne+h,j=W+f,G=V,$=V+U,R&&(n[c][N][B]=$)}a.setItemLayout(E,{cx:m,cy:y,r0:W,r:j,startAngle:-G*Math.PI/180,endAngle:-$*Math.PI/180,clockwise:G>=$})}}})}function E_e(e){var t={};F(e,function(n,i){var o=n.getData(),a=n.coordinateSystem,s=a.getBaseAxis(),l=_Y(a,s),u=s.getExtent(),c=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/o.count(),d=t[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=d.stacks;t[l]=d;var f=RY(n);h[f]||d.autoWidthCount++,h[f]=h[f]||{width:0,maxWidth:0};var g=me(n.get("barWidth"),c),m=me(n.get("barMaxWidth"),c),y=n.get("barGap"),C=n.get("barCategoryGap");g&&!h[f].width&&(g=Math.min(d.remainedWidth,g),h[f].width=g,d.remainedWidth-=g),m&&(h[f].maxWidth=m),y!=null&&(d.gap=y),C!=null&&(d.categoryGap=C)});var r={};return F(t,function(n,i){r[i]={};var o=n.stacks,a=n.bandWidth,s=me(n.categoryGap,a),l=me(n.gap,1),u=n.remainedWidth,c=n.autoWidthCount,d=(u-s)/(c+(c-1)*l);d=Math.max(d,0),F(o,function(m,y){var C=m.maxWidth;C&&C<d&&(C=Math.min(C,u),m.width&&(C=Math.min(C,m.width)),u-=C,m.width=C,c--)}),d=(u-s)/(c+(c-1)*l),d=Math.max(d,0);var h=0,f;F(o,function(m,y){m.width||(m.width=d),f=m,h+=m.width*(1+l)}),f&&(h-=f.width*l);var g=-h/2;F(o,function(m,y){r[i][y]=r[i][y]||{offset:g,width:m.width},g+=m.width*(1+l)})}),r}var M_e={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},k_e={splitNumber:5},F_e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="polar",t}(zt);function L_e(e){et(Rm),Zc.registerAxisPointerClass("PolarAxisPointer",c_e),e.registerCoordinateSystem("polar",b_e),e.registerComponentModel(f_e),e.registerComponentView(F_e),qh(e,"angle",p_e,M_e),qh(e,"radius",g_e,k_e),e.registerComponentView(x_e),e.registerComponentView(P_e),e.registerLayout(je(I_e,"bar"))}function kD(e,t){t=t||{};var r=e.coordinateSystem,n=e.axis,i={},o=n.position,a=n.orient,s=r.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[a==="vertical"?u.vertical[o]:l[0],a==="horizontal"?u.horizontal[o]:l[3]];var c={horizontal:0,vertical:1};i.rotation=Math.PI/2*c[a];var d={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=d[o],e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Ar(t.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var h=t.rotate;return h==null&&(h=e.get(["axisLabel","rotate"])),i.labelRotation=o==="top"?-h:h,i.z2=1,i}var O_e=["axisLine","axisTickLabel","axisName"],N_e=["splitArea","splitLine"],z_e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="SingleAxisPointer",r}return t.prototype.render=function(r,n,i,o){var a=this.group;a.removeAll();var s=this._axisGroup;this._axisGroup=new Ne;var l=kD(r),u=new On(r,l);F(O_e,u.add,u),a.add(this._axisGroup),a.add(u.getGroup()),F(N_e,function(c){r.get([c,"show"])&&B_e[c](this,this.group,this._axisGroup,r)},this),hm(s,this._axisGroup,r),e.prototype.render.call(this,r,n,i,o)},t.prototype.remove=function(){Yj(this)},t.type="singleAxis",t}(Zc),B_e={splitLine:function(e,t,r,n){var i=n.axis;if(!i.scale.isBlank()){var o=n.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=s instanceof Array?s:[s];for(var l=a.get("width"),u=n.coordinateSystem.getRect(),c=i.isHorizontal(),d=[],h=0,f=i.getTicksCoords({tickModel:o}),g=[],m=[],y=0;y<f.length;++y){var C=i.toGlobalCoord(f[y].coord);c?(g[0]=C,g[1]=u.y,m[0]=C,m[1]=u.y+u.height):(g[0]=u.x,g[1]=C,m[0]=u.x+u.width,m[1]=C);var w=new Rr({shape:{x1:g[0],y1:g[1],x2:m[0],y2:m[1]},silent:!0});jh(w.shape,l);var S=h++%s.length;d[S]=d[S]||[],d[S].push(w)}for(var x=a.getLineStyle(["color"]),y=0;y<d.length;++y)t.add(gi(d[y],{style:Ee({stroke:s[y%s.length]},x),silent:!0}))}},splitArea:function(e,t,r,n){jj(e,r,n,n)}},Ew=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(tt);ar(Ew,Mf.prototype);var V_e=function(e){q(t,e);function t(r,n,i,o,a){var s=e.call(this,r,n,i)||this;return s.type=o||"value",s.position=a||"bottom",s}return t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},t.prototype.pointToData=function(r,n){return this.coordinateSystem.pointToData(r)[0]},t}(uo),TY=["single"],G_e=function(){function e(t,r,n){this.type="single",this.dimension="single",this.dimensions=TY,this.axisPointerEnabled=!0,this.model=t,this._init(t,r,n)}return e.prototype._init=function(t,r,n){var i=this.dimension,o=new V_e(i,gm(t),[0,0],t.get("type"),t.get("position")),a=o.type==="category";o.onBand=a&&t.get("boundaryGap"),o.inverse=t.get("inverse"),o.orient=t.get("orient"),t.axis=o,o.model=t,o.coordinateSystem=this,this._axis=o},e.prototype.update=function(t,r){t.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();F(i.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(i,o)},this),Fc(this._axis.scale,this._axis.model)}},this)},e.prototype.resize=function(t,r){this._rect=yr({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:r.getWidth(),height:r.getHeight()}),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var t=this._rect,r=this._axis,n=r.isHorizontal(),i=n?[0,t.width]:[0,t.height],o=r.inverse?1:0;r.setExtent(i[o],i[1-o]),this._updateAxisTransform(r,n?t.x:t.y)},e.prototype._updateAxisTransform=function(t,r){var n=t.getExtent(),i=n[0]+n[1],o=t.isHorizontal();t.toGlobalCoord=o?function(a){return a+r}:function(a){return i-a+r},t.toLocalCoord=o?function(a){return a-r}:function(a){return i-a+r}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(t){var r=this.getRect(),n=this.getAxis(),i=n.orient;return i==="horizontal"?n.contain(n.toLocalCoord(t[0]))&&t[1]>=r.y&&t[1]<=r.y+r.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=r.y&&t[0]<=r.y+r.height},e.prototype.pointToData=function(t){var r=this.getAxis();return[r.coordToData(r.toLocalCoord(t[r.orient==="horizontal"?0:1]))]},e.prototype.dataToPoint=function(t){var r=this.getAxis(),n=this.getRect(),i=[],o=r.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),i[o]=r.toGlobalCoord(r.dataToCoord(+t)),i[1-o]=o===0?n.y+n.height/2:n.x+n.width/2,i},e.prototype.convertToPixel=function(t,r,n){var i=ZG(r);return i===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,r,n){var i=ZG(r);return i===this?this.pointToData(n):null},e}();function ZG(e){var t=e.seriesModel,r=e.singleAxisModel;return r&&r.coordinateSystem||t&&t.coordinateSystem}function H_e(e,t){var r=[];return e.eachComponent("singleAxis",function(n,i){var o=new G_e(n,e,t);o.name="single_"+i,o.resize(n,t),n.coordinateSystem=o,r.push(o)}),e.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var i=n.getReferringComponents("singleAxis",mr).models[0];n.coordinateSystem=i&&i.coordinateSystem}}),r}var W_e={create:H_e,dimensions:TY},QG=["x","y"],$_e=["width","height"],U_e=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,i,o,a){var s=i.axis,l=s.coordinateSystem,u=H_(l,1-H0(s)),c=l.dataToPoint(n)[0],d=o.get("type");if(d&&d!=="none"){var h=mM(o),f=j_e[d](s,c,u);f.style=h,r.graphicKey=f.type,r.pointer=f}var g=kD(i);CY(n,r,g,i,o,a)},t.prototype.getHandleTransform=function(r,n,i){var o=kD(n,{labelInside:!1});o.labelMargin=i.get(["handle","margin"]);var a=yM(n.axis,r,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(r,n,i,o){var a=i.axis,s=a.coordinateSystem,l=H0(a),u=H_(s,l),c=[r.x,r.y];c[l]+=n[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var d=H_(s,1-l),h=(d[1]+d[0])/2,f=[h,h];return f[l]=c[l],{x:c[0],y:c[1],rotation:r.rotation,cursorPoint:f,tooltipOption:{verticalAlign:"middle"}}},t}(vM),j_e={line:function(e,t,r){var n=CM([t,r[0]],[t,r[1]],H0(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,t,r){var n=e.getBandWidth(),i=r[1]-r[0];return{type:"Rect",shape:wY([t-n/2,r[0]],[n,i],H0(e))}}};function H0(e){return e.isHorizontal()?0:1}function H_(e,t){var r=e.getRect();return[r[QG[t]],r[QG[t]]+r[$_e[t]]]}var Y_e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="single",t}(zt);function K_e(e){et(Rm),Zc.registerAxisPointerClass("SingleAxisPointer",U_e),e.registerComponentView(Y_e),e.registerComponentView(z_e),e.registerComponentModel(Ew),qh(e,"single",Ew,Ew.defaultOption),e.registerCoordinateSystem("single",W_e)}var X_e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n,i){var o=Rf(r);e.prototype.init.apply(this,arguments),JG(r,o)},t.prototype.mergeOption=function(r){e.prototype.mergeOption.apply(this,arguments),JG(this.option,r)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(tt);function JG(e,t){var r=e.cellSize,n;se(r)?n=r:n=e.cellSize=[r,r],n.length===1&&(n[1]=n[0]);var i=le([0,1],function(o){return Jfe(t,o)&&(n[o]="auto"),n[o]!=null&&n[o]!=="auto"});jl(e,t,{type:"box",ignoreSize:i})}var q_e=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var o=this.group;o.removeAll();var a=r.coordinateSystem,s=a.getRangeInfo(),l=a.getOrient(),u=n.getLocaleModel();this._renderDayRect(r,s,o),this._renderLines(r,s,l,o),this._renderYearText(r,s,l,o),this._renderMonthText(r,u,l,o),this._renderWeekText(r,u,s,l,o)},t.prototype._renderDayRect=function(r,n,i){for(var o=r.coordinateSystem,a=r.getModel("itemStyle").getItemStyle(),s=o.getCellWidth(),l=o.getCellHeight(),u=n.start.time;u<=n.end.time;u=o.getNextNDay(u,1).time){var c=o.dataToRect([u],!1).tl,d=new ht({shape:{x:c[0],y:c[1],width:s,height:l},cursor:"default",style:a});i.add(d)}},t.prototype._renderLines=function(r,n,i,o){var a=this,s=r.coordinateSystem,l=r.getModel(["splitLine","lineStyle"]).getLineStyle(),u=r.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var d=n.start,h=0;d.time<=n.end.time;h++){g(d.formatedDate),h===0&&(d=s.getDateInfo(n.start.y+"-"+n.start.m));var f=d.date;f.setMonth(f.getMonth()+1),d=s.getDateInfo(f)}g(s.getNextNDay(n.end.time,1).formatedDate);function g(m){a._firstDayOfMonth.push(s.getDateInfo(m)),a._firstDayPoints.push(s.dataToRect([m],!1).tl);var y=a._getLinePointsOfOneWeek(r,m,i);a._tlpoints.push(y[0]),a._blpoints.push(y[y.length-1]),u&&a._drawSplitline(y,l,o)}u&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,c,i),l,o),u&&this._drawSplitline(a._getEdgesPoints(a._blpoints,c,i),l,o)},t.prototype._getEdgesPoints=function(r,n,i){var o=[r[0].slice(),r[r.length-1].slice()],a=i==="horizontal"?0:1;return o[0][a]=o[0][a]-n/2,o[1][a]=o[1][a]+n/2,o},t.prototype._drawSplitline=function(r,n,i){var o=new Rn({z2:20,shape:{points:r},style:n});i.add(o)},t.prototype._getLinePointsOfOneWeek=function(r,n,i){for(var o=r.coordinateSystem,a=o.getDateInfo(n),s=[],l=0;l<7;l++){var u=o.getNextNDay(a.time,l),c=o.dataToRect([u.time],!1);s[2*u.day]=c.tl,s[2*u.day+1]=c[i==="horizontal"?"bl":"tr"]}return s},t.prototype._formatterLabel=function(r,n){return we(r)&&r?Xfe(r,n):Ie(r)?r(n):n.nameMap},t.prototype._yearTextPositionControl=function(r,n,i,o,a){var s=n[0],l=n[1],u=["center","bottom"];o==="bottom"?(l+=a,u=["center","top"]):o==="left"?s-=a:o==="right"?(s+=a,u=["center","top"]):l-=a;var c=0;return(o==="left"||o==="right")&&(c=Math.PI/2),{rotation:c,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},t.prototype._renderYearText=function(r,n,i,o){var a=r.getModel("yearLabel");if(a.get("show")){var s=a.get("margin"),l=a.get("position");l||(l=i!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,d=(u[0][1]+u[1][1])/2,h=i==="horizontal"?0:1,f={top:[c,u[h][1]],bottom:[c,u[1-h][1]],left:[u[1-h][0],d],right:[u[h][0],d]},g=n.start.y;+n.end.y>+n.start.y&&(g=g+"-"+n.end.y);var m=a.get("formatter"),y={start:n.start.y,end:n.end.y,nameMap:g},C=this._formatterLabel(m,y),w=new dt({z2:30,style:Mt(a,{text:C}),silent:a.get("silent")});w.attr(this._yearTextPositionControl(w,f[l],i,l,s)),o.add(w)}},t.prototype._monthTextPositionControl=function(r,n,i,o,a){var s="left",l="top",u=r[0],c=r[1];return i==="horizontal"?(c=c+a,n&&(s="center"),o==="start"&&(l="bottom")):(u=u+a,n&&(l="middle"),o==="start"&&(s="right")),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderMonthText=function(r,n,i,o){var a=r.getModel("monthLabel");if(a.get("show")){var s=a.get("nameMap"),l=a.get("margin"),u=a.get("position"),c=a.get("align"),d=[this._tlpoints,this._blpoints];(!s||we(s))&&(s&&(n=VP(s)||n),s=n.get(["time","monthAbbr"])||[]);var h=u==="start"?0:1,f=i==="horizontal"?0:1;l=u==="start"?-l:l;for(var g=c==="center",m=a.get("silent"),y=0;y<d[h].length-1;y++){var C=d[h][y].slice(),w=this._firstDayOfMonth[y];if(g){var S=this._firstDayPoints[y];C[f]=(S[f]+d[0][y+1][f])/2}var x=a.get("formatter"),R=s[+w.m-1],T={yyyy:w.y,yy:(w.y+"").slice(2),MM:w.m,M:+w.m,nameMap:R},P=this._formatterLabel(x,T),D=new dt({z2:30,style:ie(Mt(a,{text:P}),this._monthTextPositionControl(C,g,i,u,l)),silent:m});o.add(D)}}},t.prototype._weekTextPositionControl=function(r,n,i,o,a){var s="center",l="middle",u=r[0],c=r[1],d=i==="start";return n==="horizontal"?(u=u+o+(d?1:-1)*a[0]/2,s=d?"right":"left"):(c=c+o+(d?1:-1)*a[1]/2,l=d?"bottom":"top"),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderWeekText=function(r,n,i,o,a){var s=r.getModel("dayLabel");if(s.get("show")){var l=r.coordinateSystem,u=s.get("position"),c=s.get("nameMap"),d=s.get("margin"),h=l.getFirstDayOfWeek();if(!c||we(c)){c&&(n=VP(c)||n);var f=n.get(["time","dayOfWeekShort"]);c=f||le(n.get(["time","dayOfWeekAbbr"]),function(T){return T[0]})}var g=l.getNextNDay(i.end.time,7-i.lweek).time,m=[l.getCellWidth(),l.getCellHeight()];d=me(d,Math.min(m[1],m[0])),u==="start"&&(g=l.getNextNDay(i.start.time,-(7+i.fweek)).time,d=-d);for(var y=s.get("silent"),C=0;C<7;C++){var w=l.getNextNDay(g,C),S=l.dataToRect([w.time],!1).center,x=C;x=Math.abs((C+h)%7);var R=new dt({z2:30,style:ie(Mt(s,{text:c[x]}),this._weekTextPositionControl(S,o,u,d,m)),silent:y});a.add(R)}}},t.type="calendar",t}(zt),W_=864e5,Z_e=function(){function e(t,r,n){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(t){t=xi(t);var r=t.getFullYear(),n=t.getMonth()+1,i=n<10?"0"+n:""+n,o=t.getDate(),a=o<10?"0"+o:""+o,s=t.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:r+"",m:i,d:a,day:s,time:t.getTime(),formatedDate:r+"-"+i+"-"+a,date:t}},e.prototype.getNextNDay=function(t,r){return r=r||0,r===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+r),this.getDateInfo(t))},e.prototype.update=function(t,r){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],o=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[n,7]:[7,n];F([0,1],function(d){c(o,d)&&(a[i[d]]=o[d]*s[d])});var l={width:r.getWidth(),height:r.getHeight()},u=this._rect=yr(a,l);F([0,1],function(d){c(o,d)||(o[d]=u[i[d]]/s[d])});function c(d,h){return d[h]!=null&&d[h]!=="auto"}this._sw=o[0],this._sh=o[1]},e.prototype.dataToPoint=function(t,r){se(t)&&(t=t[0]),r==null&&(r=!0);var n=this.getDateInfo(t),i=this._rangeInfo,o=n.formatedDate;if(r&&!(n.time>=i.start.time&&n.time<i.end.time+W_))return[NaN,NaN];var a=n.day,s=this._getRangeInfo([i.start.time,o]).nthWeek;return this._orient==="vertical"?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},e.prototype.pointToData=function(t){var r=this.pointToDate(t);return r&&r.time},e.prototype.dataToRect=function(t,r){var n=this.dataToPoint(t,r);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},e.prototype.pointToDate=function(t){var r=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,r-1,i):this._getDateByWeeksAndDay(r,n-1,i)},e.prototype.convertToPixel=function(t,r,n){var i=eH(r);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,r,n){var i=eH(r);return i===this?i.pointToData(n):null},e.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},e.prototype._initRangeOption=function(){var t=this._model.get("range"),r;if(se(t)&&t.length===1&&(t=t[0]),se(t))r=t;else{var n=t.toString();if(/^\d{4}$/.test(n)&&(r=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),o=i.date;o.setMonth(o.getMonth()+1);var a=this.getNextNDay(o,-1);r=[i.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(r=[n,n])}if(!r)return t;var s=this._getRangeInfo(r);return s.start.time>s.end.time&&r.reverse(),r},e.prototype._getRangeInfo=function(t){var r=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],n;r[0].time>r[1].time&&(n=!0,r.reverse());var i=Math.floor(r[1].time/W_)-Math.floor(r[0].time/W_)+1,o=new Date(r[0].time),a=o.getDate(),s=r[1].date.getDate();o.setDate(a+i-1);var l=o.getDate();if(l!==s)for(var u=o.getTime()-r[1].time>0?1:-1;(l=o.getDate())!==s&&(o.getTime()-r[1].time)*u>0;)i-=u,o.setDate(l-u);var c=Math.floor((i+r[0].day+6)/7),d=n?-c+1:c-1;return n&&r.reverse(),{range:[r[0].formatedDate,r[1].formatedDate],start:r[0],end:r[1],allDay:i,weeks:c,nthWeek:d,fweek:r[0].day,lweek:r[1].day}},e.prototype._getDateByWeeksAndDay=function(t,r,n){var i=this._getRangeInfo(n);if(t>i.weeks||t===0&&r<i.fweek||t===i.weeks&&r>i.lweek)return null;var o=(t-1)*7-i.fweek+r,a=new Date(i.start.time);return a.setDate(+i.start.d+o),this.getDateInfo(a)},e.create=function(t,r){var n=[];return t.eachComponent("calendar",function(i){var o=new e(i);n.push(o),i.coordinateSystem=o}),t.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=n[i.get("calendarIndex")||0])}),n},e.dimensions=["time","value"],e}();function eH(e){var t=e.calendarModel,r=e.seriesModel,n=t?t.coordinateSystem:r?r.coordinateSystem:null;return n}function Q_e(e){e.registerComponentModel(X_e),e.registerComponentView(q_e),e.registerCoordinateSystem("calendar",Z_e)}function J_e(e,t){var r=e.existing;if(t.id=e.keyInfo.id,!t.type&&r&&(t.type=r.type),t.parentId==null){var n=t.parentOption;n?t.parentId=n.id:r&&(t.parentId=r.parentId)}t.parentOption=null}function tH(e,t){var r;return F(t,function(n){e[n]!=null&&e[n]!=="auto"&&(r=!0)}),r}function eTe(e,t,r){var n=ie({},r),i=e[t],o=r.$action||"merge";o==="merge"?i?(Ke(i,n,!0),jl(i,n,{ignoreSize:!0}),g8(r,i),WC(r,i),WC(r,i,"shape"),WC(r,i,"style"),WC(r,i,"extra"),r.clipPath=i.clipPath):e[t]=n:o==="replace"?e[t]=n:o==="remove"&&i&&(e[t]=null)}var PY=["transition","enterFrom","leaveTo"],tTe=PY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function WC(e,t,r){if(r&&(!e[r]&&t[r]&&(e[r]={}),e=e[r],t=t[r]),!(!e||!t))for(var n=r?PY:tTe,i=0;i<n.length;i++){var o=n[i];e[o]==null&&t[o]!=null&&(e[o]=t[o])}}function rTe(e,t){if(e&&(e.hv=t.hv=[tH(t,["left","right"]),tH(t,["top","bottom"])],e.type==="group")){var r=e,n=t;r.width==null&&(r.width=n.width=0),r.height==null&&(r.height=n.height=0)}}var nTe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.preventAutoZ=!0,r}return t.prototype.mergeOption=function(r,n){var i=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,r,n),this.option.elements=i},t.prototype.optionUpdated=function(r,n){var i=this.option,o=(n?i:r).elements,a=i.elements=n?[]:i.elements,s=[];this._flatten(o,s,null);var l=fU(a,s,"normalMerge"),u=this._elOptionsToUpdate=[];F(l,function(c,d){var h=c.newOption;h&&(u.push(h),J_e(c,h),eTe(a,d,h),rTe(a[d],h))},this),i.elements=mt(a,function(c){return c&&delete c.$action,c!=null})},t.prototype._flatten=function(r,n,i){F(r,function(o){if(o){i&&(o.parentOption=i),n.push(o);var a=o.children;a&&a.length&&this._flatten(a,n,o),delete o.children}},this)},t.prototype.useElOptionsToUpdate=function(){var r=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,r},t.type="graphic",t.defaultOption={elements:[]},t}(tt),rH={path:null,compoundPath:null,group:Ne,image:Lr,text:dt},Wi=ft(),iTe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this._elMap=Pe()},t.prototype.render=function(r,n,i){r!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=r,this._updateElements(r),this._relocate(r,i)},t.prototype._updateElements=function(r){var n=r.useElOptionsToUpdate();if(n){var i=this._elMap,o=this.group,a=r.get("z"),s=r.get("zlevel");F(n,function(l){var u=xr(l.id,null),c=u!=null?i.get(u):null,d=xr(l.parentId,null),h=d!=null?i.get(d):o,f=l.type,g=l.style;f==="text"&&g&&l.hv&&l.hv[1]&&(g.textVerticalAlign=g.textBaseline=g.verticalAlign=g.align=null);var m=l.textContent,y=l.textConfig;if(g&&sY(g,f,!!y,!!m)){var C=lY(g,f,!0);!y&&C.textConfig&&(y=l.textConfig=C.textConfig),!m&&C.textContent&&(m=C.textContent)}var w=oTe(l),S=l.$action||"merge",x=S==="merge",R=S==="replace";if(x){var T=!c,P=c;T?P=nH(u,h,l.type,i):(P&&(Wi(P).isNew=!1),hY(P)),P&&(Aw(P,w,r,{isInit:T}),iH(P,l,a,s))}else if(R){Mw(c,l,i,r);var D=nH(u,h,l.type,i);D&&(Aw(D,w,r,{isInit:!0}),iH(D,l,a,s))}else S==="remove"&&(cY(c,l),Mw(c,l,i,r));var I=i.get(u);if(I&&m)if(x){var E=I.getTextContent();E?E.attr(m):I.setTextContent(new dt(m))}else R&&I.setTextContent(new dt(m));if(I){var k=l.clipPath;if(k){var L=k.type,N=void 0,T=!1;if(x){var B=I.getClipPath();T=!B||Wi(B).type!==L,N=T?FD(L):B}else R&&(T=!0,N=FD(L));I.setClipPath(N),Aw(N,k,r,{isInit:T}),V0(N,k.keyframeAnimation,r)}var V=Wi(I);I.setTextConfig(y),V.option=l,aTe(I,r,l),jc({el:I,componentModel:r,itemName:I.name,itemTooltipOption:l.tooltip}),V0(I,l.keyframeAnimation,r)}})}},t.prototype._relocate=function(r,n){for(var i=r.option.elements,o=this.group,a=this._elMap,s=n.getWidth(),l=n.getHeight(),u=["x","y"],c=0;c<i.length;c++){var d=i[c],h=xr(d.id,null),f=h!=null?a.get(h):null;if(!(!f||!f.isGroup)){var g=f.parent,m=g===o,y=Wi(f),C=Wi(g);y.width=me(y.option.width,m?s:C.width)||0,y.height=me(y.option.height,m?l:C.height)||0}}for(var c=i.length-1;c>=0;c--){var d=i[c],h=xr(d.id,null),f=h!=null?a.get(h):null;if(f){var g=f.parent,C=Wi(g),w=g===o?{width:s,height:l}:{width:C.width,height:C.height},S={},x=rS(f,d,w,null,{hv:d.hv,boundingMode:d.bounding},S);if(!Wi(f).isNew&&x){for(var R=d.transition,T={},P=0;P<u.length;P++){var D=u[P],I=S[D];R&&(Cc(R)||Ze(R,D)>=0)?T[D]=I:f[D]=I}gt(f,T,r,0)}else f.attr(S)}}},t.prototype._clear=function(){var r=this,n=this._elMap;n.each(function(i){Mw(i,Wi(i).option,n,r._lastGraphicModel)}),this._elMap=Pe()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(zt);function FD(e){var t=_e(rH,e)?rH[e]:Xb(e),r=new t({});return Wi(r).type=e,r}function nH(e,t,r,n){var i=FD(r);return t.add(i),n.set(e,i),Wi(i).id=e,Wi(i).isNew=!0,i}function Mw(e,t,r,n){var i=e&&e.parent;i&&(e.type==="group"&&e.traverse(function(o){Mw(o,t,r,n)}),CS(e,t,n),r.removeKey(Wi(e).id))}function iH(e,t,r,n){e.isGroup||F([["cursor",io.prototype.cursor],["zlevel",n||0],["z",r||0],["z2",0]],function(i){var o=i[0];_e(t,o)?e[o]=Ue(t[o],i[1]):e[o]==null&&(e[o]=i[1])}),F(at(t),function(i){if(i.indexOf("on")===0){var o=t[i];e[i]=Ie(o)?o:null}}),_e(t,"draggable")&&(e.draggable=t.draggable),t.name!=null&&(e.name=t.name),t.id!=null&&(e.id=t.id)}function oTe(e){return e=ie({},e),F(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(p8),function(t){delete e[t]}),e}function aTe(e,t,r){var n=Ve(e).eventData;!e.silent&&!e.ignore&&!n&&(n=Ve(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),n&&(n.info=r.info)}function sTe(e){e.registerComponentModel(nTe),e.registerComponentView(iTe),e.registerPreprocessor(function(t){var r=t.graphic;se(r)?!r[0]||!r[0].elements?t.graphic=[{elements:r}]:t.graphic=[t.graphic[0]]:r&&!r.elements&&(t.graphic=[{elements:[r]}])})}var oH=["x","y","radius","angle","single"],lTe=["cartesian2d","polar","singleAxis"];function uTe(e){var t=e.get("coordinateSystem");return Ze(lTe,t)>=0}function Il(e){return e+"Axis"}function cTe(e,t){var r=Pe(),n=[],i=Pe();e.eachComponent({mainType:"dataZoom",query:t},function(c){i.get(c.uid)||s(c)});var o;do o=!1,e.eachComponent("dataZoom",a);while(o);function a(c){!i.get(c.uid)&&l(c)&&(s(c),o=!0)}function s(c){i.set(c.uid,!0),n.push(c),u(c)}function l(c){var d=!1;return c.eachTargetAxis(function(h,f){var g=r.get(h);g&&g[f]&&(d=!0)}),d}function u(c){c.eachTargetAxis(function(d,h){(r.get(d)||r.set(d,[]))[h]=!0})}return n}function DY(e){var t=e.ecModel,r={infoList:[],infoMap:Pe()};return e.eachTargetAxis(function(n,i){var o=t.getComponent(Il(n),i);if(o){var a=o.getCoordSysModel();if(a){var s=a.uid,l=r.infoMap.get(s);l||(l={model:a,axisModels:[]},r.infoList.push(l),r.infoMap.set(s,l)),l.axisModels.push(o)}}}),r}var $_=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},e}(),Lv=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return t.prototype.init=function(r,n,i){var o=aH(r);this.settledOption=o,this.mergeDefaultAndTheme(r,i),this._doInit(o)},t.prototype.mergeOption=function(r){var n=aH(r);Ke(this.option,r,!0),Ke(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(r){var n=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var i=this.settledOption;F([["start","startValue"],["end","endValue"]],function(o,a){this._rangePropMode[a]==="value"&&(n[o[0]]=i[o[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var r=this.get("orient",!0),n=this._targetAxisInfoMap=Pe(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(o){o.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(r){var n=!1;return F(oH,function(i){var o=this.getReferringComponents(Il(i),Gde);if(o.specified){n=!0;var a=new $_;F(o.models,function(s){a.add(s.componentIndex)}),r.set(i,a)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(r,n){var i=this.ecModel,o=!0;if(o){var a=n==="vertical"?"y":"x",s=i.findComponents({mainType:a+"Axis"});l(s,a)}if(o){var s=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===n}});l(s,"single")}function l(u,c){var d=u[0];if(d){var h=new $_;if(h.add(d.componentIndex),r.set(c,h),o=!1,c==="x"||c==="y"){var f=d.getReferringComponents("grid",mr).models[0];f&&F(u,function(g){d.componentIndex!==g.componentIndex&&f===g.getReferringComponents("grid",mr).models[0]&&h.add(g.componentIndex)})}}}o&&F(oH,function(u){if(o){var c=i.findComponents({mainType:Il(u),filter:function(h){return h.get("type",!0)==="category"}});if(c[0]){var d=new $_;d.add(c[0].componentIndex),r.set(u,d),o=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function(n){!r&&(r=n)},this),r==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(r){var n=this._rangePropMode,i=this.get("rangeMode");F([["start","startValue"],["end","endValue"]],function(o,a){var s=r[o[0]]!=null,l=r[o[1]]!=null;s&&!l?n[a]="percent":!s&&l?n[a]="value":i?n[a]=i[a]:s&&(n[a]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function(n,i){r==null&&(r=this.ecModel.getComponent(Il(n),i))},this),r},t.prototype.eachTargetAxis=function(r,n){this._targetAxisInfoMap.each(function(i,o){F(i.indexList,function(a){r.call(n,o,a)})})},t.prototype.getAxisProxy=function(r,n){var i=this.getAxisModel(r,n);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(r,n){var i=this._targetAxisInfoMap.get(r);if(i&&i.indexMap[n])return this.ecModel.getComponent(Il(r),n)},t.prototype.setRawRange=function(r){var n=this.option,i=this.settledOption;F([["start","startValue"],["end","endValue"]],function(o){(r[o[0]]!=null||r[o[1]]!=null)&&(n[o[0]]=i[o[0]]=r[o[0]],n[o[1]]=i[o[1]]=r[o[1]])},this),this._updateRangeUse(r)},t.prototype.setCalculatedRange=function(r){var n=this.option;F(["start","startValue","end","endValue"],function(i){n[i]=r[i]})},t.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},t.prototype.getValueRange=function(r,n){if(r==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(r,n).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),o=0;o<i.length;o++)for(var a=i[o],s=this._targetAxisInfoMap.get(a),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(a,s.indexList[l]);if(u.hostedBy(this))return u;n||(n=u)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(tt);function aH(e){var t={};return F(["start","end","startValue","endValue","throttle"],function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t}var dTe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.select",t}(Lv),xM=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,o){this.dataZoomModel=r,this.ecModel=n,this.api=i},t.type="dataZoom",t}(zt),hTe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.select",t}(xM),uh=F,sH=mi,fTe=function(){function e(t,r,n,i){this._dimName=t,this._axisIndex=r,this.ecModel=i,this._dataZoomModel=n}return e.prototype.hostedBy=function(t){return this._dataZoomModel===t},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(r){if(uTe(r)){var n=Il(this._dimName),i=r.getReferringComponents(n,mr).models[0];i&&this._axisIndex===i.componentIndex&&t.push(r)}},this),t},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return Fe(this._minMaxSpan)},e.prototype.calculateDataWindow=function(t){var r=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[],l=[],u;uh(["start","end"],function(h,f){var g=t[h],m=t[h+"Value"];o[f]==="percent"?(g==null&&(g=a[f]),m=i.parse(Ct(g,a,r))):(u=!0,m=m==null?r[f]:i.parse(m),g=Ct(m,r,a)),l[f]=m==null||isNaN(m)?r[f]:m,s[f]=g==null||isNaN(g)?a[f]:g}),sH(l),sH(s);var c=this._minMaxSpan;u?d(l,s,r,a,!1):d(s,l,a,r,!0);function d(h,f,g,m,y){var C=y?"Span":"ValueSpan";Qc(0,h,g,"all",c["min"+C],c["max"+C]);for(var w=0;w<2;w++)f[w]=Ct(h[w],g,m,!0),y&&(f[w]=i.parse(f[w]))}return{valueWindow:l,percentWindow:s}},e.prototype.reset=function(t){if(t===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=pTe(this,this._dimName,r),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(t,r){if(t!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),o=t.get("filterMode"),a=this._valueWindow;if(o==="none")return;uh(i,function(l){var u=l.getData(),c=u.mapDimensionsAll(n);if(c.length){if(o==="weakFilter"){var d=u.getStore(),h=le(c,function(f){return u.getDimensionIndex(f)},u);u.filterSelf(function(f){for(var g,m,y,C=0;C<c.length;C++){var w=d.get(h[C],f),S=!isNaN(w),x=w<a[0],R=w>a[1];if(S&&!x&&!R)return!0;S&&(y=!0),x&&(g=!0),R&&(m=!0)}return y&&g&&m})}else uh(c,function(f){if(o==="empty")l.setData(u=u.map(f,function(m){return s(m)?m:NaN}));else{var g={};g[f]=a,u.selectRange(g)}});uh(c,function(f){u.setApproximateExtent(a,f)})}});function s(l){return l>=a[0]&&l<=a[1]}},e.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},r=this._dataZoomModel,n=this._dataExtent;uh(["min","max"],function(i){var o=r.get(i+"Span"),a=r.get(i+"ValueSpan");a!=null&&(a=this.getAxisModel().axis.scale.parse(a)),a!=null?o=Ct(n[0]+a,n,[0,100],!0):o!=null&&(a=Ct(o,[0,100],n,!0)-n[0]),t[i+"Span"]=o,t[i+"ValueSpan"]=a},this)},e.prototype._setAxisModel=function(){var t=this.getAxisModel(),r=this._percentWindow,n=this._valueWindow;if(r){var i=TI(n,[0,500]);i=Math.min(i,20);var o=t.axis.scale.rawExtentInfo;r[0]!==0&&o.setDeterminedMinMax("min",+n[0].toFixed(i)),r[1]!==100&&o.setDeterminedMinMax("max",+n[1].toFixed(i)),o.freeze()}},e}();function pTe(e,t,r){var n=[1/0,-1/0];uh(r,function(a){kme(n,a.getData(),t)});var i=e.getAxisModel(),o=j7(i.axis.scale,i,n).calculate();return[o.min,o.max]}var gTe={getTargetSeries:function(e){function t(i){e.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(a,s){var l=e.getComponent(Il(a),s);i(a,s,l,o)})})}t(function(i,o,a,s){a.__dzAxisProxy=null});var r=[];t(function(i,o,a,s){a.__dzAxisProxy||(a.__dzAxisProxy=new fTe(i,o,s,e),r.push(a.__dzAxisProxy))});var n=Pe();return F(r,function(i){F(i.getTargetSeriesModels(),function(o){n.set(o.uid,o)})}),n},overallReset:function(e,t){e.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(n,i){r.getAxisProxy(n,i).reset(r)}),r.eachTargetAxis(function(n,i){r.getAxisProxy(n,i).filterData(r,t)})}),e.eachComponent("dataZoom",function(r){var n=r.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),o=n.getDataValueWindow();r.setCalculatedRange({start:i[0],end:i[1],startValue:o[0],endValue:o[1]})}})}};function vTe(e){e.registerAction("dataZoom",function(t,r){var n=cTe(r,t);F(n,function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var lH=!1;function RM(e){lH||(lH=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,gTe),vTe(e),e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function mTe(e){e.registerComponentModel(dTe),e.registerComponentView(hTe),RM(e)}var ji=function(){function e(){}return e}(),AY={};function ch(e,t){AY[e]=t}function IY(e){return AY[e]}var yTe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;F(this.option.feature,function(n,i){var o=IY(i);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(r)),Ke(n,o.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(tt);function CTe(e,t,r){var n=t.getBoxLayoutParams(),i=t.get("padding"),o={width:r.getWidth(),height:r.getHeight()},a=yr(n,o,i);vc(t.get("orient"),e,t.get("itemGap"),a.width,a.height),rS(e,n,o,i)}function EY(e,t){var r=Kc(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),e=new ht({shape:{x:e.x-r[3],y:e.y-r[0],width:e.width+r[1]+r[3],height:e.height+r[0]+r[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1}),e}var wTe=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n,i,o){var a=this.group;if(a.removeAll(),!r.get("show"))return;var s=+r.get("itemSize"),l=r.get("orient")==="vertical",u=r.get("feature")||{},c=this._features||(this._features={}),d=[];F(u,function(g,m){d.push(m)}),new Ps(this._featureNames||[],d).add(h).update(h).remove(je(h,null)).execute(),this._featureNames=d;function h(g,m){var y=d[g],C=d[m],w=u[y],S=new yt(w,r,r.ecModel),x;if(o&&o.newTitle!=null&&o.featureName===y&&(w.title=o.newTitle),y&&!C){if(bTe(y))x={onclick:S.option.onclick,featureName:y};else{var R=IY(y);if(!R)return;x=new R}c[y]=x}else if(x=c[C],!x)return;x.uid=xf("toolbox-feature"),x.model=S,x.ecModel=n,x.api=i;var T=x instanceof ji;if(!y&&C){T&&x.dispose&&x.dispose(n,i);return}if(!S.get("show")||T&&x.unusable){T&&x.remove&&x.remove(n,i);return}f(S,x,y),S.setIconStatus=function(P,D){var I=this.option,E=this.iconPaths;I.iconStatus=I.iconStatus||{},I.iconStatus[P]=D,E[P]&&(D==="emphasis"?_s:Ts)(E[P])},x instanceof ji&&x.render&&x.render(S,n,i,o)}function f(g,m,y){var C=g.getModel("iconStyle"),w=g.getModel(["emphasis","iconStyle"]),S=m instanceof ji&&m.getIcons?m.getIcons():g.get("icon"),x=g.get("title")||{},R,T;we(S)?(R={},R[y]=S):R=S,we(x)?(T={},T[y]=x):T=x;var P=g.iconPaths={};F(R,function(D,I){var E=bf(D,{},{x:-s/2,y:-s/2,width:s,height:s});E.setStyle(C.getItemStyle());var k=E.ensureState("emphasis");k.style=w.getItemStyle();var L=new dt({style:{text:T[I],align:w.get("textAlign"),borderRadius:w.get("textBorderRadius"),padding:w.get("textPadding"),fill:null,font:jI({fontStyle:w.get("textFontStyle"),fontFamily:w.get("textFontFamily"),fontSize:w.get("textFontSize"),fontWeight:w.get("textFontWeight")},n)},ignore:!0});E.setTextContent(L),jc({el:E,componentModel:r,itemName:I,formatterParamsExtra:{title:T[I]}}),E.__title=T[I],E.on("mouseover",function(){var N=w.getItemStyle(),B=l?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";L.setStyle({fill:w.get("textFill")||N.fill||N.stroke||"#000",backgroundColor:w.get("textBackgroundColor")}),E.setTextConfig({position:w.get("textPosition")||B}),L.ignore=!r.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){g.get(["iconStatus",I])!=="emphasis"&&i.leaveEmphasis(this),L.hide()}),(g.get(["iconStatus",I])==="emphasis"?_s:Ts)(E),a.add(E),E.on("click",Se(m.onclick,m,n,i,I)),P[I]=E})}CTe(a,r,i),a.add(EY(a.getBoundingRect(),r)),l||a.eachChild(function(g){var m=g.__title,y=g.ensureState("emphasis"),C=y.textConfig||(y.textConfig={}),w=g.getTextContent(),S=w&&w.ensureState("emphasis");if(S&&!Ie(S)&&m){var x=S.style||(S.style={}),R=am(m,dt.makeFont(x)),T=g.x+a.x,P=g.y+a.y+s,D=!1;P+R.height>i.getHeight()&&(C.position="top",D=!0);var I=D?-5-R.height:s+10;T+R.width/2>i.getWidth()?(C.position=["100%",I],x.align="right"):T-R.width/2<0&&(C.position=[0,I],x.align="left")}})},t.prototype.updateView=function(r,n,i,o){F(this._features,function(a){a instanceof ji&&a.updateView&&a.updateView(a.model,n,i,o)})},t.prototype.remove=function(r,n){F(this._features,function(i){i instanceof ji&&i.remove&&i.remove(r,n)}),this.group.removeAll()},t.prototype.dispose=function(r,n){F(this._features,function(i){i instanceof ji&&i.dispose&&i.dispose(r,n)})},t.type="toolbox",t}(zt);function bTe(e){return e.indexOf("my")===0}var STe=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(r,n){var i=this.model,o=i.get("name")||r.get("title.0.text")||"echarts",a=n.getZr().painter.getType()==="svg",s=a?"svg":i.get("type",!0)||"png",l=n.getConnectedDataURL({type:s,backgroundColor:i.get("backgroundColor",!0)||r.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),u=rt.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=o+"."+s,c.target="_blank",c.href=l;var d=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(d)}else if(window.navigator.msSaveOrOpenBlob||a){var h=l.split(","),f=h[0].indexOf("base64")>-1,g=a?decodeURIComponent(h[1]):h[1];f&&(g=window.atob(g));var m=o+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var y=g.length,C=new Uint8Array(y);y--;)C[y]=g.charCodeAt(y);var w=new Blob([C]);window.navigator.msSaveOrOpenBlob(w,m)}else{var S=document.createElement("iframe");document.body.appendChild(S);var x=S.contentWindow,R=x.document;R.open("image/svg+xml","replace"),R.write(g),R.close(),x.focus(),R.execCommand("SaveAs",!0,m),document.body.removeChild(S)}}else{var T=i.get("lang"),P='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(T&&T[0]||"")+'" /></body>',D=window.open();D.document.write(P),D.document.title=o}},t.getDefaultOption=function(r){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},t}(ji),uH="__ec_magicType_stack__",xTe=[["line","bar"],["stack"]],RTe=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getIcons=function(){var r=this.model,n=r.get("icon"),i={};return F(r.get("type"),function(o){n[o]&&(i[o]=n[o])}),i},t.getDefaultOption=function(r){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},t.prototype.onclick=function(r,n,i){var o=this.model,a=o.get(["seriesIndex",i]);if(cH[i]){var s={series:[]},l=function(d){var h=d.subType,f=d.id,g=cH[i](h,f,d,o);g&&(Ee(g,d.option),s.series.push(g));var m=d.coordinateSystem;if(m&&m.type==="cartesian2d"&&(i==="line"||i==="bar")){var y=m.getAxesByScale("ordinal")[0];if(y){var C=y.dim,w=C+"Axis",S=d.getReferringComponents(w,mr).models[0],x=S.componentIndex;s[w]=s[w]||[];for(var R=0;R<=x;R++)s[w][x]=s[w][x]||{};s[w][x].boundaryGap=i==="bar"}}};F(xTe,function(d){Ze(d,i)>=0&&F(d,function(h){o.setIconStatus(h,"normal")})}),o.setIconStatus(i,"emphasis"),r.eachComponent({mainType:"series",query:a==null?null:{seriesIndex:a}},l);var u,c=i;i==="stack"&&(u=Ke({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),o.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),n.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},t}(ji),cH={line:function(e,t,r,n){if(e==="bar")return Ke({id:t,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(e,t,r,n){if(e==="line")return Ke({id:t,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(e,t,r,n){var i=r.get("stack")===uH;if(e==="line"||e==="bar")return n.setIconStatus("stack",i?"normal":"emphasis"),Ke({id:t,stack:i?"":uH},n.get(["option","stack"])||{},!0)}};Wo({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)});var wS=new Array(60).join("-"),Jh="	";function _Te(e){var t={},r=[],n=[];return e.eachRawSeries(function(i){var o=i.coordinateSystem;if(o&&(o.type==="cartesian2d"||o.type==="polar")){var a=o.getBaseAxis();if(a.type==="category"){var s=a.dim+"_"+a.index;t[s]||(t[s]={categoryAxis:a,valueAxis:o.getOtherAxis(a),series:[]},n.push({axisDim:a.dim,axisIndex:a.index})),t[s].series.push(i)}else r.push(i)}else r.push(i)}),{seriesGroupByCategoryAxis:t,other:r,meta:n}}function TTe(e){var t=[];return F(e,function(r,n){var i=r.categoryAxis,o=r.valueAxis,a=o.dim,s=[" "].concat(le(r.series,function(f){return f.name})),l=[i.model.getCategories()];F(r.series,function(f){var g=f.getRawData();l.push(f.getRawData().mapArray(g.mapDimension(a),function(m){return m}))});for(var u=[s.join(Jh)],c=0;c<l[0].length;c++){for(var d=[],h=0;h<l.length;h++)d.push(l[h][c]);u.push(d.join(Jh))}t.push(u.join(`
`))}),t.join(`

`+wS+`

`)}function PTe(e){return le(e,function(t){var r=t.getRawData(),n=[t.name],i=[];return r.each(r.dimensions,function(){for(var o=arguments.length,a=arguments[o-1],s=r.getName(a),l=0;l<o-1;l++)i[l]=arguments[l];n.push((s?s+Jh:"")+i.join(Jh))}),n.join(`
`)}).join(`

`+wS+`

`)}function DTe(e){var t=_Te(e);return{value:mt([TTe(t.seriesGroupByCategoryAxis),PTe(t.other)],function(r){return!!r.replace(/[\n\t\s]/g,"")}).join(`

`+wS+`

`),meta:t.meta}}function W0(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ATe(e){var t=e.slice(0,e.indexOf(`
`));if(t.indexOf(Jh)>=0)return!0}var LD=new RegExp("["+Jh+"]+","g");function ITe(e){for(var t=e.split(/\n+/g),r=W0(t.shift()).split(LD),n=[],i=le(r,function(l){return{name:l,data:[]}}),o=0;o<t.length;o++){var a=W0(t[o]).split(LD);n.push(a.shift());for(var s=0;s<a.length;s++)i[s]&&(i[s].data[o]=a[s])}return{series:i,categories:n}}function ETe(e){for(var t=e.split(/\n+/g),r=W0(t.shift()),n=[],i=0;i<t.length;i++){var o=W0(t[i]);if(o){var a=o.split(LD),s="",l=void 0,u=!1;isNaN(a[0])?(u=!0,s=a[0],a=a.slice(1),n[i]={name:s,value:[]},l=n[i].value):l=n[i]=[];for(var c=0;c<a.length;c++)l.push(+a[c]);l.length===1&&(u?n[i].value=l[0]:n[i]=l[0])}}return{name:r,data:n}}function MTe(e,t){var r=e.split(new RegExp(`
*`+wS+`
*`,"g")),n={series:[]};return F(r,function(i,o){if(ATe(i)){var a=ITe(i),s=t[o],l=s.axisDim+"Axis";s&&(n[l]=n[l]||[],n[l][s.axisIndex]={data:a.categories},n.series=n.series.concat(a.series))}else{var a=ETe(i);n.series.push(a)}}),n}var kTe=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(r,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var i=n.getDom(),o=this.model;this._dom&&i.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=o.get("lang")||[];s.innerHTML=l[0]||o.get("title"),s.style.cssText="margin:10px 20px",s.style.color=o.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var d=o.get("optionToContent"),h=o.get("contentToOption"),f=DTe(r);if(Ie(d)){var g=d(n.getOption());we(g)?u.innerHTML=g:Dc(g)&&u.appendChild(g)}else{c.readOnly=o.get("readOnly");var m=c.style;m.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",m.color=o.get("textColor"),m.borderColor=o.get("textareaBorderColor"),m.backgroundColor=o.get("textareaColor"),c.value=f.value,u.appendChild(c)}var y=f.meta,C=document.createElement("div");C.style.cssText="position:absolute;bottom:5px;left:0;right:0";var w="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",S=document.createElement("div"),x=document.createElement("div");w+=";background-color:"+o.get("buttonColor"),w+=";color:"+o.get("buttonTextColor");var R=this;function T(){i.removeChild(a),R._dom=null}dP(S,"click",T),dP(x,"click",function(){if(h==null&&d!=null||h!=null&&d==null){T();return}var P;try{Ie(h)?P=h(u,n.getOption()):P=MTe(c.value,y)}catch(D){throw T(),new Error("Data view format error "+D)}P&&n.dispatchAction({type:"changeDataView",newOption:P}),T()}),S.innerHTML=l[1],x.innerHTML=l[2],x.style.cssText=S.style.cssText=w,!o.get("readOnly")&&C.appendChild(x),C.appendChild(S),a.appendChild(s),a.appendChild(u),a.appendChild(C),u.style.height=i.clientHeight-80+"px",i.appendChild(a),this._dom=a},t.prototype.remove=function(r,n){this._dom&&n.getDom().removeChild(this._dom)},t.prototype.dispose=function(r,n){this.remove(r,n)},t.getDefaultOption=function(r){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return n},t}(ji);function FTe(e,t){return le(e,function(r,n){var i=t&&t[n];if(ke(i)&&!se(i)){var o=ke(r)&&!se(r);o||(r={value:r});var a=i.name!=null&&r.name==null;return r=Ee(r,i),a&&delete r.name,r}else return r})}Wo({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var r=[];F(e.newOption.series,function(n){var i=t.getSeriesByName(n.name)[0];if(!i)r.push(ie({type:"scatter"},n));else{var o=i.get("data");r.push({name:n.name,data:FTe(n.data,o)})}}),t.mergeOption(Ee({series:r},e.newOption))});var MY=F,kY=ft();function LTe(e,t){var r=_M(e);MY(t,function(n,i){for(var o=r.length-1;o>=0;o--){var a=r[o];if(a[i])break}if(o<0){var s=e.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(s){var l=s.getPercentRange();r[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),r.push(t)}function OTe(e){var t=_M(e),r=t[t.length-1];t.length>1&&t.pop();var n={};return MY(r,function(i,o){for(var a=t.length-1;a>=0;a--)if(i=t[a][o],i){n[o]=i;break}}),n}function NTe(e){kY(e).snapshots=null}function zTe(e){return _M(e).length}function _M(e){var t=kY(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var BTe=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(r,n){NTe(r),n.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(r){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return n},t}(ji);Wo({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});var VTe=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],TM=function(){function e(t,r,n){var i=this;this._targetInfoList=[];var o=dH(r,t);F(GTe,function(a,s){(!n||!n.include||Ze(n.include,s)>=0)&&a(o,i._targetInfoList)})}return e.prototype.setOutputRanges=function(t,r){return this.matchOutputRanges(t,r,function(n,i,o){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var a=U_[n.brushType](0,o,i);n.__rangeOffset={offset:gH[n.brushType](a.values,n.range,[1,1]),xyMinMax:a.xyMinMax}}}),t},e.prototype.matchOutputRanges=function(t,r,n){F(t,function(i){var o=this.findTargetInfo(i,r);o&&o!==!0&&F(o.coordSyses,function(a){var s=U_[i.brushType](1,a,i.range,!0);n(i,s.values,a,r)})},this)},e.prototype.setInputRanges=function(t,r){F(t,function(n){var i=this.findTargetInfo(n,r);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var o=U_[n.brushType](0,i.coordSys,n.coordRange),a=n.__rangeOffset;n.range=a?gH[n.brushType](o.values,a.offset,HTe(o.xyMinMax,a.xyMinMax)):o.values}},this)},e.prototype.makePanelOpts=function(t,r){return le(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:r?r(n):null,clipPath:G9(i),isTargetByCursor:W9(i,t,n.coordSysModel),getLinearBrushOtherExtent:H9(i)}})},e.prototype.controlSeries=function(t,r,n){var i=this.findTargetInfo(t,n);return i===!0||i&&Ze(i.coordSyses,r.coordinateSystem)>=0},e.prototype.findTargetInfo=function(t,r){for(var n=this._targetInfoList,i=dH(r,t),o=0;o<n.length;o++){var a=n[o],s=t.panelId;if(s){if(a.panelId===s)return a}else for(var l=0;l<hH.length;l++)if(hH[l](i,a))return a}return!0},e}();function OD(e){return e[0]>e[1]&&e.reverse(),e}function dH(e,t){return zg(e,t,{includeMainTypes:VTe})}var GTe={grid:function(e,t){var r=e.xAxisModels,n=e.yAxisModels,i=e.gridModels,o=Pe(),a={},s={};!r&&!n&&!i||(F(r,function(l){var u=l.axis.grid.model;o.set(u.id,u),a[u.id]=!0}),F(n,function(l){var u=l.axis.grid.model;o.set(u.id,u),s[u.id]=!0}),F(i,function(l){o.set(l.id,l),a[l.id]=!0,s[l.id]=!0}),o.each(function(l){var u=l.coordinateSystem,c=[];F(u.getCartesians(),function(d,h){(Ze(r,d.getAxis("x").model)>=0||Ze(n,d.getAxis("y").model)>=0)&&c.push(d)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:fH.grid,xAxisDeclared:a[l.id],yAxisDeclared:s[l.id]})}))},geo:function(e,t){F(e.geoModels,function(r){var n=r.coordinateSystem;t.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:n,coordSyses:[n],getPanelRect:fH.geo})})}},hH=[function(e,t){var r=e.xAxisModel,n=e.yAxisModel,i=e.gridModel;return!i&&r&&(i=r.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===t.gridModel},function(e,t){var r=e.geoModel;return r&&r===t.geoModel}],fH={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(Ll(e)),t}},U_={lineX:je(pH,0),lineY:je(pH,1),rect:function(e,t,r,n){var i=e?t.pointToData([r[0][0],r[1][0]],n):t.dataToPoint([r[0][0],r[1][0]],n),o=e?t.pointToData([r[0][1],r[1][1]],n):t.dataToPoint([r[0][1],r[1][1]],n),a=[OD([i[0],o[0]]),OD([i[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(e,t,r,n){var i=[[1/0,-1/0],[1/0,-1/0]],o=le(r,function(a){var s=e?t.pointToData(a,n):t.dataToPoint(a,n);return i[0][0]=Math.min(i[0][0],s[0]),i[1][0]=Math.min(i[1][0],s[1]),i[0][1]=Math.max(i[0][1],s[0]),i[1][1]=Math.max(i[1][1],s[1]),s});return{values:o,xyMinMax:i}}};function pH(e,t,r,n){var i=r.getAxis(["x","y"][e]),o=OD(le([0,1],function(s){return t?i.coordToData(i.toLocalCoord(n[s]),!0):i.toGlobalCoord(i.dataToCoord(n[s]))})),a=[];return a[e]=o,a[1-e]=[NaN,NaN],{values:o,xyMinMax:a}}var gH={lineX:je(vH,0),lineY:je(vH,1),rect:function(e,t,r){return[[e[0][0]-r[0]*t[0][0],e[0][1]-r[0]*t[0][1]],[e[1][0]-r[1]*t[1][0],e[1][1]-r[1]*t[1][1]]]},polygon:function(e,t,r){return le(e,function(n,i){return[n[0]-r[0]*t[i][0],n[1]-r[1]*t[i][1]]})}};function vH(e,t,r,n){return[t[0]-n[e]*r[0],t[1]-n[e]*r[1]]}function HTe(e,t){var r=mH(e),n=mH(t),i=[r[0]/n[0],r[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function mH(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var ND=F,WTe=Ode("toolbox-dataZoom_"),$Te=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n,i,o){this._brushController||(this._brushController=new JE(i.getZr()),this._brushController.on("brush",Se(this._onBrush,this)).mount()),YTe(r,n,this,o,i),jTe(r,n)},t.prototype.onclick=function(r,n,i){UTe[i].call(this)},t.prototype.remove=function(r,n){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(r,n){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(r){var n=r.areas;if(!r.isEnd||!n.length)return;var i={},o=this.ecModel;this._brushController.updateCovers([]);var a=new TM(PM(this.model),o,{include:["grid"]});a.matchOutputRanges(n,o,function(u,c,d){if(d.type==="cartesian2d"){var h=u.brushType;h==="rect"?(s("x",d,c[0]),s("y",d,c[1])):s({lineX:"x",lineY:"y"}[h],d,c)}}),LTe(o,i),this._dispatchZoomAction(i);function s(u,c,d){var h=c.getAxis(u),f=h.model,g=l(u,f,o),m=g.findRepresentativeAxisProxy(f).getMinMaxSpan();(m.minValueSpan!=null||m.maxValueSpan!=null)&&(d=Qc(0,d.slice(),h.scale.getExtent(),0,m.minValueSpan,m.maxValueSpan)),g&&(i[g.id]={dataZoomId:g.id,startValue:d[0],endValue:d[1]})}function l(u,c,d){var h;return d.eachComponent({mainType:"dataZoom",subType:"select"},function(f){var g=f.getAxisModel(u,c.componentIndex);g&&(h=f)}),h}},t.prototype._dispatchZoomAction=function(r){var n=[];ND(r,function(i,o){n.push(Fe(i))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},t.getDefaultOption=function(r){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return n},t}(ji),UTe={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(OTe(this.ecModel))}};function PM(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function jTe(e,t){e.setIconStatus("back",zTe(t)>1?"emphasis":"normal")}function YTe(e,t,r,n,i){var o=r._isZoomActive;n&&n.type==="takeGlobalCursor"&&(o=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),r._isZoomActive=o,e.setIconStatus("zoom",o?"emphasis":"normal");var a=new TM(PM(e),t,{include:["grid"]}),s=a.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(s).enableBrush(o&&s.length?{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()}:!1)}ope("dataZoom",function(e){var t=e.getComponent("toolbox",0),r=["feature","dataZoom"];if(!t||t.get(r)==null)return;var n=t.getModel(r),i=[],o=PM(n),a=zg(e,o);ND(a.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),ND(a.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,c){var d=l.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:WTe+u+d};h[c]=d,i.push(h)}return i});function KTe(e){e.registerComponentModel(yTe),e.registerComponentView(wTe),ch("saveAsImage",STe),ch("magicType",RTe),ch("dataView",kTe),ch("dataZoom",$Te),ch("restore",BTe),et(mTe)}var XTe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(tt);function FY(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function LY(e){if(rt.domSupported){for(var t=document.documentElement.style,r=0,n=e.length;r<n;r++)if(e[r]in t)return e[r]}}var OY=LY(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qTe=LY(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function NY(e,t){if(!e)return t;t=eE(t,!0);var r=e.indexOf(t);return e=r===-1?t:"-"+e.slice(0,r)+"-"+t,e.toLowerCase()}function ZTe(e,t){var r=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return r?r[t]:null}var QTe=NY(qTe,"transition"),DM=NY(OY,"transform"),JTe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(rt.transform3dSupported?"will-change:transform;":"");function ePe(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function tPe(e,t,r){if(!we(r)||r==="inside")return"";var n=e.get("backgroundColor"),i=e.get("borderWidth");t=kc(t);var o=ePe(r),a=Math.max(Math.round(i)*1.5,6),s="",l=DM+":",u;Ze(["left","right"],o)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=o==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=o==="top"?225:45)+"deg)");var c=u*Math.PI/180,d=a+i,h=d*Math.abs(Math.cos(c))+d*Math.abs(Math.sin(c)),f=Math.round(((h-Math.SQRT2*i)/2+Math.SQRT2*i-(h-d)/2)*100)/100;s+=";"+o+":-"+f+"px";var g=t+" solid "+i+"px;",m=["position:absolute;width:"+a+"px;height:"+a+"px;z-index:-1;",s+";"+l+";","border-bottom:"+g,"border-right:"+g,"background-color:"+n+";"];return'<div style="'+m.join("")+'"></div>'}function rPe(e,t){var r="cubic-bezier(0.23,1,0.32,1)",n=" "+e/2+"s "+r,i="opacity"+n+",visibility"+n;return t||(n=" "+e+"s "+r,i+=rt.transformSupported?","+DM+n:",left"+n+",top"+n),QTe+":"+i}function yH(e,t,r){var n=e.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!rt.transformSupported)return r?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var o=rt.transform3dSupported,a="translate"+(o?"3d":"")+"("+n+","+i+(o?",0":"")+")";return r?"top:0;left:0;"+DM+":"+a+";":[["top",0],["left",0],[OY,a]]}function nPe(e){var t=[],r=e.get("fontSize"),n=e.getTextColor();n&&t.push("color:"+n),t.push("font:"+e.getFont());var i=Ue(e.get("lineHeight"),Math.round(r*3/2));r&&t.push("line-height:"+i+"px");var o=e.get("textShadowColor"),a=e.get("textShadowBlur")||0,s=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return o&&a&&t.push("text-shadow:"+s+"px "+l+"px "+a+"px "+o),F(["decoration","align"],function(u){var c=e.get(u);c&&t.push("text-"+u+":"+c)}),t.join(";")}function iPe(e,t,r){var n=[],i=e.get("transitionDuration"),o=e.get("backgroundColor"),a=e.get("shadowBlur"),s=e.get("shadowColor"),l=e.get("shadowOffsetX"),u=e.get("shadowOffsetY"),c=e.getModel("textStyle"),d=j8(e,"html"),h=l+"px "+u+"px "+a+"px "+s;return n.push("box-shadow:"+h),t&&i&&n.push(rPe(i,r)),o&&n.push("background-color:"+o),F(["width","color","radius"],function(f){var g="border-"+f,m=eE(g),y=e.get(m);y!=null&&n.push(g+":"+y+(f==="color"?"":"px"))}),n.push(nPe(c)),d!=null&&n.push("padding:"+Kc(d).join("px ")+"px"),n.join(";")+";"}function CH(e,t,r,n,i){var o=t&&t.painter;if(r){var a=o&&o.getViewportRoot();a&&sce(e,a,r,n,i)}else{e[0]=n,e[1]=i;var s=o&&o.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var oPe=function(){function e(t,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,rt.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=t.getZr(),o=r.appendTo,a=o&&(we(o)?document.querySelector(o):Dc(o)?o:Ie(o)&&o(t.getDom()));CH(this._styleCoord,i,a,t.getWidth()/2,t.getHeight()/2),(a||t.getDom()).appendChild(n),this._api=t,this._container=a;var s=this;n.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=i.handler,c=i.painter.getViewportRoot();Bi(c,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return e.prototype.update=function(t){if(!this._container){var r=this._api.getDom(),n=ZTe(r,"position"),i=r.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative")}var o=t.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=t.get("className")||""},e.prototype.show=function(t,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,o=this._styleCoord;n.innerHTML?i.cssText=JTe+iPe(t,!this._firstShow,this._longHide)+yH(o[0],o[1],!0)+("border-color:"+kc(r)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(t,r,n,i,o){var a=this.el;if(t==null){a.innerHTML="";return}var s="";if(we(o)&&n.get("trigger")==="item"&&!FY(n)&&(s=tPe(n,i,o)),we(t))a.innerHTML=t+s;else if(t){a.innerHTML="",se(t)||(t=[t]);for(var l=0;l<t.length;l++)Dc(t[l])&&t[l].parentNode!==a&&a.appendChild(t[l]);if(s&&a.childNodes.length){var u=document.createElement("div");u.innerHTML=s,a.appendChild(u)}}},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},e.prototype.moveTo=function(t,r){if(this.el){var n=this._styleCoord;if(CH(n,this._zr,this._container,t,r),n[0]!=null&&n[1]!=null){var i=this.el.style,o=yH(n[0],n[1]);F(o,function(a){i[a[0]]=a[1]})}}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){var t=this,r=this.el.style;r.visibility="hidden",r.opacity="0",rt.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Se(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},e}(),aPe=function(){function e(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),bH(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return e.prototype.update=function(t){var r=t.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(t,r,n,i,o){var a=this;ke(t)&&wt(""),this.el&&this._zr.remove(this.el);var s=n.getModel("textStyle");this.el=new dt({style:{rich:r.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:j8(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),F(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){a.el.style[u]=n.get(u)}),F(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){a.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el,r=this.el.getBoundingRect(),n=wH(t.style);return[r.width+n.left+n.right,r.height+n.top+n.bottom]},e.prototype.moveTo=function(t,r){var n=this.el;if(n){var i=this._styleCoord;bH(i,this._zr,t,r),t=i[0],r=i[1];var o=n.style,a=vl(o.borderWidth||0),s=wH(o);n.x=t+a+s.left,n.y=r+a+s.top,n.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Se(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function vl(e){return Math.max(0,e)}function wH(e){var t=vl(e.shadowBlur||0),r=vl(e.shadowOffsetX||0),n=vl(e.shadowOffsetY||0);return{left:vl(t-r),right:vl(t+r),top:vl(t-n),bottom:vl(t+n)}}function bH(e,t,r,n){e[0]=r,e[1]=n,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var sPe=new ht({shape:{x:-1,y:-1,width:2,height:2}}),lPe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){if(!(rt.node||!n.getDom())){var i=r.getComponent("tooltip"),o=this._renderMode=Wde(i.get("renderMode"));this._tooltipContent=o==="richText"?new aPe(n):new oPe(n,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(r,n,i){if(!(rt.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=n,this._api=i;var o=this._tooltipContent;o.update(r),o.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?Df(this,"_updatePosition",50,"fixRate"):Sv(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var r=this._tooltipModel,n=r.get("triggerOn");bY("itemTooltip",this._api,Se(function(i,o,a){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(o,a):i==="leave"&&this._hide(a))},this))},t.prototype._keepShow=function(){var r=this._tooltipModel,n=this._ecModel,i=this._api,o=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&o!=="none"&&o!=="click"){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&a.manuallyShowTip(r,n,i,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(r,n,i,o){if(!(o.from===this.uid||rt.node||!i.getDom())){var a=SH(o,i);this._ticket="";var s=o.dataByCoordSys,l=hPe(o,n,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:o.position,positionDefault:"bottom"},a)}else if(o.tooltip&&o.x!=null&&o.y!=null){var c=sPe;c.x=o.x,c.y=o.y,c.update(),Ve(c).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:c},a)}else if(s)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:s,tooltipOption:o.tooltipOption},a);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(r,n,i,o))return;var d=SY(o,n),h=d.point[0],f=d.point[1];h!=null&&f!=null&&this._tryShow({offsetX:h,offsetY:f,target:d.el,position:o.position,positionDefault:"bottom"},a)}else o.x!=null&&o.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:i.getZr().findHover(o.x,o.y).target},a))}},t.prototype.manuallyHideTip=function(r,n,i,o){var a=this._tooltipContent;this._tooltipModel&&a.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(SH(o,i))},t.prototype._manuallyAxisShowTip=function(r,n,i,o){var a=o.seriesIndex,s=o.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(a==null||s==null||l==null)){var u=n.getSeriesByIndex(a);if(u){var c=u.getData(),d=tg([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(d.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:s,position:o.position}),!0}}},t.prototype._tryShow=function(r,n){var i=r.target,o=this._tooltipModel;if(o){this._lastX=r.offsetX,this._lastY=r.offsetY;var a=r.dataByCoordSys;if(a&&a.length)this._showAxisTooltip(a,r);else if(i){var s=Ve(i);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;lc(i,function(c){if(Ve(c).dataIndex!=null)return l=c,!0;if(Ve(c).tooltipConfig!=null)return u=c,!0},!0),l?this._showSeriesItemTooltip(r,l,n):u?this._showComponentItemTooltip(r,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(r,n){var i=r.get("showDelay");n=Se(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},t.prototype._showAxisTooltip=function(r,n){var i=this._ecModel,o=this._tooltipModel,a=[n.offsetX,n.offsetY],s=tg([n.tooltipOption],o),l=this._renderMode,u=[],c=kr("section",{blocks:[],noHeader:!0}),d=[],h=new IR;F(r,function(w){F(w.dataByAxis,function(S){var x=i.getComponent(S.axisDim+"Axis",S.axisIndex),R=S.value;if(!(!x||R==null)){var T=yY(R,x.axis,i,S.seriesDataIndices,S.valueLabelOpt),P=kr("section",{header:T,noHeader:!Xi(T),sortBlocks:!0,blocks:[]});c.blocks.push(P),F(S.seriesDataIndices,function(D){var I=i.getSeriesByIndex(D.seriesIndex),E=D.dataIndexInside,k=I.getDataParams(E);if(!(k.dataIndex<0)){k.axisDim=S.axisDim,k.axisIndex=S.axisIndex,k.axisType=S.axisType,k.axisId=S.axisId,k.axisValue=PE(x.axis,{value:R}),k.axisValueLabel=T,k.marker=h.makeTooltipMarker("item",kc(k.color),l);var L=uz(I.formatTooltip(E,!0,null)),N=L.frag;if(N){var B=tg([I],o).get("valueFormatter");P.blocks.push(B?ie({valueFormatter:B},N):N)}L.text&&d.push(L.text),u.push(k)}})}})}),c.blocks.reverse(),d.reverse();var f=n.position,g=s.get("order"),m=gz(c,h,l,g,i.get("useUTC"),s.get("textStyle"));m&&d.unshift(m);var y=l==="richText"?`

`:"<br/>",C=d.join(y);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(r,u)?this._updatePosition(s,f,a[0],a[1],this._tooltipContent,u):this._showTooltipContent(s,C,u,Math.random()+"",a[0],a[1],f,null,h)})},t.prototype._showSeriesItemTooltip=function(r,n,i){var o=this._ecModel,a=Ve(n),s=a.seriesIndex,l=o.getSeriesByIndex(s),u=a.dataModel||l,c=a.dataIndex,d=a.dataType,h=u.getData(d),f=this._renderMode,g=r.positionDefault,m=tg([h.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,g?{position:g}:null),y=m.get("trigger");if(!(y!=null&&y!=="item")){var C=u.getDataParams(c,d),w=new IR;C.marker=w.makeTooltipMarker("item",kc(C.color),f);var S=uz(u.formatTooltip(c,!1,d)),x=m.get("order"),R=m.get("valueFormatter"),T=S.frag,P=T?gz(R?ie({valueFormatter:R},T):T,w,f,x,o.get("useUTC"),m.get("textStyle")):S.text,D="item_"+u.name+"_"+c;this._showOrMove(m,function(){this._showTooltipContent(m,P,C,D,r.offsetX,r.offsetY,r.position,r.target,w)}),i({type:"showTip",dataIndexInside:c,dataIndex:h.getRawIndex(c),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(r,n,i){var o=this._renderMode==="html",a=Ve(n),s=a.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(we(l)){var c=l;l={content:c,formatter:c},u=!0}u&&o&&l.content&&(l=Fe(l),l.content=gn(l.content));var d=[l],h=this._ecModel.getComponent(a.componentMainType,a.componentIndex);h&&d.push(h),d.push({formatter:l.content});var f=r.positionDefault,g=tg(d,this._tooltipModel,f?{position:f}:null),m=g.get("content"),y=Math.random()+"",C=new IR;this._showOrMove(g,function(){var w=Fe(g.get("formatterParams")||{});this._showTooltipContent(g,m,w,y,r.offsetX,r.offsetY,r.position,n,C)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(r,n,i,o,a,s,l,u,c){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var d=this._tooltipContent;d.setEnterable(r.get("enterable"));var h=r.get("formatter");l=l||r.get("position");var f=n,g=this._getNearestPoint([a,s],i,r.get("trigger"),r.get("borderColor")),m=g.color;if(h)if(we(h)){var y=r.ecModel.get("useUTC"),C=se(i)?i[0]:i,w=C&&C.axisType&&C.axisType.indexOf("time")>=0;f=h,w&&(f=fm(C.axisValue,f,y)),f=tE(f,i,!0)}else if(Ie(h)){var S=Se(function(x,R){x===this._ticket&&(d.setContent(R,c,r,m,l),this._updatePosition(r,l,a,s,d,i,u))},this);this._ticket=o,f=h(i,o,S)}else f=h;d.setContent(f,c,r,m,l),d.show(r,m),this._updatePosition(r,l,a,s,d,i,u)}},t.prototype._getNearestPoint=function(r,n,i,o){if(i==="axis"||se(n))return{color:o||(this._renderMode==="html"?"#fff":"none")};if(!se(n))return{color:o||n.color||n.borderColor}},t.prototype._updatePosition=function(r,n,i,o,a,s,l){var u=this._api.getWidth(),c=this._api.getHeight();n=n||r.get("position");var d=a.getSize(),h=r.get("align"),f=r.get("verticalAlign"),g=l&&l.getBoundingRect().clone();if(l&&g.applyTransform(l.transform),Ie(n)&&(n=n([i,o],s,a.el,g,{viewSize:[u,c],contentSize:d.slice()})),se(n))i=me(n[0],u),o=me(n[1],c);else if(ke(n)){var m=n;m.width=d[0],m.height=d[1];var y=yr(m,{width:u,height:c});i=y.x,o=y.y,h=null,f=null}else if(we(n)&&l){var C=dPe(n,g,d,r.get("borderWidth"));i=C[0],o=C[1]}else{var C=uPe(i,o,a,u,c,h?null:20,f?null:20);i=C[0],o=C[1]}if(h&&(i-=xH(h)?d[0]/2:h==="right"?d[0]:0),f&&(o-=xH(f)?d[1]/2:f==="bottom"?d[1]:0),FY(r)){var C=cPe(i,o,a,u,c);i=C[0],o=C[1]}a.moveTo(i,o)},t.prototype._updateContentNotChangedOnAxis=function(r,n){var i=this._lastDataByCoordSys,o=this._cbParamsList,a=!!i&&i.length===r.length;return a&&F(i,function(s,l){var u=s.dataByAxis||[],c=r[l]||{},d=c.dataByAxis||[];a=a&&u.length===d.length,a&&F(u,function(h,f){var g=d[f]||{},m=h.seriesDataIndices||[],y=g.seriesDataIndices||[];a=a&&h.value===g.value&&h.axisType===g.axisType&&h.axisId===g.axisId&&m.length===y.length,a&&F(m,function(C,w){var S=y[w];a=a&&C.seriesIndex===S.seriesIndex&&C.dataIndex===S.dataIndex}),o&&F(h.seriesDataIndices,function(C){var w=C.seriesIndex,S=n[w],x=o[w];S&&x&&x.data!==S.data&&(a=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=n,!!a},t.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},t.prototype.dispose=function(r,n){rt.node||!n.getDom()||(Sv(this,"_updatePosition"),this._tooltipContent.dispose(),MD("itemTooltip",n))},t.type="tooltip",t}(zt);function tg(e,t,r){var n=t.ecModel,i;r?(i=new yt(r,n,n),i=new yt(t.option,i,n)):i=t;for(var o=e.length-1;o>=0;o--){var a=e[o];a&&(a instanceof yt&&(a=a.get("tooltip",!0)),we(a)&&(a={formatter:a}),a&&(i=new yt(a,i,n)))}return i}function SH(e,t){return e.dispatchAction||Se(t.dispatchAction,t)}function uPe(e,t,r,n,i,o,a){var s=r.getSize(),l=s[0],u=s[1];return o!=null&&(e+l+o+2>n?e-=l+o:e+=o),a!=null&&(t+u+a>i?t-=u+a:t+=a),[e,t]}function cPe(e,t,r,n,i){var o=r.getSize(),a=o[0],s=o[1];return e=Math.min(e+a,n)-a,t=Math.min(t+s,i)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function dPe(e,t,r,n){var i=r[0],o=r[1],a=Math.ceil(Math.SQRT2*n)+8,s=0,l=0,u=t.width,c=t.height;switch(e){case"inside":s=t.x+u/2-i/2,l=t.y+c/2-o/2;break;case"top":s=t.x+u/2-i/2,l=t.y-o-a;break;case"bottom":s=t.x+u/2-i/2,l=t.y+c+a;break;case"left":s=t.x-i-a,l=t.y+c/2-o/2;break;case"right":s=t.x+u+a,l=t.y+c/2-o/2}return[s,l]}function xH(e){return e==="center"||e==="middle"}function hPe(e,t,r){var n=EI(e).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var o=sm(t,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),a=o.models[0];if(a){var s=r.getViewOfComponentModel(a),l;if(s.group.traverse(function(u){var c=Ve(u).tooltipConfig;if(c&&c.name===e.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:a.componentIndex,el:l}}}}function fPe(e){et(Rm),e.registerComponentModel(XTe),e.registerComponentView(lPe),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},ir),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},ir)}var pPe=["rect","polygon","keep","clear"];function gPe(e,t){var r=_t(e?e.brush:[]);if(r.length){var n=[];F(r,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(n=n.concat(u))});var i=e&&e.toolbox;se(i)&&(i=i[0]),i||(i={feature:{}},e.toolbox=[i]);var o=i.feature||(i.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,n),vPe(s),t&&!s.length&&s.push.apply(s,pPe)}}function vPe(e){var t={};F(e,function(r){t[r]=1}),e.length=0,F(t,function(r,n){e.push(n)})}var RH=F;function _H(e){if(e){for(var t in e)if(e.hasOwnProperty(t))return!0}}function zD(e,t,r){var n={};return RH(t,function(o){var a=n[o]=i();RH(e[o],function(s,l){if(Er.isValidType(l)){var u={type:l,visual:s};r&&r(u,o),a[l]=new Er(u),l==="opacity"&&(u=Fe(u),u.type="colorAlpha",a.__hidden.__alphaForOpacity=new Er(u))}})}),n;function i(){var o=function(){};o.prototype.__hidden=o.prototype;var a=new o;return a}}function zY(e,t,r){var n;F(r,function(i){t.hasOwnProperty(i)&&_H(t[i])&&(n=!0)}),n&&F(r,function(i){t.hasOwnProperty(i)&&_H(t[i])?e[i]=Fe(t[i]):delete e[i]})}function mPe(e,t,r,n,i,o){var a={};F(e,function(d){var h=Er.prepareVisualTypes(t[d]);a[d]=h});var s;function l(d){return dE(r,s,d)}function u(d,h){r7(r,s,d,h)}r.each(c);function c(d,h){s=d;var f=r.getRawDataItem(s);if(!(f&&f.visualMap===!1))for(var g=n.call(i,d),m=t[g],y=a[g],C=0,w=y.length;C<w;C++){var S=y[C];m[S]&&m[S].applyVisual(d,l,u)}}}function yPe(e,t,r,n){var i={};return F(e,function(o){var a=Er.prepareVisualTypes(t[o]);i[o]=a}),{progress:function(a,s){var l;n!=null&&(l=s.getDimensionIndex(n));function u(R){return dE(s,d,R)}function c(R,T){r7(s,d,R,T)}for(var d,h=s.getStore();(d=a.next())!=null;){var f=s.getRawDataItem(d);if(!(f&&f.visualMap===!1))for(var g=n!=null?h.get(l,d):d,m=r(g),y=t[m],C=i[m],w=0,S=C.length;w<S;w++){var x=C[w];y[x]&&y[x].applyVisual(g,u,c)}}}}}function CPe(e){var t=e.brushType,r={point:function(n){return TH[t].point(n,r,e)},rect:function(n){return TH[t].rect(n,r,e)}};return r}var TH={lineX:PH(0),lineY:PH(1),rect:{point:function(e,t,r){return e&&r.boundingRect.contain(e[0],e[1])},rect:function(e,t,r){return e&&r.boundingRect.intersect(e)}},polygon:{point:function(e,t,r){return e&&r.boundingRect.contain(e[0],e[1])&&Zu(r.range,e[0],e[1])},rect:function(e,t,r){var n=r.range;if(!e||n.length<=1)return!1;var i=e.x,o=e.y,a=e.width,s=e.height,l=n[0];if(Zu(n,i,o)||Zu(n,i+a,o)||Zu(n,i,o+s)||Zu(n,i+a,o+s)||qe.create(e).contain(l[0],l[1])||yg(i,o,i+a,o,n)||yg(i,o,i,o+s,n)||yg(i+a,o,i+a,o+s,n)||yg(i,o+s,i+a,o+s,n))return!0}}};function PH(e){var t=["x","y"],r=["width","height"];return{point:function(n,i,o){if(n){var a=o.range,s=n[e];return rg(s,a)}},rect:function(n,i,o){if(n){var a=o.range,s=[n[t[e]],n[t[e]]+n[r[e]]];return s[1]<s[0]&&s.reverse(),rg(s[0],a)||rg(s[1],a)||rg(a[0],s)||rg(a[1],s)}}}}function rg(e,t){return t[0]<=e&&e<=t[1]}var DH=["inBrush","outOfBrush"],j_="__ecBrushSelect",BD="__ecInBrushSelectEvent";function BY(e){e.eachComponent({mainType:"brush"},function(t){var r=t.brushTargetManager=new TM(t.option,e);r.setInputRanges(t.areas,e)})}function wPe(e,t,r){var n=[],i,o;e.eachComponent({mainType:"brush"},function(a){r&&r.type==="takeGlobalCursor"&&a.setBrushOption(r.key==="brush"?r.brushOption:{brushType:!1})}),BY(e),e.eachComponent({mainType:"brush"},function(a,s){var l={brushId:a.id,brushIndex:s,brushName:a.name,areas:Fe(a.areas),selected:[]};n.push(l);var u=a.option,c=u.brushLink,d=[],h=[],f=[],g=!1;s||(i=u.throttleType,o=u.throttleDelay);var m=le(a.areas,function(R){var T=RPe[R.brushType],P=Ee({boundingRect:T?T(R):void 0},R);return P.selectors=CPe(P),P}),y=zD(a.option,DH,function(R){R.mappingMethod="fixed"});se(c)&&F(c,function(R){d[R]=1});function C(R){return c==="all"||!!d[R]}function w(R){return!!R.length}e.eachSeries(function(R,T){var P=f[T]=[];R.subType==="parallel"?S(R,T):x(R,T,P)});function S(R,T){var P=R.coordinateSystem;g=g||P.hasAxisBrushed(),C(T)&&P.eachActiveState(R.getData(),function(D,I){D==="active"&&(h[I]=1)})}function x(R,T,P){if(!(!R.brushSelector||xPe(a,T))&&(F(m,function(I){a.brushTargetManager.controlSeries(I,R,e)&&P.push(I),g=g||w(P)}),C(T)&&w(P))){var D=R.getData();D.each(function(I){AH(R,P,D,I)&&(h[I]=1)})}}e.eachSeries(function(R,T){var P={seriesId:R.id,seriesIndex:T,seriesName:R.name,dataIndex:[]};l.selected.push(P);var D=f[T],I=R.getData(),E=C(T)?function(k){return h[k]?(P.dataIndex.push(I.getRawIndex(k)),"inBrush"):"outOfBrush"}:function(k){return AH(R,D,I,k)?(P.dataIndex.push(I.getRawIndex(k)),"inBrush"):"outOfBrush"};(C(T)?g:w(D))&&mPe(DH,y,I,E)})}),bPe(t,i,o,n,r)}function bPe(e,t,r,n,i){if(i){var o=e.getZr();if(!o[BD]){o[j_]||(o[j_]=SPe);var a=Df(o,j_,r,t);a(e,n)}}}function SPe(e,t){if(!e.isDisposed()){var r=e.getZr();r[BD]=!0,e.dispatchAction({type:"brushSelect",batch:t}),r[BD]=!1}}function AH(e,t,r,n){for(var i=0,o=t.length;i<o;i++){var a=t[i];if(e.brushSelector(n,r,a.selectors,a))return!0}}function xPe(e,t){var r=e.option.seriesIndex;return r!=null&&r!=="all"&&(se(r)?Ze(r,t)<0:t!==r)}var RPe={rect:function(e){return IH(e.range)},polygon:function(e){for(var t,r=e.range,n=0,i=r.length;n<i;n++){t=t||[[1/0,-1/0],[1/0,-1/0]];var o=r[n];o[0]<t[0][0]&&(t[0][0]=o[0]),o[0]>t[0][1]&&(t[0][1]=o[0]),o[1]<t[1][0]&&(t[1][0]=o[1]),o[1]>t[1][1]&&(t[1][1]=o[1])}return t&&IH(t)}};function IH(e){return new qe(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var _Pe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){this.ecModel=r,this.api=n,this.model,(this._brushController=new JE(n.getZr())).on("brush",Se(this._onBrush,this)).mount()},t.prototype.render=function(r,n,i,o){this.model=r,this._updateController(r,n,i,o)},t.prototype.updateTransform=function(r,n,i,o){BY(n),this._updateController(r,n,i,o)},t.prototype.updateVisual=function(r,n,i,o){this.updateTransform(r,n,i,o)},t.prototype.updateView=function(r,n,i,o){this._updateController(r,n,i,o)},t.prototype._updateController=function(r,n,i,o){(!o||o.$from!==r.id)&&this._brushController.setPanels(r.brushTargetManager.makePanelOpts(i)).enableBrush(r.brushOption).updateCovers(r.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(r){var n=this.model.id,i=this.model.brushTargetManager.setOutputRanges(r.areas,this.ecModel);(!r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:Fe(i),$from:n}),r.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:Fe(i),$from:n})},t.type="brush",t}(zt),TPe="#ddd",PPe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.areas=[],r.brushOption={},r}return t.prototype.optionUpdated=function(r,n){var i=this.option;!n&&zY(i,r,["inBrush","outOfBrush"]);var o=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:TPe},o.hasOwnProperty("liftZ")||(o.liftZ=5)},t.prototype.setAreas=function(r){r&&(this.areas=le(r,function(n){return EH(this.option,n)},this))},t.prototype.setBrushOption=function(r){this.brushOption=EH(this.option,r),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(tt);function EH(e,t){return Ke({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new yt(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}var DPe=["rect","polygon","lineX","lineY","keep","clear"],APe=function(e){q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n,i){var o,a,s;n.eachComponent({mainType:"brush"},function(l){o=l.brushType,a=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=o,this._brushMode=a,F(r.get("type",!0),function(l){r.setIconStatus(l,(l==="keep"?a==="multiple":l==="clear"?s:l===o)?"emphasis":"normal")})},t.prototype.updateView=function(r,n,i){this.render(r,n,i)},t.prototype.getIcons=function(){var r=this.model,n=r.get("icon",!0),i={};return F(r.get("type",!0),function(o){n[o]&&(i[o]=n[o])}),i},t.prototype.onclick=function(r,n,i){var o=this._brushType,a=this._brushMode;i==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?o:o===i?!1:i,brushMode:i==="keep"?a==="multiple"?"single":"multiple":a}})},t.getDefaultOption=function(r){var n={show:!0,type:DPe.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:r.getLocaleModel().get(["toolbox","brush","title"])};return n},t}(ji);function IPe(e){e.registerComponentView(_Pe),e.registerComponentModel(PPe),e.registerPreprocessor(gPe),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,wPe),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,r){r.eachComponent({mainType:"brush",query:t},function(n){n.setAreas(t.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},ir),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},ir),ch("brush",APe)}var EPe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode={type:"box",ignoreSize:!0},r}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(tt),MPe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){if(this.group.removeAll(),!!r.get("show")){var o=this.group,a=r.getModel("textStyle"),s=r.getModel("subtextStyle"),l=r.get("textAlign"),u=Ue(r.get("textBaseline"),r.get("textVerticalAlign")),c=new dt({style:Mt(a,{text:r.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),d=c.getBoundingRect(),h=r.get("subtext"),f=new dt({style:Mt(s,{text:h,fill:s.getTextColor(),y:d.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),g=r.get("link"),m=r.get("sublink"),y=r.get("triggerEvent",!0);c.silent=!g&&!y,f.silent=!m&&!y,g&&c.on("click",function(){m0(g,"_"+r.get("target"))}),m&&f.on("click",function(){m0(m,"_"+r.get("subtarget"))}),Ve(c).eventData=Ve(f).eventData=y?{componentType:"title",componentIndex:r.componentIndex}:null,o.add(c),h&&o.add(f);var C=o.getBoundingRect(),w=r.getBoxLayoutParams();w.width=C.width,w.height=C.height;var S=yr(w,{width:i.getWidth(),height:i.getHeight()},r.get("padding"));l||(l=r.get("left")||r.get("right"),l==="middle"&&(l="center"),l==="right"?S.x+=S.width:l==="center"&&(S.x+=S.width/2)),u||(u=r.get("top")||r.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?S.y+=S.height:u==="middle"&&(S.y+=S.height/2),u=u||"top"),o.x=S.x,o.y=S.y,o.markRedraw();var x={align:l,verticalAlign:u};c.setStyle(x),f.setStyle(x),C=o.getBoundingRect();var R=S.margin,T=r.getItemStyle(["color","opacity"]);T.fill=r.get("backgroundColor");var P=new ht({shape:{x:C.x-R[3],y:C.y-R[0],width:C.width+R[1]+R[3],height:C.height+R[0]+R[2],r:r.get("borderRadius")},style:T,subPixelOptimize:!0,silent:!0});o.add(P)}},t.type="title",t}(zt);function kPe(e){e.registerComponentModel(EPe),e.registerComponentView(MPe)}var MH=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode="box",r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),this._initData()},t.prototype.mergeOption=function(r){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(r){r==null&&(r=this.option.currentIndex);var n=this._data.count();this.option.loop?r=(r%n+n)%n:(r>=n&&(r=n-1),r<0&&(r=0)),this.option.currentIndex=r},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(r){this.option.autoPlay=!!r},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var r=this.option,n=r.data||[],i=r.axisType,o=this._names=[],a;i==="category"?(a=[],F(n,function(u,c){var d=xr(gf(u),""),h;ke(u)?(h=Fe(u),h.value=c):h=c,a.push(h),o.push(d)})):a=n;var s={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new yn([{name:"value",type:s}],this);l.initData(a,o)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(tt),VY=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="timeline.slider",t.defaultOption=eu(MH.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(MH);ar(VY,iS.prototype);var FPe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="timeline",t}(zt),LPe=function(e){q(t,e);function t(r,n,i,o){var a=e.call(this,r,n,i)||this;return a.type=o||"value",a}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t}(uo),Y_=Math.PI,kH=ft(),OPe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){this.api=n},t.prototype.render=function(r,n,i){if(this.model=r,this.api=i,this.ecModel=n,this.group.removeAll(),r.get("show",!0)){var o=this._layout(r,i),a=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(o,r);r.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return kr("nameValue",{noName:!0,value:c})},F(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](o,a,l,r)},this),this._renderAxisLabel(o,s,l,r),this._position(o,r)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(r,n){var i=r.get(["label","position"]),o=r.get("orient"),a=zPe(r,n),s;i==null||i==="auto"?s=o==="horizontal"?a.y+a.height/2<n.getHeight()/2?"-":"+":a.x+a.width/2<n.getWidth()/2?"+":"-":we(i)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][i]:s=i;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:Y_/2},d=o==="vertical"?a.height:a.width,h=r.getModel("controlStyle"),f=h.get("show",!0),g=f?h.get("itemSize"):0,m=f?h.get("itemGap"):0,y=g+m,C=r.get(["label","rotate"])||0;C=C*Y_/180;var w,S,x,R=h.get("position",!0),T=f&&h.get("showPlayBtn",!0),P=f&&h.get("showPrevBtn",!0),D=f&&h.get("showNextBtn",!0),I=0,E=d;R==="left"||R==="bottom"?(T&&(w=[0,0],I+=y),P&&(S=[I,0],I+=y),D&&(x=[E-g,0],E-=y)):(T&&(w=[E-g,0],E-=y),P&&(S=[0,0],I+=y),D&&(x=[E-g,0],E-=y));var k=[I,E];return r.get("inverse")&&k.reverse(),{viewRect:a,mainLength:d,orient:o,rotation:c[o],labelRotation:C,labelPosOpt:s,labelAlign:r.get(["label","align"])||l[o],labelBaseline:r.get(["label","verticalAlign"])||r.get(["label","baseline"])||u[o],playPosition:w,prevBtnPosition:S,nextBtnPosition:x,axisExtent:k,controlSize:g,controlGap:m}},t.prototype._position=function(r,n){var i=this._mainGroup,o=this._labelGroup,a=r.viewRect;if(r.orient==="vertical"){var s=oi(),l=a.x,u=a.y+a.height;zo(s,s,[-l,-u]),Ql(s,s,-Y_/2),zo(s,s,[l,u]),a=a.clone(),a.applyTransform(s)}var c=w(a),d=w(i.getBoundingRect()),h=w(o.getBoundingRect()),f=[i.x,i.y],g=[o.x,o.y];g[0]=f[0]=c[0][0];var m=r.labelPosOpt;if(m==null||we(m)){var y=m==="+"?0:1;S(f,d,c,1,y),S(g,h,c,1,1-y)}else{var y=m>=0?0:1;S(f,d,c,1,y),g[1]=f[1]+m}i.setPosition(f),o.setPosition(g),i.rotation=o.rotation=r.rotation,C(i),C(o);function C(x){x.originX=c[0][0]-x.x,x.originY=c[1][0]-x.y}function w(x){return[[x.x,x.x+x.width],[x.y,x.y+x.height]]}function S(x,R,T,P,D){x[P]+=T[P][D]-R[P][D]}},t.prototype._createAxis=function(r,n){var i=n.getData(),o=n.get("axisType"),a=NPe(n,o);a.getTicks=function(){return i.mapArray(["value"],function(u){return{value:u}})};var s=i.getDataExtent("value");a.setExtent(s[0],s[1]),a.calcNiceTicks();var l=new LPe("value",a,r.axisExtent,o);return l.model=n,l},t.prototype._createGroup=function(r){var n=this[r]=new Ne;return this.group.add(n),n},t.prototype._renderAxisLine=function(r,n,i,o){var a=i.getExtent();if(o.get(["lineStyle","show"])){var s=new Rr({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:ie({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(s);var l=this._progressLine=new Rr({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:Ee({lineCap:"round",lineWidth:s.style.lineWidth},o.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},t.prototype._renderAxisTick=function(r,n,i,o){var a=this,s=o.getData(),l=i.scale.getTicks();this._tickSymbols=[],F(l,function(u){var c=i.dataToCoord(u.value),d=s.getItemModel(u.value),h=d.getModel("itemStyle"),f=d.getModel(["emphasis","itemStyle"]),g=d.getModel(["progress","itemStyle"]),m={x:c,y:0,onclick:Se(a._changeTimeline,a,u.value)},y=FH(d,h,n,m);y.ensureState("emphasis").style=f.getItemStyle(),y.ensureState("progress").style=g.getItemStyle(),Fl(y);var C=Ve(y);d.get("tooltip")?(C.dataIndex=u.value,C.dataModel=o):C.dataIndex=C.dataModel=null,a._tickSymbols.push(y)})},t.prototype._renderAxisLabel=function(r,n,i,o){var a=this,s=i.getLabelModel();if(s.get("show")){var l=o.getData(),u=i.getViewLabels();this._tickLabels=[],F(u,function(c){var d=c.tickValue,h=l.getItemModel(d),f=h.getModel("label"),g=h.getModel(["emphasis","label"]),m=h.getModel(["progress","label"]),y=i.dataToCoord(c.tickValue),C=new dt({x:y,y:0,rotation:r.labelRotation-r.rotation,onclick:Se(a._changeTimeline,a,d),silent:!1,style:Mt(f,{text:c.formattedLabel,align:r.labelAlign,verticalAlign:r.labelBaseline})});C.ensureState("emphasis").style=Mt(g),C.ensureState("progress").style=Mt(m),n.add(C),Fl(C),kH(C).dataIndex=d,a._tickLabels.push(C)})}},t.prototype._renderControl=function(r,n,i,o){var a=r.controlSize,s=r.rotation,l=o.getModel("controlStyle").getItemStyle(),u=o.getModel(["emphasis","controlStyle"]).getItemStyle(),c=o.getPlayState(),d=o.get("inverse",!0);h(r.nextBtnPosition,"next",Se(this._changeTimeline,this,d?"-":"+")),h(r.prevBtnPosition,"prev",Se(this._changeTimeline,this,d?"+":"-")),h(r.playPosition,c?"stop":"play",Se(this._handlePlayClick,this,!c),!0);function h(f,g,m,y){if(f){var C=Bo(Ue(o.get(["controlStyle",g+"BtnSize"]),a),a),w=[0,-C/2,C,C],S=BPe(o,g+"Icon",w,{x:f[0],y:f[1],originX:a/2,originY:0,rotation:y?-s:0,rectHover:!0,style:l,onclick:m});S.ensureState("emphasis").style=u,n.add(S),Fl(S)}}},t.prototype._renderCurrentPointer=function(r,n,i,o){var a=o.getData(),s=o.getCurrentIndex(),l=a.getItemModel(s).getModel("checkpointStyle"),u=this,c={onCreate:function(d){d.draggable=!0,d.drift=Se(u._handlePointerDrag,u),d.ondragend=Se(u._handlePointerDragend,u),LH(d,u._progressLine,s,i,o,!0)},onUpdate:function(d){LH(d,u._progressLine,s,i,o)}};this._currentPointer=FH(l,l,this._mainGroup,{},this._currentPointer,c)},t.prototype._handlePlayClick=function(r){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:r,from:this.uid})},t.prototype._handlePointerDrag=function(r,n,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(r){this._pointerChangeTimeline([r.offsetX,r.offsetY],!0)},t.prototype._pointerChangeTimeline=function(r,n){var i=this._toAxisCoord(r)[0],o=this._axis,a=mi(o.getExtent().slice());i>a[1]&&(i=a[1]),i<a[0]&&(i=a[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=i,s.dirty());var l=this._findNearestTick(i),u=this.model;(n||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},t.prototype._doPlayStop=function(){var r=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=r.model;r._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(r){var n=this._mainGroup.getLocalTransform();return ko(r,n,!0)},t.prototype._findNearestTick=function(r){var n=this.model.getData(),i=1/0,o,a=this._axis;return n.each(["value"],function(s,l){var u=a.dataToCoord(s),c=Math.abs(u-r);c<i&&(i=c,o=l)}),o},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(r){var n=this.model.getCurrentIndex();r==="+"?r=n+1:r==="-"&&(r=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:r,from:this.uid})},t.prototype._updateTicksStatus=function(){var r=this.model.getCurrentIndex(),n=this._tickSymbols,i=this._tickLabels;if(n)for(var o=0;o<n.length;o++)n&&n[o]&&n[o].toggleState("progress",o<r);if(i)for(var o=0;o<i.length;o++)i&&i[o]&&i[o].toggleState("progress",kH(i[o]).dataIndex<=r)},t.type="timeline.slider",t}(FPe);function NPe(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new hS({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new _E({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new As}}function zPe(e,t){return yr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}function BPe(e,t,r,n){var i=n.style,o=bf(e.get(["controlStyle",t]),n||{},new qe(r[0],r[1],r[2],r[3]));return i&&o.setStyle(i),o}function FH(e,t,r,n,i,o){var a=t.get("color");if(i)i.setColor(a),r.add(i),o&&o.onUpdate(i);else{var s=e.get("symbol");i=hr(s,-1,-1,2,2,a),i.setStyle("strokeNoScale",!0),r.add(i),o&&o.onCreate(i)}var l=t.getItemStyle(["color"]);i.setStyle(l),n=Ke({rectHover:!0,z2:100},n,!0);var u=Af(e.get("symbolSize"));n.scaleX=u[0]/2,n.scaleY=u[1]/2;var c=Xc(e.get("symbolOffset"),u);c&&(n.x=(n.x||0)+c[0],n.y=(n.y||0)+c[1]);var d=e.get("symbolRotate");return n.rotation=(d||0)*Math.PI/180||0,i.attr(n),i.updateTransform(),i}function LH(e,t,r,n,i,o){if(!e.dragging){var a=i.getModel("checkpointStyle"),s=n.dataToCoord(i.getData().get("value",r));if(o||!a.get("animation",!0))e.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}function VPe(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,r,n){var i=r.getComponent("timeline");return i&&t.currentIndex!=null&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),r.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),Ee({currentIndex:i.option.currentIndex},t)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,r){var n=r.getComponent("timeline");n&&t.playState!=null&&n.setPlayState(t.playState)})}function GPe(e){var t=e&&e.timeline;se(t)||(t=t?[t]:[]),F(t,function(r){r&&HPe(r)})}function HPe(e){var t=e.type,r={number:"value",time:"time"};if(r[t]&&(e.axisType=r[t],delete e.type),OH(e),ec(e,"controlPosition")){var n=e.controlStyle||(e.controlStyle={});ec(n,"position")||(n.position=e.controlPosition),n.position==="none"&&!ec(n,"show")&&(n.show=!1,delete n.position),delete e.controlPosition}F(e.data||[],function(i){ke(i)&&!se(i)&&(!ec(i,"value")&&ec(i,"name")&&(i.value=i.name),OH(i))})}function OH(e){var t=e.itemStyle||(e.itemStyle={}),r=t.emphasis||(t.emphasis={}),n=e.label||e.label||{},i=n.normal||(n.normal={}),o={normal:1,emphasis:1};F(n,function(a,s){!o[s]&&!ec(i,s)&&(i[s]=a)}),r.label&&!ec(n,"emphasis")&&(n.emphasis=r.label,delete r.label)}function ec(e,t){return e.hasOwnProperty(t)}function WPe(e){e.registerComponentModel(VY),e.registerComponentView(OPe),e.registerSubTypeDefaulter("timeline",function(){return"slider"}),VPe(e),e.registerPreprocessor(GPe)}function AM(e,t){if(!e)return!1;for(var r=se(e)?e:[e],n=0;n<r.length;n++)if(r[n]&&r[n][t])return!0;return!1}function $C(e){Ac(e,"label",["show"])}var UC=ft(),Es=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.createdBySelf=!1,r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),this._mergeOption(r,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(rt.node)return!1;var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()},t.prototype.mergeOption=function(r,n){this._mergeOption(r,n,!1,!1)},t.prototype._mergeOption=function(r,n,i,o){var a=this.mainType;i||n.eachSeries(function(s){var l=s.get(this.mainType,!0),u=UC(s)[a];if(!l||!l.data){UC(s)[a]=null;return}u?u._mergeOption(l,n,!0):(o&&$C(l),F(l.data,function(c){c instanceof Array?($C(c[0]),$C(c[1])):$C(c)}),u=this.createMarkerModelFromSeries(l,this,n),ie(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),UC(s)[a]=u},this)},t.prototype.formatTooltip=function(r,n,i){var o=this.getData(),a=this.getRawValue(r),s=o.getName(r);return kr("section",{header:this.name,blocks:[kr("nameValue",{name:s,value:a,noName:!s,noValue:a==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(r){this._data=r},t.prototype.getDataParams=function(r,n){var i=iS.prototype.getDataParams.call(this,r,n),o=this.__hostSeries;return o&&(i.seriesId=o.id,i.seriesName=o.name,i.seriesType=o.subType),i},t.getMarkerModelFromSeries=function(r,n){return UC(r)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(tt);ar(Es,iS.prototype);var $Pe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,i){return new t(r,n,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(Es);function VD(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function UPe(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function jC(e,t,r,n,i,o){var a=[],s=Ds(t,n),l=s?t.getCalculationInfo("stackResultDimension"):n,u=IM(t,l,e),c=t.indicesOfNearest(l,u)[0];a[i]=t.get(r,c),a[o]=t.get(l,c);var d=t.get(n,c),h=Do(t.get(n,c));return h=Math.min(h,20),h>=0&&(a[o]=+a[o].toFixed(h)),[a,d]}var K_={min:je(jC,"min"),max:je(jC,"max"),average:je(jC,"average"),median:je(jC,"median")};function Ov(e,t){if(t){var r=e.getData(),n=e.coordinateSystem,i=n&&n.dimensions;if(!UPe(t)&&!se(t.coord)&&se(i)){var o=GY(t,r,n,e);if(t=Fe(t),t.type&&K_[t.type]&&o.baseAxis&&o.valueAxis){var a=Ze(i,o.baseAxis.dim),s=Ze(i,o.valueAxis.dim),l=K_[t.type](r,o.baseDataDim,o.valueDataDim,a,s);t.coord=l[0],t.value=l[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!se(i))t.coord=[];else for(var u=t.coord,c=0;c<2;c++)K_[u[c]]&&(u[c]=IM(r,r.mapDimension(i[c]),u[c]));return t}}function GY(e,t,r,n){var i={};return e.valueIndex!=null||e.valueDim!=null?(i.valueDataDim=e.valueIndex!=null?t.getDimension(e.valueIndex):e.valueDim,i.valueAxis=r.getAxis(jPe(n,i.valueDataDim)),i.baseAxis=r.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=n.getBaseAxis(),i.valueAxis=r.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function jPe(e,t){var r=e.getData().getDimensionInfo(t);return r&&r.coordDim}function Nv(e,t){return e&&e.containData&&t.coord&&!VD(t)?e.containData(t.coord):!0}function YPe(e,t,r){return e&&e.containZone&&t.coord&&r.coord&&!VD(t)&&!VD(r)?e.containZone(t.coord,r.coord):!0}function HY(e,t){return e?function(r,n,i,o){var a=o<2?r.coord&&r.coord[o]:r.value;return Nl(a,t[o])}:function(r,n,i,o){return Nl(r.value,t[o])}}function IM(e,t,r){if(r==="average"){var n=0,i=0;return e.each(t,function(o,a){isNaN(o)||(n+=o,i++)}),n/i}else return r==="median"?e.getMedian(t):e.getDataExtent(t)[r==="max"?1:0]}var X_=ft(),EM=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this.markerGroupMap=Pe()},t.prototype.render=function(r,n,i){var o=this,a=this.markerGroupMap;a.each(function(s){X_(s).keep=!1}),n.eachSeries(function(s){var l=Es.getMarkerModelFromSeries(s,o.type);l&&o.renderSeries(s,l,n,i)}),a.each(function(s){!X_(s).keep&&o.group.remove(s.group)})},t.prototype.markKeep=function(r){X_(r).keep=!0},t.prototype.toggleBlurSeries=function(r,n){var i=this;F(r,function(o){var a=Es.getMarkerModelFromSeries(o,i.type);if(a){var s=a.getData();s.eachItemGraphicEl(function(l){l&&(n?kU(l):zI(l))})}})},t.type="marker",t}(zt);function NH(e,t,r){var n=t.coordinateSystem;e.each(function(i){var o=e.getItemModel(i),a,s=me(o.get("x"),r.getWidth()),l=me(o.get("y"),r.getHeight());if(!isNaN(s)&&!isNaN(l))a=[s,l];else if(t.getMarkerPosition)a=t.getMarkerPosition(e.getValues(e.dimensions,i));else if(n){var u=e.get(n.dimensions[0],i),c=e.get(n.dimensions[1],i);a=n.dataToPoint([u,c])}isNaN(s)||(a[0]=s),isNaN(l)||(a[1]=l),e.setItemLayout(i,a)})}var KPe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,i){n.eachSeries(function(o){var a=Es.getMarkerModelFromSeries(o,"markPoint");a&&(NH(a.getData(),o,i),this.markerGroupMap.get(o.id).updateLayout())},this)},t.prototype.renderSeries=function(r,n,i,o){var a=r.coordinateSystem,s=r.id,l=r.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new mm),d=XPe(a,r,n);n.setData(d),NH(n.getData(),r,o),d.each(function(h){var f=d.getItemModel(h),g=f.getShallow("symbol"),m=f.getShallow("symbolSize"),y=f.getShallow("symbolRotate"),C=f.getShallow("symbolOffset"),w=f.getShallow("symbolKeepAspect");if(Ie(g)||Ie(m)||Ie(y)||Ie(C)){var S=n.getRawValue(h),x=n.getDataParams(h);Ie(g)&&(g=g(S,x)),Ie(m)&&(m=m(S,x)),Ie(y)&&(y=y(S,x)),Ie(C)&&(C=C(S,x))}var R=f.getModel("itemStyle").getItemStyle(),T=pm(l,"color");R.fill||(R.fill=T),d.setItemVisual(h,{symbol:g,symbolSize:m,symbolRotate:y,symbolOffset:C,symbolKeepAspect:w,style:R})}),c.updateData(d),this.group.add(c.group),d.eachItemGraphicEl(function(h){h.traverse(function(f){Ve(f).dataModel=n})}),this.markKeep(c),c.group.silent=n.get("silent")||r.get("silent")},t.type="markPoint",t}(EM);function XPe(e,t,r){var n;e?n=le(e&&e.dimensions,function(s){var l=t.getData().getDimensionInfo(t.getData().mapDimension(s))||{};return ie(ie({},l),{name:s,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new yn(n,r),o=le(r.get("data"),je(Ov,t));e&&(o=mt(o,je(Nv,e)));var a=HY(!!e,n);return i.initData(o,null,a),i}function qPe(e){e.registerComponentModel($Pe),e.registerComponentView(KPe),e.registerPreprocessor(function(t){AM(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var ZPe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,i){return new t(r,n,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(Es),YC=ft(),QPe=function(e,t,r,n){var i=e.getData(),o;if(se(n))o=n;else{var a=n.type;if(a==="min"||a==="max"||a==="average"||a==="median"||n.xAxis!=null||n.yAxis!=null){var s=void 0,l=void 0;if(n.yAxis!=null||n.xAxis!=null)s=t.getAxis(n.yAxis!=null?"y":"x"),l=Ar(n.yAxis,n.xAxis);else{var u=GY(n,i,t,e);s=u.valueAxis;var c=xE(i,u.valueDataDim);l=IM(i,c,a)}var d=s.dim==="x"?0:1,h=1-d,f=Fe(n),g={coord:[]};f.type=null,f.coord=[],f.coord[h]=-1/0,g.coord[h]=1/0;var m=r.get("precision");m>=0&&pt(l)&&(l=+l.toFixed(Math.min(m,20))),f.coord[d]=g.coord[d]=l,o=[f,g,{type:a,valueIndex:n.valueIndex,value:l}]}else o=[]}var y=[Ov(e,o[0]),Ov(e,o[1]),ie({},o[2])];return y[2].type=y[2].type||null,Ke(y[2],y[0]),Ke(y[2],y[1]),y};function $0(e){return!isNaN(e)&&!isFinite(e)}function zH(e,t,r,n){var i=1-e,o=n.dimensions[e];return $0(t[i])&&$0(r[i])&&t[e]===r[e]&&n.getAxis(o).containData(t[e])}function JPe(e,t){if(e.type==="cartesian2d"){var r=t[0].coord,n=t[1].coord;if(r&&n&&(zH(1,r,n,e)||zH(0,r,n,e)))return!0}return Nv(e,t[0])&&Nv(e,t[1])}function q_(e,t,r,n,i){var o=n.coordinateSystem,a=e.getItemModel(t),s,l=me(a.get("x"),i.getWidth()),u=me(a.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(n.getMarkerPosition)s=n.getMarkerPosition(e.getValues(e.dimensions,t));else{var c=o.dimensions,d=e.get(c[0],t),h=e.get(c[1],t);s=o.dataToPoint([d,h])}if(qc(o,"cartesian2d")){var f=o.getAxis("x"),g=o.getAxis("y"),c=o.dimensions;$0(e.get(c[0],t))?s[0]=f.toGlobalCoord(f.getExtent()[r?0:1]):$0(e.get(c[1],t))&&(s[1]=g.toGlobalCoord(g.getExtent()[r?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}e.setItemLayout(t,s)}var eDe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,i){n.eachSeries(function(o){var a=Es.getMarkerModelFromSeries(o,"markLine");if(a){var s=a.getData(),l=YC(a).from,u=YC(a).to;l.each(function(c){q_(l,c,!0,o,i),q_(u,c,!1,o,i)}),s.each(function(c){s.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},t.prototype.renderSeries=function(r,n,i,o){var a=r.coordinateSystem,s=r.id,l=r.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new QE);this.group.add(c.group);var d=tDe(a,r,n),h=d.from,f=d.to,g=d.line;YC(n).from=h,YC(n).to=f,n.setData(g);var m=n.get("symbol"),y=n.get("symbolSize"),C=n.get("symbolRotate"),w=n.get("symbolOffset");se(m)||(m=[m,m]),se(y)||(y=[y,y]),se(C)||(C=[C,C]),se(w)||(w=[w,w]),d.from.each(function(x){S(h,x,!0),S(f,x,!1)}),g.each(function(x){var R=g.getItemModel(x).getModel("lineStyle").getLineStyle();g.setItemLayout(x,[h.getItemLayout(x),f.getItemLayout(x)]),R.stroke==null&&(R.stroke=h.getItemVisual(x,"style").fill),g.setItemVisual(x,{fromSymbolKeepAspect:h.getItemVisual(x,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(x,"symbolOffset"),fromSymbolRotate:h.getItemVisual(x,"symbolRotate"),fromSymbolSize:h.getItemVisual(x,"symbolSize"),fromSymbol:h.getItemVisual(x,"symbol"),toSymbolKeepAspect:f.getItemVisual(x,"symbolKeepAspect"),toSymbolOffset:f.getItemVisual(x,"symbolOffset"),toSymbolRotate:f.getItemVisual(x,"symbolRotate"),toSymbolSize:f.getItemVisual(x,"symbolSize"),toSymbol:f.getItemVisual(x,"symbol"),style:R})}),c.updateData(g),d.line.eachItemGraphicEl(function(x){Ve(x).dataModel=n,x.traverse(function(R){Ve(R).dataModel=n})});function S(x,R,T){var P=x.getItemModel(R);q_(x,R,T,r,o);var D=P.getModel("itemStyle").getItemStyle();D.fill==null&&(D.fill=pm(l,"color")),x.setItemVisual(R,{symbolKeepAspect:P.get("symbolKeepAspect"),symbolOffset:Ue(P.get("symbolOffset",!0),w[T?0:1]),symbolRotate:Ue(P.get("symbolRotate",!0),C[T?0:1]),symbolSize:Ue(P.get("symbolSize"),y[T?0:1]),symbol:Ue(P.get("symbol",!0),m[T?0:1]),style:D})}this.markKeep(c),c.group.silent=n.get("silent")||r.get("silent")},t.type="markLine",t}(EM);function tDe(e,t,r){var n;e?n=le(e&&e.dimensions,function(u){var c=t.getData().getDimensionInfo(t.getData().mapDimension(u))||{};return ie(ie({},c),{name:u,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new yn(n,r),o=new yn(n,r),a=new yn([],r),s=le(r.get("data"),je(QPe,t,e,r));e&&(s=mt(s,je(JPe,e)));var l=HY(!!e,n);return i.initData(le(s,function(u){return u[0]}),null,l),o.initData(le(s,function(u){return u[1]}),null,l),a.initData(le(s,function(u){return u[2]})),a.hasItemOption=!0,{from:i,to:o,line:a}}function rDe(e){e.registerComponentModel(ZPe),e.registerComponentView(eDe),e.registerPreprocessor(function(t){AM(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var nDe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,i){return new t(r,n,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(Es),KC=ft(),iDe=function(e,t,r,n){var i=n[0],o=n[1];if(!(!i||!o)){var a=Ov(e,i),s=Ov(e,o),l=a.coord,u=s.coord;l[0]=Ar(l[0],-1/0),l[1]=Ar(l[1],-1/0),u[0]=Ar(u[0],1/0),u[1]=Ar(u[1],1/0);var c=kb([{},a,s]);return c.coord=[a.coord,s.coord],c.x0=a.x,c.y0=a.y,c.x1=s.x,c.y1=s.y,c}};function U0(e){return!isNaN(e)&&!isFinite(e)}function BH(e,t,r,n){var i=1-e;return U0(t[i])&&U0(r[i])}function oDe(e,t){var r=t.coord[0],n=t.coord[1],i={coord:r,x:t.x0,y:t.y0},o={coord:n,x:t.x1,y:t.y1};return qc(e,"cartesian2d")?r&&n&&(BH(1,r,n)||BH(0,r,n))?!0:YPe(e,i,o):Nv(e,i)||Nv(e,o)}function VH(e,t,r,n,i){var o=n.coordinateSystem,a=e.getItemModel(t),s,l=me(a.get(r[0]),i.getWidth()),u=me(a.get(r[1]),i.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(n.getMarkerPosition){var c=e.getValues(["x0","y0"],t),d=e.getValues(["x1","y1"],t),h=o.clampData(c),f=o.clampData(d),g=[];r[0]==="x0"?g[0]=h[0]>f[0]?d[0]:c[0]:g[0]=h[0]>f[0]?c[0]:d[0],r[1]==="y0"?g[1]=h[1]>f[1]?d[1]:c[1]:g[1]=h[1]>f[1]?c[1]:d[1],s=n.getMarkerPosition(g,r,!0)}else{var m=e.get(r[0],t),y=e.get(r[1],t),C=[m,y];o.clampData&&o.clampData(C,C),s=o.dataToPoint(C,!0)}if(qc(o,"cartesian2d")){var w=o.getAxis("x"),S=o.getAxis("y"),m=e.get(r[0],t),y=e.get(r[1],t);U0(m)?s[0]=w.toGlobalCoord(w.getExtent()[r[0]==="x0"?0:1]):U0(y)&&(s[1]=S.toGlobalCoord(S.getExtent()[r[1]==="y0"?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}return s}var GH=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],aDe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,i){n.eachSeries(function(o){var a=Es.getMarkerModelFromSeries(o,"markArea");if(a){var s=a.getData();s.each(function(l){var u=le(GH,function(d){return VH(s,l,d,o,i)});s.setItemLayout(l,u);var c=s.getItemGraphicEl(l);c.setShape("points",u)})}},this)},t.prototype.renderSeries=function(r,n,i,o){var a=r.coordinateSystem,s=r.id,l=r.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,{group:new Ne});this.group.add(c.group),this.markKeep(c);var d=sDe(a,r,n);n.setData(d),d.each(function(h){var f=le(GH,function(D){return VH(d,h,D,r,o)}),g=a.getAxis("x").scale,m=a.getAxis("y").scale,y=g.getExtent(),C=m.getExtent(),w=[g.parse(d.get("x0",h)),g.parse(d.get("x1",h))],S=[m.parse(d.get("y0",h)),m.parse(d.get("y1",h))];mi(w),mi(S);var x=!(y[0]>w[1]||y[1]<w[0]||C[0]>S[1]||C[1]<S[0]),R=!x;d.setItemLayout(h,{points:f,allClipped:R});var T=d.getItemModel(h).getModel("itemStyle").getItemStyle(),P=pm(l,"color");T.fill||(T.fill=P,we(T.fill)&&(T.fill=hv(T.fill,.4))),T.stroke||(T.stroke=P),d.setItemVisual(h,"style",T)}),d.diff(KC(c).data).add(function(h){var f=d.getItemLayout(h);if(!f.allClipped){var g=new bn({shape:{points:f.points}});d.setItemGraphicEl(h,g),c.group.add(g)}}).update(function(h,f){var g=KC(c).data.getItemGraphicEl(f),m=d.getItemLayout(h);m.allClipped?g&&c.group.remove(g):(g?gt(g,{shape:{points:m.points}},n,h):g=new bn({shape:{points:m.points}}),d.setItemGraphicEl(h,g),c.group.add(g))}).remove(function(h){var f=KC(c).data.getItemGraphicEl(h);c.group.remove(f)}).execute(),d.eachItemGraphicEl(function(h,f){var g=d.getItemModel(f),m=d.getItemVisual(f,"style");h.useStyle(d.getItemVisual(f,"style")),Jr(h,Mr(g),{labelFetcher:n,labelDataIndex:f,defaultText:d.getName(f)||"",inheritColor:we(m.fill)?hv(m.fill,1):"#000"}),Qr(h,g),Kt(h,null,null,g.get(["emphasis","disabled"])),Ve(h).dataModel=n}),KC(c).data=d,c.group.silent=n.get("silent")||r.get("silent")},t.type="markArea",t}(EM);function sDe(e,t,r){var n,i,o=["x0","y0","x1","y1"];if(e){var a=le(e&&e.dimensions,function(u){var c=t.getData(),d=c.getDimensionInfo(c.mapDimension(u))||{};return ie(ie({},d),{name:u,ordinalMeta:null})});i=le(o,function(u,c){return{name:u,type:a[c%2].type}}),n=new yn(i,r)}else i=[{name:"value",type:"float"}],n=new yn(i,r);var s=le(r.get("data"),je(iDe,t,e,r));e&&(s=mt(s,je(oDe,e)));var l=e?function(u,c,d,h){var f=u.coord[Math.floor(h/2)][h%2];return Nl(f,i[h])}:function(u,c,d,h){return Nl(u.value,i[h])};return n.initData(s,null,l),n.hasItemOption=!0,n}function lDe(e){e.registerComponentModel(nDe),e.registerComponentView(aDe),e.registerPreprocessor(function(t){AM(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var uDe=function(e,t){if(t==="all")return{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}},GD=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode={type:"box",ignoreSize:!0},r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),r.selected=r.selected||{},this._updateSelector(r)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),this._updateSelector(r)},t.prototype._updateSelector=function(r){var n=r.selector,i=this.ecModel;n===!0&&(n=r.selector=["all","inverse"]),se(n)&&F(n,function(o,a){we(o)&&(o={type:o}),n[a]=Ke(o,uDe(i,o.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<r.length;i++){var o=r[i].get("name");if(this.isSelected(o)){this.select(o),n=!0;break}}!n&&this.select(r[0].get("name"))}},t.prototype._updateData=function(r){var n=[],i=[];r.eachRawSeries(function(l){var u=l.name;i.push(u);var c;if(l.legendVisualProvider){var d=l.legendVisualProvider,h=d.getAllNames();r.isSeriesFiltered(l)||(i=i.concat(h)),h.length?n=n.concat(h):c=!0}else c=!0;c&&II(l)&&n.push(l.name)}),this._availableNames=i;var o=this.get("data")||n,a=Pe(),s=le(o,function(l){return(we(l)||pt(l))&&(l={name:l}),a.get(l.name)?null:(a.set(l.name,!0),new yt(l,this,this.ecModel))},this);this._data=mt(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(r){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var o=this._data;F(o,function(a){n[a.get("name")]=!1})}n[r]=!0},t.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},t.prototype.toggleSelected=function(r){var n=this.option.selected;n.hasOwnProperty(r)||(n[r]=!0),this[n[r]?"unSelect":"select"](r)},t.prototype.allSelect=function(){var r=this._data,n=this.option.selected;F(r,function(i){n[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var r=this._data,n=this.option.selected;F(r,function(i){var o=i.get("name",!0);n.hasOwnProperty(o)||(n[o]=!0),n[o]=!n[o]})},t.prototype.isSelected=function(r){var n=this.option.selected;return!(n.hasOwnProperty(r)&&!n[r])&&Ze(this._availableNames,r)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(tt),eh=je,HD=F,XC=Ne,WY=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.newlineDisabled=!1,r}return t.prototype.init=function(){this.group.add(this._contentGroup=new XC),this.group.add(this._selectorGroup=new XC),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(r,n,i){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var a=r.get("align"),s=r.get("orient");(!a||a==="auto")&&(a=r.get("left")==="right"&&s==="vertical"?"right":"left");var l=r.get("selector",!0),u=r.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(a,r,n,i,l,s,u);var c=r.getBoxLayoutParams(),d={width:i.getWidth(),height:i.getHeight()},h=r.get("padding"),f=yr(c,d,h),g=this.layoutInner(r,a,f,o,l,u),m=yr(Ee({width:g.width,height:g.height},c),d,h);this.group.x=m.x-g.x,this.group.y=m.y-g.y,this.group.markRedraw(),this.group.add(this._backgroundEl=EY(g,r))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(r,n,i,o,a,s,l){var u=this.getContentGroup(),c=Pe(),d=n.get("selectedMode"),h=[];i.eachRawSeries(function(f){!f.get("legendHoverLink")&&h.push(f.id)}),HD(n.getData(),function(f,g){var m=f.get("name");if(!this.newlineDisabled&&(m===""||m===`
`)){var y=new XC;y.newline=!0,u.add(y);return}var C=i.getSeriesByName(m)[0];if(!c.get(m))if(C){var w=C.getData(),S=w.getVisual("legendLineStyle")||{},x=w.getVisual("legendIcon"),R=w.getVisual("style"),T=this._createItem(C,m,g,f,n,r,S,R,x,d,o);T.on("click",eh(HH,m,null,o,h)).on("mouseover",eh(WD,C.name,null,o,h)).on("mouseout",eh($D,C.name,null,o,h)),i.ssr&&T.eachChild(function(P){var D=Ve(P);D.seriesIndex=C.seriesIndex,D.dataIndex=g,D.ssrType="legend"}),c.set(m,!0)}else i.eachRawSeries(function(P){if(!c.get(m)&&P.legendVisualProvider){var D=P.legendVisualProvider;if(!D.containName(m))return;var I=D.indexOfName(m),E=D.getItemVisual(I,"style"),k=D.getItemVisual(I,"legendIcon"),L=Ln(E.fill);L&&L[3]===0&&(L[3]=.2,E=ie(ie({},E),{fill:Mo(L,"rgba")}));var N=this._createItem(P,m,g,f,n,r,{},E,k,d,o);N.on("click",eh(HH,null,m,o,h)).on("mouseover",eh(WD,null,m,o,h)).on("mouseout",eh($D,null,m,o,h)),i.ssr&&N.eachChild(function(B){var V=Ve(B);V.seriesIndex=P.seriesIndex,V.dataIndex=g,V.ssrType="legend"}),c.set(m,!0)}},this)},this),a&&this._createSelector(a,n,o,s,l)},t.prototype._createSelector=function(r,n,i,o,a){var s=this.getSelectorGroup();HD(r,function(u){var c=u.type,d=new dt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});s.add(d);var h=n.getModel("selectorLabel"),f=n.getModel(["emphasis","selectorLabel"]);Jr(d,{normal:h,emphasis:f},{defaultText:u.title}),Fl(d)})},t.prototype._createItem=function(r,n,i,o,a,s,l,u,c,d,h){var f=r.visualDrawType,g=a.get("itemWidth"),m=a.get("itemHeight"),y=a.isSelected(n),C=o.get("symbolRotate"),w=o.get("symbolKeepAspect"),S=o.get("icon");c=S||c||"roundRect";var x=cDe(c,o,l,u,f,y,h),R=new XC,T=o.getModel("textStyle");if(Ie(r.getLegendIcon)&&(!S||S==="inherit"))R.add(r.getLegendIcon({itemWidth:g,itemHeight:m,icon:c,iconRotate:C,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:w}));else{var P=S==="inherit"&&r.getData().getVisual("symbol")?C==="inherit"?r.getData().getVisual("symbolRotate"):C:0;R.add(dDe({itemWidth:g,itemHeight:m,icon:c,iconRotate:P,itemStyle:x.itemStyle,symbolKeepAspect:w}))}var D=s==="left"?g+5:-5,I=s,E=a.get("formatter"),k=n;we(E)&&E?k=E.replace("{name}",n??""):Ie(E)&&(k=E(n));var L=y?T.getTextColor():o.get("inactiveColor");R.add(new dt({style:Mt(T,{text:k,x:D,y:m/2,fill:L,align:I,verticalAlign:"middle"},{inheritColor:L})}));var N=new ht({shape:R.getBoundingRect(),style:{fill:"transparent"}}),B=o.getModel("tooltip");return B.get("show")&&jc({el:N,componentModel:a,itemName:n,itemTooltipOption:B.option}),R.add(N),R.eachChild(function(V){V.silent=!0}),N.silent=!d,this.getContentGroup().add(R),Fl(R),R.__legendDataIndex=i,R},t.prototype.layoutInner=function(r,n,i,o,a,s){var l=this.getContentGroup(),u=this.getSelectorGroup();vc(r.get("orient"),l,r.get("itemGap"),i.width,i.height);var c=l.getBoundingRect(),d=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),a){vc("horizontal",u,r.get("selectorItemGap",!0));var h=u.getBoundingRect(),f=[-h.x,-h.y],g=r.get("selectorButtonGap",!0),m=r.getOrient().index,y=m===0?"width":"height",C=m===0?"height":"width",w=m===0?"y":"x";s==="end"?f[m]+=c[y]+g:d[m]+=h[y]+g,f[1-m]+=c[C]/2-h[C]/2,u.x=f[0],u.y=f[1],l.x=d[0],l.y=d[1];var S={x:0,y:0};return S[y]=c[y]+g+h[y],S[C]=Math.max(c[C],h[C]),S[w]=Math.min(0,h[w]+f[1-m]),S}else return l.x=d[0],l.y=d[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(zt);function cDe(e,t,r,n,i,o,a){function s(y,C){y.lineWidth==="auto"&&(y.lineWidth=C.lineWidth>0?2:0),HD(y,function(w,S){y[S]==="inherit"&&(y[S]=C[S])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),c=e.lastIndexOf("empty",0)===0?"fill":"stroke",d=l.getShallow("decal");u.decal=!d||d==="inherit"?n.decal:Kh(d,a),u.fill==="inherit"&&(u.fill=n[i]),u.stroke==="inherit"&&(u.stroke=n[c]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?n:r).opacity),s(u,n);var h=t.getModel("lineStyle"),f=h.getLineStyle();if(s(f,r),u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),f.stroke==="auto"&&(f.stroke=n.fill),!o){var g=t.get("inactiveBorderWidth"),m=u[c];u.lineWidth=g==="auto"?n.lineWidth>0&&m?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),f.stroke=h.get("inactiveColor"),f.lineWidth=h.get("inactiveWidth")}return{itemStyle:u,lineStyle:f}}function dDe(e){var t=e.icon||"roundRect",r=hr(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return r.setStyle(e.itemStyle),r.rotation=(e.iconRotate||0)*Math.PI/180,r.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function HH(e,t,r,n){$D(e,t,r,n),r.dispatchAction({type:"legendToggleSelect",name:e??t}),WD(e,t,r,n)}function $Y(e){for(var t=e.getZr().storage.getDisplayList(),r,n=0,i=t.length;n<i&&!(r=t[n].states.emphasis);)n++;return r&&r.hoverLayer}function WD(e,t,r,n){$Y(r)||r.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:n})}function $D(e,t,r,n){$Y(r)||r.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:n})}function hDe(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(r){for(var n=0;n<t.length;n++)if(!t[n].isSelected(r.name))return!1;return!0})}function ng(e,t,r){var n=e==="allSelect"||e==="inverseSelect",i={},o=[];r.eachComponent({mainType:"legend",query:t},function(s){n?s[e]():s[e](t.name),WH(s,i),o.push(s.componentIndex)});var a={};return r.eachComponent("legend",function(s){F(i,function(l,u){s[l?"select":"unSelect"](u)}),WH(s,a)}),n?{selected:a,legendIndex:o}:{name:t.name,selected:a}}function WH(e,t){var r=t||{};return F(e.getData(),function(n){var i=n.get("name");if(!(i===`
`||i==="")){var o=e.isSelected(i);_e(r,i)?r[i]=r[i]&&o:r[i]=o}}),r}function fDe(e){e.registerAction("legendToggleSelect","legendselectchanged",je(ng,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",je(ng,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",je(ng,"inverseSelect")),e.registerAction("legendSelect","legendselected",je(ng,"select")),e.registerAction("legendUnSelect","legendunselected",je(ng,"unSelect"))}function UY(e){e.registerComponentModel(GD),e.registerComponentView(WY),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,hDe),e.registerSubTypeDefaulter("legend",function(){return"plain"}),fDe(e)}var pDe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},t.prototype.init=function(r,n,i){var o=Rf(r);e.prototype.init.call(this,r,n,i),$H(this,r,o)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),$H(this,this.option,r)},t.type="legend.scroll",t.defaultOption=eu(GD.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(GD);function $H(e,t,r){var n=e.getOrient(),i=[1,1];i[n.index]=0,jl(t,r,{type:"box",ignoreSize:!!i})}var UH=Ne,Z_=["width","height"],Q_=["x","y"],gDe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.newlineDisabled=!0,r._currentIndex=0,r}return t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new UH),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new UH)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(r,n,i,o,a,s,l){var u=this;e.prototype.renderInner.call(this,r,n,i,o,a,s,l);var c=this._controllerGroup,d=n.get("pageIconSize",!0),h=se(d)?d:[d,d];g("pagePrev",0);var f=n.getModel("pageTextStyle");c.add(new dt({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),g("pageNext",1);function g(m,y){var C=m+"DataIndex",w=bf(n.get("pageIcons",!0)[n.getOrient().name][y],{onclick:Se(u._pageGo,u,C,n,o)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});w.name=m,c.add(w)}},t.prototype.layoutInner=function(r,n,i,o,a,s){var l=this.getSelectorGroup(),u=r.getOrient().index,c=Z_[u],d=Q_[u],h=Z_[1-u],f=Q_[1-u];a&&vc("horizontal",l,r.get("selectorItemGap",!0));var g=r.get("selectorButtonGap",!0),m=l.getBoundingRect(),y=[-m.x,-m.y],C=Fe(i);a&&(C[c]=i[c]-m[c]-g);var w=this._layoutContentAndController(r,o,C,u,c,h,f,d);if(a){if(s==="end")y[u]+=w[c]+g;else{var S=m[c]+g;y[u]-=S,w[d]-=S}w[c]+=m[c]+g,y[1-u]+=w[f]+w[h]/2-m[h]/2,w[h]=Math.max(w[h],m[h]),w[f]=Math.min(w[f],m[f]+y[1-u]),l.x=y[0],l.y=y[1],l.markRedraw()}return w},t.prototype._layoutContentAndController=function(r,n,i,o,a,s,l,u){var c=this.getContentGroup(),d=this._containerGroup,h=this._controllerGroup;vc(r.get("orient"),c,r.get("itemGap"),o?i.width:null,o?null:i.height),vc("horizontal",h,r.get("pageButtonItemGap",!0));var f=c.getBoundingRect(),g=h.getBoundingRect(),m=this._showController=f[a]>i[a],y=[-f.x,-f.y];n||(y[o]=c[u]);var C=[0,0],w=[-g.x,-g.y],S=Ue(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(m){var x=r.get("pageButtonPosition",!0);x==="end"?w[o]+=i[a]-g[a]:C[o]+=g[a]+S}w[1-o]+=f[s]/2-g[s]/2,c.setPosition(y),d.setPosition(C),h.setPosition(w);var R={x:0,y:0};if(R[a]=m?i[a]:f[a],R[s]=Math.max(f[s],g[s]),R[l]=Math.min(0,g[l]+w[1-o]),d.__rectSize=i[a],m){var T={x:0,y:0};T[a]=Math.max(i[a]-g[a]-S,0),T[s]=R[s],d.setClipPath(new ht({shape:T})),d.__rectSize=T[a]}else h.eachChild(function(D){D.attr({invisible:!0,silent:!0})});var P=this._getPageInfo(r);return P.pageIndex!=null&&gt(c,{x:P.contentPosition[0],y:P.contentPosition[1]},m?r:null),this._updatePageInfoView(r,P),R},t.prototype._pageGo=function(r,n,i){var o=this._getPageInfo(n)[r];o!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:n.id})},t.prototype._updatePageInfoView=function(r,n){var i=this._controllerGroup;F(["pagePrev","pageNext"],function(c){var d=c+"DataIndex",h=n[d]!=null,f=i.childOfName(c);f&&(f.setStyle("fill",h?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),f.cursor=h?"pointer":"default")});var o=i.childOfName("pageText"),a=r.get("pageFormatter"),s=n.pageIndex,l=s!=null?s+1:0,u=n.pageCount;o&&a&&o.setStyle("text",we(a)?a.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):a({current:l,total:u}))},t.prototype._getPageInfo=function(r){var n=r.get("scrollDataIndex",!0),i=this.getContentGroup(),o=this._containerGroup.__rectSize,a=r.getOrient().index,s=Z_[a],l=Q_[a],u=this._findTargetItemIndex(n),c=i.children(),d=c[u],h=c.length,f=h?1:0,g={contentPosition:[i.x,i.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return g;var m=x(d);g.contentPosition[a]=-m.s;for(var y=u+1,C=m,w=m,S=null;y<=h;++y)S=x(c[y]),(!S&&w.e>C.s+o||S&&!R(S,C.s))&&(w.i>C.i?C=w:C=S,C&&(g.pageNextDataIndex==null&&(g.pageNextDataIndex=C.i),++g.pageCount)),w=S;for(var y=u-1,C=m,w=m,S=null;y>=-1;--y)S=x(c[y]),(!S||!R(w,S.s))&&C.i<w.i&&(w=C,g.pagePrevDataIndex==null&&(g.pagePrevDataIndex=C.i),++g.pageCount,++g.pageIndex),C=S;return g;function x(T){if(T){var P=T.getBoundingRect(),D=P[l]+T[l];return{s:D,e:D+P[s],i:T.__legendDataIndex}}}function R(T,P){return T.e>=P&&T.s<=P+o}},t.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var n,i=this.getContentGroup(),o;return i.eachChild(function(a,s){var l=a.__legendDataIndex;o==null&&l!=null&&(o=s),l===r&&(n=s)}),n??o},t.type="legend.scroll",t}(WY);function vDe(e){e.registerAction("legendScroll","legendscroll",function(t,r){var n=t.scrollDataIndex;n!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(n)})})}function mDe(e){et(UY),e.registerComponentModel(pDe),e.registerComponentView(gDe),vDe(e)}function yDe(e){et(UY),et(mDe)}var CDe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.inside",t.defaultOption=eu(Lv.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(Lv),MM=ft();function wDe(e,t,r){MM(e).coordSysRecordMap.each(function(n){var i=n.dataZoomInfoMap.get(t.uid);i&&(i.getRange=r)})}function bDe(e,t){for(var r=MM(e).coordSysRecordMap,n=r.keys(),i=0;i<n.length;i++){var o=n[i],a=r.get(o),s=a.dataZoomInfoMap;if(s){var l=t.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||jY(r,a))}}}function jY(e,t){if(t){e.removeKey(t.model.uid);var r=t.controller;r&&r.dispose()}}function SDe(e,t){var r={model:t,containsPoint:je(RDe,t),dispatchAction:je(xDe,e),dataZoomInfoMap:null,controller:null},n=r.controller=new Sm(e.getZr());return F(["pan","zoom","scrollMove"],function(i){n.on(i,function(o){var a=[];r.dataZoomInfoMap.each(function(s){if(o.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[i],u=l&&l(s.dzReferCoordSysInfo,r.model.mainType,r.controller,o);!s.model.get("disabled",!0)&&u&&a.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),a.length&&r.dispatchAction(a)})}),r}function xDe(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function RDe(e,t,r,n){return e.coordinateSystem.containPoint([r,n])}function _De(e){var t,r="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return e.each(function(o){var a=o.model,s=a.get("disabled",!0)?!1:a.get("zoomLock",!0)?"move":!0;n[r+s]>n[r+t]&&(t=s),i=i&&a.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function TDe(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,function(t,r){var n=MM(r),i=n.coordSysRecordMap||(n.coordSysRecordMap=Pe());i.each(function(o){o.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){var a=DY(o);F(a.infoList,function(s){var l=s.model.uid,u=i.get(l)||i.set(l,SDe(r,s.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=Pe());c.set(o.uid,{dzReferCoordSysInfo:s,model:o,getRange:null})})}),i.each(function(o){var a=o.controller,s,l=o.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){jY(i,o);return}var c=_De(l);a.enable(c.controlType,c.opt),a.setPointerChecker(o.containsPoint),Df(o,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var PDe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return t.prototype.render=function(r,n,i){if(e.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),wDe(i,r,{pan:Se(J_.pan,this),zoom:Se(J_.zoom,this),scrollMove:Se(J_.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){bDe(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(xM),J_={zoom:function(e,t,r,n){var i=this.range,o=i.slice(),a=e.axisModels[0];if(a){var s=eT[t](null,[n.originX,n.originY],a,r,e),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/n.scale,0);o[0]=(o[0]-l)*u+l,o[1]=(o[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Qc(0,o,[0,100],0,c.minSpan,c.maxSpan),this.range=o,i[0]!==o[0]||i[1]!==o[1])return o}},pan:jH(function(e,t,r,n,i,o){var a=eT[n]([o.oldX,o.oldY],[o.newX,o.newY],t,i,r);return a.signal*(e[1]-e[0])*a.pixel/a.pixelLength}),scrollMove:jH(function(e,t,r,n,i,o){var a=eT[n]([0,0],[o.scrollDelta,o.scrollDelta],t,i,r);return a.signal*(e[1]-e[0])*o.scrollDelta})};function jH(e){return function(t,r,n,i){var o=this.range,a=o.slice(),s=t.axisModels[0];if(s){var l=e(a,s,t,r,n,i);if(Qc(l,a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1])return a}}}var eT={grid:function(e,t,r,n,i){var o=r.axis,a={},s=i.model.coordinateSystem.getRect();return e=e||[0,0],o.dim==="x"?(a.pixel=t[0]-e[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(e,t,r,n,i){var o=r.axis,a={},s=i.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),r.mainType==="radiusAxis"?(a.pixel=t[0]-e[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?-1:1),a},singleAxis:function(e,t,r,n,i){var o=r.axis,a=i.model.coordinateSystem.getRect(),s={};return e=e||[0,0],o.orient==="horizontal"?(s.pixel=t[0]-e[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}};function YY(e){RM(e),e.registerComponentModel(CDe),e.registerComponentView(PDe),TDe(e)}var DDe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=eu(Lv.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(Lv),ig=ht,YH=7,ADe=1,tT=30,IDe=7,og="horizontal",KH="vertical",EDe=5,MDe=["line","bar","candlestick","scatter"],kDe={easing:"cubicOut",duration:100,delay:0},FDe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._displayables={},r}return t.prototype.init=function(r,n){this.api=n,this._onBrush=Se(this._onBrush,this),this._onBrushEnd=Se(this._onBrushEnd,this)},t.prototype.render=function(r,n,i,o){if(e.prototype.render.apply(this,arguments),Df(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),r.get("show")===!1){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!o||o.type!=="dataZoom"||o.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Sv(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var r=this.group;r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new Ne;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),r.add(n),this._positionGroup()},t.prototype._resetLocation=function(){var r=this.dataZoomModel,n=this.api,i=r.get("brushSelect"),o=i?IDe:0,a=this._findCoordRect(),s={width:n.getWidth(),height:n.getHeight()},l=this._orient===og?{right:s.width-a.x-a.width,top:s.height-tT-YH-o,width:a.width,height:tT}:{right:YH,top:a.y,width:tT,height:a.height},u=Rf(r.option);F(["right","top","width","height"],function(d){u[d]==="ph"&&(u[d]=l[d])});var c=yr(u,s);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===KH&&this._size.reverse()},t.prototype._positionGroup=function(){var r=this.group,n=this._location,i=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),a=o&&o.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(i===og&&!a?{scaleY:l?1:-1,scaleX:1}:i===og&&a?{scaleY:l?1:-1,scaleX:-1}:i===KH&&!a?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=r.getBoundingRect([s]);r.x=n.x-u.x,r.y=n.y-u.y,r.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var r=this.dataZoomModel,n=this._size,i=this._displayables.sliderGroup,o=r.get("brushSelect");i.add(new ig({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var a=new ig({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:Se(this._onClickPanel,this)}),s=this.api.getZr();o?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),i.add(a)},t.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!r)return;var n=this._size,i=this._shadowSize||[],o=r.series,a=o.getRawData(),s=o.getShadowDim&&o.getShadowDim(),l=s&&a.getDimensionInfo(s)?o.getShadowDim():r.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(a!==this._shadowData||l!==this._shadowDim||n[0]!==i[0]||n[1]!==i[1]){var d=a.getDataExtent(l),h=(d[1]-d[0])*.3;d=[d[0]-h,d[1]+h];var f=[0,n[1]],g=[0,n[0]],m=[[n[0],0],[0,0]],y=[],C=g[1]/(a.count()-1),w=0,S=Math.round(a.count()/n[0]),x;a.each([l],function(I,E){if(S>0&&E%S){w+=C;return}var k=I==null||isNaN(I)||I==="",L=k?0:Ct(I,d,f,!0);k&&!x&&E?(m.push([m[m.length-1][0],0]),y.push([y[y.length-1][0],0])):!k&&x&&(m.push([w,0]),y.push([w,0])),m.push([w,L]),y.push([w,L]),w+=C,x=k}),u=this._shadowPolygonPts=m,c=this._shadowPolylinePts=y}this._shadowData=a,this._shadowDim=l,this._shadowSize=[n[0],n[1]];var R=this.dataZoomModel;function T(I){var E=R.getModel(I?"selectedDataBackground":"dataBackground"),k=new Ne,L=new bn({shape:{points:u},segmentIgnoreThreshold:1,style:E.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),N=new Rn({shape:{points:c},segmentIgnoreThreshold:1,style:E.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return k.add(L),k.add(N),k}for(var P=0;P<3;P++){var D=T(P===1);this._displayables.sliderGroup.add(D),this._displayables.dataShadowSegs.push(D)}},t.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel,n=r.get("showDataShadow");if(n!==!1){var i,o=this.ecModel;return r.eachTargetAxis(function(a,s){var l=r.getAxisProxy(a,s).getTargetSeriesModels();F(l,function(u){if(!i&&!(n!==!0&&Ze(MDe,u.get("type"))<0)){var c=o.getComponent(Il(a),s).axis,d=LDe(a),h,f=u.coordinateSystem;d!=null&&f.getOtherAxis&&(h=f.getOtherAxis(c).inverse),d=u.getData().mapDimension(d),i={thisAxis:c,series:u,thisDim:a,otherDim:d,otherAxisInverse:h}}},this)},this),i}},t.prototype._renderHandle=function(){var r=this.group,n=this._displayables,i=n.handles=[null,null],o=n.handleLabels=[null,null],a=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,d=l.get("brushSelect"),h=n.filler=new ig({silent:d,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});a.add(h),a.add(new ig({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:ADe,fill:"rgba(0,0,0,0)"}})),F([0,1],function(S){var x=l.get("handleIcon");!w0[x]&&x.indexOf("path://")<0&&x.indexOf("image://")<0&&(x="path://"+x);var R=hr(x,-1,0,2,2,null,!0);R.attr({cursor:XH(this._orient),draggable:!0,drift:Se(this._onDragMove,this,S),ondragend:Se(this._onDragEnd,this),onmouseover:Se(this._showDataInfo,this,!0),onmouseout:Se(this._showDataInfo,this,!1),z2:5});var T=R.getBoundingRect(),P=l.get("handleSize");this._handleHeight=me(P,this._size[1]),this._handleWidth=T.width/T.height*this._handleHeight,R.setStyle(l.getModel("handleStyle").getItemStyle()),R.style.strokeNoScale=!0,R.rectHover=!0,R.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Fl(R);var D=l.get("handleColor");D!=null&&(R.style.fill=D),a.add(i[S]=R);var I=l.getModel("textStyle"),E=l.get("handleLabel")||{},k=E.show||!1;r.add(o[S]=new dt({silent:!0,invisible:!k,style:Mt(I,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:I.getTextColor(),font:I.getFont()}),z2:10}))},this);var f=h;if(d){var g=me(l.get("moveHandleSize"),s[1]),m=n.moveHandle=new ht({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:g}}),y=g*.8,C=n.moveHandleIcon=hr(l.get("moveHandleIcon"),-y/2,-y/2,y,y,"#fff",!0);C.silent=!0,C.y=s[1]+g/2-.5,m.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var w=Math.min(s[1]/2,Math.max(g,10));f=n.moveZone=new ht({invisible:!0,shape:{y:s[1]-w,height:g+w}}),f.on("mouseover",function(){u.enterEmphasis(m)}).on("mouseout",function(){u.leaveEmphasis(m)}),a.add(m),a.add(C),a.add(f)}f.attr({draggable:!0,cursor:XH(this._orient),drift:Se(this._onDragMove,this,"all"),ondragstart:Se(this._showDataInfo,this,!0),ondragend:Se(this._onDragEnd,this),onmouseover:Se(this._showDataInfo,this,!0),onmouseout:Se(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[Ct(r[0],[0,100],n,!0),Ct(r[1],[0,100],n,!0)]},t.prototype._updateInterval=function(r,n){var i=this.dataZoomModel,o=this._handleEnds,a=this._getViewExtent(),s=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Qc(n,o,a,i.get("zoomLock")?"all":r,s.minSpan!=null?Ct(s.minSpan,l,a,!0):null,s.maxSpan!=null?Ct(s.maxSpan,l,a,!0):null);var u=this._range,c=this._range=mi([Ct(o[0],a,l,!0),Ct(o[1],a,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},t.prototype._updateView=function(r){var n=this._displayables,i=this._handleEnds,o=mi(i.slice()),a=this._size;F([0,1],function(f){var g=n.handles[f],m=this._handleHeight;g.attr({scaleX:m/2,scaleY:m/2,x:i[f]+(f?-1:1),y:a[1]/2-m/2})},this),n.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:a[1]});var s={x:o[0],width:o[1]-o[0]};n.moveHandle&&(n.moveHandle.setShape(s),n.moveZone.setShape(s),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=n.dataShadowSegs,u=[0,o[0],o[1],a[0]],c=0;c<l.length;c++){var d=l[c],h=d.getClipPath();h||(h=new ht,d.setClipPath(h)),h.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:a[1]})}this._updateDataInfo(r)},t.prototype._updateDataInfo=function(r){var n=this.dataZoomModel,i=this._displayables,o=i.handleLabels,a=this._orient,s=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,d=r?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(d[0],u),this._formatLabel(d[1],u)]}}var h=mi(this._handleEnds.slice());f.call(this,0),f.call(this,1);function f(g){var m=Ll(i.handles[g].parent,this.group),y=qb(g===0?"right":"left",m),C=this._handleWidth/2+EDe,w=ko([h[g]+(g===0?-C:C),this._size[1]/2],m);o[g].setStyle({x:w[0],y:w[1],verticalAlign:a===og?"middle":y,align:a===og?y:"center",text:s[g]})}},t.prototype._formatLabel=function(r,n){var i=this.dataZoomModel,o=i.get("labelFormatter"),a=i.get("labelPrecision");(a==null||a==="auto")&&(a=n.getPixelPrecision());var s=r==null||isNaN(r)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(a,20));return Ie(o)?o(r,s):we(o)?o.replace("{value}",s):s},t.prototype._showDataInfo=function(r){var n=this.dataZoomModel.get("handleLabel")||{},i=n.show||!1,o=this.dataZoomModel.getModel(["emphasis","handleLabel"]),a=o.get("show")||!1,s=r||this._dragging?a:i,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!s),u[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},t.prototype._onDragMove=function(r,n,i,o){this._dragging=!0,Rs(o.event);var a=this._displayables.sliderGroup.getLocalTransform(),s=ko([n,i],a,!0),l=this._updateInterval(r,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(r){var n=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(!(i[0]<0||i[0]>n[0]||i[1]<0||i[1]>n[1])){var o=this._handleEnds,a=(o[0]+o[1])/2,s=this._updateInterval("all",i[0]-a);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(r){var n=r.offsetX,i=r.offsetY;this._brushStart=new Xe(n,i),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(r){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var i=n.shape,o=+new Date;if(!(o-this._brushStartTime<200&&Math.abs(i.width)<5)){var a=this._getViewExtent(),s=[0,100];this._range=mi([Ct(i.x,a,s,!0),Ct(i.x+i.width,a,s,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(r){this._brushing&&(Rs(r.event),this._updateBrushRect(r.offsetX,r.offsetY))},t.prototype._updateBrushRect=function(r,n){var i=this._displayables,o=this.dataZoomModel,a=i.brushRect;a||(a=i.brushRect=new ig({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(a)),a.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(r,n),c=l.transformCoordToLocal(s.x,s.y),d=this._size;u[0]=Math.max(Math.min(d[0],u[0]),0),a.setShape({x:c[0],y:0,width:u[0]-c[0],height:d[1]})},t.prototype._dispatchZoomAction=function(r){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?kDe:null,start:n[0],end:n[1]})},t.prototype._findCoordRect=function(){var r,n=DY(this.dataZoomModel).infoList;if(!r&&n.length){var i=n[0].model.coordinateSystem;r=i.getRect&&i.getRect()}if(!r){var o=this.api.getWidth(),a=this.api.getHeight();r={x:o*.2,y:a*.2,width:o*.6,height:a*.6}}return r},t.type="dataZoom.slider",t}(xM);function LDe(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function XH(e){return e==="vertical"?"ns-resize":"ew-resize"}function KY(e){e.registerComponentModel(DDe),e.registerComponentView(FDe),RM(e)}function ODe(e){et(YY),et(KY)}var XY={get:function(e,t,r){var n=Fe((NDe[e]||{})[t]);return r&&se(n)?n[n.length-1]:n}},NDe={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},qH=Er.mapVisual,zDe=Er.eachVisual,BDe=se,ZH=F,VDe=mi,GDe=Ct,j0=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.stateList=["inRange","outOfRange"],r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],r.layoutMode={type:"box",ignoreSize:!0},r.dataBound=[-1/0,1/0],r.targetVisuals={},r.controllerVisuals={},r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},t.prototype.optionUpdated=function(r,n){var i=this.option;!n&&zY(i,r,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(r){var n=this.stateList;r=Se(r,this),this.controllerVisuals=zD(this.option.controller,n,r),this.targetVisuals=zD(this.option.target,n,r)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var r=this.option.seriesIndex,n=[];return r==null||r==="all"?this.ecModel.eachSeries(function(i,o){n.push(o)}):n=_t(r),n},t.prototype.eachTargetSeries=function(r,n){F(this.getTargetSeriesIndices(),function(i){var o=this.ecModel.getSeriesByIndex(i);o&&r.call(n,o)},this)},t.prototype.isTargetSeries=function(r){var n=!1;return this.eachTargetSeries(function(i){i===r&&(n=!0)}),n},t.prototype.formatValueText=function(r,n,i){var o=this.option,a=o.precision,s=this.dataBound,l=o.formatter,u;i=i||["<",">"],se(r)&&(r=r.slice(),u=!0);var c=n?r:u?[d(r[0]),d(r[1])]:d(r);if(we(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(Ie(l))return u?l(r[0],r[1]):l(r);if(u)return r[0]===s[0]?i[0]+" "+c[1]:r[1]===s[1]?i[1]+" "+c[0]:c[0]+" - "+c[1];return c;function d(h){return h===s[0]?"min":h===s[1]?"max":(+h).toFixed(Math.min(a,20))}},t.prototype.resetExtent=function(){var r=this.option,n=VDe([r.min,r.max]);this._dataExtent=n},t.prototype.getDataDimensionIndex=function(r){var n=this.option.dimension;if(n!=null)return r.getDimensionIndex(n);for(var i=r.dimensions,o=i.length-1;o>=0;o--){var a=i[o],s=r.getDimensionInfo(a);if(!s.isCalculationCoord)return s.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var r=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},o=n.target||(n.target={}),a=n.controller||(n.controller={});Ke(o,i),Ke(a,i);var s=this.isCategory();l.call(this,o),l.call(this,a),u.call(this,o,"inRange","outOfRange"),c.call(this,a);function l(d){BDe(n.color)&&!d.inRange&&(d.inRange={color:n.color.slice().reverse()}),d.inRange=d.inRange||{color:r.get("gradientColor")}}function u(d,h,f){var g=d[h],m=d[f];g&&!m&&(m=d[f]={},ZH(g,function(y,C){if(Er.isValidType(C)){var w=XY.get(C,"inactive",s);w!=null&&(m[C]=w,C==="color"&&!m.hasOwnProperty("opacity")&&!m.hasOwnProperty("colorAlpha")&&(m.opacity=[0,0]))}}))}function c(d){var h=(d.inRange||{}).symbol||(d.outOfRange||{}).symbol,f=(d.inRange||{}).symbolSize||(d.outOfRange||{}).symbolSize,g=this.get("inactiveColor"),m=this.getItemSymbol(),y=m||"roundRect";ZH(this.stateList,function(C){var w=this.itemSize,S=d[C];S||(S=d[C]={color:s?g:[g]}),S.symbol==null&&(S.symbol=h&&Fe(h)||(s?y:[y])),S.symbolSize==null&&(S.symbolSize=f&&Fe(f)||(s?w[0]:[w[0],w[0]])),S.symbol=qH(S.symbol,function(T){return T==="none"?y:T});var x=S.symbolSize;if(x!=null){var R=-1/0;zDe(x,function(T){T>R&&(R=T)}),S.symbolSize=qH(x,function(T){return GDe(T,[0,R],[0,w[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(r){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(r){return null},t.prototype.getVisualMeta=function(r){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(tt),QH=[20,140],HDe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(r,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var r=this.itemSize;(r[0]==null||isNaN(r[0]))&&(r[0]=QH[0]),(r[1]==null||isNaN(r[1]))&&(r[1]=QH[1])},t.prototype._resetRange=function(){var r=this.getExtent(),n=this.option.range;!n||n.auto?(r.auto=1,this.option.range=r):se(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],r[0]),n[1]=Math.min(n[1],r[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),F(this.stateList,function(r){var n=this.option.controller[r].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},t.prototype.setSelected=function(r){this.option.range=r.slice(),this._resetRange()},t.prototype.getSelected=function(){var r=this.getExtent(),n=mi((this.get("range")||[]).slice());return n[0]>r[1]&&(n[0]=r[1]),n[1]>r[1]&&(n[1]=r[1]),n[0]<r[0]&&(n[0]=r[0]),n[1]<r[0]&&(n[1]=r[0]),n},t.prototype.getValueState=function(r){var n=this.option.range,i=this.getExtent();return(n[0]<=i[0]||n[0]<=r)&&(n[1]>=i[1]||r<=n[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(r){var n=[];return this.eachTargetSeries(function(i){var o=[],a=i.getData();a.each(this.getDataDimensionIndex(a),function(s,l){r[0]<=s&&s<=r[1]&&o.push(l)},this),n.push({seriesId:i.id,dataIndex:o})},this),n},t.prototype.getVisualMeta=function(r){var n=JH(this,"outOfRange",this.getExtent()),i=JH(this,"inRange",this.option.range.slice()),o=[];function a(f,g){o.push({value:f,color:r(f,g)})}for(var s=0,l=0,u=i.length,c=n.length;l<c&&(!i.length||n[l]<=i[0]);l++)n[l]<i[s]&&a(n[l],"outOfRange");for(var d=1;s<u;s++,d=0)d&&o.length&&a(i[s],"outOfRange"),a(i[s],"inRange");for(var d=1;l<c;l++)(!i.length||i[i.length-1]<n[l])&&(d&&(o.length&&a(o[o.length-1].value,"outOfRange"),d=0),a(n[l],"outOfRange"));var h=o.length;return{stops:o,outerColors:[h?o[0].color:"transparent",h?o[h-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=eu(j0.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(j0);function JH(e,t,r){if(r[0]===r[1])return r.slice();for(var n=200,i=(r[1]-r[0])/n,o=r[0],a=[],s=0;s<=n&&o<r[1];s++)a.push(o),o+=i;return a.push(r[1]),a}var qY=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.autoPositionValues={left:1,right:1,top:1,bottom:1},r}return t.prototype.init=function(r,n){this.ecModel=r,this.api=n},t.prototype.render=function(r,n,i,o){if(this.visualMapModel=r,r.get("show")===!1){this.group.removeAll();return}this.doRender(r,n,i,o)},t.prototype.renderBackground=function(r){var n=this.visualMapModel,i=Kc(n.get("padding")||0),o=r.getBoundingRect();r.add(new ht({z2:-1,silent:!0,shape:{x:o.x-i[3],y:o.y-i[0],width:o.width+i[3]+i[1],height:o.height+i[0]+i[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},t.prototype.getControllerVisual=function(r,n,i){i=i||{};var o=i.forceState,a=this.visualMapModel,s={};if(n==="color"){var l=a.get("contentColor");s.color=l}function u(f){return s[f]}function c(f,g){s[f]=g}var d=a.controllerVisuals[o||a.getValueState(r)],h=Er.prepareVisualTypes(d);return F(h,function(f){var g=d[f];i.convertOpacityToAlpha&&f==="opacity"&&(f="colorAlpha",g=d.__alphaForOpacity),Er.dependsOn(f,n)&&g&&g.applyVisual(r,u,c)}),s[n]},t.prototype.positionGroup=function(r){var n=this.visualMapModel,i=this.api;rS(r,n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},t.prototype.doRender=function(r,n,i,o){},t.type="visualMap",t}(zt),eW=[["left","right","width"],["top","bottom","height"]];function ZY(e,t,r){var n=e.option,i=n.align;if(i!=null&&i!=="auto")return i;for(var o={width:t.getWidth(),height:t.getHeight()},a=n.orient==="horizontal"?1:0,s=eW[a],l=[0,null,10],u={},c=0;c<3;c++)u[eW[1-a][c]]=l[c],u[s[c]]=c===2?r[0]:n[s[c]];var d=[["x","width",3],["y","height",0]][a],h=yr(u,o,n.padding);return s[(h.margin[d[2]]||0)+h[d[0]]+h[d[1]]*.5<o[d[1]]*.5?0:1]}function kw(e,t){return F(e||[],function(r){r.dataIndex!=null&&(r.dataIndexInside=r.dataIndex,r.dataIndex=null),r.highlightKey="visualMap"+(t?t.componentIndex:"")}),e}var aa=Ct,WDe=F,tW=Math.min,rT=Math.max,$De=12,UDe=6,jDe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._shapes={},r._dataInterval=[],r._handleEnds=[],r._hoverLinkDataIndices=[],r}return t.prototype.init=function(r,n){e.prototype.init.call(this,r,n),this._hoverLinkFromSeriesMouseOver=Se(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Se(this._hideIndicator,this)},t.prototype.doRender=function(r,n,i,o){(!o||o.type!=="selectDataRange"||o.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var r=this.visualMapModel,n=this.group;this._orient=r.get("orient"),this._useHandle=r.get("calculable"),this._resetInterval(),this._renderBar(n);var i=r.get("text");this._renderEndsText(n,i,0),this._renderEndsText(n,i,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},t.prototype._renderEndsText=function(r,n,i){if(n){var o=n[1-i];o=o!=null?o+"":"";var a=this.visualMapModel,s=a.get("textGap"),l=a.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,i===0?-s:l[1]+s],u),d=this._applyTransform(i===0?"bottom":"top",u),h=this._orient,f=this.visualMapModel.textStyleModel;this.group.add(new dt({style:Mt(f,{x:c[0],y:c[1],verticalAlign:h==="horizontal"?"middle":d,align:h==="horizontal"?d:"center",text:o})}))}},t.prototype._renderBar=function(r){var n=this.visualMapModel,i=this._shapes,o=n.itemSize,a=this._orient,s=this._useHandle,l=ZY(n,this.api,o),u=i.mainGroup=this._createBarGroup(l),c=new Ne;u.add(c),c.add(i.outOfRange=rW()),c.add(i.inRange=rW(null,s?iW(this._orient):null,Se(this._dragHandle,this,"all",!1),Se(this._dragHandle,this,"all",!0))),c.setClipPath(new ht({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var d=n.textStyleModel.getTextRect(""),h=rT(d.width,d.height);s&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(n,u,0,o,h,a),this._createHandle(n,u,1,o,h,a)),this._createIndicator(n,u,o,h,a),r.add(u)},t.prototype._createHandle=function(r,n,i,o,a,s){var l=Se(this._dragHandle,this,i,!1),u=Se(this._dragHandle,this,i,!0),c=Bo(r.get("handleSize"),o[0]),d=hr(r.get("handleIcon"),-c/2,-c/2,c,c,null,!0),h=iW(this._orient);d.attr({cursor:h,draggable:!0,drift:l,ondragend:u,onmousemove:function(C){Rs(C.event)}}),d.x=o[0]/2,d.useStyle(r.getModel("handleStyle").getItemStyle()),d.setStyle({strokeNoScale:!0,strokeFirst:!0}),d.style.lineWidth*=2,d.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),ac(d,!0),n.add(d);var f=this.visualMapModel.textStyleModel,g=new dt({cursor:h,draggable:!0,drift:l,onmousemove:function(C){Rs(C.event)},ondragend:u,style:Mt(f,{x:0,y:0,text:""})});g.ensureState("blur").style={opacity:.1},g.stateTransition={duration:200},this.group.add(g);var m=[c,0],y=this._shapes;y.handleThumbs[i]=d,y.handleLabelPoints[i]=m,y.handleLabels[i]=g},t.prototype._createIndicator=function(r,n,i,o,a){var s=Bo(r.get("indicatorSize"),i[0]),l=hr(r.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=r.getModel("indicatorStyle").getItemStyle();if(l instanceof Lr){var c=l.style;l.useStyle(ie({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);n.add(l);var d=this.visualMapModel.textStyleModel,h=new dt({silent:!0,invisible:!0,style:Mt(d,{x:0,y:0,text:""})});this.group.add(h);var f=[(a==="horizontal"?o/2:UDe)+i[0]/2,0],g=this._shapes;g.indicator=l,g.indicatorLabel=h,g.indicatorLabelPoint=f,this._firstShowIndicator=!0},t.prototype._dragHandle=function(r,n,i,o){if(this._useHandle){if(this._dragging=!n,!n){var a=this._applyTransform([i,o],this._shapes.mainGroup,!0);this._updateInterval(r,a[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():nW(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[r],!1)}},t.prototype._resetInterval=function(){var r=this.visualMapModel,n=this._dataInterval=r.getSelected(),i=r.getExtent(),o=[0,r.itemSize[1]];this._handleEnds=[aa(n[0],i,o,!0),aa(n[1],i,o,!0)]},t.prototype._updateInterval=function(r,n){n=n||0;var i=this.visualMapModel,o=this._handleEnds,a=[0,i.itemSize[1]];Qc(n,o,a,r,0);var s=i.getExtent();this._dataInterval=[aa(o[0],a,s,!0),aa(o[1],a,s,!0)]},t.prototype._updateView=function(r){var n=this.visualMapModel,i=n.getExtent(),o=this._shapes,a=[0,n.itemSize[1]],s=r?a:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,s,"inRange"),u=this._createBarVisual(i,i,a,"outOfRange");o.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),o.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},t.prototype._createBarVisual=function(r,n,i,o){var a={forceState:o,convertOpacityToAlpha:!0},s=this._makeColorGradient(r,a),l=[this.getControllerVisual(r[0],"symbolSize",a),this.getControllerVisual(r[1],"symbolSize",a)],u=this._createBarPoints(i,l);return{barColor:new Cf(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},t.prototype._makeColorGradient=function(r,n){var i=100,o=[],a=(r[1]-r[0])/i;o.push({color:this.getControllerVisual(r[0],"color",n),offset:0});for(var s=1;s<i;s++){var l=r[0]+a*s;if(l>r[1])break;o.push({color:this.getControllerVisual(l,"color",n),offset:s/i})}return o.push({color:this.getControllerVisual(r[1],"color",n),offset:1}),o},t.prototype._createBarPoints=function(r,n){var i=this.visualMapModel.itemSize;return[[i[0]-n[0],r[0]],[i[0],r[0]],[i[0],r[1]],[i[0]-n[1],r[1]]]},t.prototype._createBarGroup=function(r){var n=this._orient,i=this.visualMapModel.get("inverse");return new Ne(n==="horizontal"&&!i?{scaleX:r==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&i?{scaleX:r==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!i?{scaleX:r==="left"?1:-1,scaleY:-1}:{scaleX:r==="left"?1:-1})},t.prototype._updateHandle=function(r,n){if(this._useHandle){var i=this._shapes,o=this.visualMapModel,a=i.handleThumbs,s=i.handleLabels,l=o.itemSize,u=o.getExtent(),c=this._applyTransform("left",i.mainGroup);WDe([0,1],function(d){var h=a[d];h.setStyle("fill",n.handlesColor[d]),h.y=r[d];var f=aa(r[d],[0,l[1]],u,!0),g=this.getControllerVisual(f,"symbolSize");h.scaleX=h.scaleY=g/l[0],h.x=l[0]-g/2;var m=ko(i.handleLabelPoints[d],Ll(h,this.group));if(this._orient==="horizontal"){var y=c==="left"||c==="top"?(l[0]-g)/2:(l[0]-g)/-2;m[1]+=y}s[d].setStyle({x:m[0],y:m[1],text:o.formatValueText(this._dataInterval[d]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(r,n,i,o){var a=this.visualMapModel,s=a.getExtent(),l=a.itemSize,u=[0,l[1]],c=this._shapes,d=c.indicator;if(d){d.attr("invisible",!1);var h={convertOpacityToAlpha:!0},f=this.getControllerVisual(r,"color",h),g=this.getControllerVisual(r,"symbolSize"),m=aa(r,s,u,!0),y=l[0]-g/2,C={x:d.x,y:d.y};d.y=m,d.x=y;var w=ko(c.indicatorLabelPoint,Ll(d,this.group)),S=c.indicatorLabel;S.attr("invisible",!1);var x=this._applyTransform("left",c.mainGroup),R=this._orient,T=R==="horizontal";S.setStyle({text:(i||"")+a.formatValueText(n),verticalAlign:T?x:"middle",align:T?"center":x});var P={x:y,y:m,style:{fill:f}},D={style:{x:w[0],y:w[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var I={duration:100,easing:"cubicInOut",additive:!0};d.x=C.x,d.y=C.y,d.animateTo(P,I),S.animateTo(D,I)}else d.attr(P),S.attr(D);this._firstShowIndicator=!1;var E=this._shapes.handleLabels;if(E)for(var k=0;k<E.length;k++)this.api.enterBlur(E[k])}},t.prototype._enableHoverLinkToSeries=function(){var r=this;this._shapes.mainGroup.on("mousemove",function(n){if(r._hovering=!0,!r._dragging){var i=r.visualMapModel.itemSize,o=r._applyTransform([n.offsetX,n.offsetY],r._shapes.mainGroup,!0,!0);o[1]=tW(rT(0,o[1]),i[1]),r._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=i[0])}}).on("mouseout",function(){r._hovering=!1,!r._dragging&&r._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var r=this.api.getZr();this.visualMapModel.option.hoverLink?(r.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),r.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(r,n){var i=this.visualMapModel,o=i.itemSize;if(i.option.hoverLink){var a=[0,o[1]],s=i.getExtent();r=tW(rT(a[0],r),a[1]);var l=YDe(i,s,a),u=[r-l,r+l],c=aa(r,a,s,!0),d=[aa(u[0],a,s,!0),aa(u[1],a,s,!0)];u[0]<a[0]&&(d[0]=-1/0),u[1]>a[1]&&(d[1]=1/0),n&&(d[0]===-1/0?this._showIndicator(c,d[1],"< ",l):d[1]===1/0?this._showIndicator(c,d[0],"> ",l):this._showIndicator(c,c," ",l));var h=this._hoverLinkDataIndices,f=[];(n||nW(i))&&(f=this._hoverLinkDataIndices=i.findTargetDataIndices(d));var g=Bde(h,f);this._dispatchHighDown("downplay",kw(g[0],i)),this._dispatchHighDown("highlight",kw(g[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(r){var n;if(lc(r.target,function(l){var u=Ve(l);if(u.dataIndex!=null)return n=u,!0},!0),!!n){var i=this.ecModel.getSeriesByIndex(n.seriesIndex),o=this.visualMapModel;if(o.isTargetSeries(i)){var a=i.getData(n.dataType),s=a.getStore().get(o.getDataDimensionIndex(a),n.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},t.prototype._hideIndicator=function(){var r=this._shapes;r.indicator&&r.indicator.attr("invisible",!0),r.indicatorLabel&&r.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var i=0;i<n.length;i++)this.api.leaveBlur(n[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var r=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",kw(r,this.visualMapModel)),r.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var r=this.api.getZr();r.off("mouseover",this._hoverLinkFromSeriesMouseOver),r.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(r,n,i,o){var a=Ll(n,o?null:this.group);return se(r)?ko(r,a,i):qb(r,a,i)},t.prototype._dispatchHighDown=function(r,n){n&&n.length&&this.api.dispatchAction({type:r,batch:n})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(qY);function rW(e,t,r,n){return new bn({shape:{points:e},draggable:!!r,cursor:t,drift:r,onmousemove:function(i){Rs(i.event)},ondragend:n})}function YDe(e,t,r){var n=$De/2,i=e.get("hoverLinkDataSize");return i&&(n=aa(i,t,r,!0)/2),n}function nW(e){var t=e.get("hoverLinkOnHandle");return!!(t??e.get("realtime"))}function iW(e){return e==="vertical"?"ns-resize":"ew-resize"}var KDe={type:"selectDataRange",event:"dataRangeSelected",update:"update"},XDe=function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(r){r.setSelected(e.selected)})},qDe=[{createOnAllSeries:!0,reset:function(e,t){var r=[];return t.eachComponent("visualMap",function(n){var i=e.pipelineContext;!n.isTargetSeries(e)||i&&i.large||r.push(yPe(n.stateList,n.targetVisuals,Se(n.getValueState,n),n.getDataDimensionIndex(e.getData())))}),r}},{createOnAllSeries:!0,reset:function(e,t){var r=e.getData(),n=[];t.eachComponent("visualMap",function(i){if(i.isTargetSeries(e)){var o=i.getVisualMeta(Se(ZDe,null,e,i))||{stops:[],outerColors:[]},a=i.getDataDimensionIndex(r);a>=0&&(o.dimension=a,n.push(o))}}),e.getData().setVisual("visualMeta",n)}}];function ZDe(e,t,r,n){for(var i=t.targetVisuals[n],o=Er.prepareVisualTypes(i),a={color:pm(e.getData(),"color")},s=0,l=o.length;s<l;s++){var u=o[s],c=i[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(r,d,h)}return a.color;function d(f){return a[f]}function h(f,g){a[f]=g}}var oW=F;function QDe(e){var t=e&&e.visualMap;se(t)||(t=t?[t]:[]),oW(t,function(r){if(r){th(r,"splitList")&&!th(r,"pieces")&&(r.pieces=r.splitList,delete r.splitList);var n=r.pieces;n&&se(n)&&oW(n,function(i){ke(i)&&(th(i,"start")&&!th(i,"min")&&(i.min=i.start),th(i,"end")&&!th(i,"max")&&(i.max=i.end))})}})}function th(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var aW=!1;function QY(e){aW||(aW=!0,e.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),e.registerAction(KDe,XDe),F(qDe,function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)}),e.registerPreprocessor(QDe))}function JY(e){e.registerComponentModel(HDe),e.registerComponentView(jDe),QY(e)}var JDe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._pieceList=[],r}return t.prototype.optionUpdated=function(r,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],eAe[this._mode].call(this,this._pieceList),this._resetSelected(r,n);var o=this.option.categories;this.resetVisual(function(a,s){i==="categories"?(a.mappingMethod="category",a.categories=Fe(o)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=le(this._pieceList,function(l){return l=Fe(l),s!=="inRange"&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var r=this.option,n={},i=Er.listVisualTypes(),o=this.isCategory();F(r.pieces,function(s){F(i,function(l){s.hasOwnProperty(l)&&(n[l]=1)})}),F(n,function(s,l){var u=!1;F(this.stateList,function(c){u=u||a(r,c,l)||a(r.target,c,l)},this),!u&&F(this.stateList,function(c){(r[c]||(r[c]={}))[l]=XY.get(l,c==="inRange"?"active":"inactive",o)})},this);function a(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(r,n){var i=this.option,o=this._pieceList,a=(n?i:r).selected||{};if(i.selected=a,F(o,function(l,u){var c=this.getSelectedMapKey(l);a.hasOwnProperty(c)||(a[c]=!0)},this),i.selectedMode==="single"){var s=!1;F(o,function(l,u){var c=this.getSelectedMapKey(l);a[c]&&(s?a[c]=!1:s=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(r){return this._mode==="categories"?r.value+"":r.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var r=this.option;return r.pieces&&r.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(r){this.option.selected=Fe(r)},t.prototype.getValueState=function(r){var n=Er.findPieceIndex(r,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(r){var n=[],i=this._pieceList;return this.eachTargetSeries(function(o){var a=[],s=o.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var c=Er.findPieceIndex(l,i);c===r&&a.push(u)},this),n.push({seriesId:o.id,dataIndex:a})},this),n},t.prototype.getRepresentValue=function(r){var n;if(this.isCategory())n=r.value;else if(r.value!=null)n=r.value;else{var i=r.interval||[];n=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return n},t.prototype.getVisualMeta=function(r){if(this.isCategory())return;var n=[],i=["",""],o=this;function a(c,d){var h=o.getRepresentValue({interval:c});d||(d=o.getValueState(h));var f=r(h,d);c[0]===-1/0?i[0]=f:c[1]===1/0?i[1]=f:n.push({value:c[0],color:f},{value:c[1],color:f})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return F(s,function(c){var d=c.interval;d&&(d[0]>u&&a([u,d[0]],"outOfRange"),a(d.slice()),u=d[1])},this),{stops:n,outerColors:i}},t.type="visualMap.piecewise",t.defaultOption=eu(j0.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(j0),eAe={splitNumber:function(e){var t=this.option,r=Math.min(t.precision,20),n=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var o=(n[1]-n[0])/i;+o.toFixed(r)!==o&&r<5;)r++;t.precision=r,o=+o.toFixed(r),t.minOpen&&e.push({interval:[-1/0,n[0]],close:[0,0]});for(var a=0,s=n[0];a<i;s+=o,a++){var l=a===i-1?n[1]:s+o;e.push({interval:[s,l],close:[1,1]})}t.maxOpen&&e.push({interval:[n[1],1/0],close:[0,0]}),PP(e),F(e,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(e){var t=this.option;F(t.categories,function(r){e.push({text:this.formatValueText(r,!0),value:r})},this),sW(t,e)},pieces:function(e){var t=this.option;F(t.pieces,function(r,n){ke(r)||(r={value:r});var i={text:"",index:n};if(r.label!=null&&(i.text=r.label),r.hasOwnProperty("value")){var o=i.value=r.value;i.interval=[o,o],i.close=[1,1]}else{for(var a=i.interval=[],s=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],d=0;d<2;d++){for(var h=[["gte","gt","min"],["lte","lt","max"]][d],f=0;f<3&&a[d]==null;f++)a[d]=r[h[f]],s[d]=l[f],c[d]=f===2;a[d]==null&&(a[d]=u[d])}c[0]&&a[1]===1/0&&(s[0]=0),c[1]&&a[0]===-1/0&&(s[1]=0),a[0]===a[1]&&s[0]&&s[1]&&(i.value=a[0])}i.visual=Er.retrieveVisuals(r),e.push(i)},this),sW(t,e),PP(e),F(e,function(r){var n=r.close,i=[["<",""][n[1]],[">",""][n[0]]];r.text=r.text||this.formatValueText(r.value!=null?r.value:r.interval,!1,i)},this)}};function sW(e,t){var r=e.inverse;(e.orient==="vertical"?!r:r)&&t.reverse()}var tAe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.doRender=function(){var r=this.group;r.removeAll();var n=this.visualMapModel,i=n.get("textGap"),o=n.textStyleModel,a=o.getFont(),s=o.getTextColor(),l=this._getItemAlign(),u=n.itemSize,c=this._getViewData(),d=c.endsText,h=Ar(n.get("showLabel",!0),!d),f=!n.get("selectedMode");d&&this._renderEndsText(r,d[0],u,h,l),F(c.viewPieceList,function(g){var m=g.piece,y=new Ne;y.onclick=Se(this._onItemClick,this,m),this._enableHoverLink(y,g.indexInModelPieceList);var C=n.getRepresentValue(m);if(this._createItemSymbol(y,C,[0,0,u[0],u[1]],f),h){var w=this.visualMapModel.getValueState(C);y.add(new dt({style:{x:l==="right"?-i:u[0]+i,y:u[1]/2,text:m.text,verticalAlign:"middle",align:l,font:a,fill:s,opacity:w==="outOfRange"?.5:1},silent:f}))}r.add(y)},this),d&&this._renderEndsText(r,d[1],u,h,l),vc(n.get("orient"),r,n.get("itemGap")),this.renderBackground(r),this.positionGroup(r)},t.prototype._enableHoverLink=function(r,n){var i=this;r.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(a){var s=i.visualMapModel;s.option.hoverLink&&i.api.dispatchAction({type:a,batch:kw(s.findTargetDataIndices(n),s)})}},t.prototype._getItemAlign=function(){var r=this.visualMapModel,n=r.option;if(n.orient==="vertical")return ZY(r,this.api,r.itemSize);var i=n.align;return(!i||i==="auto")&&(i="left"),i},t.prototype._renderEndsText=function(r,n,i,o,a){if(n){var s=new Ne,l=this.visualMapModel.textStyleModel;s.add(new dt({style:Mt(l,{x:o?a==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:o?a:"center",text:n})})),r.add(s)}},t.prototype._getViewData=function(){var r=this.visualMapModel,n=le(r.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),i=r.get("text"),o=r.get("orient"),a=r.get("inverse");return(o==="horizontal"?a:!a)?n.reverse():i&&(i=i.slice().reverse()),{viewPieceList:n,endsText:i}},t.prototype._createItemSymbol=function(r,n,i,o){var a=hr(this.getControllerVisual(n,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(n,"color"));a.silent=o,r.add(a)},t.prototype._onItemClick=function(r){var n=this.visualMapModel,i=n.option,o=i.selectedMode;if(o){var a=Fe(i.selected),s=n.getSelectedMapKey(r);o==="single"||o===!0?(a[s]=!0,F(a,function(l,u){a[u]=u===s})):a[s]=!a[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})}},t.type="visualMap.piecewise",t}(qY);function eK(e){e.registerComponentModel(JDe),e.registerComponentView(tAe),QY(e)}function rAe(e){et(JY),et(eK)}var nAe={label:{enabled:!0},decal:{show:!1}},lW=ft(),iAe={};function oAe(e,t){var r=e.getModel("aria");if(!r.get("enabled"))return;var n=Fe(nAe);Ke(n.label,e.getLocaleModel().get("aria"),!1),Ke(r.option,n,!1),i(),o();function i(){var u=r.getModel("decal"),c=u.get("show");if(c){var d=Pe();e.eachSeries(function(h){if(!h.isColorBySeries()){var f=d.get(h.type);f||(f={},d.set(h.type,f)),lW(h).scope=f}}),e.eachRawSeries(function(h){if(e.isSeriesFiltered(h))return;if(Ie(h.enableAriaDecal)){h.enableAriaDecal();return}var f=h.getData();if(h.isColorBySeries()){var w=WP(h.ecModel,h.name,iAe,e.getSeriesCount()),S=f.getVisual("decal");f.setVisual("decal",x(S,w))}else{var g=h.getRawData(),m={},y=lW(h).scope;f.each(function(R){var T=f.getRawIndex(R);m[T]=R});var C=g.count();g.each(function(R){var T=m[R],P=g.getName(R)||R+"",D=WP(h.ecModel,P,y,C),I=f.getItemVisual(T,"decal");f.setItemVisual(T,"decal",x(I,D))})}function x(R,T){var P=R?ie(ie({},T),R):T;return P.dirty=!0,P}})}}function o(){var u=t.getZr().dom;if(u){var c=e.getLocaleModel().get("aria"),d=r.getModel("label");if(d.option=Ee(d.option,c),!!d.get("enabled")){if(u.setAttribute("role","img"),d.get("description")){u.setAttribute("aria-label",d.get("description"));return}var h=e.getSeriesCount(),f=d.get(["data","maxCount"])||10,g=d.get(["series","maxCount"])||10,m=Math.min(h,g),y;if(!(h<1)){var C=s();if(C){var w=d.get(["general","withTitle"]);y=a(w,{title:C})}else y=d.get(["general","withoutTitle"]);var S=[],x=h>1?d.get(["series","multiple","prefix"]):d.get(["series","single","prefix"]);y+=a(x,{seriesCount:h}),e.eachSeries(function(D,I){if(I<m){var E=void 0,k=D.get("name"),L=k?"withName":"withoutName";E=h>1?d.get(["series","multiple",L]):d.get(["series","single",L]),E=a(E,{seriesId:D.seriesIndex,seriesName:D.get("name"),seriesType:l(D.subType)});var N=D.getData();if(N.count()>f){var B=d.get(["data","partialData"]);E+=a(B,{displayCnt:f})}else E+=d.get(["data","allData"]);for(var V=d.get(["data","separator","middle"]),W=d.get(["data","separator","end"]),j=d.get(["data","excludeDimensionId"]),G=[],$=0;$<N.count();$++)if($<f){var K=N.getName($),H=j?mt(N.getValues($),function(ne,oe){return Ze(j,oe)===-1}):N.getValues($),U=d.get(["data",K?"withName":"withoutName"]);G.push(a(U,{name:K,value:H.join(V)}))}E+=G.join(V)+W,S.push(E)}});var R=d.getModel(["series","multiple","separator"]),T=R.get("middle"),P=R.get("end");y+=S.join(T)+P,u.setAttribute("aria-label",y)}}}}function a(u,c){if(!we(u))return u;var d=u;return F(c,function(h,f){d=d.replace(new RegExp("\\{\\s*"+f+"\\s*\\}","g"),h)}),d}function s(){var u=e.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=e.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function aAe(e){if(!(!e||!e.aria)){var t=e.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},F(["description","general","series","data"],function(r){t[r]!=null&&(t.label[r]=t[r])})}}function sAe(e){e.registerPreprocessor(aAe),e.registerVisual(e.PRIORITY.VISUAL.ARIA,oAe)}var uW={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},lAe=function(){function e(t){var r=this._condVal=we(t)?new RegExp(t):R6(t)?t:null;if(r==null){var n="";wt(n)}}return e.prototype.evaluate=function(t){var r=typeof t;return we(r)?this._condVal.test(t):pt(r)?this._condVal.test(t+""):!1},e}(),uAe=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),cAe=function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,r=0;r<t.length;r++)if(!t[r].evaluate())return!1;return!0},e}(),dAe=function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,r=0;r<t.length;r++)if(t[r].evaluate())return!0;return!1},e}(),hAe=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),fAe=function(){function e(){}return e.prototype.evaluate=function(){for(var t=!!this.valueParser,r=this.getValue,n=r(this.valueGetterParam),i=t?this.valueParser(n):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(t?i:n))return!1;return!0},e}();function kM(e,t){if(e===!0||e===!1){var r=new uAe;return r.value=e,r}var n="";return tK(e)||wt(n),e.and?cW("and",e,t):e.or?cW("or",e,t):e.not?pAe(e,t):gAe(e,t)}function cW(e,t,r){var n=t[e],i="";se(n)||wt(i),n.length||wt(i);var o=e==="and"?new cAe:new dAe;return o.children=le(n,function(a){return kM(a,r)}),o.children.length||wt(i),o}function pAe(e,t){var r=e.not,n="";tK(r)||wt(n);var i=new hAe;return i.child=kM(r,t),i.child||wt(n),i}function gAe(e,t){for(var r="",n=t.prepareGetValue(e),i=[],o=at(e),a=e.parser,s=a?k8(a):null,l=0;l<o.length;l++){var u=o[l];if(!(u==="parser"||t.valueGetterAttrMap.get(u))){var c=_e(uW,u)?uW[u]:u,d=e[u],h=s?s(d):d,f=Vpe(c,h)||c==="reg"&&new lAe(h);f||wt(r),i.push(f)}}i.length||wt(r);var g=new fAe;return g.valueGetterParam=n,g.valueParser=s,g.getValue=t.getValue,g.subCondList=i,g}function tK(e){return ke(e)&&!Zr(e)}var vAe=function(){function e(t,r){this._cond=kM(t,r)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}();function mAe(e,t){return new vAe(e,t)}var yAe={type:"echarts:filter",transform:function(e){for(var t=e.upstream,r,n=mAe(e.config,{valueGetterAttrMap:Pe({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;_e(s,"dimension")||wt(l);var c=t.getDimensionInfo(u);return c||wt(l),{dimIdx:c.index}},getValue:function(s){return t.retrieveValueFromItem(r,s.dimIdx)}}),i=[],o=0,a=t.count();o<a;o++)r=t.getRawDataItem(o),n.evaluate()&&i.push(r);return{data:i}}},CAe={type:"echarts:sort",transform:function(e){var t=e.upstream,r=e.config,n="",i=_t(r);i.length||wt(n);var o=[];F(i,function(c){var d=c.dimension,h=c.order,f=c.parser,g=c.incomparable;if(d==null&&wt(n),h!=="asc"&&h!=="desc"&&wt(n),g&&g!=="min"&&g!=="max"){var m="";wt(m)}if(h!=="asc"&&h!=="desc"){var y="";wt(y)}var C=t.getDimensionInfo(d);C||wt(n);var w=f?k8(f):null;f&&!w&&wt(n),o.push({dimIdx:C.index,parser:w,comparator:new L8(h,g)})});var a=t.sourceFormat;a!==Sn&&a!==lo&&wt(n);for(var s=[],l=0,u=t.count();l<u;l++)s.push(t.getRawDataItem(l));return s.sort(function(c,d){for(var h=0;h<o.length;h++){var f=o[h],g=t.retrieveValueFromItem(c,f.dimIdx),m=t.retrieveValueFromItem(d,f.dimIdx);f.parser&&(g=f.parser(g),m=f.parser(m));var y=f.comparator.evaluate(g,m);if(y!==0)return y}return 0}),{data:s}}};function wAe(e){e.registerTransform(yAe),e.registerTransform(CAe)}var bAe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataset",r}return t.prototype.init=function(r,n,i){e.prototype.init.call(this,r,n,i),this._sourceManager=new B8(this),fz(this)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),fz(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:xa},t}(tt),SAe=function(e){q(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataset",r}return t.type="dataset",t}(zt);function xAe(e){e.registerComponentModel(bAe),e.registerComponentView(SAe)}var na=Ea.CMD;function vh(e,t){return Math.abs(e-t)<1e-5}function UD(e){var t=e.data,r=e.len(),n=[],i,o=0,a=0,s=0,l=0;function u(N,B){i&&i.length>2&&n.push(i),i=[N,B]}function c(N,B,V,W){vh(N,V)&&vh(B,W)||i.push(N,B,V,W,V,W)}function d(N,B,V,W,j,G){var $=Math.abs(B-N),K=Math.tan($/4)*4/3,H=B<N?-1:1,U=Math.cos(N),ne=Math.sin(N),oe=Math.cos(B),he=Math.sin(B),xe=U*j+V,Be=ne*G+W,ee=oe*j+V,Z=he*G+W,fe=j*K*H,de=G*K*H;i.push(xe-fe*ne,Be+de*U,ee+fe*he,Z-de*oe,ee,Z)}for(var h,f,g,m,y=0;y<r;){var C=t[y++],w=y===1;switch(w&&(o=t[y],a=t[y+1],s=o,l=a,(C===na.L||C===na.C||C===na.Q)&&(i=[s,l])),C){case na.M:o=s=t[y++],a=l=t[y++],u(s,l);break;case na.L:h=t[y++],f=t[y++],c(o,a,h,f),o=h,a=f;break;case na.C:i.push(t[y++],t[y++],t[y++],t[y++],o=t[y++],a=t[y++]);break;case na.Q:h=t[y++],f=t[y++],g=t[y++],m=t[y++],i.push(o+2/3*(h-o),a+2/3*(f-a),g+2/3*(h-g),m+2/3*(f-m),g,m),o=g,a=m;break;case na.A:var S=t[y++],x=t[y++],R=t[y++],T=t[y++],P=t[y++],D=t[y++]+P;y+=1;var I=!t[y++];h=Math.cos(P)*R+S,f=Math.sin(P)*T+x,w?(s=h,l=f,u(s,l)):c(o,a,h,f),o=Math.cos(D)*R+S,a=Math.sin(D)*T+x;for(var E=(I?-1:1)*Math.PI/2,k=P;I?k>D:k<D;k+=E){var L=I?Math.max(k+E,D):Math.min(k+E,D);d(k,L,S,x,R,T)}break;case na.R:s=o=t[y++],l=a=t[y++],h=s+t[y++],f=l+t[y++],u(h,l),c(h,l,h,f),c(h,f,s,f),c(s,f,s,l),c(s,l,h,l);break;case na.Z:i&&c(o,a,s,l),o=s,a=l;break}}return i&&i.length>2&&n.push(i),n}function jD(e,t,r,n,i,o,a,s,l,u){if(vh(e,r)&&vh(t,n)&&vh(i,a)&&vh(o,s)){l.push(a,s);return}var c=2/u,d=c*c,h=a-e,f=s-t,g=Math.sqrt(h*h+f*f);h/=g,f/=g;var m=r-e,y=n-t,C=i-a,w=o-s,S=m*m+y*y,x=C*C+w*w;if(S<d&&x<d){l.push(a,s);return}var R=h*m+f*y,T=-h*C-f*w,P=S-R*R,D=x-T*T;if(P<d&&R>=0&&D<d&&T>=0){l.push(a,s);return}var I=[],E=[];$l(e,r,i,a,.5,I),$l(t,n,o,s,.5,E),jD(I[0],E[0],I[1],E[1],I[2],E[2],I[3],E[3],l,u),jD(I[4],E[4],I[5],E[5],I[6],E[6],I[7],E[7],l,u)}function RAe(e,t){var r=UD(e),n=[];t=t||1;for(var i=0;i<r.length;i++){var o=r[i],a=[],s=o[0],l=o[1];a.push(s,l);for(var u=2;u<o.length;){var c=o[u++],d=o[u++],h=o[u++],f=o[u++],g=o[u++],m=o[u++];jD(s,l,c,d,h,f,g,m,a,t),s=g,l=m}n.push(a)}return n}function rK(e,t,r){var n=e[t],i=e[1-t],o=Math.abs(n/i),a=Math.ceil(Math.sqrt(o*r)),s=Math.floor(r/a);s===0&&(s=1,a=r);for(var l=[],u=0;u<a;u++)l.push(s);var c=a*s,d=r-c;if(d>0)for(var u=0;u<d;u++)l[u%a]+=1;return l}function dW(e,t,r){for(var n=e.r0,i=e.r,o=e.startAngle,a=e.endAngle,s=Math.abs(a-o),l=s*i,u=i-n,c=l>Math.abs(u),d=rK([l,u],c?0:1,t),h=(c?s:u)/d.length,f=0;f<d.length;f++)for(var g=(c?u:s)/d[f],m=0;m<d[f];m++){var y={};c?(y.startAngle=o+h*f,y.endAngle=o+h*(f+1),y.r0=n+g*m,y.r=n+g*(m+1)):(y.startAngle=o+g*m,y.endAngle=o+g*(m+1),y.r0=n+h*f,y.r=n+h*(f+1)),y.clockwise=e.clockwise,y.cx=e.cx,y.cy=e.cy,r.push(y)}}function _Ae(e,t,r){for(var n=e.width,i=e.height,o=n>i,a=rK([n,i],o?0:1,t),s=o?"width":"height",l=o?"height":"width",u=o?"x":"y",c=o?"y":"x",d=e[s]/a.length,h=0;h<a.length;h++)for(var f=e[l]/a[h],g=0;g<a[h];g++){var m={};m[u]=h*d,m[c]=g*f,m[s]=d,m[l]=f,m.x+=e.x,m.y+=e.y,r.push(m)}}function hW(e,t,r,n){return e*n-r*t}function TAe(e,t,r,n,i,o,a,s){var l=r-e,u=n-t,c=a-i,d=s-o,h=hW(c,d,l,u);if(Math.abs(h)<1e-6)return null;var f=e-i,g=t-o,m=hW(f,g,c,d)/h;return m<0||m>1?null:new Xe(m*l+e,m*u+t)}function PAe(e,t,r){var n=new Xe;Xe.sub(n,r,t),n.normalize();var i=new Xe;Xe.sub(i,e,t);var o=i.dot(n);return o}function rh(e,t){var r=e[e.length-1];r&&r[0]===t[0]&&r[1]===t[1]||e.push(t)}function DAe(e,t,r){for(var n=e.length,i=[],o=0;o<n;o++){var a=e[o],s=e[(o+1)%n],l=TAe(a[0],a[1],s[0],s[1],t.x,t.y,r.x,r.y);l&&i.push({projPt:PAe(l,t,r),pt:l,idx:o})}if(i.length<2)return[{points:e},{points:e}];i.sort(function(y,C){return y.projPt-C.projPt});var u=i[0],c=i[i.length-1];if(c.idx<u.idx){var d=u;u=c,c=d}for(var h=[u.pt.x,u.pt.y],f=[c.pt.x,c.pt.y],g=[h],m=[f],o=u.idx+1;o<=c.idx;o++)rh(g,e[o].slice());rh(g,f),rh(g,h);for(var o=c.idx+1;o<=u.idx+n;o++)rh(m,e[o%n].slice());return rh(m,h),rh(m,f),[{points:g},{points:m}]}function fW(e){var t=e.points,r=[],n=[];Ub(t,r,n);var i=new qe(r[0],r[1],n[0]-r[0],n[1]-r[1]),o=i.width,a=i.height,s=i.x,l=i.y,u=new Xe,c=new Xe;return o>a?(u.x=c.x=s+o/2,u.y=l,c.y=l+a):(u.y=c.y=l+a/2,u.x=s,c.x=s+o),DAe(t,u,c)}function Y0(e,t,r,n){if(r===1)n.push(t);else{var i=Math.floor(r/2),o=e(t);Y0(e,o[0],i,n),Y0(e,o[1],r-i,n)}return n}function AAe(e,t){for(var r=[],n=0;n<t;n++)r.push(VI(e));return r}function IAe(e,t){t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel}function EAe(e){for(var t=[],r=0;r<e.length;)t.push([e[r++],e[r++]]);return t}function MAe(e,t){var r=[],n=e.shape,i;switch(e.type){case"rect":_Ae(n,t,r),i=ht;break;case"sector":dW(n,t,r),i=wn;break;case"circle":dW({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},t,r),i=wn;break;default:var o=e.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,s=le(RAe(e.getUpdatedPathProxy(),a),function(C){return EAe(C)}),l=s.length;if(l===0)Y0(fW,{points:s[0]},t,r);else if(l===t)for(var u=0;u<l;u++)r.push({points:s[u]});else{var c=0,d=le(s,function(C){var w=[],S=[];Ub(C,w,S);var x=(S[1]-w[1])*(S[0]-w[0]);return c+=x,{poly:C,area:x}});d.sort(function(C,w){return w.area-C.area});for(var h=t,u=0;u<l;u++){var f=d[u];if(h<=0)break;var g=u===l-1?h:Math.ceil(f.area/c*t);g<0||(Y0(fW,{points:f.poly},g,r),h-=g)}}i=bn;break}if(!i)return AAe(e,t);for(var m=[],u=0;u<r.length;u++){var y=new i;y.setShape(r[u]),IAe(e,y),m.push(y)}return m}function kAe(e,t){var r=e.length,n=t.length;if(r===n)return[e,t];for(var i=[],o=[],a=r<n?e:t,s=Math.min(r,n),l=Math.abs(n-r)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,d=[a[0],a[1]],h=l,f=2;f<s;){var g=a[f-2],m=a[f-1],y=a[f++],C=a[f++],w=a[f++],S=a[f++],x=a[f++],R=a[f++];if(h<=0){d.push(y,C,w,S,x,R);continue}for(var T=Math.min(h,c-1)+1,P=1;P<=T;P++){var D=P/T;$l(g,y,w,x,D,i),$l(m,C,S,R,D,o),g=i[3],m=o[3],d.push(i[1],o[1],i[2],o[2],g,m),y=i[5],C=o[5],w=i[6],S=o[6]}h-=T-1}return a===e?[d,t]:[e,d]}function pW(e,t){for(var r=e.length,n=e[r-2],i=e[r-1],o=[],a=0;a<t.length;)o[a++]=n,o[a++]=i;return o}function FAe(e,t){for(var r,n,i,o=[],a=[],s=0;s<Math.max(e.length,t.length);s++){var l=e[s],u=t[s],c=void 0,d=void 0;l?u?(r=kAe(l,u),c=r[0],d=r[1],n=c,i=d):(d=pW(i||l,l),c=l):(c=pW(n||u,u),d=u),o.push(c),a.push(d)}return[o,a]}function gW(e){for(var t=0,r=0,n=0,i=e.length,o=0,a=i-2;o<i;a=o,o+=2){var s=e[a],l=e[a+1],u=e[o],c=e[o+1],d=s*c-u*l;t+=d,r+=(s+u)*d,n+=(l+c)*d}return t===0?[e[0]||0,e[1]||0]:[r/t/3,n/t/3,t]}function LAe(e,t,r,n){for(var i=(e.length-2)/6,o=1/0,a=0,s=e.length,l=s-2,u=0;u<i;u++){for(var c=u*6,d=0,h=0;h<s;h+=2){var f=h===0?c:(c+h-2)%l+2,g=e[f]-r[0],m=e[f+1]-r[1],y=t[h]-n[0],C=t[h+1]-n[1],w=y-g,S=C-m;d+=w*w+S*S}d<o&&(o=d,a=u)}return a}function OAe(e){for(var t=[],r=e.length,n=0;n<r;n+=2)t[n]=e[r-n-2],t[n+1]=e[r-n-1];return t}function NAe(e,t,r,n){for(var i=[],o,a=0;a<e.length;a++){var s=e[a],l=t[a],u=gW(s),c=gW(l);o==null&&(o=u[2]<0!=c[2]<0);var d=[],h=[],f=0,g=1/0,m=[],y=s.length;o&&(s=OAe(s));for(var C=LAe(s,l,u,c)*6,w=y-2,S=0;S<w;S+=2){var x=(C+S)%w+2;d[S+2]=s[x]-u[0],d[S+3]=s[x+1]-u[1]}d[0]=s[C]-u[0],d[1]=s[C+1]-u[1];for(var R=n/r,T=-n/2;T<=n/2;T+=R){for(var P=Math.sin(T),D=Math.cos(T),I=0,S=0;S<s.length;S+=2){var E=d[S],k=d[S+1],L=l[S]-c[0],N=l[S+1]-c[1],B=L*D-N*P,V=L*P+N*D;m[S]=B,m[S+1]=V;var W=B-E,j=V-k;I+=W*W+j*j}if(I<g){g=I,f=T;for(var G=0;G<m.length;G++)h[G]=m[G]}}i.push({from:d,to:h,fromCp:u,toCp:c,rotation:-f})}return i}function K0(e){return e.__isCombineMorphing}var nK="__mOriginal_";function X0(e,t,r){var n=nK+t,i=e[n]||e[t];e[n]||(e[n]=e[t]);var o=r.replace,a=r.after,s=r.before;e[t]=function(){var l=arguments,u;return s&&s.apply(this,l),o?u=o.apply(this,l):u=i.apply(this,l),a&&a.apply(this,l),u}}function Yg(e,t){var r=nK+t;e[r]&&(e[t]=e[r],e[r]=null)}function vW(e,t){for(var r=0;r<e.length;r++)for(var n=e[r],i=0;i<n.length;){var o=n[i],a=n[i+1];n[i++]=t[0]*o+t[2]*a+t[4],n[i++]=t[1]*o+t[3]*a+t[5]}}function iK(e,t){var r=e.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),i=FAe(UD(r),UD(n)),o=i[0],a=i[1],s=e.getComputedTransform(),l=t.getComputedTransform();function u(){this.transform=null}s&&vW(o,s),l&&vW(a,l),X0(t,"updateTransform",{replace:u}),t.transform=null;var c=NAe(o,a,10,Math.PI),d=[];X0(t,"buildPath",{replace:function(h){for(var f=t.__morphT,g=1-f,m=[],y=0;y<c.length;y++){var C=c[y],w=C.from,S=C.to,x=C.rotation*f,R=C.fromCp,T=C.toCp,P=Math.sin(x),D=Math.cos(x);kg(m,R,T,f);for(var I=0;I<w.length;I+=2){var E=w[I],k=w[I+1],L=S[I],N=S[I+1],B=E*g+L*f,V=k*g+N*f;d[I]=B*D-V*P+m[0],d[I+1]=B*P+V*D+m[1]}var W=d[0],j=d[1];h.moveTo(W,j);for(var I=2;I<w.length;){var L=d[I++],N=d[I++],G=d[I++],$=d[I++],K=d[I++],H=d[I++];W===L&&j===N&&G===K&&$===H?h.lineTo(K,H):h.bezierCurveTo(L,N,G,$,K,H),W=K,j=H}}}})}function FM(e,t,r){if(!e||!t)return t;var n=r.done,i=r.during;iK(e,t),t.__morphT=0;function o(){Yg(t,"buildPath"),Yg(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},Ee({during:function(a){t.dirtyShape(),i&&i(a)},done:function(){o(),n&&n()}},r)),t}function zAe(e,t,r,n,i,o){var a=16;e=i===r?0:Math.round(32767*(e-r)/(i-r)),t=o===n?0:Math.round(32767*(t-n)/(o-n));for(var s=0,l,u=(1<<a)/2;u>0;u/=2){var c=0,d=0;(e&u)>0&&(c=1),(t&u)>0&&(d=1),s+=u*u*(3*c^d),d===0&&(c===1&&(e=u-1-e,t=u-1-t),l=e,e=t,t=l)}return s}function q0(e){var t=1/0,r=1/0,n=-1/0,i=-1/0,o=le(e,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),d=l.y+l.height/2+(u?u[5]:0);return t=Math.min(c,t),r=Math.min(d,r),n=Math.max(c,n),i=Math.max(d,i),[c,d]}),a=le(o,function(s,l){return{cp:s,z:zAe(s[0],s[1],t,r,n,i),path:e[l]}});return a.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function oK(e){return MAe(e.path,e.count)}function YD(){return{fromIndividuals:[],toIndividuals:[],count:0}}function BAe(e,t,r){var n=[];function i(R){for(var T=0;T<R.length;T++){var P=R[T];K0(P)?i(P.childrenRef()):P instanceof nt&&n.push(P)}}i(e);var o=n.length;if(!o)return YD();var a=r.dividePath||oK,s=a({path:t,count:o});if(s.length!==o)return console.error("Invalid morphing: unmatched splitted path"),YD();n=q0(n),s=q0(s);for(var l=r.done,u=r.during,c=r.individualDelay,d=new hs,h=0;h<o;h++){var f=n[h],g=s[h];g.parent=t,g.copyTransform(d),c||iK(f,g)}t.__isCombineMorphing=!0,t.childrenRef=function(){return s};function m(R){for(var T=0;T<s.length;T++)s[T].addSelfToZr(R)}X0(t,"addSelfToZr",{after:function(R){m(R)}}),X0(t,"removeSelfFromZr",{after:function(R){for(var T=0;T<s.length;T++)s[T].removeSelfFromZr(R)}});function y(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,Yg(t,"addSelfToZr"),Yg(t,"removeSelfFromZr")}var C=s.length;if(c)for(var w=C,S=function(){w--,w===0&&(y(),l&&l())},h=0;h<C;h++){var x=c?Ee({delay:(r.delay||0)+c(h,C,n[h],s[h]),done:S},r):r;FM(n[h],s[h],x)}else t.__morphT=0,t.animateTo({__morphT:1},Ee({during:function(R){for(var T=0;T<C;T++){var P=s[T];P.__morphT=t.__morphT,P.dirtyShape()}u&&u(R)},done:function(){y();for(var R=0;R<e.length;R++)Yg(e[R],"updateTransform");l&&l()}},r));return t.__zr&&m(t.__zr),{fromIndividuals:n,toIndividuals:s,count:C}}function VAe(e,t,r){var n=t.length,i=[],o=r.dividePath||oK;function a(f){for(var g=0;g<f.length;g++){var m=f[g];K0(m)?a(m.childrenRef()):m instanceof nt&&i.push(m)}}if(K0(e)){a(e.childrenRef());var s=i.length;if(s<n)for(var l=0,u=s;u<n;u++)i.push(VI(i[l++%s]));i.length=n}else{i=o({path:e,count:n});for(var c=e.getComputedTransform(),u=0;u<i.length;u++)i[u].setLocalTransform(c);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),YD()}i=q0(i),t=q0(t);for(var d=r.individualDelay,u=0;u<n;u++){var h=d?Ee({delay:(r.delay||0)+d(u,n,i[u],t[u])},r):r;FM(i[u],t[u],h)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}function mW(e){return se(e[0])}function yW(e,t){for(var r=[],n=e.length,i=0;i<n;i++)r.push({one:e[i],many:[]});for(var i=0;i<t.length;i++){var o=t[i].length,a=void 0;for(a=0;a<o;a++)r[a%n].many.push(t[i][a])}for(var s=0,i=n-1;i>=0;i--)if(!r[i].many.length){var l=r[s].many;if(l.length<=1)if(s)s=0;else return r;var o=l.length,u=Math.ceil(o/2);r[i].many=l.slice(u,o),r[s].many=l.slice(0,u),s++}return r}var GAe={clone:function(e){for(var t=[],r=1-Math.pow(1-e.path.style.opacity,1/e.count),n=0;n<e.count;n++){var i=VI(e.path);i.setStyle("opacity",r),t.push(i)}return t},split:null};function nT(e,t,r,n,i,o){if(!e.length||!t.length)return;var a=wf("update",n,i);if(!(a&&a.duration>0))return;var s=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},a),u,c;mW(e)&&(u=e,c=t),mW(t)&&(u=t,c=e);function d(C,w,S,x,R){var T=C.many,P=C.one;if(T.length===1&&!R){var D=w?T[0]:P,I=w?P:T[0];if(K0(D))d({many:[D],one:I},!0,S,x,!0);else{var E=s?Ee({delay:s(S,x)},l):l;FM(D,I,E),o(D,I,D,I,E)}}else for(var k=Ee({dividePath:GAe[r],individualDelay:s&&function(j,G,$,K){return s(j+S,x)}},l),L=w?BAe(T,P,k):VAe(P,T,k),N=L.fromIndividuals,B=L.toIndividuals,V=N.length,W=0;W<V;W++){var E=s?Ee({delay:s(W,V)},l):l;o(N[W],B[W],w?T[W]:C.one,w?C.one:T[W],E)}}for(var h=u?u===e:e.length>t.length,f=u?yW(c,u):yW(h?t:e,[h?e:t]),g=0,m=0;m<f.length;m++)g+=f[m].many.length;for(var y=0,m=0;m<f.length;m++)d(f[m],h,y,g),y+=f[m].many.length}function Ku(e){if(!e)return[];if(se(e)){for(var t=[],r=0;r<e.length;r++)t.push(Ku(e[r]));return t}var n=[];return e.traverse(function(i){i instanceof nt&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var aK=1e4,HAe=0,CW=1,wW=2,WAe=ft();function $Ae(e,t){for(var r=e.dimensions,n=0;n<r.length;n++){var i=e.getDimensionInfo(r[n]);if(i&&i.otherDims[t]===0)return r[n]}}function UAe(e,t,r){var n=e.getDimensionInfo(r),i=n&&n.ordinalMeta;if(n){var o=e.get(n.name,t);return i&&i.categories[o]||o+""}}function bW(e,t,r,n){var i=n?"itemChildGroupId":"itemGroupId",o=$Ae(e,i);if(o){var a=UAe(e,t,o);return a}var s=e.getRawDataItem(t),l=n?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!n)return r||e.getId(t)}function SW(e){var t=[];return F(e,function(r){var n=r.data,i=r.dataGroupId;if(!(n.count()>aK))for(var o=n.getIndices(),a=0;a<o.length;a++)t.push({data:n,groupId:bW(n,a,i,!1),childGroupId:bW(n,a,i,!0),divide:r.divide,dataIndex:a})}),t}function iT(e,t,r){e.traverse(function(n){n instanceof nt&&Vt(n,{style:{opacity:0}},t,{dataIndex:r,isFrom:!0})})}function oT(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function nh(e){e.stopAnimation(),e.isGroup&&e.traverse(function(t){t.stopAnimation()})}function jAe(e,t,r){var n=wf("update",r,t);n&&e.traverse(function(i){if(i instanceof io){var o=Rfe(i);o&&i.animateFrom({style:o},n)}})}function YAe(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++){var i=e[n],o=t[n];if(i.data.getId(i.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}function sK(e,t,r){var n=SW(e),i=SW(t);function o(S,x,R,T,P){(R||S)&&x.animateFrom({style:R&&R!==S?ie(ie({},R.style),S.style):S.style},P)}var a=!1,s=HAe,l=Pe(),u=Pe();n.forEach(function(S){S.groupId&&l.set(S.groupId,!0),S.childGroupId&&u.set(S.childGroupId,!0)});for(var c=0;c<i.length;c++){var d=i[c].groupId;if(u.get(d)){s=CW;break}var h=i[c].childGroupId;if(h&&l.get(h)){s=wW;break}}function f(S,x){return function(R){var T=R.data,P=R.dataIndex;return x?T.getId(P):S?s===CW?R.childGroupId:R.groupId:s===wW?R.childGroupId:R.groupId}}var g=YAe(n,i),m={};if(!g)for(var c=0;c<i.length;c++){var y=i[c],C=y.data.getItemGraphicEl(y.dataIndex);C&&(m[C.id]=!0)}function w(S,x){var R=n[x],T=i[S],P=T.data.hostModel,D=R.data.getItemGraphicEl(R.dataIndex),I=T.data.getItemGraphicEl(T.dataIndex);if(D===I){I&&jAe(I,T.dataIndex,P);return}D&&m[D.id]||I&&(nh(I),D?(nh(D),oT(D),a=!0,nT(Ku(D),Ku(I),T.divide,P,S,o)):iT(I,P,S))}new Ps(n,i,f(!0,g),f(!1,g),null,"multiple").update(w).updateManyToOne(function(S,x){var R=i[S],T=R.data,P=T.hostModel,D=T.getItemGraphicEl(R.dataIndex),I=mt(le(x,function(E){return n[E].data.getItemGraphicEl(n[E].dataIndex)}),function(E){return E&&E!==D&&!m[E.id]});D&&(nh(D),I.length?(F(I,function(E){nh(E),oT(E)}),a=!0,nT(Ku(I),Ku(D),R.divide,P,S,o)):iT(D,P,R.dataIndex))}).updateOneToMany(function(S,x){var R=n[x],T=R.data.getItemGraphicEl(R.dataIndex);if(!(T&&m[T.id])){var P=mt(le(S,function(I){return i[I].data.getItemGraphicEl(i[I].dataIndex)}),function(I){return I&&I!==T}),D=i[S[0]].data.hostModel;P.length&&(F(P,function(I){return nh(I)}),T?(nh(T),oT(T),a=!0,nT(Ku(T),Ku(P),R.divide,D,S[0],o)):F(P,function(I){return iT(I,D,S[0])}))}}).updateManyToMany(function(S,x){new Ps(x,S,function(R){return n[R].data.getId(n[R].dataIndex)},function(R){return i[R].data.getId(i[R].dataIndex)}).update(function(R,T){w(S[R],x[T])}).execute()}).execute(),a&&F(t,function(S){var x=S.data,R=x.hostModel,T=R&&r.getViewOfSeriesModel(R),P=wf("update",R,0);T&&R.isAnimationEnabled()&&P&&P.duration>0&&T.group.traverse(function(D){D instanceof nt&&!D.animators.length&&D.animateFrom({style:{opacity:0}},P)})})}function xW(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function RW(e){return se(e)?e.sort().join(","):e}function Cl(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function KAe(e,t){var r=Pe(),n=Pe(),i=Pe();return F(e.oldSeries,function(o,a){var s=e.oldDataGroupIds[a],l=e.oldData[a],u=xW(o),c=RW(u);n.set(c,{dataGroupId:s,data:l}),se(u)&&F(u,function(d){i.set(d,{key:c,dataGroupId:s,data:l})})}),F(t.updatedSeries,function(o){if(o.isUniversalTransitionEnabled()&&o.isAnimationEnabled()){var a=o.get("dataGroupId"),s=o.getData(),l=xW(o),u=RW(l),c=n.get(u);if(c)r.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:Cl(c.data),data:c.data}],newSeries:[{dataGroupId:a,divide:Cl(s),data:s}]});else if(se(l)){var d=[];F(l,function(g){var m=n.get(g);m.data&&d.push({dataGroupId:m.dataGroupId,divide:Cl(m.data),data:m.data})}),d.length&&r.set(u,{oldSeries:d,newSeries:[{dataGroupId:a,data:s,divide:Cl(s)}]})}else{var h=i.get(l);if(h){var f=r.get(h.key);f||(f={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:Cl(h.data)}],newSeries:[]},r.set(h.key,f)),f.newSeries.push({dataGroupId:a,data:s,divide:Cl(s)})}}}}),r}function _W(e,t){for(var r=0;r<e.length;r++){var n=t.seriesIndex!=null&&t.seriesIndex===e[r].seriesIndex||t.seriesId!=null&&t.seriesId===e[r].id;if(n)return r}}function XAe(e,t,r,n){var i=[],o=[];F(_t(e.from),function(a){var s=_W(t.oldSeries,a);s>=0&&i.push({dataGroupId:t.oldDataGroupIds[s],data:t.oldData[s],divide:Cl(t.oldData[s]),groupIdDim:a.dimension})}),F(_t(e.to),function(a){var s=_W(r.updatedSeries,a);if(s>=0){var l=r.updatedSeries[s].getData();o.push({dataGroupId:t.oldDataGroupIds[s],data:l,divide:Cl(l),groupIdDim:a.dimension})}}),i.length>0&&o.length>0&&sK(i,o,n)}function qAe(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,r,n){F(_t(n.seriesTransition),function(i){F(_t(i.to),function(o){for(var a=n.updatedSeries,s=0;s<a.length;s++)(o.seriesIndex!=null&&o.seriesIndex===a[s].seriesIndex||o.seriesId!=null&&o.seriesId===a[s].id)&&(a[s][Tw]=!0)})})}),e.registerUpdateLifecycle("series:transition",function(t,r,n){var i=WAe(r);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var o=n.seriesTransition;if(o)F(_t(o),function(f){XAe(f,i,n,r)});else{var a=KAe(i,n);F(a.keys(),function(f){var g=a.get(f);sK(g.oldSeries,g.newSeries,r)})}F(n.updatedSeries,function(f){f[Tw]&&(f[Tw]=!1)})}for(var s=t.getSeries(),l=i.oldSeries=[],u=i.oldDataGroupIds=[],c=i.oldData=[],d=0;d<s.length;d++){var h=s[d].getData();h.count()<aK&&(l.push(s[d]),u.push(s[d].get("dataGroupId")),c.push(h))}})}et([aCe]);et([tCe]);et([TCe,GCe,ZCe,Iwe,Gwe,P0e,tbe,zbe,aSe,hSe,bSe,gxe,Vxe,Zxe,f1e,m1e,P1e,F1e,U1e,Z1e,sRe,$Re]);et(u_e);et(L_e);et(o9);et(K_e);et($9);et(Q_e);et(sTe);et(KTe);et(fPe);et(Rm);et(IPe);et(kPe);et(WPe);et(qPe);et(rDe);et(lDe);et(yDe);et(ODe);et(YY);et(KY);et(rAe);et(JY);et(eK);et(sAe);et(wAe);et(xAe);et(qAe);et(bye);const ZAe=Object.freeze(Object.defineProperty({__proto__:null,Axis:uo,ChartView:bt,ComponentModel:tt,ComponentView:zt,List:yn,Model:yt,PRIORITY:p7,SeriesModel:Tt,color:Vce,connect:Ive,dataTool:Nve,dependencies:hve,disConnect:Eve,disconnect:S7,dispose:Mve,env:rt,extendChartView:lye,extendComponentModel:oye,extendComponentView:aye,extendSeriesModel:sye,format:Kme,getCoordinateSystemDimensions:Fve,getInstanceByDom:mE,getInstanceById:kve,getMap:Ove,graphic:Yme,helper:Bme,init:Ave,innerDrawElementOnCanvas:fE,matrix:yce,number:Ume,parseGeoJSON:iD,parseGeoJson:iD,registerAction:Wo,registerCoordinateSystem:_7,registerLayout:T7,registerLoading:SE,registerLocale:XI,registerMap:P7,registerPostInit:x7,registerPostUpdate:R7,registerPreprocessor:CE,registerProcessor:wE,registerTheme:yE,registerTransform:D7,registerUpdateLifecycle:lS,registerVisual:tu,setCanvasCreator:Lve,setPlatformAPI:C6,throttle:aS,time:jme,use:et,util:Xme,vector:ice,version:dve,zrUtil:Zue,zrender:xde},Symbol.toStringTag,{value:"Module"}));var es={},ts={},aT={},TW;function QAe(){return TW||(TW=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=1,r=function(){return"".concat(t++)};e.default=r}(aT)),aT}var ag={},sg={},sT={},PW;function lK(){return PW||(PW=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,o=null;return function(){for(var a=this,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];clearTimeout(o),o=setTimeout(function(){n.apply(a,l)},i)}};e.default=t}(sT)),sT}var rs={},DW;function LM(){if(DW)return rs;DW=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.SizeSensorId=rs.SensorTabIndex=rs.SensorClassName=void 0;var e="size-sensor-id";rs.SizeSensorId=e;var t="size-sensor-object";rs.SensorClassName=t;var r="-1";return rs.SensorTabIndex=r,rs}var AW;function JAe(){if(AW)return sg;AW=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.createSensor=void 0;var e=r(lK()),t=LM();function r(i){return i&&i.__esModule?i:{default:i}}var n=function(o,a){var s=void 0,l=[],u=function(){getComputedStyle(o).position==="static"&&(o.style.position="relative");var m=document.createElement("object");return m.onload=function(){m.contentDocument.defaultView.addEventListener("resize",c),c()},m.style.display="block",m.style.position="absolute",m.style.top="0",m.style.left="0",m.style.height="100%",m.style.width="100%",m.style.overflow="hidden",m.style.pointerEvents="none",m.style.zIndex="-1",m.style.opacity="0",m.setAttribute("class",t.SensorClassName),m.setAttribute("tabindex",t.SensorTabIndex),m.type="text/html",o.appendChild(m),m.data="about:blank",m},c=(0,e.default)(function(){l.forEach(function(g){g(o)})}),d=function(m){s||(s=u()),l.indexOf(m)===-1&&l.push(m)},h=function(){s&&s.parentNode&&(s.contentDocument&&s.contentDocument.defaultView.removeEventListener("resize",c),s.parentNode.removeChild(s),o.removeAttribute(t.SizeSensorId),s=void 0,l=[],a&&a())},f=function(m){var y=l.indexOf(m);y!==-1&&l.splice(y,1),l.length===0&&s&&h()};return{element:o,bind:d,destroy:h,unbind:f}};return sg.createSensor=n,sg}var lg={},IW;function eIe(){if(IW)return lg;IW=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.createSensor=void 0;var e=LM(),t=r(lK());function r(i){return i&&i.__esModule?i:{default:i}}var n=function(o,a){var s=void 0,l=[],u=(0,t.default)(function(){l.forEach(function(g){g(o)})}),c=function(){var m=new ResizeObserver(u);return m.observe(o),u(),m},d=function(m){s||(s=c()),l.indexOf(m)===-1&&l.push(m)},h=function(){s.disconnect(),l=[],s=void 0,o.removeAttribute(e.SizeSensorId),a&&a()},f=function(m){var y=l.indexOf(m);y!==-1&&l.splice(y,1),l.length===0&&s&&h()};return{element:o,bind:d,destroy:h,unbind:f}};return lg.createSensor=n,lg}var EW;function tIe(){if(EW)return ag;EW=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.createSensor=void 0;var e=JAe(),t=eIe(),r=typeof ResizeObserver<"u"?t.createSensor:e.createSensor;return ag.createSensor=r,ag}var MW;function rIe(){if(MW)return ts;MW=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.removeSensor=ts.getSensor=ts.Sensors=void 0;var e=n(QAe()),t=tIe(),r=LM();function n(l){return l&&l.__esModule?l:{default:l}}var i={};ts.Sensors=i;function o(l){l&&i[l]&&delete i[l]}var a=function(u){var c=u.getAttribute(r.SizeSensorId);if(c&&i[c])return i[c];var d=(0,e.default)();u.setAttribute(r.SizeSensorId,d);var h=(0,t.createSensor)(u,function(){return o(d)});return i[d]=h,h};ts.getSensor=a;var s=function(u){var c=u.element.getAttribute(r.SizeSensorId);u.destroy(),o(c)};return ts.removeSensor=s,ts}var kW;function nIe(){if(kW)return es;kW=1,Object.defineProperty(es,"__esModule",{value:!0}),es.ver=es.clear=es.bind=void 0;var e=rIe(),t=function(o,a){var s=(0,e.getSensor)(o);return s.bind(a),function(){s.unbind(a)}};es.bind=t;var r=function(o){var a=(0,e.getSensor)(o);(0,e.removeSensor)(a)};es.clear=r;var n="1.0.2";return es.ver=n,es}var FW=nIe();function LW(e,t){var r={};return t.forEach(function(n){r[n]=e[n]}),r}function lT(e){return typeof e=="function"}function iIe(e){return typeof e=="string"}var uT,OW;function oIe(){return OW||(OW=1,uT=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}),uT}var aIe=oIe();const ih=TA(aIe);var sIe=function(e){q(t,e);function t(r){var n=e.call(this,r)||this;return n.echarts=r.echarts,n.ele=null,n.isInitialResize=!0,n}return t.prototype.componentDidMount=function(){this.renderNewEcharts()},t.prototype.componentDidUpdate=function(r){var n=this.props.shouldSetOption;if(!(lT(n)&&!n(r,this.props))){if(!ih(r.theme,this.props.theme)||!ih(r.opts,this.props.opts)||!ih(r.onEvents,this.props.onEvents)){this.dispose(),this.renderNewEcharts();return}var i=["option","notMerge","lazyUpdate","showLoading","loadingOption"];ih(LW(this.props,i),LW(r,i))||this.updateEChartsOption(),(!ih(r.style,this.props.style)||!ih(r.className,this.props.className))&&this.resize()}},t.prototype.componentWillUnmount=function(){this.dispose()},t.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)},t.prototype.dispose=function(){if(this.ele){try{FW.clear(this.ele)}catch(r){console.warn(r)}this.echarts.dispose(this.ele)}},t.prototype.renderNewEcharts=function(){var r=this,n=this.props,i=n.onEvents,o=n.onChartReady,a=this.updateEChartsOption();this.bindEvents(a,i||{}),lT(o)&&o(a),this.ele&&FW.bind(this.ele,function(){r.resize()})},t.prototype.bindEvents=function(r,n){function i(a,s){iIe(a)&&lT(s)&&r.on(a,function(l){s(l,r)})}for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i(o,n[o])},t.prototype.updateEChartsOption=function(){var r=this.props,n=r.option,i=r.notMerge,o=i===void 0?!1:i,a=r.lazyUpdate,s=a===void 0?!1:a,l=r.showLoading,u=r.loadingOption,c=u===void 0?null:u,d=this.getEchartsInstance();return d.setOption(n,o,s),l?d.showLoading(c):d.hideLoading(),d},t.prototype.resize=function(){var r=this.getEchartsInstance();if(!this.isInitialResize)try{r.resize()}catch(n){console.warn(n)}this.isInitialResize=!1},t.prototype.render=function(){var r=this,n=this.props,i=n.style,o=n.className,a=o===void 0?"":o,s=oP({height:300},i);return ge.createElement("div",{ref:function(l){r.ele=l},style:s,className:"echarts-for-react "+a})},t}(O.PureComponent),OM=function(e){q(t,e);function t(r){var n=e.call(this,r)||this;return n.echarts=ZAe,n}return t}(sIe);const lIe=()=>{const e=Gi.userGrowth,t=e.map(o=>o.month),r=e.map(o=>o.total),n=e.map(o=>o.active),i={title:{text:"User Growth Over Time",textStyle:{color:"#fff"}},tooltip:{trigger:"axis"},xAxis:{type:"category",data:t},yAxis:{type:"value"},series:[{name:"Total Users",type:"line",data:r},{name:"Active Users",type:"line",data:n}],responsive:!0};return J.jsx(OM,{option:i})},uIe=()=>{const e=Gi.revenue,t=[{value:e.subscriptions,name:"Subscriptions"},{value:e.ads,name:"Ads"},{value:e.premiumFeatures,name:"Premium Features"},{value:e.merchandise,name:"Merchandise"},{value:e.partnerships,name:"Partnerships"},{value:e.donations,name:"Donations"},{value:e.liveEvents,name:"Live Events"},{value:e.licensing,name:"Licensing"},{value:e.affiliateMarketing,name:"Affiliate Marketing"}],r={title:{text:"Revenue Distribution",left:"center",textStyle:{color:"#fff"}},tooltip:{trigger:"item"},series:[{type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,padAngle:5,data:t,itemStyle:{borderRadius:5},label:{show:!1,position:"inside",formatter:`{b}
{d}%`,fontSize:14,fontWeight:"bold",color:"#fff"},emphasis:{label:{show:!0,fontSize:12,fontWeight:"bold",position:"inside"}},labelLine:{show:!1}}],responsive:!0};return J.jsx(OM,{option:r})},cIe=()=>{const e=Gi.topSongs.slice(0,5),t=e.map(i=>i.name),r=e.map(i=>i.streams),n={title:{text:"Top 5 Streamed Songs",textStyle:{color:"#fff"}},tooltip:{trigger:"axis"},xAxis:{type:"category",data:t},yAxis:{type:"value",axisLabel:{formatter:i=>`${(i/1e3).toFixed(1)}K`}},series:[{name:"Streams",type:"bar",data:r,itemStyle:{color:i=>{const o=["#5470C6","#91CC75","#FAC858","#EE6666","#73C0DE"];return o[i.dataIndex%o.length]}}}],responsive:!0};return J.jsx(OM,{option:n})};var Ff=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,r){const n=t?this.allAsyncListeners:this.allSyncListeners;let i=n.get(e);return!i&&r&&(i=new Set,n.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,r=!1){this.getListeners(e,r,!0).add(t)}removeEventListener(e,t,r=!1){const n=this.getListeners(e,r,!1);n&&(n.delete(t),n.size===0&&(r?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const r=e.type;if(t&&"event"in e){const s=e.event;s instanceof Event&&(e.eventPath=s.composedPath())}const n=(s,l)=>s.forEach(u=>{if(!l.has(u))return;const c=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>u(e)):()=>u(e);t?this.dispatchAsync(c):c()}),i=this.getListeners(r,t,!1)??new Set,o=new Set(i);o.size>0&&n(o,i),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(s=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>s(r,e)):()=>s(r,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function dIe(e,t){return t}function uK(e){return(e==null?void 0:e.getLocaleTextFunc())??dIe}function Ls(e,t,r){r==null||typeof r=="string"&&r==""?cK(e,t):Ba(e,t,r)}function Ba(e,t,r){e.setAttribute(dK(t),r.toString())}function cK(e,t){e.removeAttribute(dK(t))}function dK(e){return`aria-${e}`}function Go(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function hIe(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function fIe(e){return e.getAttribute("aria-label")}function bS(e,t){Ls(e,"label",t)}function KD(e,t){Ls(e,"labelledby",t)}function hK(e,t){Ls(e,"live",t)}function pIe(e,t){Ls(e,"atomic",t)}function gIe(e,t){Ls(e,"relevant",t)}function vIe(e,t){Ls(e,"disabled",t)}function fK(e,t){Ls(e,"hidden",t)}function XD(e,t){Ba(e,"expanded",t)}function mIe(e,t){Ba(e,"setsize",t)}function yIe(e,t){Ba(e,"posinset",t)}function CIe(e,t){Ba(e,"rowcount",t)}function wIe(e,t){Ba(e,"rowindex",t)}function bIe(e,t){Ba(e,"colcount",t)}function pK(e,t){Ba(e,"colindex",t)}function SIe(e,t){Ba(e,"colspan",t)}function xIe(e,t){Ba(e,"sort",t)}function RIe(e){cK(e,"sort")}function qD(e,t){Ls(e,"selected",t)}function _Ie(e,t){Ls(e,"controls",t.id),KD(t,e.id)}function NM(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var cT,dT,hT,fT,pT,ZD,QD,gT;function Jc(){return cT===void 0&&(cT=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),cT}function gK(){if(dT===void 0){const e=window;dT=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return dT}function vK(){return hT===void 0&&(hT=/(firefox)/i.test(navigator.userAgent)),hT}function mK(){return fT===void 0&&(fT=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),fT}function wc(){return pT===void 0&&(pT=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),pT}function JD(e){if(!e)return null;const t=e.tabIndex,r=e.getAttribute("tabIndex");return t===-1&&(r===null||r===""&&!vK())?null:t.toString()}function TIe(){if(gT!==void 0)return gT;if(!document.body)return-1;let e=1e6;const t=vK()?6e6:1e9,r=document.createElement("div");for(document.body.appendChild(r);;){const n=e*2;if(r.style.height=n+"px",n>t||r.clientHeight!==n)break;e=n}return document.body.removeChild(r),gT=e,e}function PIe(){return QD==null&&yK(),QD}function yK(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let r=t.offsetWidth-t.clientWidth;r===0&&t.clientWidth===0&&(r=null),t.parentNode&&t.parentNode.removeChild(t),r!=null&&(QD=r,ZD=r===0)}function CK(){return ZD==null&&yK(),ZD}var qC,DIe="[tabindex], input, select, button, textarea, [href]",wK="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function zM(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),i=t.call(e,wK),o=Ma(e);return n&&!i&&o}function rr(e,t,r={}){const{skipAriaHidden:n}=r;e.classList.toggle("ag-hidden",!t),n||fK(e,!t)}function AIe(e,t,r={}){const{skipAriaHidden:n}=r;e.classList.toggle("ag-invisible",!t),n||fK(e,!t)}function zv(e,t){const r="disabled",n=t?i=>i.setAttribute(r,""):i=>i.removeAttribute(r);n(e),RK(e.querySelectorAll("input"),i=>n(i))}function bc(e,t,r){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof r=="number"){if(++n>r)break}else if(e===r)break}return!1}function ed(e){const{height:t,width:r,borderTopWidth:n,borderRightWidth:i,borderBottomWidth:o,borderLeftWidth:a,paddingTop:s,paddingRight:l,paddingBottom:u,paddingLeft:c,marginTop:d,marginRight:h,marginBottom:f,marginLeft:g,boxSizing:m}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(r||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(i||"0"),borderBottomWidth:parseFloat(o||"0"),borderLeftWidth:parseFloat(a||"0"),paddingTop:parseFloat(s||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(c||"0"),marginTop:parseFloat(d||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(f||"0"),marginLeft:parseFloat(g||"0"),boxSizing:m}}function BM(e){const t=ed(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Bv(e){const t=ed(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function bK(e){const{height:t,marginBottom:r,marginTop:n}=ed(e);return Math.floor(t+r+n)}function Z0(e){const{width:t,marginLeft:r,marginRight:n}=ed(e);return Math.floor(t+r+n)}function SK(e){const t=e.getBoundingClientRect(),{borderTopWidth:r,borderLeftWidth:n,borderRightWidth:i,borderBottomWidth:o}=ed(e);return{top:t.top+(r||0),left:t.left+(n||0),right:t.right+(i||0),bottom:t.bottom+(o||0)}}function Q0(){if(typeof qC=="boolean")return qC;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,qC=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),qC}function J0(e,t){let r=e.scrollLeft;return t&&(r=Math.abs(r),gK()&&!Q0()&&(r=e.scrollWidth-e.getBoundingClientRect().width-r)),r}function eb(e,t,r){r&&(Q0()?t*=-1:(Jc()||gK())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function Ri(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Nc(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function xK(e){return!!e.offsetParent}function Ma(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!xK(e)||window.getComputedStyle(e).visibility!=="visible")}function Vv(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function IIe(e){return e.clientWidth<e.scrollWidth}function EIe(e){return e.clientHeight<e.scrollHeight}function tb(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Ra(e,t)}function Ra(e,t){t=VM(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function Kg(e,t){t=VM(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function VM(e){return typeof e=="number"?`${e}px`:e}function GM(e){return e instanceof Node||e instanceof HTMLElement}function MIe(e){if(e==null)return[];const t=[];return RK(e,r=>t.push(r)),t}function kIe(e,t){if(e)for(let r=0;r<e.length;r++){const n=e[r];t(n.name,n.value)}}function to(e,t,r){r==null||r===""?e.removeAttribute(t):e.setAttribute(t,r.toString())}function RK(e,t){if(e!=null)for(let r=0;r<e.length;r++)t(e[r])}function Os(e,t,r){const i=MK(e).ResizeObserver,o=i?new i(r):null;return o==null||o.observe(t),()=>o==null?void 0:o.disconnect()}function ms(e){return e==null||e===""?null:e}function Te(e){return e!=null&&e!==""}function Yt(e){return!Te(e)}function eA(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Gv(e,t){const r=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return r===n}function FIe(e,t,r=!1){const n=e==null,i=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function o(a,s){return a>s?1:a<s?-1:0}if(typeof e!="string"||!r)return o(e,t);try{return e.localeCompare(t)}catch{return o(e,t)}}var _K="https://www.ag-grid.com",NW={};function TK(e,t){NW[t]||(e(),NW[t]=!0)}function zc(e,t,...r){e.get("debug")&&console.log("AG Grid: "+t,...r)}function Xg(e,...t){TK(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Mh(e,...t){TK(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}var vT=[],mT=!1;function zW(e){vT.push(e),!mT&&(mT=!0,window.setTimeout(()=>{const t=vT.slice();vT.length=0,mT=!1,t.forEach(r=>r())},0))}function Fn(e,t,r){let n;return function(...i){const o=this;window.clearTimeout(n),n=window.setTimeout(function(){e.isAlive()&&t.apply(o,i)},r)}}function BW(e,t){let r=0;return function(...n){const i=this,o=new Date().getTime();o-r<t||(r=o,e.apply(i,n))}}function LIe(e,t,r=100,n){const i=new Date().getTime();let o=null,a=!1;const s=()=>{const l=new Date().getTime()-i>r;(e()||l)&&(t(),a=!0,o!=null&&(window.clearInterval(o),o=null))};s(),a||(o=window.setInterval(s,10))}var De="33.0.4",VW=2e3,GW=100,PK="_version_",Fw=null,ef=`${_K}/javascript-data-grid`;function OIe(e){Fw=e}function NIe(e){ef=e}function DK(e,t,r){return(Fw==null?void 0:Fw.getConsoleMessage(e,t))??[GIe(e,t,r)]}function HM(e,t,r,n){e(`error #${t}`,...DK(t,r,n))}function zIe(e){if(!e)return String(e);const t={};for(const r of Object.keys(e))typeof e[r]!="object"&&typeof e[r]!="function"&&(t[r]=e[r]);return JSON.stringify(t)}function BIe(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=zIe(e)),t}function rb(e){return e===void 0?"undefined":e===null?"null":e}function tA(e,t){return`${e}?${t.toString()}`}function VIe(e,t,r){const n=Array.from(t.entries()).sort((o,a)=>a[1].length-o[1].length);let i=tA(e,t);for(const[o,a]of n){if(o===PK)continue;const s=i.length-r;if(s<=0)break;const l="...",u=s+l.length,c=a.length-u>GW?a.slice(0,a.length-u)+l:a.slice(0,GW)+l;t.set(o,c),i=tA(e,t)}return i}function AK(e,t){const r=new URLSearchParams;r.append(PK,De),t&&Object.entries(t).forEach(([o,a])=>{r.append(o,BIe(a))});const n=`${ef}/errors/${e}`,i=tA(n,r);return i.length<=VW?i:VIe(n,r,VW)}var GIe=(e,t,r)=>{const n=AK(e,t);return`${r?r+` 
`:""}Visit ${n}${r?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function be(...e){HM(Xg,e[0],e[1])}function kt(...e){HM(Mh,e[0],e[1])}function rA(e,t,r){HM(Mh,e,t,r)}function HIe(e,t){const r=t[0];return`error #${r} `+DK(r,t[1],e).join(" ")}function Bl(...e){return HIe(void 0,e)}function IK(e,t){return e.get("rowModelType")===t}function vn(e,t){return IK(e,"clientSide")}function Lf(e,t){return IK(e,"serverSide")}function Xr(e,t){return e.get("domLayout")===t}function Sc(e){return ib(e)!==void 0}function EK(e){return typeof e.get("getRowHeight")=="function"}function WIe(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Bc(e,t,r=!1,n){const{gos:i,environment:o}=e;if(n==null&&(n=o.getDefaultRowHeight()),EK(i)){if(r)return{height:n,estimated:!0};const l={node:t,data:t.data},u=i.getCallback("getRowHeight")(l);if(nA(u))return u===0&&be(23),{height:Math.max(1,u),estimated:!1}}if(t.detail&&i.get("masterDetail"))return $Ie(i);const a=i.get("rowHeight");return{height:a&&nA(a)?a:n,estimated:!1}}function $Ie(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return nA(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function xc(e){const{environment:t,gos:r}=e,n=r.get("rowHeight");if(!n||Yt(n))return t.getDefaultRowHeight();const i=t.refreshRowHeightVariable();return i!==-1?i:(be(24),t.getDefaultRowHeight())}function nA(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function nb(e,t,r){const n=t[e.getDomDataKey()];return n?n[r]:void 0}function Vc(e,t,r,n){const i=e.getDomDataKey();let o=t[i];Yt(o)&&(o={},t[i]=o),o[r]=n}function dr(e){const{gos:t,eGridDiv:r}=e;let n=null;const i=t.get("getDocument");return i&&Te(i)?n=i():r&&(n=r.ownerDocument),n&&Te(n)?n:document}function MK(e){return dr(e).defaultView||window}function Hv(e){return e.eGridDiv.getRootNode()}function or(e){return Hv(e).activeElement}function WM(e){let t=null,r=null;try{t=dr(e).fullscreenElement}catch{}finally{t||(t=Hv(e));const n=t.querySelector("body");n?r=n:t instanceof ShadowRoot?r=t:t instanceof Document?r=t==null?void 0:t.documentElement:r=t}return r}function UIe(e){const t=WM(e);return(t==null?void 0:t.clientWidth)??(window.innerHeight||-1)}function jIe(e){const t=WM(e);return(t==null?void 0:t.clientHeight)??(window.innerHeight||-1)}function YIe(e,t,r){const i=e.getBoundingClientRect().height,o=UIe(r)-2,a=jIe(r)-2;if(!e.offsetParent)return;const l=SK(e.offsetParent),{clientY:u,clientX:c}=t;let d=u-l.top-i/2,h=c-l.left-10;const f=dr(r),g=f.defaultView||window,m=g.pageYOffset||f.documentElement.scrollTop,y=g.pageXOffset||f.documentElement.scrollLeft;o>0&&h+e.clientWidth>o+y&&(h=o+y-e.clientWidth),h<0&&(h=0),a>0&&d+e.clientHeight>a+m&&(d=a+m-e.clientHeight),d<0&&(d=0),e.style.left=`${h}px`,e.style.top=`${d}px`}function kK(e){const t=dr(e),r=or(e);return r===null||r===t.body}function kh(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function FK(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Xr(e,"print"))}function fa(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function iA(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function KIe(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function $M(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function tf(e){const t=e.getCallback("getRowId");return t===void 0?t:r=>{let n=t(r);return typeof n!="string"&&(be(25,{id:n}),n=String(n)),n}}function XIe(e,t){const r=e.get("groupHideParentOfSingleChild");return!!(r===!0||r==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function qIe(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Fh(e){return(e==null?void 0:e.checkboxes)??!0}function Lw(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function oA(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function yT(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function ZIe(e){return typeof e.get("rowSelection")!="string"}function Xl(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function LK(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const r=e.get("suppressRowClickSelection"),n=e.get("suppressRowDeselection");return r&&n?!1:r?"enableDeselection":n?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function QIe(e){const t=LK(e);return t===!0||t==="enableSelection"}function HW(e){const t=LK(e);return t===!0||t==="enableDeselection"}function aA(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function ib(e){const t=e.get("rowSelection");if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t==null?void 0:t.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function UM(e){return ib(e)==="multiRow"}function JIe(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function ob(e){const t=e.get("rowSelection");if(typeof t=="string"){const r=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return r&&n?"filteredDescendants":r?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function OK(e,t=!0){const r=e.get("rowSelection");return typeof r!="object"?t?"all":void 0:r.mode==="multiRow"?r.selectAll:"all"}function Wv(e){const t=ob(e);return t==="descendants"||t==="filteredDescendants"}function CT(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function vi(e){return e.get("columnMenu")==="legacy"}function eEe(e){return!vi(e)}function NK(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function tEe(e,t,r){typeof e!="object"&&(e={});const n={...e};return r.forEach(i=>{const o=t[i];typeof o<"u"&&(n[i]=o)}),n}function rEe(e,t){if(!e)return;const r={};let n=!1;if(Object.keys(e).forEach(a=>{r[a]=e[a],n=!0}),!n)return;const i={type:"gridOptionsChanged",options:r};t.dispatchEvent(i);const o={type:"componentStateChanged",...r};t.dispatchEvent(o)}var zK="__ag_Grid_Stop_Propagation",nEe=["touchstart","touchend","touchmove","touchcancel","scroll"],iEe=["wheel"],wT={};function rf(e){e[zK]=!0}function ys(e){return e[zK]===!0}var BK=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r=>{if(typeof wT[r]=="boolean")return wT[r];const n=document.createElement(e[r]||"div");return r="on"+r,wT[r]=r in n}})();function VK(e,t,r){let n=t;for(;n;){const i=nb(e,n,r);if(i)return i;n=n.parentElement}return null}function oEe(e,t){return!t||!e?!1:sEe(t).indexOf(e)>=0}function aEe(e){const t=[];let r=e.target;for(;r;)t.push(r),r=r.parentElement;return t}function sEe(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():aEe(t)}function lEe(e,t,r,n){const i=GK(r);let o;i!=null&&(o={passive:i}),e&&e.addEventListener&&e.addEventListener(t,r,n,o)}var GK=e=>{const t=nEe.includes(e),r=iEe.includes(e);if(t)return!0;if(r)return!1},ce=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,r){this.localEventService||(this.localEventService=new Ff),this.localEventService.addEventListener(e,t,r)}removeEventListener(e,t,r){var n;(n=this.localEventService)==null||n.removeEventListener(e,t,r)}dispatchLocalEvent(e){var t;(t=this.localEventService)==null||t.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const r=[];for(const n of Object.keys(t)){const i=t[n];i&&r.push(this._setupListener(e,n,i))}return r}_setupListener(e,t,r){if(this.destroyed)return()=>null;e instanceof HTMLElement?lEe(this.beans.frameworkOverrides,e,t,r):e.addEventListener(t,r);const n=()=>(e.removeEventListener(t,r),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==n),null)}setupGridOptionListener(e,t){const{gos:r}=this;r.addPropertyEventListener(e,t);const n=()=>(r.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==n),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const r=e.join("-")+this.propertyListenerId++,n=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[r])return;this.lastChangeSetIdLookup[r]=i.changeSet.id}const o={type:"gridPropertyChanged",changeSet:i.changeSet,source:i.source};t(o)};e.forEach(i=>this.setupGridOptionListener(i,n))}getLocaleTextFunc(){return uK(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const r=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),r}createBean(e,t,r){return(t||this.stubContext).createBean(e,r)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}},HK=new Set(["__proto__","constructor","prototype"]);function uEe(e,t){if(e!=null){if(Array.isArray(e)){for(let r=0;r<e.length;r++)t(r.toString(),e[r]);return}for(const[r,n]of Object.entries(e))t(r,n)}}function mn(e,t,r=!0,n=!1){Te(t)&&uEe(t,(i,o)=>{if(HK.has(i))return;let a=e[i];a!==o&&(n&&a==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(a={},e[i]=a),WW(o)&&WW(a)&&!Array.isArray(a)?mn(a,o,r,n):(r||o!==void 0)&&(e[i]=o))})}function qg(e,t,r){if(!t||!e)return;if(!r)return e[t];const n=t.split(".");let i=e;for(let o=0;o<n.length;o++){if(i==null)return;i=i[n[o]]}return i}function WW(e){return typeof e=="object"&&e!==null}var cEe={resizable:!0,sortable:!0},dEe=0;function WK(){return dEe++}function ql(e){return e instanceof jM}var jM=class extends ce{constructor(e,t,r,n){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=r,this.primary=n,this.isColumn=!0,this.instanceId=WK(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Ff,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:r,colFlex:n}}=this;t==null||t.initCol(this);const i=e.hide;i!==void 0?this.visible=!i:this.visible=!e.initialHide,r==null||r.initCol(this),n==null||n.initCol(this)}setColDef(e,t,r){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.dispatchColEvent("colDefChanged",r)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:r}}=this,n=e.get("suppressFieldDotNotation");this.fieldContainsDots=Te(t)&&t.indexOf(".")>=0&&!n,this.tooltipFieldContainsDots=Te(r)&&r.indexOf(".")>=0&&!n}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){var e;(e=this.beans.tooltipSvc)==null||e.initCol(this)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const r=e.width,n=e.initialWidth;return r!=null?t=r:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){var t;return((t=this.beans.showRowGroupCols)==null?void 0:t.isRowGroupDisplayed(this,e))??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){var n,i,o;this.frameworkEventListenerService=(i=(n=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:i.call(n,this.frameworkEventListenerService,this.colEventSvc);const r=((o=this.frameworkEventListenerService)==null?void 0:o.wrap(t))??t;this.colEventSvc.addEventListener(e,r)}removeEventListener(e,t){var n;const r=((n=this.frameworkEventListenerService)==null?void 0:n.unwrap(t))??t;this.colEventSvc.removeEventListener(e,r)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){var t;return((t=this.beans.cellNavigation)==null?void 0:t.isSuppressNavigable(this,e))??!1}isCellEditable(e){var t;return((t=this.beans.editSvc)==null?void 0:t.isCellEditable(this,e))??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){var t;return((t=this.beans.selectionSvc)==null?void 0:t.isCellCheckboxSelection(this,e))??!1}isSuppressPaste(e){var t;return this.isColumnFunc(e,((t=this.colDef)==null?void 0:t.suppressPaste)??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??cEe[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const r=this.createColumnFunctionCallbackParams(e);return t(r)}return!1}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Yt(this.sort)}isSorting(){return Te(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){var e;return be(261),!!((e=this.beans.colHover)!=null&&e.isHovered(this))}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const r=e===!0;this.visible!==r&&(this.visible=r,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let r=!0;for(;e;){if(!e.isPadding()){r=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:r}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Yt(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),r=this.colDef.colSpan(t);return Math.max(r,1)}getRowSpan(e){if(Yt(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),r=this.colDef.rowSpan(t);return Math.max(r,1)}setActualWidth(e,t,r=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),r||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,r){const n=this.createColumnEvent(e,t);r&&mn(n,r),this.colEventSvc.dispatchEvent(n)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function kn(e){return e instanceof Ow}var Ow=class extends ce{constructor(e,t,r,n){super(),this.colGroupDef=e,this.groupId=t,this.padding=r,this.level=n,this.isColumn=!1,this.expandable=!1,this.instanceId=WK(),this.expandableListenerRemoveCallback=null,this.expanded=!!(e!=null&&e.openByDefault)}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{ql(t)?e.push(t):kn(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,r=!1;const n=this.findChildrenRemovingPadding();for(let o=0,a=n.length;o<a;o++){const s=n[o];if(!s.isVisible())continue;const l=s.getColumnGroupShow();l==="open"?(e=!0,r=!0):l==="closed"?(t=!0,r=!0):(e=!0,t=!0)}const i=e&&t&&r;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=r=>{r.forEach(n=>{kn(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},hEe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},fEe=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=eA(e);let r=0;for(;;){let n=e??t;if(n?r!==0&&(n+="_"+r):n=r,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);r++}}},$W=Object.freeze([]);function xt(e){if(e!=null&&e.length)return e[e.length-1]}function td(e,t,r){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((n,i)=>r?r(n,t[i]):t[i]===n)}function pEe(e){return e.sort((t,r)=>t-r)}function Ho(e,t){const r=e.indexOf(t);r>=0&&e.splice(r,1)}function UW(e,t,r){for(let n=0;n<t.length;n++)Ho(e,t[n]);for(let n=t.length-1;n>=0;n--)e.splice(r,0,t[n])}function $K(e,t){const r=[],n=[],i=[];return e.forEach(a=>{const s=a.getColDef().lockPosition;s==="right"?i.push(a):s==="left"||s===!0?r.push(a):n.push(a)}),t.get("enableRtl")?[...i,...n,...r]:[...r,...n,...i]}function UK(e,t){let r=!0;return Cs(null,t,n=>{if(!kn(n))return;const i=n,o=i.getColGroupDef();if(!(o&&o.marryChildren))return;const s=[];i.getLeafColumns().forEach(h=>{const f=e.indexOf(h);s.push(f)});const l=Math.max.apply(Math,s),u=Math.min.apply(Math,s),c=l-u,d=i.getLeafColumns().length-1;c>d&&(r=!1)}),r}function jK(e,t){if(!e||e.length==0)return;const r=t(e[0]);for(let n=1;n<e.length;n++)if(r!==t(e[n]))return;return r}function YK(e,t,r){if(!t.length)return;const n=t.length===1?t[0]:null,i=jK(t,o=>o.getPinned());e.dispatchEvent({type:"columnPinned",pinned:i??null,columns:t,column:n,source:r})}function gEe(e,t,r){if(!t.length)return;const n=t.length===1?t[0]:null,i=jK(t,o=>o.isVisible());e.dispatchEvent({type:"columnVisible",visible:i,columns:t,column:n,source:r})}function vEe(e,t,r,n){e.dispatchEvent({type:t,columns:r,column:r&&r.length==1?r[0]:null,source:n})}function nf(e,t,r,n,i=null){t!=null&&t.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:r,source:n})}function Fo(e,t,r){var x;const{colModel:n,rowGroupColsSvc:i,pivotColsSvc:o,autoColSvc:a,selectionColSvc:s,colAnimation:l,visibleCols:u,pivotResultCols:c,environment:d,valueColsSvc:h,eventSvc:f,gos:g}=e,m=n.getColDefCols()||[];if(!(m!=null&&m.length))return!1;if(t!=null&&t.state&&!t.state.forEach)return be(32),!1;const y=(R,T,P,D,I)=>{if(!R)return;const E=REe(T,t.defaultState),k=E("flex").value1;if(rX(e,R,E("hide").value1,E("sort").value1,E("sortIndex").value1,E("pinned").value1,k,r),k==null){const L=E("width").value1;if(L!=null){const N=R.getColDef().minWidth??d.getDefaultColumnMinWidth();N!=null&&L>=N&&R.setActualWidth(L,r)}}I||!R.isPrimary()||(h==null||h.syncColumnWithState(R,r,E),i==null||i.syncColumnWithState(R,r,E,P),o==null||o.syncColumnWithState(R,r,E,D))},C=(R,T,P)=>{var K,H;const D=KK(e,r),I=T.slice(),E={},k={},L=[],N=[],B=[];let V=0;const W=(i==null?void 0:i.columns.slice())??[],j=(o==null?void 0:o.columns.slice())??[];R.forEach(U=>{const ne=U.colId;if(ne.startsWith(SS)){L.push(U),B.push(U);return}if(_a(ne)){N.push(U),B.push(U);return}const he=P(ne);he?(y(he,U,E,k,!1),Ho(I,he)):(B.push(U),V+=1)});const G=U=>y(U,null,E,k,!1);I.forEach(G),i==null||i.sortColumns(jW.bind(i,E,W)),o==null||o.sortColumns(jW.bind(o,k,j)),n.refreshCols(!1);const $=(U,ne,oe=[])=>{ne.forEach(he=>{const xe=U(he.colId);Ho(oe,xe),y(xe,he,null,null,!0)}),oe.forEach(G)};return $(U=>(a==null?void 0:a.getAutoCol(U))??null,L,(K=a==null?void 0:a.getAutoCols())==null?void 0:K.slice()),$(U=>(s==null?void 0:s.getSelectionCol(U))??null,N,(H=s==null?void 0:s.getSelectionCols())==null?void 0:H.slice()),yEe(t,n,g),u.refresh(r),f.dispatchEvent({type:"columnEverythingChanged",source:r}),D(),{unmatchedAndAutoStates:B,unmatchedCount:V}};l==null||l.start();let{unmatchedAndAutoStates:w,unmatchedCount:S}=C(t.state||[],m,R=>n.getColDefCol(R));if(w.length>0||Te(t.defaultState)){const R=((x=c==null?void 0:c.getPivotResultCols())==null?void 0:x.list)??[];S=C(w,R,T=>(c==null?void 0:c.getPivotResultCol(T))??null).unmatchedCount}return l==null||l.finish(),S===0}function mEe(e,t){const{colModel:r,autoColSvc:n}=e,i=r.getColDefCols();if(!(i!=null&&i.length))return;const o=r.getColDefColTree(),a=JK(o),s=[];let l=1e3,u=1e3,c=[];const d=n==null?void 0:n.getAutoCols();d&&(c=c.concat(d)),a&&(c=c.concat(a)),c.forEach(h=>{const f=XK(h);Yt(f.rowGroupIndex)&&f.rowGroup&&(f.rowGroupIndex=l++),Yt(f.pivotIndex)&&f.pivot&&(f.pivotIndex=u++),s.push(f)}),Fo(e,{state:s,applyOrder:!0},t)}function KK(e,t){const{rowGroupColsSvc:r,pivotColsSvc:n,valueColsSvc:i,colModel:o,sortSvc:a,eventSvc:s}=e,l={rowGroupColumns:(r==null?void 0:r.columns.slice())??[],pivotColumns:(n==null?void 0:n.columns.slice())??[],valueColumns:(i==null?void 0:i.columns.slice())??[]},u=$v(e),c={};return u.forEach(d=>{c[d.colId]=d}),()=>{const d=o.getAllCols(),h=(P,D,I,E)=>{const k=D.map(E),L=I.map(E);if(td(k,L))return;const B=new Set(D);I.forEach(W=>{B.delete(W)||B.add(W)});const V=[...B];s.dispatchEvent({type:P,columns:V,column:V.length===1?V[0]:null,source:t})},f=P=>{const D=[];return d.forEach(I=>{const E=c[I.getColId()];E&&P(E,I)&&D.push(I)}),D},g=P=>P.getColId();h("columnRowGroupChanged",l.rowGroupColumns,(r==null?void 0:r.columns)??[],g),h("columnPivotChanged",l.pivotColumns,(n==null?void 0:n.columns)??[],g);const y=f((P,D)=>{const I=P.aggFunc!=null,E=I!=D.isValueActive(),k=I&&P.aggFunc!=D.getAggFunc();return E||k});y.length>0&&vEe(s,"columnValueChanged",y,t),nf(s,f((P,D)=>P.width!=D.getActualWidth()),!0,t),YK(s,f((P,D)=>P.pinned!=D.getPinned()),t),gEe(s,f((P,D)=>P.hide==D.isVisible()),t);const R=f((P,D)=>P.sort!=D.getSort()||P.sortIndex!=D.getSortIndex());R.length>0&&(a==null||a.dispatchSortChangedEvents(t,R));const T=$v(e);wEe(u,T,t,o,s)}}function $v(e){const{colModel:t,rowGroupColsSvc:r,pivotColsSvc:n}=e,i=t.getColDefCols();if(Yt(i)||!t.isAlive())return[];const o=t.getAllCols(),a=r==null?void 0:r.columns,s=n==null?void 0:n.columns,l=d=>{const h=d.isRowGroupActive()&&a?a.indexOf(d):null,f=d.isPivotActive()&&s?s.indexOf(d):null,g=d.isValueActive()?d.getAggFunc():null,m=d.getSort()!=null?d.getSort():null,y=d.getSortIndex()!=null?d.getSortIndex():null;return{colId:d.getColId(),width:d.getActualWidth(),hide:!d.isVisible(),pinned:d.getPinned(),sort:m,sortIndex:y,aggFunc:g,rowGroup:d.isRowGroupActive(),rowGroupIndex:h,pivot:d.isPivotActive(),pivotIndex:f,flex:d.getFlex()??null}},u=o.map(d=>l(d)),c=new Map(t.getCols().map((d,h)=>[d.getColId(),h]));return u.sort((d,h)=>{const f=c.has(d.colId)?c.get(d.colId):-1,g=c.has(h.colId)?c.get(h.colId):-1;return f-g}),u}function XK(e){const t=(g,m)=>g??m??null,r=e.getColDef(),n=t(r.sort,r.initialSort),i=t(r.sortIndex,r.initialSortIndex),o=t(r.hide,r.initialHide),a=t(r.pinned,r.initialPinned),s=t(r.width,r.initialWidth),l=t(r.flex,r.initialFlex);let u=t(r.rowGroupIndex,r.initialRowGroupIndex),c=t(r.rowGroup,r.initialRowGroup);u==null&&(c==null||c==!1)&&(u=null,c=null);let d=t(r.pivotIndex,r.initialPivotIndex),h=t(r.pivot,r.initialPivot);d==null&&(h==null||h==!1)&&(d=null,h=null);const f=t(r.aggFunc,r.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:i,hide:o,pinned:a,width:s,flex:l,rowGroup:c,rowGroupIndex:u,pivot:h,pivotIndex:d,aggFunc:f}}function yEe(e,t,r){if(!e.applyOrder||!e.state)return;const n=[];e.state.forEach(i=>{i.colId!=null&&n.push(i.colId)}),CEe(t.cols,n,t,r)}function CEe(e,t,r,n){if(e==null)return;let i=[];const o={};t.forEach(s=>{if(o[s])return;const l=e.map[s];l&&(i.push(l),o[s]=!0)});let a=0;if(e.list.forEach(s=>{const l=s.getColId();if(o[l]!=null)return;l.startsWith(SS)?i.splice(a++,0,s):i.push(s)}),i=$K(i,n),!UK(i,r.getColTree())){be(39);return}e.list=i}function wEe(e,t,r,n,i){const o={};t.forEach(c=>o[c.colId]=c);const a={};e.forEach(c=>{o[c.colId]&&(a[c.colId]=!0)});const s=e.filter(c=>a[c.colId]),l=t.filter(c=>a[c.colId]),u=[];l.forEach((c,d)=>{const h=s&&s[d];if(h&&h.colId!==c.colId){const f=n.getCol(h.colId);f&&u.push(f)}}),u.length&&i.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,finished:!0,source:r})}var jW=(e,t,r,n)=>{const i=e[r.getId()],o=e[n.getId()],a=i!=null,s=o!=null;if(a&&s)return i-o;if(a)return-1;if(s)return 1;const l=t.indexOf(r),u=t.indexOf(n),c=l>=0,d=u>=0;return c&&d?l-u:c?-1:1},qK="ag-Grid-SelectionColumn",bEe=class extends ce{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Lh(e.source))})}addSelectionCols(e){const t=this.selectionCols;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),xEe(e))}createSelectionCols(e,t){var h,f;const r=()=>{var g;ab(this.beans,(g=this.selectionCols)==null?void 0:g.tree),this.selectionCols=null},n=e.treeDepth,o=(((h=this.selectionCols)==null?void 0:h.treeDepth)??-1)==n,a=this.generateSelectionCols();if(SEe(a,((f=this.selectionCols)==null?void 0:f.list)??[])&&o)return;r();const{colGroupSvc:l}=this.beans,u=(l==null?void 0:l.findDepth(e.tree))??0,c=(l==null?void 0:l.balanceTreeForAutoCols(a,u))??[];this.selectionCols={list:a,tree:c,treeDepth:u,map:{}},t(g=>{if(!g)return null;const m=g.filter(y=>!_a(y));return[...a,...m]})}isSelectionColumnEnabled(){var a,s;const{gos:e,beans:t}=this,r=e.get("rowSelection");if(typeof r!="object"||!Sc(e))return!1;const n=(((s=(a=t.autoColSvc)==null?void 0:a.getAutoCols())==null?void 0:s.length)??0)>0;if(r.checkboxLocation==="autoGroupColumn"&&n)return!1;const i=!!Fh(r),o=Lw(r);return i||o}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const{gos:e,validation:t}=this.beans,r=e.get("selectionColumnDef"),i={width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:e.get("enableRtl")?"right":"left",comparator(s,l,u,c){const d=u.isSelected(),h=c.isSelected();return d===h?0:d?1:-1},editable:!1,suppressFillHandle:!0,...r,colId:qK},o=i.colId;t==null||t.validateColDef(i,o,!0);const a=new jM(i,null,o,!1);return this.createBean(a),[a]}putSelectionColsFirstInList(e,t){if(!t)return null;const r=t.filter(n=>!_a(n));return[...e,...r]}getSelectionCol(e){var t;return((t=this.selectionCols)==null?void 0:t.list.find(r=>eX(r,e)))??null}getSelectionCols(){var e;return((e=this.selectionCols)==null?void 0:e.list)??null}onSelectionOptionsChanged(e,t,r){const n=t&&typeof t!="string"?Fh(t):void 0,i=e&&typeof e!="string"?Fh(e):void 0,o=n!==i,a=t&&typeof t!="string"?Lw(t):void 0,s=e&&typeof e!="string"?Lw(e):void 0,l=a!==s,u=oA(e),c=oA(t);(o||l||u!==c)&&this.beans.colModel.refreshAll(r)}destroy(){var e;ab(this.beans,(e=this.selectionCols)==null?void 0:e.tree),super.destroy()}refreshVisibility(e){if(!this.isSelectionColumnEnabled())return;const t=this.beans,r=t.visibleCols.getAllTrees()??[];if(r.length!==0){if(!r.some(ZK)){const n=$v(t).find(i=>_a(i.colId));n&&Fo(t,{state:[{colId:n.colId,hide:!n.hide}]},e)}if(r.length===1){const n=r[0],i=QK(n);if(!i)return;Fo(t,{state:[{colId:i.getColId(),hide:!0}]},e)}}}},ZK=e=>{var t;return e.isColumn?_a(e):((t=e.getChildren())==null?void 0:t.some(ZK))??!1};function QK(e){if(e.isColumn)return _a(e)?e:null;const t=e.getChildren()??[];for(const r of t){const n=QK(r);if(n)return n}return null}var SS="ag-Grid-AutoColumn";function JK(e){const t=[],r=n=>{for(let i=0;i<n.length;i++){const o=n[i];ql(o)?t.push(o):kn(o)&&r(o.getChildren())}};return r(e),t}function ss(e){return e.reduce((t,r)=>t+r.getActualWidth(),0)}function ab(e,t,r){const n={};if(!t)return;Cs(null,t,o=>{n[o.getInstanceId()]=o}),r&&Cs(null,r,o=>{n[o.getInstanceId()]=null});const i=Object.values(n).filter(o=>o!=null);e.context.destroyBeans(i)}function YM(e){return e.getId().startsWith(SS)}function _a(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(qK))??!1}function sb(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function SEe(e,t){return td(e,t,(r,n)=>r.getColId()===n.getColId())}function xEe(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function Lh(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function eX(e,t){const r=e===t,n=e.getColDef()===t,i=e.getColId()==t;return r||n||i}var REe=(e,t)=>(r,n)=>{const i={value1:void 0,value2:void 0};let o=!1;return e&&(e[r]!==void 0&&(i.value1=e[r],o=!0),Te(n)&&e[n]!==void 0&&(i.value2=e[n],o=!0)),!o&&t&&(t[r]!==void 0&&(i.value1=t[r]),Te(n)&&t[n]!==void 0&&(i.value2=t[n])),i};function _Ee(e,t=null,r,n,i){const o=new fEe,{existingCols:a,existingGroups:s,existingColKeys:l}=TEe(n);o.addExistingKeys(l);const u=tX(e,t,0,r,a,o,s,i),{colGroupSvc:c}=e,d=(c==null?void 0:c.findMaxDepth(u,0))??0,h=c?c.balanceColumnTree(u,0,d,o):u;return Cs(null,h,(g,m)=>{kn(g)&&g.setupExpandable(),g.originalParent=m}),{columnTree:h,treeDept:d}}function TEe(e){const t=[],r=[],n=[];return e&&Cs(null,e,i=>{if(kn(i)){const o=i;r.push(o)}else{const o=i;n.push(o.getId()),t.push(o)}}),{existingCols:t,existingGroups:r,existingColKeys:n}}function tX(e,t,r,n,i,o,a,s){if(!t)return[];const{colGroupSvc:l}=e,u=new Array(t.length);for(let c=0;c<u.length;c++){const d=t[c];l&&MEe(d)?u[c]=l.createProvidedColumnGroup(n,d,r,i,o,a,s):u[c]=PEe(e,n,d,i,o,s)}return u}function PEe(e,t,r,n,i,o){var l;const a=AEe(r,n);a&&(n==null||n.splice(a.idx,1));let s=a==null?void 0:a.column;if(s){const u=sA(e,r,s.getColId());s.setColDef(u,r,o),DEe(e,s,u,o)}else{const u=i.getUniqueKey(r.colId,r.field),c=sA(e,r,u);s=new jM(c,r,u,t),e.context.createBean(s)}return(l=e.dataTypeSvc)==null||l.addColumnListeners(s),s}function rX(e,t,r,n,i,o,a,s){const{sortSvc:l,pinnedCols:u,colFlex:c}=e;r!==void 0&&t.setVisible(!r,s),l&&(l.updateColSort(t,n,s),i!==void 0&&l.setColSortIndex(t,i)),o!==void 0&&(u==null||u.setColPinned(t,o)),a!==void 0&&(c==null||c.setColFlex(t,a))}function DEe(e,t,r,n){rX(e,t,r.hide,r.sort,r.sortIndex,r.pinned,r.flex,n);const i=t.getFlex();if(!(i!=null&&i>0))if(r.width!=null)t.setActualWidth(r.width,n);else{const o=t.getActualWidth();t.setActualWidth(o,n)}}function AEe(e,t){if(t)for(let r=0;r<t.length;r++){const n=t[r].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[r].getId()===e.colId)return{idx:r,column:t[r]};continue}if(e.field!=null){if(n.field===e.field)return{idx:r,column:t[r]};continue}if(n===e)return{idx:r,column:t[r]}}}function sA(e,t,r,n){const{gos:i,dataTypeSvc:o,validation:a}=e,s={},l=i.get("defaultColDef");mn(s,l,!1,!0);const u=IEe(e,s,t,r);u&&EEe(e,u,s),mn(s,t,!1,!0);const c=i.get("autoGroupColumnDef"),d=fa(i);return t.rowGroup&&c&&d&&mn(s,{sort:c.sort,initialSort:c.initialSort},!1,!0),o==null||o.validateColDef(s),a==null||a.validateColDef(s,r,n),s}function IEe(e,t,r,n){var a;const i=(a=e.dataTypeSvc)==null?void 0:a.updateColDefAndGetColumnType(t,r,n),o=r.type??i??t.type;return t.type=o,o?sb(o):void 0}function EEe(e,t,r){if(!t.length)return;const n=Object.assign({},hEe),i=e.gos.get("columnTypes")||{};for(const[o,a]of Object.entries(i))o in n?be(34,{key:o}):(a.type&&be(35),n[o]=a);t.forEach(o=>{const a=n[o.trim()];a?mn(r,a,!1,!0):be(36,{t:o})})}function MEe(e){return e.children!==void 0}function Cs(e,t,r){if(t)for(let n=0;n<t.length;n++){const i=t[n];kn(i)&&Cs(i,i.getChildren(),r),r(i,e)}}var kEe=class extends ce{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(Lh(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],e=>this.recreateColumnDefs(Lh(e.source))),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Lh(e.source)))}createColsFromColDefs(e){var w,S,x;const{beans:t}=this,{valueCache:r,colAutosize:n,rowGroupColsSvc:i,pivotColsSvc:o,valueColsSvc:a,visibleCols:s,colViewport:l,eventSvc:u}=t,c=this.colDefs?KK(t,e):void 0;r==null||r.expire();const d=(w=this.colDefCols)==null?void 0:w.list,h=(S=this.colDefCols)==null?void 0:S.tree,f=_Ee(t,this.colDefs,!0,h,e);ab(t,(x=this.colDefCols)==null?void 0:x.tree,f.columnTree);const g=f.columnTree,m=f.treeDept,y=JK(g),C={};y.forEach(R=>C[R.getId()]=R),this.colDefCols={tree:g,treeDepth:m,list:y,map:C},i==null||i.extractCols(e,d),o==null||o.extractCols(e,d),a==null||a.extractCols(e,d),this.ready=!0,this.refreshCols(!0),s.refresh(e),l.checkViewportColumns(),u.dispatchEvent({type:"columnEverythingChanged",source:e}),c&&(this.changeEventsDispatching=!0,c(),this.changeEventsDispatching=!1),u.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&(n==null||n.applyAutosizeStrategy())}refreshCols(e){var g;if(!this.colDefCols)return;const t=(g=this.cols)==null?void 0:g.tree;this.saveColOrder();const{autoColSvc:r,selectionColSvc:n,quickFilter:i,pivotResultCols:o,showRowGroupCols:a,rowAutoHeight:s,visibleCols:l,colViewport:u,eventSvc:c}=this.beans,d=this.selectCols(o,this.colDefCols);r==null||r.createAutoCols(d,m=>{this.lastOrder=m(this.lastOrder),this.lastPivotOrder=m(this.lastPivotOrder)}),r==null||r.addAutoCols(d),n==null||n.createSelectionCols(d,m=>{this.lastOrder=m(this.lastOrder)??null,this.lastPivotOrder=m(this.lastPivotOrder)??null}),n==null||n.addSelectionCols(d);const h=WIe(this.gos,this.showingPivotResult);(!e||h)&&this.restoreColOrder(d),this.positionLockedCols(d),a==null||a.refresh(),i==null||i.refreshCols(),this.setColSpanActive(),s==null||s.setAutoHeightActive(d),l.clear(),u.clear(),!td(t,this.cols.tree)&&c.dispatchEvent({type:"gridColumnsChanged"})}selectCols(e,t){const r=(e==null?void 0:e.getPivotResultCols())??null;this.showingPivotResult=r!=null;const{map:n,list:i,tree:o,treeDepth:a}=r??t;return this.cols={list:i.slice(),map:{...n},tree:o.slice(),treeDepth:a},r&&(r.list.some(l=>{var u;return((u=this.cols)==null?void 0:u.map[l.getColId()])!==void 0})||(this.lastPivotOrder=null)),this.cols}getColsToShow(){var n;if(!this.cols)return[];const e=this.isPivotMode()&&!this.showingPivotResult,t=(n=this.beans.valueColsSvc)==null?void 0:n.columns;return this.cols.list.filter(i=>{const o=YM(i);if(e){const a=t==null?void 0:t.includes(i);return o||a}else return o||i.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,r){Fo(this.beans,{state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},r)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const r=new Map(t.map((u,c)=>[u,c]));if(!e.list.some(u=>r.has(u)))return;const i=new Map(e.list.map(u=>[u,!0])),o=t.filter(u=>i.has(u)),a=new Map(o.map(u=>[u,!0])),s=e.list.filter(u=>!a.has(u)),l=o.slice();s.forEach(u=>{let c=u.getOriginalParent();if(!c){l.push(u);return}const d=[];for(;!d.length&&c;)c.getLeafColumns().forEach(m=>{const y=l.indexOf(m)>=0,C=d.indexOf(m)<0;y&&C&&d.push(m)}),c=c.getOriginalParent();if(!d.length){l.push(u);return}const h=d.map(g=>l.indexOf(g)),f=Math.max(...h);l.splice(f+1,0,u)}),e.list=l}positionLockedCols(e){e.list=$K(e.list,this.gos)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=((e=this.cols)==null?void 0:e.list)??null:this.lastOrder=((t=this.cols)==null?void 0:t.list)??null}getColumnDefs(){var e,t;return this.colDefCols?(t=this.beans.colDefFactory)==null?void 0:t.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,((e=this.cols)==null?void 0:e.list)??[]):void 0}setColSpanActive(){var e;this.colSpanActive=!!((e=this.cols)!=null&&e.list.some(t=>t.getColDef().colSpan!=null))}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:r,eventSvc:n}=this.beans;r.refresh(t),n.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){var t;const e=(t=this.beans.pivotColsSvc)==null?void 0:t.columns;return this.pivotMode&&!!(e!=null&&e.length)}recreateColumnDefs(e){var t;this.cols&&((t=this.beans.autoColSvc)==null||t.updateAutoCols(e),this.createColsFromColDefs(e))}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e;ab(this.beans,(e=this.colDefCols)==null?void 0:e.tree),super.destroy()}getColTree(){var e;return((e=this.cols)==null?void 0:e.tree)??[]}getColDefColTree(){var e;return((e=this.colDefCols)==null?void 0:e.tree)??[]}getColDefCols(){var e;return((e=this.colDefCols)==null?void 0:e.list)??null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var i,o,a,s;const{pivotResultCols:e,autoColSvc:t,selectionColSvc:r}=this.beans,n=(i=e==null?void 0:e.getPivotResultCols())==null?void 0:i.list;return[((o=this.colDefCols)==null?void 0:o.list)??[],((a=t==null?void 0:t.autoCols)==null?void 0:a.list)??[],((s=r==null?void 0:r.selectionCols)==null?void 0:s.list)??[],n??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){var i;if(t==null)return null;const{map:r,list:n}=t;if(typeof e=="string"&&r[e])return r[e];for(let o=0;o<n.length;o++)if(eX(n[o],e))return n[o];return((i=this.beans.autoColSvc)==null?void 0:i.getAutoCol(e))??null}},nX=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let r;return typeof t!="number"?r=0:r=t+1,this.existingIds[e]=r,r}},Of=class extends ce{};function _m(e,t,r){return r&&e.addDestroyFunc(()=>t.destroyBean(r)),r??e}var Tm=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){this.addOrRemoveCssClass(e,!0)}removeCssClass(e){this.addOrRemoveCssClass(e,!1)}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){n.forEach(i=>this.addOrRemoveCssClass(i,t));return}}if(this.cssClassStates[e]!==t&&e.length){const n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}},FEe=0,Ye=null,Xt=class extends ce{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=FEe++,this.cssClassManager=new Tm(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(r=>[r.selector,r])),e&&this.setTemplate(e)}preConstruct(){var t,r,n;this.wireTemplate(this.getGui());const e="component-"+((r=(t=Object.getPrototypeOf(this))==null?void 0:t.constructor)==null?void 0:r.name);(n=this.css)==null||n.forEach(i=>this.beans.environment.addGlobalCSS(i,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute("data-ref"):null}applyElementsToComponent(e,t,r,n=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const i=this[t];if(i===Ye)this[t]=n??e;else{const o=r&&r[t];if(!this.suppressDataRefValidation&&!o)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){MIe(e.childNodes).forEach(n=>{if(!(n instanceof HTMLElement))return;const i=this.createComponentFromElement(n,o=>{o.getGui()&&this.copyAttributesFromNode(n,o.getGui())},t);if(i){if(i.addItems&&n.children.length){this.createChildComponentsFromTags(n,t);const o=Array.prototype.slice.call(n.children);i.addItems(o)}this.swapComponentForNode(i,e,n)}else n.childNodes&&this.createChildComponentsFromTags(n,t)})}createComponentFromElement(e,t,r){const n=e.nodeName,i=this.getDataRefAttribute(e),o=n.indexOf("AG-")===0,a=o?this.componentSelectors.get(n):null;let s=null;if(a){const l=r&&i?r[i]:void 0;s=new a.component(l),s.setParentComponent(this),this.createBean(s,null,t)}else if(o)throw new Error(`selector: ${n}`);return this.applyElementsToComponent(e,i,r,s),s}copyAttributesFromNode(e,t){kIe(e.attributes,(r,n)=>t.setAttribute(r,n))}swapComponentForNode(e,t,r){const n=e.getGui();t.replaceChild(n,r),t.insertBefore(document.createComment(r.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(r=>r.setAttribute("tabindex",t.toString()))}setTemplate(e,t,r){const n=Vv(e);this.setTemplateFromElement(n,t,r)}setTemplateFromElement(e,t,r,n=!1){if(this.eGui=e,this.suppressDataRefValidation=n,t)for(let i=0;i<t.length;i++){const o=t[i];this.componentSelectors.set(o.selector,o)}this.wireTemplate(e,r)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let r=t;return e==null?null:(r||(r=this.eGui),GM(e)?{element:e,parent:r}:{element:e.getGui(),parent:r})}prependChild(e,t){const{element:r,parent:n}=this.getContainerAndElement(e,t)||{};!r||!n||n.insertAdjacentElement("afterbegin",r)}appendChild(e,t){const{element:r,parent:n}=this.getContainerAndElement(e,t)||{};!r||!n||n.appendChild(r)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:r}=t;AIe(this.eGui,e,{skipAriaHidden:r})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:r}=t;rr(this.eGui,e,{skipAriaHidden:r});const n={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,r){this.eGui.addEventListener(e,t,r),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},nr=class Tg{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(r=>this.onDone(r),r=>this.onReject(r))}static all(t){return t.length?new Tg(r=>{let n=t.length;const i=new Array(n);t.forEach((o,a)=>{o.then(s=>{i[a]=s,n--,n===0&&r(i)})})}):Tg.resolve()}static resolve(t=null){return new Tg(r=>r(t))}then(t){return new Tg(r=>{this.status===1?r(t(this.resolution)):this.waiters.push(n=>r(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(r=>r(t))}onReject(t){}};function LEe(e){return e?e.prototype&&"getGui"in e.prototype:!1}function iX(e,t,r,n){const{name:i}=r;let o,a,s,l,u,c;if(t){const d=t,h=d[i+"Selector"],f=h?h(n):null,g=m=>{typeof m=="string"?o=m:m!=null&&m!==!0&&(e.isFrameworkComponent(m)?s=m:a=m)};f?(g(f.component),l=f.params,u=f.popup,c=f.popupPosition):g(d[i])}return{compName:o,jsComp:a,fwComp:s,paramsFromSelector:l,popupFromSelector:u,popupPositionFromSelector:c}}var OEe=class extends ce{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,r,n=!1){return this.getCompDetails(this.gridOptions,e,t,r,n)}getCompDetails(e,t,r,n,i=!1){var w;const{name:o,cellRenderer:a}=t;let{compName:s,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:h}=iX(this.beans.frameworkOverrides,e,t,n),f;const g=S=>{const x=this.registry.getUserComponent(o,S);x&&(l=x.componentFromFramework?void 0:x.component,u=x.componentFromFramework?x.component:void 0,f=x.params)};if(s!=null&&g(s),l==null&&u==null&&r!=null&&g(r),l&&a&&!LEe(l)&&(l=(w=this.agCompUtils)==null?void 0:w.adaptFunction(t,l)),!l&&!u){const{validation:S}=this.beans;i&&(s!==r||!r)?s?S!=null&&S.isProvidedUserComp(s)||kt(50,{compName:s}):r?S||kt(260,{...this.gos.getModuleErrorParams(),propName:o,compName:r}):kt(216,{name:o}):r&&!S&&kt(146,{comp:r});return}const m=this.mergeParams(e,t,n,c,f),y=l==null,C=l??u;return{componentFromFramework:y,componentClass:C,params:m,type:t,popupFromSelector:d,popupPositionFromSelector:h,newAgStackInstance:()=>this.newAgStackInstance(C,y,m,t)}}newAgStackInstance(e,t,r,n){var s;const i=!t;let o;i?o=new e:o=this.frameworkCompWrapper.wrap(e,n.mandatoryMethods,n.optionalMethods,n),this.createBean(o);const a=(s=o.init)==null?void 0:s.call(o,r);return a==null?nr.resolve(o):a.then(()=>o)}mergeParams(e,t,r,n=null,i){const o=this.gos.getGridCommonParams();mn(o,r),i&&mn(o,i);const a=e,s=a&&a[t.name+"Params"];if(typeof s=="function"){const l=s(r);mn(o,l)}else typeof s=="object"&&mn(o,s);return mn(o,n),o}},NEe={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},zEe={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},BEe={name:"headerComponent",optionalMethods:["refresh"]},VEe={name:"innerHeaderComponent"},GEe={name:"innerHeaderGroupComponent"},HEe={name:"headerGroupComponent"},WEe={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},$Ee={name:"loadingCellRenderer",cellRenderer:!0},UEe={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},jEe={name:"loadingOverlayComponent",optionalMethods:["refresh"]},YEe={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},KEe={name:"tooltipComponent"},KM={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},XEe={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},qEe={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},ZEe={name:"loadingCellRenderer",cellRenderer:!0},QEe={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},JEe={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function eMe(e,t){return e.getCompDetailsFromGridOptions(zEe,"agDragAndDropImage",t,!0)}function tMe(e,t,r){return e.getCompDetails(t,BEe,"agColumnHeader",r)}function rMe(e,t,r){return e.getCompDetails(t,VEe,void 0,r)}function nMe(e,t){const r=t.columnGroup.getColGroupDef();return e.getCompDetails(r,HEe,"agColumnGroupHeader",t)}function iMe(e,t,r){return e.getCompDetails(t,GEe,void 0,r)}function oMe(e,t){return e.getCompDetailsFromGridOptions(qEe,void 0,t,!0)}function aMe(e,t){return e.getCompDetailsFromGridOptions(ZEe,"agLoadingCellRenderer",t,!0)}function sMe(e,t){return e.getCompDetailsFromGridOptions(QEe,"agGroupRowRenderer",t,!0)}function lMe(e,t){return e.getCompDetailsFromGridOptions(JEe,"agDetailCellRenderer",t,!0)}function uMe(e,t,r){return e.getCompDetails(t,WEe,void 0,r)}function cMe(e,t,r){return e.getCompDetails(t,$Ee,"agSkeletonCellRenderer",r,!0)}function YW(e,t,r){return e.getCompDetails(t,UEe,"agCellEditor",r,!0)}function dMe(e,t,r,n){return e.getCompDetails(t,KM,n,r,!0)}function hMe(e,t){return e.getCompDetailsFromGridOptions(NEe,"agDateInput",t,!0)}function fMe(e,t){return e.getCompDetailsFromGridOptions(jEe,"agLoadingOverlay",t,!0)}function pMe(e,t){return e.getCompDetailsFromGridOptions(YEe,"agNoRowsOverlay",t,!0)}function gMe(e,t){return e.getCompDetails(t.colDef,KEe,"agTooltipComponent",t,!0)}function vMe(e,t,r,n){return e.getCompDetails(t,XEe,n,r)}function mMe(e,t){return iX(e,t,KM)}function yMe(e,t,r){return e.mergeParams(t,KM,r)}function Uv(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var oX=new Set,lb={},Rc={},Nw,aX=!1;function CMe(e){const[t,r]=e.version.split(".")||[],[n,i]=Nw.split(".")||[];return t===n&&r===i}function wMe(e){Nw||(Nw=e.version);const t=r=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${r} Please update all modules to the same version.`;if(e.version?CMe(e)||Mh(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${Nw}.`)):Mh(t(`'${e.moduleName}' is incompatible.`)),e.validate){const r=e.validate();r.isValid||Mh(`${r.message}`)}}function jv(e,t){wMe(e);const r=e.rowModels??["all"];oX.add(e);let n;t!==void 0?(aX=!0,Rc[t]===void 0&&(Rc[t]={}),n=Rc[t]):n=lb,r.forEach(i=>{n[i]===void 0&&(n[i]={}),n[i][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(i=>jv(i,t))}function bMe(e){delete Rc[e]}function sX(e,t,r){const n=i=>{var o,a,s;return!!((o=lb[i])!=null&&o[e])||!!((s=(a=Rc[t])==null?void 0:a[i])!=null&&s[e])};return n(r)||n("all")}function XM(){return aX}function SMe(e,t){const r=Rc[e]??{};return[...Object.values(lb.all??{}),...Object.values(r.all??{}),...Object.values(lb[t]??{}),...Object.values(r[t]??{})]}function xMe(){return new Set(oX)}function RMe(e,t){const r=Rc[e]??{};return[...Object.values(r.all??{}),...Object.values(r[t]??{})]}var _Me=class{static register(e){jv(e,void 0)}static registerModules(e){e.forEach(t=>jv(t,void 0))}},TMe=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;Object.entries(e.providedBeanInstances).forEach(([r,n])=>{this.beans[r]=n}),e.beanClasses.forEach(r=>{const n=new r;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${r.name} is missing beanName`),this.createdBeans.push(n)}),(t=e.derivedBeans)==null||t.forEach(r=>{const{beanName:n,bean:i}=r(this);this.beans[n]=i,this.createdBeans.push(i)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(r=>{var n,i;(n=r.preWireBeans)==null||n.call(r,this.beans),(i=r.wireBeans)==null||i.call(r,this.beans)}),e.forEach(r=>{var n;return(n=r.preConstruct)==null?void 0:n.call(r)}),t&&e.forEach(t),e.forEach(r=>{var n;return(n=r.postConstruct)==null?void 0:n.call(r)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},PMe=class extends TMe{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){var e;super.destroy(),bMe(this.gridId),(e=this.destroyCallback)==null||e.call(this)}getGridId(){return this.gridId}},DMe="ag-column-first",AMe="ag-column-last";function lX(e,t,r,n){return Yt(e)?[]:EMe(e.headerClass,e,t,r,n)}function uX(e,t,r){e.addOrRemoveCssClass(DMe,r.isColAtEdge(t,"first")),e.addOrRemoveCssClass(AMe,r.isColAtEdge(t,"last"))}function IMe(e,t,r,n){return t.addGridCommonParams({colDef:e,column:r,columnGroup:n})}function EMe(e,t,r,n,i){if(Yt(e))return[];let o;if(typeof e=="function"){const a=IMe(t,r,n,i);o=e(a)}else o=e;return typeof o=="string"?[o]:Array.isArray(o)?[...o]:[]}function ru(e,t){const r=MK(e);r.requestAnimationFrame?r.requestAnimationFrame(t):r.webkitRequestAnimationFrame?r.webkitRequestAnimationFrame(t):r.setTimeout(t,0)}var MMe=class extends ce{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const{gos:t,pagination:r}=this.beans,n=t.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,n&&e===0){const i=(r==null?void 0:r.getCurrentPage())??0;i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame")}verifyAnimationFrameOn(e){this.active===!1&&be(92,{methodName:e})}createTask(e,t,r){this.verifyAnimationFrameOn(r);const n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[r],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((r,n)=>r.index!==n.index?t*(n.index-r.index):n.createOrder-r.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,r=t.list,n=this.createTasksP2,i=n.list,o=this.destroyTasks,a=new Date().getTime();let s=new Date().getTime()-a;const l=e<=0,u=this.beans.ctrlsSvc.getScrollFeature();for(;l||s<e;){if(!u.scrollGridIfNeeded()){let d;if(r.length)this.sortTaskList(t),d=r.pop().task;else if(i.length)this.sortTaskList(n),d=i.pop().task;else if(o.length)d=o.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(d)||d()}s=new Date().getTime()-a}r.length||i.length||o.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);ru(this.beans,e)}isQueueEmpty(){return!this.ticking}},ue={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},lA=!1,ub=0;function kMe(e){ub>0||(e.addEventListener("keydown",cb),e.addEventListener("mousedown",cb))}function FMe(e){ub>0||(e.removeEventListener("keydown",cb),e.removeEventListener("mousedown",cb))}function cb(e){const t=lA,r=e.type==="keydown";r&&(e.ctrlKey||e.metaKey||e.altKey)||t!==r&&(lA=r)}function LMe(e){const t=dr(e);return kMe(t),ub++,()=>{ub--,FMe(t)}}function OMe(){return lA}function NMe(e,t,r){t.addManagedElementListeners(r,{keydown:n=>{if(!n.defaultPrevented&&n.key===ue.TAB){const i=n.shiftKey;rd(e,r,!1,i)||of(e,i)&&n.preventDefault()}}})}function Oh(e,t,r=!1){const n=DIe;let i=wK;t&&(i+=", "+t),r&&(i+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(e.querySelectorAll(n)).filter(l=>Ma(l)),a=Array.prototype.slice.apply(e.querySelectorAll(i));return a.length?((l,u)=>l.filter(c=>u.indexOf(c)===-1))(o,a):o}function Gc(e,t=!1,r=!1){const n=Oh(e,null,r),i=t?xt(n):n[0];return i?(i.focus({preventScroll:!0}),!0):!1}function rd(e,t,r,n){const i=Oh(t,r?':not([tabindex="-1"])':null),o=or(e);let a;r?a=i.findIndex(l=>l.contains(o)):a=i.indexOf(o);const s=a+(n?-1:1);return s<0||s>=i.length?null:i[s]}function cX(e,t=5){let r=0;for(;e&&JD(e)===null&&++r<=t;)e=e.parentElement;return JD(e)===null?null:e}function zMe(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function Nh(e){var t;return e.gos.get("suppressHeaderFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function dX(e){var t;return e.gos.get("suppressCellFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function of(e,t,r=!1){const n=e.ctrlsSvc.get("gridCtrl");return!r&&n.focusNextInnerContainer(t)?!0:((r||!t&&!n.isDetailGrid())&&n.forceFocusOutOfContainer(t),!1)}var BMe=/[&<>"']/g,VMe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ta(e,t){if(e==null)return null;const r=e.toString().toString();return t?r:r.replace(BMe,n=>VMe[n])}function GMe(e,t=!1){return e===ue.DELETE?!0:!t&&e===ue.BACKSPACE?mK():!1}var HMe=class extends ce{constructor(e,t,r,n){super(),this.cellCtrl=e,this.rowNode=r,this.rowCtrl=n,this.beans=t}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case ue.ENTER:this.onEnterKeyDown(e);break;case ue.F2:this.onF2KeyDown(e);break;case ue.ESCAPE:this.onEscapeKeyDown(e);break;case ue.TAB:this.onTabKeyDown(e);break;case ue.BACKSPACE:case ue.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case ue.DOWN:case ue.UP:case ue.RIGHT:case ue.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){var r;this.cellCtrl.editing||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):(r=this.beans.navigation)==null||r.navigateToNextCell(e,t,this.cellCtrl.cellPosition,!0),e.preventDefault())}onShiftRangeSelect(e){const{rangeSvc:t,navigation:r}=this.beans;if(!t)return;const n=t.extendLatestRangeInDirection(e);n&&(r==null||r.ensureCellVisible(n))}onTabKeyDown(e){var t;(t=this.beans.navigation)==null||t.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var l;const{cellCtrl:r,beans:n,rowNode:i}=this,{gos:o,rangeSvc:a,eventSvc:s}=n;if(!r.editing){if(s.dispatchEvent({type:"keyShortcutChangedCellStart"}),GMe(e,o.get("enableCellEditingOnBackspace"))){if(a&&Xl(o))a.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(r.isCellEditable()){const{column:u}=r,c=this.beans.valueSvc.getDeleteValue(u,i);i.setDataValue(u,c,"cellClear")}}else(l=n.editSvc)==null||l.startRowOrCellEdit(r,e,t);s.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){var n,i;const{cellCtrl:t,beans:r}=this;if(t.editing||this.rowCtrl.editing)t.stopEditingAndFocus(!1,e.shiftKey);else if(r.gos.get("enterNavigatesVertically")){const o=e.shiftKey?ue.UP:ue.DOWN;(n=r.navigation)==null||n.navigateToNextCell(null,o,t.cellPosition,!1)}else(i=r.editSvc)==null||i.startRowOrCellEdit(t,ue.ENTER,e),t.editing&&e.preventDefault()}onF2KeyDown(e){var n;const{cellCtrl:t,beans:r}=this;t.editing||(n=r.editSvc)==null||n.startRowOrCellEdit(t,ue.F2,e)}onEscapeKeyDown(e){var n;const{cellCtrl:t,beans:r}=this;t.editing&&((n=r.editSvc)==null||n.stopRowOrCellEdit(t,!0),t.focusCell(!0))}processCharacter(e){var i;if(e.target!==this.eGui||this.cellCtrl.editing)return;const n=e.key;n===ue.SPACE?this.onSpaceKeyDown(e):(i=this.beans.editSvc)!=null&&i.startRowOrCellEdit(this.cellCtrl,n,e)&&e.preventDefault()}onSpaceKeyDown(e){var r;const{gos:t}=this.beans;!this.cellCtrl.editing&&Sc(t)&&((r=this.beans.selectionSvc)==null||r.handleSelectionEvent(e,this.rowNode,"spaceKey")),e.preventDefault()}destroy(){super.destroy()}},WMe=class extends ce{constructor(e,t,r){super(),this.cellCtrl=e,this.column=r,this.beans=t}onMouseEvent(e,t){if(!ys(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){var u;if((u=this.beans.touchSvc)!=null&&u.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:r,gos:n,editSvc:i}=this.beans,o=e.ctrlKey||e.metaKey;r&&o&&r.getCellRangeCount(this.cellCtrl.cellPosition)>1&&r.intersectLastRange(!0);const a=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(a);const s=this.column.getColDef();s.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{s.onCellClicked(a)})},0),(n.get("singleClickEdit")||s.singleClickEdit)&&!n.get("suppressClickEdit")&&!(e.shiftKey&&(r==null?void 0:r.getCellRanges().length)!=0)&&(i==null||i.startRowOrCellEdit(this.cellCtrl))}onCellDoubleClicked(e){const{column:t,beans:r,cellCtrl:n}=this,{eventSvc:i,frameworkOverrides:o,gos:a,editSvc:s}=r,l=t.getColDef(),u=n.createEvent(e,"cellDoubleClicked");i.dispatchEvent(u),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{o.wrapOutgoing(()=>{l.onCellDoubleClicked(u)})},0),!a.get("singleClickEdit")&&!a.get("suppressClickEdit")&&(s==null||s.startRowOrCellEdit(n,null,e))}onMouseDown(e){const{ctrlKey:t,metaKey:r,shiftKey:n}=e,i=e.target,{cellCtrl:o,beans:a}=this,{eventSvc:s,rangeSvc:l,focusSvc:u,gos:c}=a;if(this.isRightClickInExistingRange(e))return;const d=l&&!l.isEmpty(),h=this.containsWidget(i),{cellPosition:f}=o;if(!n||!d){const m=c.get("enableCellTextSelection")&&e.defaultPrevented,y=(Jc()||m)&&!o.editing&&!zM(i)&&!h;o.focusCell(y)}if(n&&d&&!u.isCellFocused(f)){e.preventDefault();const g=u.getFocusedCell();if(g){const{column:m,rowIndex:y,rowPinned:C}=g,w=a.rowRenderer.getRowByPosition({rowIndex:y,rowPinned:C}),S=w==null?void 0:w.getCellCtrl(m);S!=null&&S.editing&&S.stopEditing(),u.setFocusedCell({column:m,rowIndex:y,rowPinned:C,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!h){if(l)if(n)l.extendLatestRangeToCell(f);else{const g=t||r;l.setRangeToCell(f,g)}s.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const r=t.isCellInAnyRange(this.cellCtrl.cellPosition),n=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(r&&n)return!0}return!1}containsWidget(e){return bc(e,"ag-selection-checkbox",3)||bc(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:r}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),r==null||r.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:r}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),r==null||r.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const{eGui:t}=this.cellCtrl,r=t.contains(e.target),n=t.contains(e.relatedTarget);return r&&n}destroy(){super.destroy()}},$Me=class extends ce{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();td(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,r=e.getColSpan(t),n=[];if(r===1)n.push(e);else{let i=e;const o=e.getPinned();for(let a=0;i&&a<r&&(n.push(i),i=this.beans.visibleCols.getColAfter(i),!(!i||Yt(i)||o!==i.getPinned()));a++);}return n}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=xt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,r=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const n=t.bodyWidth;return r+n+(e||0)}return r+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const r=xc(this.beans)*this.rowSpan;this.eGui.style.height=`${r}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},UMe="ag-cell",jMe="ag-cell-auto-height",YMe="ag-cell-normal-height",KMe="ag-cell-focus",XMe="ag-cell-first-right-pinned",qMe="ag-cell-last-left-pinned",ZMe="ag-cell-not-inline-editing",QMe="ag-cell-wrap-text",db="cellCtrl";function hX(e,t){return VK(e,t,db)}var JMe=0,zw=class extends ce{constructor(e,t,r,n){super(),this.column=e,this.rowNode=t,this.rowCtrl=n,this.rangeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.beans=r,this.instanceId=e.getId()+"-"+JMe++,this.colIdSanitised=Ta(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusSvc.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusSvc.clearRestoreFocus()}addFeatures(){var n;const{beans:e}=this;this.positionFeature=new $Me(this,e),this.customStyleFeature=(n=e.cellStyles)==null?void 0:n.createCellCustomStyleFeature(this,e),this.mouseListener=new WMe(this,e,this.column),this.keyboardListener=new HMe(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();const{rangeSvc:t}=e;t&&Xl(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this))}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){var r;this.tooltipFeature=(r=this.beans.tooltipSvc)==null?void 0:r.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,r,n,i,o){var a,s,l,u,c;this.comp=e,this.eGui=t,this.printLayout=n,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.positionFeature)==null||a.setComp(t),(s=this.customStyleFeature)==null||s.setComp(e),(l=this.tooltipFeature)==null||l.refreshTooltip(),(u=this.keyboardListener)==null||u.setComp(this.eGui),this.rangeFeature&&this.rangeFeature.setComp(e,t),i&&this.isCellEditable()?(c=this.beans.editSvc)==null||c.startEditing(this):this.showValue(),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(d=>d()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){var r;this.isAutoHeight=this.column.isAutoHeight(),!(!this.isAutoHeight||!e)&&((r=this.beans.rowAutoHeight)==null||r.setupCellAutoHeight(this,e,t))}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e=!1){var u;const{beans:t,column:r,rowNode:n,rangeFeature:i}=this,{userCompFactory:o}=t,a=this.getValueToDisplay();let s;if(n.stub&&((u=n.groupData)==null?void 0:u[r.getId()])==null){const c=this.createCellRendererParams();s=cMe(o,r.getColDef(),c)}else if(this.isCellRenderer()){const c=this.createCellRendererParams();s=uMe(o,r.getColDef(),c)}this.comp.setRenderDetails(s,a,e),i&&ru(t,()=>i==null?void 0:i.refreshHandle())}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}isCheckboxSelection(e){const{rowSelection:t}=this.beans.gridOptions;return e.checkboxSelection||_a(this.column)&&t&&typeof t!="string"&&Fh(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),r=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||r||n||i}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(e=!1){var t;return((t=this.beans.editSvc)==null?void 0:t.stopEditing(this,e))??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:r,rowNode:n,comp:i,eGui:o,beans:{valueSvc:a,gos:s}}=this;return s.addGridCommonParams({value:e,valueFormatted:t,getValue:()=>a.getValueForDisplay(r,n),setValue:u=>a.setValue(n,r,u),formatValue:this.formatValue.bind(this),data:n.data,node:n,pinned:r.getPinned(),colDef:r.getColDef(),column:r,refreshCell:this.refreshCell.bind(this),eGridCell:o,eParentOfValue:i.getParentOfValue(),registerRowDragger:(u,c,d,h)=>this.registerRowDragger(u,c,h),setTooltip:(u,c)=>{var d;s.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(u,c),(d=this.tooltipFeature)==null||d.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?(t=this.rowCtrl)==null||t.recreateCell(this):this.refreshCell(e)}refreshCell(e){var u,c,d,h,f,g;if(this.suppressRefreshCell||this.editing)return;const t=this.column.getColDef(),r=e!=null&&!!e.newData,n=e!=null&&!!e.suppressFlash,i=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,o=e&&e.forceRefresh||i||r,a=!!this.comp,s=this.updateAndFormatValue(a),l=o||s;if(a){if(l){this.showValue(r);const m=(u=this.beans.filterManager)==null?void 0:u.isSuppressFlashingCellsBecauseFiltering();!n&&!m&&t.enableCellChangeFlash&&((c=this.beans.cellFlashSvc)==null||c.flashCell(this)),(d=this.customStyleFeature)==null||d.applyUserStyles(),(h=this.customStyleFeature)==null||h.applyClassesFromColDef()}(f=this.tooltipFeature)==null||f.refreshTooltip(),(g=this.customStyleFeature)==null||g.applyCellClassRules()}}stopEditingAndFocus(e=!1,t=!1){var r;(r=this.beans.editSvc)==null||r.stopEditingAndFocus(this,e,t)}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,r=this.valueFormatted;return this.value=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=r:!0}valuesAreEqual(e,t){const r=this.column.getColDef();return r.equals?r.equals(e,t):e===t}addDomData(e){const t=this.eGui;Vc(this.beans.gos,t,db,this),e.addDestroyFunc(()=>Vc(this.beans.gos,t,db,null))}createEvent(e,t){const{rowNode:r,column:n,value:i}=this;return this.beans.gos.addGridCommonParams({type:t,node:r,data:r.data,value:i,column:n,colDef:n.getColDef(),rowPinned:r.rowPinned,event:e,rowIndex:r.rowIndex})}processCharacter(e){var t;(t=this.keyboardListener)==null||t.processCharacter(e)}onKeyDown(e){var t;(t=this.keyboardListener)==null||t.onKeyDown(e)}onMouseEvent(e,t){var r;(r=this.mouseListener)==null||r.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){var e;this.comp&&((e=this.positionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:r}=this;uX(e,t,r.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);pK(this.eGui,e)}onWidthChanged(){var e;return(e=this.positionFeature)==null?void 0:e.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){var e;this.comp&&((e=this.rangeFeature)==null||e.updateRangeBordersIfRangeCount())}onCellSelectionChanged(){var e;this.comp&&((e=this.rangeFeature)==null||e.onCellSelectionChanged())}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1){this.beans.focusSvc.setFocusedCell({rowIndex:this.cellPosition.rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){var e;this.createCellPosition(),this.onCellFocused(),(e=this.rangeFeature)==null||e.onCellSelectionChanged()}onSuppressCellFocusChanged(e){this.eGui&&to(this.eGui,"tabindex",e?void 0:-1)}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.addOrRemoveCssClass(XMe,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.addOrRemoveCssClass(qMe,e)}onCellFocused(e){var i;const{beans:t}=this;if(dX(t))return;const r=t.focusSvc.isCellFocused(this.cellPosition);if(!this.comp){r&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}if(this.focusEventToRestore=void 0,this.comp.addOrRemoveCssClass(KMe,r),r&&e&&e.forceBrowserFocus){let o=this.comp.getFocusableElement();if(this.editing){const a=Oh(o,null,!0);a.length&&(o=a[0])}o.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const n=t.gos.get("editType")==="fullRow";!r&&!n&&this.editing&&((i=t.editSvc)==null||i.stopRowOrCellEdit(this)),r&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:ms(t),column:this.column}}setInlineEditingCss(){var e;(e=this.beans.editSvc)==null||e.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){const{comp:e}=this;e.addOrRemoveCssClass(UMe,!0),e.addOrRemoveCssClass(ZMe,!0);const t=this.column.isAutoHeight()==!0;e.addOrRemoveCssClass(jMe,t),e.addOrRemoveCssClass(YMe,!t)}onColumnHover(){var e;(e=this.beans.colHover)==null||e.onCellColumnHover(this.column,this.comp)}onColDefChanged(){var e;this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(e=this.beans.editSvc)==null||e.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.addOrRemoveCssClass(QMe,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),r=this.createEvent(e,"cellContextMenu"),{beans:n}=this;n.eventSvc.dispatchEvent(r),t.onCellContextMenu&&window.setTimeout(()=>{n.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(r)})},0)}getCellRenderer(){var e;return((e=this.comp)==null?void 0:e.getCellRenderer())??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){var t;const e=(t=this.beans.selectionSvc)==null?void 0:t.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,r){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const n=this.createRowDragComp(e,t,r);n&&(this.customRowDragComp=n,this.addDestroyFunc(()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null}))}createRowDragComp(e,t,r){var i;const n=(i=this.beans.rowDragSvc)==null?void 0:i.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,r);if(n)return this.beans.context.createBean(n),n}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}},fX="__ag_grid_instance";function pX(e,t){t[fX]=e.gridInstanceId}function hb(e,t){return gX(e,t.target)}function gX(e,t){let r=t;for(;r;){const n=r[fX];if(Te(n))return n===e.gridInstanceId;r=r.parentElement}return!1}function eke(e,t){var r;return((r=hX(e,t.target))==null?void 0:r.cellPosition)??null}function bT(e,t){const r=Xr(e.gos,"normal"),n=t;let i,o;if(n.clientX!=null||n.clientY!=null?(i=n.clientX,o=n.clientY):(i=n.x,o=n.y),r){const a=e.ctrlsSvc.getScrollFeature(),s=a.getVScrollPosition(),l=a.getHScrollPosition();i+=l.left,o+=s.top}return{x:i,y:o}}var tke=class extends ce{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const r={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:r,dragSource:e}),this.dragSvc.addDragSource(r)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:r}=this,n=t.find(i=>i.dragSource===e);n&&(r.removeDragSource(n.params),Ho(t,n))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:r}=this;e.forEach(n=>t.removeDragSource(n.params)),e.length=0,r.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var r;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),(r=e.onDragStarted)==null||r.call(e),this.createDragAndDropImageComponent()}onDragStop(e){var r,n;(n=(r=this.dragSource)==null?void 0:r.onDragStopped)==null||n.call(r);const{lastDropTarget:t}=this;if(t!=null&&t.onDragStop){const i=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(i)}this.clearDragAndDropProperties()}onDragCancel(){var r;const{dragSource:e,lastDropTarget:t}=this;(r=e==null?void 0:e.onDragCancelled)==null||r.call(e),t!=null&&t.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var c,d;const r=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const i=this.dropTargets.filter(h=>this.isMouseOnDropTarget(e,h)),o=this.findCurrentDropTarget(e,i),{lastDropTarget:a,dragSource:s,dragAndDropImageComp:l,dragItem:u}=this;if(o!==a){if(this.leaveLastTargetIfExists(e,r,n,t),a!==null&&o===null&&((c=s==null?void 0:s.onGridExit)==null||c.call(s,u)),a===null&&o!==null&&((d=s==null?void 0:s.onGridEnter)==null||d.call(s,u)),this.enterDragTargetIfExists(o,e,r,n,t),o&&l){const{comp:h,promise:f}=l;h?h.setIcon(o.getIconName?o.getIconName():null,!1):f.then(g=>{g&&g.setIcon(o.getIconName?o.getIconName():null,!1)})}this.lastDropTarget=o}else if(o&&o.onDragging){const h=this.createDropTargetEvent(o,e,r,n,t);o.onDragging(h)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,r=[[e.getContainer()]];return t?r.concat(t):r}isMouseOnDropTarget(e,t){const r=this.getAllContainersFromDropTarget(t);let n=!1;const i=(s,l)=>{for(const u of l){const{width:c,height:d,left:h,right:f,top:g,bottom:m}=u.getBoundingClientRect();if(c===0||d===0)return!1;const y=s.clientX>=h&&s.clientX<f,C=s.clientY>=g&&s.clientY<m;if(!y||!C)return!1}return!0};for(const s of r)if(i(e,s)){n=!0;break}const{eElement:o,type:a}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(o)?!1:n&&t.isInterestedIn(a,o)}findCurrentDropTarget(e,t){const r=t.length;if(r===0)return null;if(r===1)return t[0];const i=Hv(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const o of i)for(const a of t)if(this.getAllContainersFromDropTarget(a).flatMap(l=>l).indexOf(o)!==-1)return a;return null}enterDragTargetIfExists(e,t,r,n,i){if(e&&e.onDragEnter){const o=this.createDropTargetEvent(e,t,r,n,i);e.onDragEnter(o)}}leaveLastTargetIfExists(e,t,r,n){const{lastDropTarget:i}=this;if(!i)return;if(i.onDragLeave){const a=this.createDropTargetEvent(i,e,t,r,n);i.onDragLeave(a)}const o=this.getDragAndDropImageComponent();o&&o.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(r=>r.external).find(r=>r.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const r=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:n}=e;return r.contains(n)}getHorizontalDirection(e){var n;const t=(n=this.eventLastTime)==null?void 0:n.clientX,r=e.clientX;return t===r?null:t>r?"left":"right"}getVerticalDirection(e){var n;const t=(n=this.eventLastTime)==null?void 0:n.clientY,r=e.clientY;return t===r?null:t>r?"up":"down"}createDropTargetEvent(e,t,r,n,i){const o=e.getContainer(),a=o.getBoundingClientRect(),{dragItem:s,dragSource:l,gos:u}=this,c=t.clientX-a.left,d=t.clientY-a.top;return u.addGridCommonParams({event:t,x:c,y:d,vDirection:n,hDirection:r,dragSource:l,fromNudge:i,dragItem:s,dropZoneTarget:o})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&YIe(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){var t;const{dragAndDropImageComp:e}=this;if(e){const{comp:r}=e;if(r){const n=r.getGui();(t=this.dragAndDropImageParent)==null||t.removeChild(n),this.destroyBean(r)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const t=eMe(this.userCompFactory,{dragSource:e});if(!t)return;const r=t.newAgStackInstance();this.dragAndDropImageComp={promise:r},r.then(n=>{!n||!this.isAlive()||(this.processDragAndDropImageComponent(n),this.dragAndDropImageComp.comp=n)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:r}=this;if(!t)return;const n=e.getGui();n.style.setProperty("position","absolute"),n.style.setProperty("z-index","9999"),pX(this.gos,n),r.applyThemeClasses(n),e.setIcon(null,!1);let{dragItemName:i}=t;typeof i=="function"&&(i=i()),e.setLabel(i||""),n.style.top="20px",n.style.left="20px";const o=WM(this.beans);this.dragAndDropImageParent=o,o?o.appendChild(n):be(54)}registerGridDropTarget(e,t){const r={getContainer:e,isInterestedIn:n=>n===1||n===0,getIconName:()=>"notAllowed"};this.addDropTarget(r),t.addDestroyFunc(()=>this.removeDropTarget(r))}},rke=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const r=t||this.shouldSkipVerticalScroll();if(r&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<n.left+i,this.tickRight=e.clientX>n.right-i,this.tickUp=e.clientY<n.top+i&&!r,this.tickDown=e.clientY>n.bottom-i&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};function nke(e){const{rowIndex:t,rowPinned:r,column:n}=e;return`${t}.${r??"null"}.${n.getId()}`}function uA(e,t){const r=e.column===t.column,n=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return r&&n&&i}function ike(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Te(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function oke(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function ake(e){let t=0,r;const{pinnedRowModel:n,rowModel:i,pageBounds:o}=e;return n!=null&&n.getPinnedTopRowCount()?r="top":i.getRowCount()?(r=null,t=o.getFirstRow()):n!=null&&n.getPinnedBottomRowCount()&&(r="bottom"),r===void 0?null:{rowIndex:t,rowPinned:r}}function ske(e){let t,r=null;const{pinnedRowModel:n,pageBounds:i}=e,o=n==null?void 0:n.getPinnedBottomRowCount(),a=n==null?void 0:n.getPinnedTopRowCount();return o?(r="bottom",t=o-1):e.rowModel.getRowCount()?(r=null,t=i.getLastRow()):a&&(r="top",t=a-1),t===void 0?null:{rowIndex:t,rowPinned:r}}function cA(e,t){var r,n;switch(t.rowPinned){case"top":return(r=e.pinnedRowModel)==null?void 0:r.getPinnedTopRow(t.rowIndex);case"bottom":return(n=e.pinnedRowModel)==null?void 0:n.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function mh(e,t){const r=e.rowRenderer.getRowByPosition(t);return r?r.getCellCtrl(t.column):null}var lke=class extends ce{constructor(e){super(),this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:r}=this.beans;vn(t)&&(this.clientSideRowModel=e),r.whenReady(this,n=>{const i=n.gridBodyCtrl;this.autoScrollService=new rke({scrollContainer:i.eBodyViewport,scrollAxis:"y",getVerticalPosition:()=>i.scrollFeature.getVScrollPosition().top,setVerticalPosition:o=>i.scrollFeature.setVerticalScrollPosition(o),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:r}=this.beans;return!!(((e==null?void 0:e.columns)??[]).length||(t==null?void 0:t.isAnyFilterPresent())||(r==null?void 0:r.isSortActive()))}getRowNodes(e){var n;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const i=[...((n=this.beans.selectionSvc)==null?void 0:n.getSelectedNodes())??[]].sort((o,a)=>o.rowIndex==null||a.rowIndex==null?0:this.getRowIndexNumber(o)-this.getRowIndexNumber(a));if(i.indexOf(t)!==-1)return i}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=bT(this.beans,e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const{dragAndDrop:r,gos:n}=this.beans,i=this.isFromThisGrid(e),o=n.get("rowDragManaged"),a=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(n.get("suppressMoveWhenRowDragging")||!i?r.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(a[0],t):this.moveRows(a,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(xt(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel,r=t.getLastHighlightedRowNode(),n=r&&r.highlighted==="Below",i=bT(this.beans,e).y,o=e.dragItem.rowNodes;let a=n?1:0;if(this.isFromThisGrid(e))o.forEach(s=>{s.rowTop<i&&(a-=1)}),this.moveRows(o,i,a);else{const s=tf(this.gos);let l=t.getRowIndexAtPixel(i)+1;t.getHighlightPosition(i)==="Above"&&l--,t.updateRowData({add:o.filter(u=>!t.getRowNode((s==null?void 0:s({data:u.data,level:0,rowPinned:u.rowPinned}))??u.data.id)).map(u=>u.data),addIndex:l})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,r=0){const n=this.beans.focusSvc,i=n.getFocusedCell(),o=i&&mh(this.beans,i);this.clientSideRowModel.ensureRowsAtPixel(e,t,r)&&(o?o.focusCell():n.clearFocusedCell())}addRowDropZone(e){if(!e.getContainer()){be(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){be(56);return}let r={getContainer:e.getContainer};e.fromGrid?r=e:(e.onDragEnter&&(r.onDragEnter=i=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",i))}),e.onDragLeave&&(r.onDragLeave=i=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",i))}),e.onDragging&&(r.onDragging=i=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",i))}),e.onDragStop&&(r.onDragStop=i=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",i))}),e.onDragCancel&&(r.onDragCancel=i=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",i))}));const n={isInterestedIn:i=>i===2,getIconName:()=>"move",external:!0,...r};t.addDropTarget(n),this.addDestroyFunc(()=>t.removeDropTarget(n))}getRowDropZone(e){const t=this.getContainer.bind(this),r=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),i=this.onDragging.bind(this),o=this.onDragStop.bind(this),a=this.onDragCancel.bind(this);let s;return e?s={getContainer:t,onDragEnter:e.onDragEnter?l=>{r(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:r,onDragLeave:e.onDragLeave?l=>{n(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:n,onDragging:e.onDragging?l=>{i(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:i,onDragStop:e.onDragStop?l=>{o(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:o,onDragCancel:e.onDragCancel?l=>{a(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:a,fromGrid:!0}:s={getContainer:t,onDragEnter:r,onDragLeave:n,onDragging:i,onDragStop:o,onDragCancel:a,fromGrid:!0},s}draggingToRowDragEvent(e,t){const r=this.beans,{pageBounds:n,rowModel:i,gos:o}=r,a=bT(r,t).y,s=a>n.getCurrentPageHeight();let l=-1,u;return s||(l=i.getRowIndexAtPixel(a),u=i.getRow(l)),o.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:u,y:a,vDirection:t.vDirection})}dispatchGridEvent(e,t){const r=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(r)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:r}=this.beans;r.get("rowDragManaged")&&(r.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:r}=this.beans;r.get("rowDragManaged")&&(r.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}};function vX(e,t,r){if(r===0)return!1;const n=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(n,i)<=r}var uke=class extends ce{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,r=e.mouseDownListener;if(t.removeEventListener("mousedown",r),e.touchEnabled){const n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,r=t.find(n=>n.dragSource===e);r&&(this.removeListener(r),Ho(t,r))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:r,includeTouch:n,stopPropagationForTouch:i}=e;r.addEventListener("mousedown",t);let o=null;const a=this.gos.get("suppressTouch");n&&!a&&(o=s=>{zM(s.target)||(i&&s.stopPropagation(),this.onTouchStart(e,s))},r.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:o,touchEnabled:!!n})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const r=t.touches[0];this.touchLastTime=r,this.touchStart=r;const n=l=>this.onTouchMove(l,e.eElement),i=l=>this.onTouchUp(l,e.eElement),o=l=>{l.cancelable&&l.preventDefault()},a=t.target,s=[{target:Hv(this.beans),type:"touchmove",listener:o,options:{passive:!1}},{target:a,type:"touchmove",listener:n,options:{passive:!0}},{target:a,type:"touchend",listener:i,options:{passive:!0}},{target:a,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(s),e.dragStartPixels===0&&this.onCommonMove(r,this.touchStart,e.eElement)}onMouseDown(e,t){const r=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||r._alreadyProcessedByDragService||(r._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const n=u=>this.onMouseMove(u,e.eElement),i=u=>this.onMouseUp(u,e.eElement),o=u=>u.preventDefault(),a=u=>{u.key===ue.ESCAPE&&this.cancelDrag(e.eElement)},s=Hv(this.beans),l=[{target:s,type:"mousemove",listener:n},{target:s,type:"mouseup",listener:i},{target:s,type:"contextmenu",listener:o},{target:s,type:"keydown",listener:a}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:r,type:n,listener:i,options:o}=t;r.addEventListener(n,i,o)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:r,type:n,listener:i,options:o}=t;r.removeEventListener(n,i,o)})})}isEventNearStartEvent(e,t){const{dragStartPixels:r}=this.currentDragParams,n=Te(r)?r:4;return vX(e,t,n)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,r){var n;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:r}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(n=this.currentDragParams)==null||n.onDragging(e)}onTouchMove(e,t){const r=this.getFirstActiveTouch(e.touches);r&&this.onCommonMove(r,this.touchStart,t)}onMouseMove(e,t){var r;Jc()&&((r=dr(this.beans).getSelection())==null||r.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,r=t.get("enableCellTextSelection"),n=e.type==="mousemove",i=o=>{const a=o.target,s=a==null?void 0:a.tagName.toLocaleLowerCase();return!!(s!=null&&s.match("^a$|textarea|input|select|button"))};return r&&n&&e.cancelable&&hb(t,e)&&!i(e)}onTouchUp(e,t){let r=this.getFirstActiveTouch(e.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,r;this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),(r=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||r.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function mX(e,t){return e+"_"+t}function tr(e){return e instanceof yX}var yX=class extends ce{constructor(e,t,r,n){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=r,this.pinned=n,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return mX(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{tr(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=xt(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){var t;let e=0;return(t=this.displayedChildren)==null||t.forEach(r=>{e+=r.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{ql(t)?e.push(t):tr(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{ql(t)?e.push(t):tr(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(r=>{if(tr(r)&&(!r.displayedChildren||!r.displayedChildren.length))return;switch(r.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(r);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(r);break;default:this.displayedChildren.push(r);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},dA="row-group-",CX="t-",wX="b-",cke=0,af=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=cke++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){var i,o,a;const r=this.data;this.data=e,(i=this.beans.valueCache)==null||i.onDataChanged(),this.updateDataOnDetailNode(),(o=this.beans.selectionSvc)==null||o.updateRowSelectable(this),this.resetQuickFilterAggregateText();const n=this.createDataChangedEvent(e,r,t);(a=this.__localEventService)==null||a.dispatchEvent(n)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,r){return{type:"dataChanged",node:this,oldData:t,newData:e,update:r}}getRowIndexString(){return this.rowIndex==null?(kt(13),null):this.rowPinned==="top"?CX+this.rowIndex:this.rowPinned==="bottom"?wX+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){var a,s;const{selectionSvc:r}=this.beans,n=(a=r==null?void 0:r.createDaemonNode)==null?void 0:a.call(r,this),i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),r&&(r.updateRowSelectable(this),r.syncInRowNode(this,n));const o=this.createDataChangedEvent(e,i,!1);(s=this.__localEventService)==null||s.dispatchEvent(o)}setId(e){var r;const t=tf(this.beans.gos);if(t)if(this.data){const n=((r=this.parent)==null?void 0:r.getRoute())??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(dA)&&kt(14,{groupPrefix:dA})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,r){var n;(n=this.beans.expansionSvc)==null||n.setExpanded(this,e,t,r)}setDataValue(e,t,r){const{colModel:n,valueSvc:i,gos:o,selectionSvc:a}=this.beans,s=typeof e!="string"?e:n.getCol(e)??n.getColDefCol(e);if(!s)return!1;const l=i.getValueForDisplay(s,this);if(o.get("readOnlyEdit")){const{beans:{eventSvc:c},data:d,rowIndex:h,rowPinned:f}=this;return c.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:h,rowPinned:f,column:s,colDef:s.colDef,data:d,node:this,oldValue:l,newValue:t,value:t,source:r}),!1}const u=i.setValue(this,s,t,r);return this.dispatchCellChangedEvent(s,t,l),a==null||a.updateRowSelectable(this),u}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,r){var i;const n={type:"cellChanged",node:this,column:e,newValue:t,oldValue:r};(i=this.__localEventService)==null||i.dispatchEvent(n)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){var e;return((e=this.beans.expansionSvc)==null?void 0:e.isExpandable(this))??!1}isSelected(){return this.footer?this.sibling.isSelected():this.__selected}depthFirstSearch(e){var t;(t=this.childrenAfterGroup)==null||t.forEach(r=>r.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){var t;(t=this.__localEventService)==null||t.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,r="api"){var n;(n=this.beans.selectionSvc)==null||n.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:r})}isRowPinned(){return!!this.rowPinned}addEventListener(e,t){var n,i,o,a;(n=this.beans.validation)==null||n.checkRowEvents(e),this.__localEventService||(this.__localEventService=new Ff),this.frameworkEventListenerService=(o=(i=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:o.call(i,this.frameworkEventListenerService,this.__localEventService);const r=((a=this.frameworkEventListenerService)==null?void 0:a.wrap(t))??t;this.__localEventService.addEventListener(e,r)}removeEventListener(e,t){var n;if(!this.__localEventService)return;const r=((n=this.frameworkEventListenerService)==null?void 0:n.unwrap(t))??t;this.__localEventService.removeEventListener(e,r),this.__localEventService.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(be(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};function dke(e,t,r){return t.addGridCommonParams({type:r,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var hke=class extends Xt{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??nr.resolve()}afterGuiAttached(e){var t,r;(r=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||r.then(n=>{var i;(i=n==null?void 0:n.afterGuiAttached)==null||i.call(n,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(r=>{var n;(n=r==null?void 0:r.afterGuiDetached)==null||n.call(r)})}createFilter(e){var n,i;const{column:t,source:r}=this;this.filterWrapper=((n=this.beans.filterManager)==null?void 0:n.getOrCreateFilterWrapper(t))??null,(i=this.filterWrapper)!=null&&i.filterPromise&&this.filterWrapper.filterPromise.then(o=>{const a=o.getGui();Te(a)||be(69,{guiFromFilter:a}),this.appendChild(a),e&&this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:r,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(Ri(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},bX="ag-resizer-wrapper",hl=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,fke=`<div class="${bX}">
        ${hl("eTopLeft","topLeft")}
        ${hl("eTop","top")}
        ${hl("eTopRight","topRight")}
        ${hl("eRight","right")}
        ${hl("eBottomRight","bottomRight")}
        ${hl("eBottom","bottom")}
        ${hl("eBottomLeft","bottomLeft")}
        ${hl("eLeft","left")}
    </div>`,pke=class extends ce{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,r=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(r,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:r,width:n,minHeight:i,height:o,x:a,y:s}=this.config;this.offsetParent||this.setOffsetParent();let l=0,u=0;const c=Ma(this.element);if(c){const d=this.findBoundaryElement(),h=window.getComputedStyle(d);if(h.minWidth!=null){const f=d.offsetWidth-this.element.offsetWidth;u=parseInt(h.minWidth,10)-f}if(h.minHeight!=null){const f=d.offsetHeight-this.element.offsetHeight;l=parseInt(h.minHeight,10)-f}}if(this.minHeight=i||l,this.minWidth=r||u,n&&this.setWidth(n),o&&this.setHeight(o),(!n||!o)&&this.refreshSize(),e)this.center();else if(a||s)this.offsetElement(a,s);else if(c&&t){let d=this.boundaryEl,h=!0;if(d||(d=this.findBoundaryElement(),h=!1),d){const f=parseFloat(d.style.top),g=parseFloat(d.style.left);h?this.offsetElement(isNaN(g)?0:g,isNaN(f)?0:f):this.setPosition(g,f)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){var n,i;if(!this.config.popup||e===this.movable)return;this.movable=e;const r=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?((n=this.dragSvc)==null||n.addDragSource(r),this.moveElementDragListener=r):((i=this.dragSvc)==null||i.removeDragSource(r),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{var a;const n=!!e[t],i=this.getResizerElement(t),o={dragStartPixels:0,eElement:i,onDragStart:s=>this.onResizeStart(s,t),onDragging:this.onResize.bind(this),onDragStop:s=>this.onResizeEnd(s,t)};(n||!this.isAlive()&&!n)&&(n?((a=this.dragSvc)==null||a.addDragSource(o),this.resizeListeners.push(o),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,r=this.element;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Kg(r,e),e=bK(r),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(n?(r.style.maxHeight="unset",r.style.minHeight="unset"):t?Kg(r,e):(r.style.height=`${e}px`,r.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:r}=this.offsetParent;if(!r)return null;const n=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:n.top,a=e?0:i.top;let s=0;if(t){const u=this.element.parentElement;if(u){const{bottom:c}=u.getBoundingClientRect();s=c-n.bottom}}return r+a-o-s}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:r}=this.config;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Ra(t,e),e=Z0(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,o=r?this.position.x:this.element.getBoundingClientRect().left;i&&e+o>i&&(e=i-o)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Ra(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){var i;const{forcePopupParentAsOffsetParent:r}=this.config,n=r?this.boundaryEl:this.element;n&&((i=this.popupSvc)==null||i.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){var r;if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?this.resizeObserverSubscriber=Os(this.beans,(r=this.popupSvc)==null?void 0:r.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:r,isTop:n,anywhereWithin:i,topBuffer:o}=e,a=t.clientX-this.dragStartPosition.x,s=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!r,!!i,a)?0:a,u=this.shouldSkipY(t,!!n,o,s)?0:s;return{movementX:l,movementY:u}}shouldSkipX(e,t,r,n){const i=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),s=this.config.popup?this.position.x:i.left;let l=s<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=a.right;return l?!0:(t?l=n<0&&e.clientX>s+o.left||n>0&&e.clientX<s+o.left:r?l=n<0&&e.clientX>a.right||n>0&&e.clientX<s+o.left:l=n<0&&e.clientX>a.right||n>0&&e.clientX<a.right,l)}shouldSkipY(e,t,r=0,n){const i=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),s=this.config.popup?this.position.y:i.top;let l=s<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=a.bottom;return l?!0:(t?l=n<0&&e.clientY>s+o.top+r||n>0&&e.clientY<s+o.top:l=n<0&&e.clientY>a.bottom||n>0&&e.clientY<a.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const r=new DOMParser().parseFromString(fke,"text/html").body;e.appendChild(r.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${bX}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:r,forcePopupParentAsOffsetParent:n}=this.config;!r&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(r=>!r.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,r=0;for(let n=0;n<e.length;n++){const i=e[n],o=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let a=this.minHeight||0,s=this.minWidth||0;if(o){const l=window.getComputedStyle(i);l.minHeight&&(a=parseInt(l.minHeight,10)),l.minWidth&&(s=parseInt(l.minWidth,10))}else a=i.offsetHeight,s=i.offsetWidth;t+=a,r+=s}return{height:t,width:r}}applySizeToSiblings(e){let t=null;const r=this.getSiblings();if(r){for(let n=0;n<r.length;n++){const i=r[n];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=r[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:r}=this.config,{isTop:n,isRight:i,isBottom:o,isLeft:a}=this.currentResizer,s=i||a,l=o||n,{movementX:u,movementY:c}=this.calculateMouseMovement({e,isLeft:a,isTop:n}),d=this.position.x,h=this.position.y;let f=0,g=0;if(s&&u){const m=a?-1:1,y=this.getWidth(),C=y+u*m;let w=!1;a&&(f=y-C,(d+f<=0||C<=this.minWidth)&&(w=!0,f=0)),w||this.setWidth(C)}if(l&&c){const m=n?-1:1,y=this.getHeight(),C=y+c*m;let w=!1;n?(g=y-C,(h+g<=0||C<=this.minHeight)&&(w=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&y<C&&this.getMinSizeOfSiblings().height+C>this.element.parentElement.offsetHeight&&(w=!0),w||this.setHeight(C)}this.updateDragStartPosition(e.clientX,e.clientY),((t||r)&&f||g)&&this.offsetElement(d+f,h+g)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:r}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:i,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+i,r+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){var e;for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();(e=this.dragSvc)==null||e.removeDragSource(t)}}destroy(){var e;super.destroy(),this.moveElementDragListener&&((e=this.dragSvc)==null||e.removeDragSource(this.moveElementDragListener)),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},gke="ag-focus-managed",Nf=class extends ce{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:r=>{if(r.defaultPrevented)return;const n=rd(this.beans,this.eFocusable,!1,r.shiftKey);n&&(n.focus(),r.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:r}}=this;e.classList.add(gke),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),r&&this.addManagedElementListeners(e,{focusout:r})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||ys(t))return;const{callbacks:r}=this;if(r.shouldStopEventPropagation(t)){rf(t);return}t.key===ue.TAB?r.onTabKeyDown(t):r.handleKeyDown&&r.handleKeyDown(t)}})}},SX={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function qM(e,t){const{debounceMs:r}=e;return fb(e)?(r!=null&&be(71),0):r??t}function fb(e){var t;return(((t=e.buttons)==null?void 0:t.indexOf("apply"))??-1)>=0}var vke=class extends Xt{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=Ye,this.buttonListeners=[],this.defaultDebounceMs=0}postConstruct(){this.resetTemplate(),this.createManagedBean(new Nf(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new pke(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const r=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(r,this.getAgComponents(),e),t=this.getGui(),t==null||t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.params.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.params=e,this.applyActive=fb(e),this.resetButtonsPanel(e)}updateParams(e){this.params=e,this.applyActive=fb(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:r,readOnly:n}=t??{},{buttons:i,readOnly:o}=e;if(n===o&&Gv(r,i))return;const a=i&&i.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Ri(this.eButtonsPanel),this.buttonListeners.forEach(u=>u()),this.buttonListeners=[]):a&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!a){this.eButtonsPanel&&Nc(this.eButtonsPanel);return}const s=document.createDocumentFragment(),l=u=>{let c;const d=u?this.translate(`${u}Filter`):void 0;switch(u){case"apply":c=g=>this.onBtApply(!1,!1,g);break;case"clear":c=()=>this.onBtClear();break;case"reset":c=()=>this.onBtReset();break;case"cancel":c=g=>{this.onBtCancel(g)};break;default:be(75);return}const f=Vv(`<button
                    type="${u==="apply"?"submit":"button"}"
                    data-ref="${u}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${d}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(f,{click:c})),s.append(f)};i.forEach(u=>l(u)),this.eButtonsPanel.append(s),this.getGui().appendChild(this.eButtonsPanel)}setupOnBtApplyDebounce(){const e=qM(this.params,this.defaultDebounceMs),t=Fn(this,this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel??null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.params.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const r=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(r):this.resetUiToDefaults().then(r)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const r=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(r,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,r){r&&r.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.params.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:n}=this.params;n&&this.applyActive&&!e&&!t&&this.close(r)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,r=t&&t.key;let n;(r==="Enter"||r==="Space")&&(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.params.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const r=this.isModelValid(this.getModelFromUi()),n=this.queryForHtmlElement('[data-ref="applyFilterButton"]');n&&zv(n,!r)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:r}=this;if(!t||e==="toolPanel")return;e==="floatingFilter"||e==="columnFilter"?(t.restoreLastSize(),t.setResizable(r.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){var e;this.checkApplyDebounce(),(e=this.positionableFeature)==null||e.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.params;return this.params=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.getLocaleTextFunc()(e,SX[e])}getCellValue(e){return this.params.getValue(e)}getPositionableElement(){return this.eFilterBody}};function mke(e,t,r){if(t==null)return null;let n=null;const{compName:i,jsComp:o,fwComp:a}=mMe(e,t);return i?n={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:o==null&&a==null&&t.filter===!0&&(n=r()),n}var Bw={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},ZM=class extends ce{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},r=t.autoHeight?Bw.AUTO_HEIGHT:t.print?Bw.PRINT:Bw.NORMAL;this.view.updateLayoutClasses(r,t)}},fl="Viewport",KW="fakeVScrollComp",XW=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],yke=class extends ce{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.scrollTimer=0,this.needsRefreshedScrollPosition=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Fn(this,()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=Fn(this,()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.requireUpdatedScrollPosition.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,t=>{this.centerRowsCtrl=t.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}requireUpdatedScrollPosition(){this.needsRefreshedScrollPosition=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,fl)});for(const e of XW){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),r=t?Fn(this,this.onVScroll.bind(this,fl),100):this.onVScroll.bind(this,fl),n=t?Fn(this,this.onVScroll.bind(this,KW),100):this.onVScroll.bind(this,KW);this.addManagedElementListeners(this.eBodyViewport,{scroll:r}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...XW,fl]){if(this.lastScrollSource[1]===t)continue;const r=this.getViewportForSource(t);eb(r,e,this.enableRtl)}}getViewportForSource(e){return e===fl?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:r}=t;if(this.shouldBlockScrollUpdate(1,r,!0))return;const n=J0(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===fl?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:r}=this;r==null||r.setScrollTop(t),this.nextScrollTop=t,e===fl?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,!r||this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():r.schedule(),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,t,r=!1){return r&&!wc()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=BM(this.eBodyViewport),{scrollHeight:r}=this.eBodyViewport;return e<0||e+t>r}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:r}=this.centerRowsCtrl.eViewport;if(this.enableRtl&&Q0()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>r}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(fl)}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&Q0()?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),eb(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.needsRefreshedScrollPosition){const{lastOffsetHeight:r,lastScrollTop:n}=this;return{top:n,bottom:n+r}}this.needsRefreshedScrollPosition=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:r}=this.beans,n=r.getRowCount();let i=-1;for(let o=0;o<n;o++){const a=r.getRow(o);if(typeof e=="function"){if(a&&e(a)){i=o;break}}else if(e===a||e===a.data){i=o;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t){if(Xr(this.gos,"print"))return;const{rowModel:r}=this.beans,n=r.getRowCount();if(typeof e!="number"||e<0||e>=n){be(88,{index:e});return}const o=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel"),{frameworkOverrides:a,pagination:s,pageBounds:l,rowContainerHeight:u,rowRenderer:c}=this.beans;a.wrapIncoming(()=>{var y;o||s==null||s.goToPageWithIndex(e);const d=this.ctrlsSvc.getGridBodyCtrl(),h=d.stickyTopHeight,f=d.stickyBottomHeight,g=r.getRow(e);let m;do{const C=g.rowTop,w=g.rowHeight,S=l.getPixelOffset(),x=g.rowTop-S,R=x+g.rowHeight,T=this.getVScrollPosition(),P=u.divStretchOffset,D=T.top+P,I=T.bottom+P,E=I-D,k=u.getScrollPositionForPixel(x),L=u.getScrollPositionForPixel(R-E),N=Math.min((k+L)/2,x),B=D+h>x,V=I-f<R;let W=null;t==="top"?W=k:t==="bottom"?W=L:t==="middle"?W=N:B?W=k-h:V&&(W=L+f),W!==null&&(this.setVerticalScrollPosition(W),c.redraw({afterScroll:!0})),m=C!==g.rowTop||w!==g.rowHeight}while(m);(y=this.animationFrameSvc)==null||y.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const{colModel:r,frameworkOverrides:n}=this.beans,i=r.getCol(e);if(!i||i.isPinned()||!this.visibleCols.isColDisplayed(i))return;const o=this.getPositionedHorizontalScroll(i,t);n.wrapIncoming(()=>{var a;o!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.centerRowsCtrl.onHorizontalViewportChanged(),(a=this.animationFrameSvc)==null||a.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:r,columnAfterEnd:n}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),a=this.enableRtl;let s=(a?r:n)||i,l=a?n:r;t!=="auto"&&(s=t==="start",l=t==="end");const u=t==="middle";if(s||l||u){const{colLeft:c,colMiddle:d,colRight:h}=this.getColumnBounds(e);return u?d-o/2:s?a?h:c:a?c-o:h-o}return null}isColumnOutsideViewport(e){const{start:t,end:r}=this.getViewportBounds(),{colLeft:n,colRight:i}=this.getColumnBounds(e),o=this.enableRtl,a=o?t>i:r<i,s=o?r<n:t>n;return{columnBeforeStart:a,columnAfterEnd:s}}getColumnBounds(e){const t=this.enableRtl,r=this.visibleCols.bodyWidth,n=e.getActualWidth(),i=e.getLeft(),o=t?-1:1,a=t?r-i:i,s=a+n*o,l=a+n/2*o;return{colLeft:a,colMiddle:l,colRight:s}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),r=t,n=e+t;return{start:r,end:n,width:e}}},QM=class extends ce{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Xr(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:r}=this.beans,n=t.bodyWidth,i=t.getColsLeftWidth(),o=t.getDisplayedColumnsRightWidth();let a;e?a=n+i+o:(a=n,this.addSpacer&&(this.gos.get("enableRtl")?i:o)===0&&r.verticalScrollShowing&&(a+=r.getScrollbarWidth())),this.callback(a)}},Cke=class extends ce{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:r}=this,n=()=>{ru(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(n),r.registerBodyViewportResizeListener(n)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e==null||e.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const r=this.centerContainerCtrl.getCenterWidth();r!==this.centerWidth&&(this.centerWidth=r,t==null||t.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=BM(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function JM(e,t,r,n,i,o){if(r==null&&t==null)return;const a={},s={},l=(u,c)=>{u.split(" ").forEach(d=>{d.trim()!=""&&c(d)})};if(r){const u=Object.keys(r);for(let c=0;c<u.length;c++){const d=u[c],h=r[d];let f;typeof h=="string"?f=e?e.evaluate(h,n):!0:typeof h=="function"&&(f=h(n)),l(d,g=>{f?a[g]=!0:s[g]=!0})}}t&&o&&Object.keys(t).forEach(u=>l(u,c=>{a[c]||(s[c]=!0)})),o&&Object.keys(s).forEach(o),Object.keys(a).forEach(i)}function qW(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var wke=class extends ce{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const r=this.gos,n=a=>{typeof a=="string"?e.push(a):Array.isArray(a)&&a.forEach(s=>e.push(s))},i=r.get("rowClass");i&&n(i);const o=r.getCallback("getRowClass");if(o){const a={data:t.data,node:t,rowIndex:t.rowIndex},s=o(a);n(s)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,r=>{e.push(r)},()=>{})}processRowClassRules(e,t,r){const{gos:n,expressionSvc:i}=this.beans,o=n.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});JM(i,void 0,n.get("rowClassRules"),o,t,r)}processStylesFromGridOptions(e){const t=this.gos,r=t.get("rowStyle"),n=t.getCallback("getRowStyle");let i;if(n){const o={data:e.data,node:e,rowIndex:e.rowIndex};i=n(o)}if(i||r)return Object.assign({},r,i)}},bke=0,Yv="renderedRow",hA=class extends ce{constructor(e,t,r,n,i){var o;super(),this.rowNode=e,this.useAnimationFrameForCreate=n,this.printLayout=i,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=((o=t.pagination)==null?void 0:o.getCurrentPage())??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+bke++,this.rowId=Ta(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=qW(this.rowNode),this.setRowType(),this.setAnimateFlags(r),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=Ta(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,r,n){n=_m(this,this.beans.context,n);const i={rowComp:e,element:t,containerType:r,compBean:n};this.allRowGuis.push(i),this.updateGui(r,i),this.initialiseRowComp(i),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(r=>r.element.style.display=t)}initialiseRowComp(e){var i;const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),(i=this.beans.rowAutoHeight)==null||i.checkAutoHeights(this.rowNode),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Sc(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const r=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(o=>r.addOrRemoveCssClass(o,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&XD(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(r),this.setRowCompRowBusinessKey(r),Vc(t,e.element,Yv,this),e.compBean.addDestroyFunc(()=>Vc(t,e.element,Yv,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=Ta(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(zW(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(zW(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){var n;const t=(n=this.beans.rowDragSvc)==null?void 0:n.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const r=this.createBean(t,this.beans.context);this.rowDragComps.push(r),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==r),this.destroyBean(r,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),r=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(r)}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(r=>{var n;return(n=r==null?void 0:r.rowComp)==null?void 0:n.getFullWidthCellRenderer()}):[(t=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:t.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:r,beans:{visibleCols:n}}=this,i=!!e||!n.isPinningLeft(),o=!!t,a=!!r||!n.isPinningRight();return i&&o&&a}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),r=this.gos.get("masterDetail")&&this.rowNode.detail,n=this.beans.colModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&$M(this.gos,n);e?this.rowType="FullWidthLoading":r?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:r}=this.beans;if(!r||e||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(r.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(e,t,r=null){const n={list:[],map:{}},i=(o,a)=>{n.list.push(a),n.map[o]=a};return t.forEach(o=>{const a=o.getInstanceId();let s=e.map[a];s||(s=new zw(o,this.rowNode,this.beans,this)),i(a,s)}),e.list.forEach(o=>{const a=o.column.getInstanceId();if(n.map[a]!=null)return;if(!this.isCellEligibleToBeRemoved(o,r)){i(a,o);return}o.destroy()}),n}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const r=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(r,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const r=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r);const n=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");const i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){const{column:i}=e;if(i.getPinned()!=t)return!0;const{editing:o,cellPosition:a}=e,{focusSvc:s,visibleCols:l}=this.beans,u=s.isCellFocused(a);return o||u?!(l.allCols.indexOf(i)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Xr(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=Te(this.rowNode.oldRowTop),{visibleCols:r}=this.beans,n=r.isPinningLeft(),i=r.isPinningRight();if(t){const{slideInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=n,o.right=i}else{const{fadeInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=n,o.right=i}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(a,s)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,s).params):!0,t=e(this.fullWidthGui,null),r=e(this.centerGui,null),n=e(this.leftGui,"left"),i=e(this.rightGui,"right");return t&&r&&n&&i}addListeners(){var e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...((e=this.beans.expansionSvc)==null?void 0:e.getRowExpandedListeners(this))??{}}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(r=>{this.addRowDraggerToRow(r)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(r=>r.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(r=>{this.setRowCompRowId(r.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(r.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{const r=e==="Above",n=e==="Below";t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",n)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}onDisplayedColumnsChanged(){var e;this.updateColumnLists(!0),(e=this.beans.rowAutoHeight)==null||e.checkAutoHeights(this.rowNode)}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:ms(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}onKeyboardNavigate(e){const t=this.findFullWidthRowGui(e.target);if(!((t?t.element:null)===e.target))return;const i=this.rowNode,{focusSvc:o,navigation:a}=this.beans,s=o.getFocusedCell(),l={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:(s==null?void 0:s.column)??this.getColumnForFullWidth(t)};a==null||a.navigateToNextCell(e,e.key,l,!0),e.preventDefault()}onTabKeyDown(e){var s;if(e.defaultPrevented||ys(e))return;const t=this.allRowGuis.find(l=>l.element.contains(e.target)),r=t?t.element:null,n=r===e.target,i=or(this.beans);let o=!1;r&&i&&(o=r.contains(i)&&i.classList.contains("ag-cell"));let a=null;!n&&!o&&(a=rd(this.beans,r,!1,e.shiftKey)),(this.isFullWidth()&&n||!a)&&((s=this.beans.navigation)==null||s.onTabKeyDown(this,e))}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var t;const e=(t=this.allRowGuis.find(r=>Ma(r.element)))==null?void 0:t.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(r=>{to(r.element,"tabindex",t)})}onFullWidthRowFocused(e){var i;const t=this.rowNode,r=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1,n=this.fullWidthGui?this.fullWidthGui.element:(i=this.centerGui)==null?void 0:i.element;n&&(n.classList.toggle("ag-full-width-focus",r),r&&(e!=null&&e.forceBrowserFocus)&&n.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const r={list:[],map:{}};return e.list.forEach(n=>{n!==t&&(r.list.push(n),r.map[n.column.getInstanceId()]=n)}),r}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:r}=this;return this.gos.addGridCommonParams({type:e,node:r,data:r.data,rowIndex:r.rowIndex,rowPinned:r.rowPinned,event:t})}createRowEventWithSource(e,t){const r=this.createRowEvent(e,t);return r.source=this,r}onRowDblClick(e){ys(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e==null?void 0:e.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=bc(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:r,focusSvc:n}=this.beans;r==null||r.removeAllCellRanges();const i=this.findFullWidthRowGui(e.target),o=i==null?void 0:i.element,a=e.target;let s=!0;o&&o.contains(a)&&zM(a)&&(s=!1),n.setFocusedCell({rowIndex:t.rowIndex,column:this.getColumnForFullWidth(i),rowPinned:t.rowPinned,forceBrowserFocus:s})}onRowClick(e){if(ys(e)||this.lastMouseDownOnDragger)return;const{eventSvc:r,selectionSvc:n}=this.beans;r.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),n==null||n.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){var t;this.rowType==="FullWidthDetail"&&((t=this.beans.masterDetailSvc)==null||t.setupDetailRowAutoHeight(this,e))}createFullWidthCompDetails(e,t){const{gos:r,rowNode:n}=this,i=r.addGridCommonParams({fullWidth:!0,data:n.data,node:n,value:n.key,valueFormatted:n.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(a,s,l,u)=>this.addFullWidthRowDragging(a,s,l,u),setTooltip:(a,s)=>{r.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(a,s)}}),o=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return lMe(o,i);case"FullWidthGroup":return sMe(o,i);case"FullWidthLoading":return aMe(o,i);default:return oMe(o,i)}}refreshRowTooltip(e,t){var r;this.fullWidthGui&&(this.tooltipFeature=(r=this.beans.tooltipSvc)==null?void 0:r.refreshRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,r="",n){const{rowDragSvc:i,context:o}=this.beans;if(!i||!this.isFullWidth())return;const a=i.createRowDragComp(()=>r,this.rowNode,void 0,e,t,n);this.createBean(a,o),this.addDestroyFunc(()=>{this.destroyBean(a,o)})}onUiLevelChanged(){const e=qW(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,r="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass(t,!0),n.rowComp.addOrRemoveCssClass(r,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){var t;const e=[];(t=this.beans.rowStyleSvc)==null||t.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(r=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(r,!0))})}postProcessRowClassRules(){var e;(e=this.beans.rowStyleSvc)==null||e.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,r=>r.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){var s;const t=this.getPinnedForContainer(e),r=this.isFullWidth(),{rowNode:n,beans:i}=this,o=[];o.push("ag-row"),o.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&o.push("ag-opacity-zero"),o.push(n.rowIndex%2===0?"ag-row-even":"ag-row-odd"),n.isRowPinned()&&o.push("ag-row-pinned"),n.isSelected()&&o.push("ag-row-selected"),n.footer&&o.push("ag-row-footer"),o.push("ag-row-level-"+this.rowLevel),n.stub&&o.push("ag-row-loading"),r&&o.push("ag-full-width-row"),(s=i.expansionSvc)==null||s.addExpandedCss(o,n),n.dragging&&o.push("ag-row-dragging");const{rowStyleSvc:a}=i;return a&&(a.processClassesFromGridOptions(o,n),a.preProcessRowClassRules(o,n)),o.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&o.push("ag-row-first"),this.isLastRowOnPage()&&o.push("ag-row-last"),r&&(t==="left"&&o.push("ag-cell-last-left-pinned"),t==="right"&&o.push("ag-cell-first-right-pinned")),o}processStylesFromGridOptions(){var e;return((e=this.beans.rowStyleSvc)==null?void 0:e.processStylesFromGridOptions(this.rowNode))??this.emptyStyle}onRowSelected(e){var t;(t=this.beans.selectionSvc)==null||t.onRowCtrlSelected(this,r=>{(r===this.centerGui||r===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){var e;(e=this.beans.selectionSvc)==null||e.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:r}=e,{rowNode:n,beans:i,gos:o}=this;r.addManagedListeners(t,{mouseenter:()=>n.dispatchRowEvent("mouseEnter"),mouseleave:()=>n.dispatchRowEvent("mouseLeave")}),r.addManagedListeners(n,{mouseEnter:()=>{var a;!((a=i.dragSvc)!=null&&a.dragging)&&!o.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),n.setHovered(!0))},mouseLeave:()=>{t.classList.remove("ag-row-hover"),n.setHovered(!1)}})}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),r=this.applyPaginationOffset(t.top,!0)-100,n=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(r,e),n)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,r=this.beans.environment.getDefaultRowHeight(),i=EK(this.gos)?Bc(this.beans,this.rowNode).height:void 0,o=i?`${Math.min(r,i)-2}px`:void 0;this.forEachGui(e,a=>{a.element.style.height=`${t}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&kh(this.gos)&&!t.sticky)if(t.rowTop!=null){const i=this.roundRowTopToBounds(t.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));t.setHovered(!1);const r=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(r),this.beans.eventSvc.dispatchEvent(r),super.destroy()}destroySecondPass(){var t;this.allRowGuis.length=0,(t=this.beans.editSvc)==null||t.stopRowEditing(this);const e=r=>(r.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e,editSvc:t}=this.beans,r=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);r!==this.rowFocused&&(this.rowFocused=r,this.setFocusedClasses()),!r&&this.editing&&(t==null||t.stopRowEditing(this,!1))}onPaginationChanged(){var t;const e=((t=this.beans.pagination)==null?void 0:t.getCurrentPage())??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const r=this.beans.pageBounds.getPixelOffset();return e+r*(t?1:-1)}setRowTop(e){if(!this.printLayout&&Te(e)){const t=this.applyPaginationOffset(e),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(i)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let r;if(t.sticky)r=t.stickyRowTop;else{const n=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(n);r=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return r+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let r=null;return this.getAllCellCtrls().forEach(n=>{n.column==e&&(r=n)}),r!=null||t||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(e)>=0&&(r=n)}),r}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){var o,a;const t=this.rowNode.getRowIndexString();if(t===null)return;const r=(((o=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:o.getRowCount())??0)+(((a=this.beans.filterManager)==null?void 0:a.getHeaderRowCount())??0),n=this.rowNode.rowIndex%2===0,i=r+this.rowNode.rowIndex+1;this.forEachGui(e,s=>{s.rowComp.setRowIndex(t),s.rowComp.addOrRemoveCssClass("ag-row-even",n),s.rowComp.addOrRemoveCssClass("ag-row-odd",!n),wIe(s.element,i)})}};function xX(e){var r;return e.altKey||e.ctrlKey||e.metaKey?!1:((r=e.key)==null?void 0:r.length)===1}function fA(e,t,r,n,i){const o=n?n.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;const a=e.addGridCommonParams({event:t,editing:i,column:n,node:r,data:r.data,colDef:n.getColDef()});return!!(o&&o(a))}var Ske=65,xke=67,Rke=86,_ke=68,Tke=90,Pke=89;function Dke(e){const{keyCode:t}=e;let r;switch(t){case Ske:r=ue.A;break;case xke:r=ue.C;break;case Rke:r=ue.V;break;case _ke:r=ue.D;break;case Tke:r=ue.Z;break;case Pke:r=ue.Y;break;default:r=e.code}return r}var Ake=class extends ce{constructor(e){super(),this.element=e}postConstruct(){var e;this.addKeyboardListeners(),this.addMouseListeners(),(e=this.beans.touchSvc)==null||e.mockRowContextMenu(this)}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",BK("touchstart")?"touchstart":"mousedown"].forEach(r=>{const n=this.processMouseEvent.bind(this,r);this.addManagedElementListeners(this.element,{[r]:n})})}processMouseEvent(e,t){var i;if(!hb(this.gos,t)||ys(t))return;const{cellCtrl:r,rowCtrl:n}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(r!=null&&r.column&&r.dispatchCellContextMenuEvent(t),(i=this.beans.contextMenuSvc)==null||i.handleContextMenuMouseEvent(t,void 0,n,r)):(r&&r.onMouseEvent(e,t),n&&n.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:hX(t,e),rowCtrl:VK(t,e,Yv)}}processKeyboardEvent(e,t){const{cellCtrl:r,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(r?this.processCellKeyboardEvent(r,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,r){var s;const{rowNode:n,column:i,editing:o}=e;!fA(this.gos,r,n,i,o)&&t==="keydown"&&(!o&&((s=this.beans.navigation)!=null&&s.handlePageScrollingKey(r))||e.onKeyDown(r),this.doGridOperations(r,e.editing),xX(r)&&e.processCharacter(r)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(r,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,r){const{rowNode:n}=e,{focusSvc:i,navigation:o}=this.beans,a=i.getFocusedCell(),s=a&&a.column;if(!fA(this.gos,r,n,s,!1)){const u=r.key;if(t==="keydown")switch(u){case ue.PAGE_HOME:case ue.PAGE_END:case ue.PAGE_UP:case ue.PAGE_DOWN:o==null||o.handlePageScrollingKey(r,!0);break;case ue.UP:case ue.DOWN:e.onKeyboardNavigate(r);break;case ue.TAB:e.onTabKeyDown(r);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",r))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!hb(this.gos,e))return;const r=Dke(e),{clipboardSvc:n,undoRedo:i}=this.beans;if(r===ue.A)return this.onCtrlAndA(e);if(r===ue.C)return this.onCtrlAndC(n,e);if(r===ue.D)return this.onCtrlAndD(n,e);if(r===ue.V)return this.onCtrlAndV(n,e);if(r===ue.X)return this.onCtrlAndX(n,e);if(r===ue.Y)return this.onCtrlAndY(i);if(r===ue.Z)return this.onCtrlAndZ(i,e)}onCtrlAndA(e){const{beans:{pinnedRowModel:t,rowModel:r,visibleCols:n,rangeSvc:i,selectionSvc:o},gos:a}=this;if(i&&Xl(a)&&r.isRowsToRender()){const[s,l]=[(t==null?void 0:t.isEmpty("top"))??!0,(t==null?void 0:t.isEmpty("bottom"))??!0],u=s?null:"top";let c,d;l?(c=null,d=r.getRowCount()-1):(c="bottom",d=(t==null?void 0:t.getPinnedBottomRowCount())??-1);const h=n.allCols;if(!(h!=null&&h.length))return;i.setCellRange({rowStartIndex:0,rowStartPinned:u,rowEndIndex:d,rowEndPinned:c,columnStart:h[0],columnEnd:xt(h)})}else o&&(o==null||o.selectAllRowNodes({source:"keyboardSelectAll",selectAll:OK(a)}));e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:r,rowCtrl:n}=this.getControlsForEventTarget(t.target);r!=null&&r.editing||n!=null&&n.editing||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:r,rowCtrl:n}=this.getControlsForEventTarget(t.target);r!=null&&r.editing||n!=null&&n.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:r,rowCtrl:n}=this.getControlsForEventTarget(t.target);r!=null&&r.editing||n!=null&&n.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e==null||e.redo("ui")}},RX=class extends ce{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,r=t!=null?`${t}px`:"";this.eContainer.style.height=r,this.eViewport&&(this.eViewport.style.height=r)}},ZC=e=>e.topRowCtrls,QC=e=>e.getStickyTopRowCtrls(),JC=e=>e.getStickyBottomRowCtrls(),ew=e=>e.bottomRowCtrls,tw=e=>e.allRowCtrls,Ike={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:tw},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:tw},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:tw},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:tw},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:ZC},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:ZC},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:ZC},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:ZC},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:QC},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:QC},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:QC},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:QC},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:JC},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:JC},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:JC},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:JC},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:ew},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:ew},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:ew},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:ew}};function yh(e){return Ike[e]}var Eke=["topCenter","topLeft","topRight"],Mke=["bottomCenter","bottomLeft","bottomRight"],kke=["center","left","right"],Fke=["center","left","right","fullWidth"],Lke=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],Oke=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],Nke=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],_X=["stickyTopCenter","stickyTopLeft","stickyTopRight"],TX=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],zke=[..._X,"stickyTopFullWidth",...TX,"stickyBottomFullWidth"],Bke=[...Eke,...Mke,...kke,..._X,...TX],Vke=class extends ce{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=yh(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new Cke(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,r){this.comp=e,this.eContainer=t,this.eViewport=r,this.createManagedBean(new Ake(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:n,rangeSvc:i}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(Oke,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(n==null?void 0:n.createPinnedWidthFeature(this.eContainer,!0)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(Nke,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(n==null?void 0:n.createPinnedWidthFeature(this.eContainer,!1)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(Fke,()=>this.createManagedBean(new RX(this.eContainer,this.name==="center"?r:void 0))),i&&this.forContainers(Bke,()=>this.createManagedBean(i.createDragListenerFeature(this.eContainer))),this.forContainers(Lke,()=>this.createManagedBean(new QM(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(zke.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const r=this.gos.get("ensureDomOrder"),n=Xr(this.gos,"print");this.comp.setDomOrder(r||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=r=>{e.dragging&&r.cancelable&&r.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,r,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Bv(this.eViewport)}getCenterViewportScrollLeft(){return J0(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=Os(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return xK(this.eViewport)}getViewportScrollLeft(){return J0(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||IIe(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){eb(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const r=Xr(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||r,o=t.filter(a=>{const s=a.isFullWidth();return this.options.fullWidth?!i&&s:i||!s});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:e})}},Gke="ag-force-vertical-scroll",Hke="ag-selectable",Wke="ag-column-moving",$ke=class extends ce{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,r,n,i,o,a){var s,l;this.comp=e,this.eGridBody=t,this.eBodyViewport=r,this.eTop=n,this.eBottom=i,this.eStickyTop=o,this.eStickyBottom=a,this.eCenterColsViewport=r.querySelector(`.${yh("center").viewport}`),this.eFullWidthContainer=r.querySelector(`.${yh("fullWidth").container}`),this.eStickyTopFullWidthContainer=o.querySelector(`.${yh("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=a.querySelector(`.${yh("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",u=>this.setCellTextSelection(u.currentValue)),this.createManagedBean(new ZM(this.comp)),this.scrollFeature=this.createManagedBean(new yke(this.eBodyViewport)),(s=this.beans.rowDragSvc)==null||s.setupRowDrag(this.eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,r,i,o,a]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(l=this.filterManager)==null||l.setupAdvFilterHeaderComp(n),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t}),this.addManagedPropertyListener("treeData",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const r=t&&e.getScrollbarWidth()||0,n=CK()?16:0,i=`calc(100% + ${r+n}px)`;ru(this.beans,()=>this.comp.setBodyViewportWidth(i)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let r=this.gos.get("treeData");if(!r){const n=t.isPivotMode();r=(e?e.columns.length:0)>=(n?2:1)}this.comp.setGridRootRole(r?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:r=>{const{target:n}=r,i=bc(n,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:r=>{const{target:n,relatedTarget:i}=r,o=t.contains(i),a=bc(i,"ag-root",t);bc(n,"ag-root",t)||(!o||a)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(Wke,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(Hke,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){var e;(e=this.beans.editSvc)==null||e.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){var i,o;const e=(((i=this.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:i.getRowCount())??0)+(((o=this.filterManager)==null?void 0:o.getHeaderRowCount())??0),{rowModel:t}=this.beans,r=t.isLastRowIndexKnown()?t.getRowCount():-1,n=r===-1?-1:e+r;this.comp.setRowCount(n)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?Gke:null,r=Xr(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||r&&EIe(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let r=t.sizesMeasured;const n=()=>{const i=r&&kh(this.gos)&&!e.stretching,o=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(o,i)};n(),this.addManagedEventListeners({heightScaleChanged:n}),this.addManagedPropertyListener("animateRows",n),this.addManagedEventListeners({gridStylesChanged:()=>{!r&&t.sizesMeasured&&(r=!0,n())}})}addBodyViewportListener(){const{popupSvc:e,touchSvc:t}=this.beans,r=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:r}),t==null||t.mockBodyContextMenu(this,r),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,e)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:r,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(r))&&hb(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:r,shiftKey:n}=e,i=n||Math.abs(t)>Math.abs(r),o=e.target;i?(this.eStickyTopFullWidthContainer.contains(o)||this.eStickyBottomFullWidthContainer.contains(o))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(r))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:r}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||r})}onBodyViewportContextMenu(e,t,r){var i;if(!e&&!r)return;this.gos.get("preventDefaultOnContextMenu")&&(e||r).preventDefault();const{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsSvc.get("center").eViewport)&&((i=this.beans.contextMenuSvc)==null||i.showContextMenu({mouseEvent:e,touchEvent:r,value:null,anchorToElement:this.eGridBody}))}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e!=null&&e.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e}=this,t=(e==null?void 0:e.getPinnedTopTotalHeight())??0,r=(e==null?void 0:e.getPinnedBottomTotalHeight())??0;this.comp.setTopHeight(t),this.comp.setBottomHeight(r),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(r?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){var i,o;const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(((i=this.filterManager)==null?void 0:i.getHeaderHeight())??0),r=((o=this.pinnedRowModel)==null?void 0:o.getPinnedTopTotalHeight())??0;let n=0;t>0&&(n+=t),r>0&&(n+=r),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:r}=this,n=(e==null?void 0:e.getPinnedBottomTotalHeight())??0,o=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,a=n+o;r.setStickyBottomBottom(`${a}px`)}},PX=class extends Xt{constructor(e,t){super(),this.direction=t,this.eViewport=Ye,this.eContainer=Ye,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",mK()||wc())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=CK(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),r=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:r,touchend:r})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),ru(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;LIe(()=>Ma(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},Uke=class extends PX{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=Ye,this.eRightSpacer=Ye,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new QM(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){var t;if(!this.invisibleScrollbar)return;const e=((t=this.beans.pinnedRowModel)==null?void 0:t.getPinnedBottomTotalHeight())??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const r=!this.enableRtl&&e,n=this.scrollVisibleSvc.getScrollbarWidth();r&&(t+=n),Ra(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=n),Ra(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=n)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,r=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,o=r?0:n===0&&t?16:n,a=()=>{this.setScrollVisibleDebounce=0,this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Kg(this.getGui(),o),Kg(this.eViewport,o),Kg(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(a,100):a()}getScrollPosition(){return J0(this.eViewport,this.enableRtl)}setScrollPosition(e){Ma(this.eViewport)||this.attemptSettingScrollPosition(e),eb(this.eViewport,e,this.enableRtl)}},jke=class extends PX{constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new RX(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,r=this.invisibleScrollbar,n=t&&e.getScrollbarWidth()||0,i=n===0&&r?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",r),Ra(this.getGui(),i),Ra(this.eViewport,i),Ra(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const r=e.getGridBodyCtrl().eBodyViewport,n=this.getScrollPosition(),i=r.scrollTop;n!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Ma(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function Yke(e){return e.cols?e.cols.treeDepth+1:-1}function ps(e){var t;return((t=e.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:t.getRowCount())??0}function ek(e){const t=[],r=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const n of r){if(!n)continue;const i=n.getGroupRowCount()||0;for(let o=0;o<i;o++){const a=n.getGroupRowCtrlAtIndex(o),s=t[o];if(a){const l=Kke(e,a);(s==null||l>s)&&(t[o]=l)}}}return t}function Kke(e,t){const r=e.colModel.isPivotMode()?qke(e):AX(e);let n=0;const i=t.getHeaderCtrls();for(const o of i){const{column:a}=o;if(a.isAutoHeaderHeight()){const s=a.getAutoHeaderHeight();s!=null&&s>n&&(n=s)}}return Math.max(r,n)}function tk(e){const t=e.colModel.isPivotMode()?Xke(e):Pm(e),n=e.visibleCols.allCols.filter(i=>i.isAutoHeaderHeight()).map(i=>i.getAutoHeaderHeight()||0);return Math.max(t,...n)}function Pm(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function DX(e){return e.gos.get("floatingFiltersHeight")??Pm(e)}function AX(e){return e.gos.get("groupHeaderHeight")??Pm(e)}function Xke(e){return e.gos.get("pivotHeaderHeight")??Pm(e)}function qke(e){return e.gos.get("pivotGroupHeaderHeight")??AX(e)}var Zke=class extends ce{setComp(e,t,r){this.comp=e,this.eGui=t;const{beans:n}=this,{headerNavigation:i,touchSvc:o,ctrlsSvc:a}=n;i&&this.createManagedBean(new Nf(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,n),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,n)}),this.onPivotModeChanged(n),this.setupHeaderHeight();const s=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:s}),o==null||o.mockHeaderContextMenu(this,s),a.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>ru(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){var o;const{beans:e}=this;let t=0;const r=ek(e).reduce((a,s)=>a+s,0),n=tk(e);if((o=e.filterManager)!=null&&o.hasFloatingFilters()&&(t+=DX(e)),t+=r,t+=n,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const r=e.visibleCols.allCols.some(n=>n.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",r)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),r=e.shiftKey,n=r!==t?"LEFT":"RIGHT",{beans:i}=this,{headerNavigation:o,focusSvc:a}=i;(o.navigateHorizontally(n,!0,e)||!r&&a.focusOverlay(!1)||of(i,r,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:r}=this.beans;switch(e.key){case ue.LEFT:t="LEFT";case ue.RIGHT:{Te(t)||(t="RIGHT"),r.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case ue.UP:t="UP";case ue.DOWN:{Te(t)||(t="DOWN"),r.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:r,beans:n}=this;!t&&r.contains(or(n))||r.contains(t)||(n.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,r){var a;const{menuSvc:n,ctrlsSvc:i}=this.beans;if(!e&&!r||!(n!=null&&n.isHeaderContextMenuEnabled()))return;const{target:o}=e??t;(o===this.eGui||o===((a=i.getHeaderRowContainerCtrl())==null?void 0:a.eViewport))&&n.showHeaderContextMenu(void 0,e,r)}},rk=class extends ce{constructor(e,t,r,n){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=n,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=r}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?xt(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,r=e.get("suppressColumnMoveAnimation"),n=Te(this.columnOrGroup.getOldLeft());(t==null?void 0:t.isActive())&&n&&!r?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),r=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=r,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:r,visibleCols:n}=this.beans;if(!Xr(r,"print")||e.getPinned()==="left")return t;const o=n.getColsLeftWidth();if(e.getPinned()==="right"){const a=n.bodyWidth;return o+a+t}return o+t}setLeft(e){if(Te(e)&&(this.eCell.style.left=`${e}px`),tr(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&SIe(this.ariaEl,t.length)}}},Qke=0,IX="headerCtrl",nk=class extends ce{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+Qke++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:r}=this.beans.focusSvc.focusedHeader,n=r.getDefinition(),i=n&&n.suppressHeaderKeyboardEvent;if(!Te(i))return!1;const o=this.gos.addGridCommonParams({colDef:n,column:r,headerRowIndex:t,event:e});return!!i(o)}getWrapperHasFocus(){return or(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:r,compBean:n}=e,{beans:i}=this,o=d=>{if(!this.isAlive()||!n.isAlive())return;const{paddingTop:h,paddingBottom:f,borderBottomWidth:g,borderTopWidth:m}=ed(this.eGui),y=h+f+g+m,w=t.offsetHeight+y;if(d<5){const S=dr(i),x=!S||!S.contains(t),R=w==0;if(x||R){ru(i,()=>o(d+1));return}}this.setColHeaderHeight(this.column,w)};let a=!1,s;const l=()=>{const d=this.column.isAutoHeaderHeight();d&&!a&&u(),!d&&a&&c()},u=()=>{a=!0,o(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),s=Os(this.beans,t,()=>o(0))},c=()=>{a=!1,s&&s(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),s=void 0};l(),n.addDestroyFunc(()=>c()),n.addManagedListeners(this.column,{widthChanged:()=>a&&o(0)}),n.addManagedEventListeners({sortChanged:()=>{a&&window.setTimeout(()=>o(0))}}),r&&r(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:r,eGui:n}=this;!e||!t||!n||(uX(e,t,r.visibleCols),pK(n,r.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=Nh(this.beans);this.eGui&&to(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var o;const t=or(this.beans),r=e.key===ue.LEFT||e.key===ue.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||r)&&(e.preventDefault(),e.stopImmediatePropagation()),!r))return;const i=e.key===ue.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const a=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(a,e.shiftKey),(o=this.resizeFeature)==null||o.toggleColumnResizing(!0)}else this.moveHeader(i)}moveHeader(e){var t;(t=this.beans.colMoves)==null||t.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:r}=this.beans;return r?r.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:r}=this;let n=e.key===ue.LEFT!==t.get("enableRtl");const i=r.getPinned(),o=t.get("enableRtl");return i&&o!==(i==="right")&&(n=!n),(n?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case ue.PAGE_DOWN:case ue.PAGE_UP:case ue.PAGE_HOME:case ue.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=IX,{eGui:r,gos:n}=this;Vc(n,r,t,this),e.addDestroyFunc(()=>Vc(n,r,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){var e;this.dragSource&&((e=this.beans.dragAndDrop)==null||e.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,r){const n=e??t,{menuSvc:i,gos:o}=this.beans;o.get("preventDefaultOnContextMenu")&&n.preventDefault(),i!=null&&i.isHeaderContextMenuEnabled(r)&&i.showHeaderContextMenu(r,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",r)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:r}=this;e.isColumn?r.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):r.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},Jke=class extends nk{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,r,n,i){this.comp=e;const{colResize:o,context:a,colHover:s}=this.beans,l=_m(this,a,i);this.setGui(t,l),this.updateState(),this.setupWidth(l),this.setupMovingCss(l),this.setupMenuClass(l),this.setupSortableClass(l),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:c=>this.setRefreshFunction("measuring",c),compBean:l}),this.addColumnHoverListener(l),this.setupFilterClass(l),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(l),this.setupSelectAll(l),this.setupUserComp(),this.refreshAria(),o?this.resizeFeature=l.createManagedBean(o.createResizeFeature(this.rowCtrl.pinned,this.column,r,e,this)):rr(r,!1),s==null||s.createHoverFeature(l,[this.column],t),l.createManagedBean(new rk(this.column,t,this.beans)),l.createManagedBean(new Nf(t,{shouldStopEventPropagation:c=>this.shouldStopEventPropagation(c),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(l),l.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh()),l.addManagedListeners(this.column,{colDefChanged:()=>this.refresh()}),l.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const u=()=>this.checkDisplayName();l.addManagedEventListeners({columnValueChanged:u,columnRowGroupChanged:u,columnPivotChanged:u,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),l.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){var r;(r=this.beans.colResize)==null||r.resizeHeader(this.column,e,t)}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return tMe(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:r,gos:n}=this.beans;return n.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!(e!=null&&e.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!r&&(!this.openFilterEnabled||vi(this.gos)),showColumnMenu:o=>{e==null||e.showColumnMenu({column:this.column,buttonElement:o,positionBy:"button"})},showColumnMenuAfterMouseClick:o=>{e==null||e.showColumnMenu({column:this.column,mouseEvent:o,positionBy:"mouse"})},showFilter:o=>{e==null||e.showFilterMenu({column:this.column,buttonElement:o,containerType:"columnFilter",positionBy:"button"})},progressSort:o=>{t==null||t.progressSort(this.column,!!o,"uiColumnSorted")},setSort:(o,a)=>{t==null||t.setSortForColumn(this.column,o,!!a,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(o,a)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,a)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){var e;return(e=this.selectAllFeature)==null?void 0:e.getCheckboxGui()}handleKeyDown(e){var t;super.handleKeyDown(e),e.key===ue.SPACE&&((t=this.selectAllFeature)==null||t.onSpaceKeyDown(e)),e.key===ue.ENTER&&this.onEnterKeyDown(e),e.key===ue.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){var t;e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&((t=this.beans.sortSvc)==null||t.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const r=this.comp.getUserCompInstance();ZW(r)&&r.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),OMe()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){var r;this.tooltipFeature=(r=this.beans.tooltipSvc)==null?void 0:r.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),r=lX(t,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(r),r.forEach(i=>{n.has(i)?n.delete(i):this.comp.addOrRemoveCssClass(i,!0)}),n.forEach(i=>this.comp.addOrRemoveCssClass(i,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){var t;this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!(e!=null&&e.isColumnMenuInHeaderEnabled(this.column)),this.openFilterEnabled=!!(e!=null&&e.isFilterMenuInHeaderEnabled(this.column)),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const r=this.column.getActualWidth();this.comp.setWidth(`${r}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const r=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",r),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,r=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",r)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:r,beans:n}=this,i=ek(this.beans),o=i.reduce((c,d)=>c+=d,0)===0;if(r.addOrRemoveCssClass("ag-header-parent-hidden",o),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),r.addOrRemoveCssClass("ag-header-span-height",!1),r.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:a,isSpanningTotal:s}=this.column.getColumnGroupPaddingInfo();r.addOrRemoveCssClass("ag-header-span-height",a>0);const l=tk(n);if(a===0){r.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}r.addOrRemoveCssClass("ag-header-span-total",s);let u=0;for(let c=0;c<a;c++)u+=i[i.length-1-c];e.style.setProperty("top",`${-u}px`),e.style.setProperty("height",`${l+u}px`)}refreshAriaSort(){var e;if(this.sortable){const t=this.getLocaleTextFunc(),r=((e=this.beans.sortSvc)==null?void 0:e.getDisplaySortForColumn(this.column))||null;this.comp.setAriaSort(hIe(r)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!vi(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){var t;if(!this.eGui.contains(or(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((r,n)=>r==="filter"?-1:n.charCodeAt(0)-r.charCodeAt(0)).map(r=>this.ariaDescriptionProperties.get(r)).join(". ");(t=this.beans.ariaAnnounce)==null||t.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){var t;(t=this.beans.colHover)==null||t.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),r=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),n=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:r,contextmenu:n})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return ZW(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function ZW(e){return typeof e.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var eFe=0,ST=class extends ce{constructor(e,t,r){super(),this.rowIndex=e,this.pinned=t,this.type=r,this.instanceId=eFe++;const n=r=="group"?"ag-header-row-column-group":r=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}postConstruct(){this.isPrintLayout=Xr(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.eGui!=null):!1}setComp(e,t,r=!0){this.comp=e,t=_m(this,this.beans.context,t),r&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:r=>this.onVirtualColumnsChanged(r.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",r=>this.isEnsureDomOrder=r.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls){for(const t of this.headerCellCtrls.values())if(t.column===e)return t}}onDisplayedColumnsChanged(){this.isPrintLayout=Xr(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{filterManager:e}=this.beans,t=[],r=ek(this.beans),n=tk(this.beans);t.push(...r),t.push(n),e!=null&&e.hasFloatingFilters()&&t.push(DX(this.beans));let i=0;for(let a=0;a<this.rowIndex;a++)i+=t[a];const o=t[this.rowIndex];return{topOffset:i,rowHeight:o}}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),r=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,r,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,e);const r=n=>{const{focusSvc:i,visibleCols:o}=this.beans;return i.isHeaderWrapperFocused(n)?o.isVisible(n.column):!1};if(e)for(const[n,i]of e)r(i)?this.headerCellCtrls.set(n,i):this.destroyBean(i);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const r=e.getUniqueId();let n;if(t&&(n=t.get(r),t.delete(r)),n&&n.column!=e&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":{n=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":n=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:n=this.createBean(new Jke(e,this));break}this.headerCellCtrls.set(r,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{colViewport:r}=this.beans;return["left",null,"right"].forEach(n=>{const i=r.getHeadersToRender(n,t);e=e.concat(i)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let r;return typeof e=="function"?r=t.find(e):r=t.find(n=>n.column==e),r}focusHeader(e,t){const r=this.findHeaderCellCtrl(e);return r?r.focus(t):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}},tFe=class extends ce{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:r,ctrlsSvc:n,colModel:i,colMoves:o,filterManager:a}=this.beans;this.setupCenterWidth(),r==null||r.setupHeaderPinnedWidth(this),this.setupDragAndDrop(o,this.eViewport);const s=this.onDisplayedColumnsChanged.bind(this,a);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:s,advancedFilterEnabledChanged:s});const l=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;n.register(l,this),i.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,colModel:r,filterManager:n}=this.beans;let i=0;const o=t.getFocusHeaderToUseAfterRefresh(),a=()=>{const c=Yke(r)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let d=0;d<c;d++){const h=this.createBean(new ST(i++,this.pinned,"group"));this.groupsRowCtrls.push(h)}},s=()=>{const c=i++,d=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==c);(d||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),d&&(this.columnsRowCtrl=this.createBean(new ST(c,this.pinned,"column")))},l=()=>{this.includeFloatingFilter=!!(n!=null&&n.hasFloatingFilters())&&!this.hidden;const c=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){c();return}const d=i++;if(this.filtersRowCtrl){const h=this.filtersRowCtrl.rowIndex!==d;(!e||h)&&c()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new ST(d,this.pinned,"filter")))};a(),s(),l();const u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(t,o)}getHeaderCtrlForColumn(e){var t;if(ql(e))return(t=this.columnsRowCtrl)==null?void 0:t.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let r=0;r<this.groupsRowCtrls.length;r++){const n=this.groupsRowCtrls[r].getHeaderCellCtrl(e);if(n)return n}}getHtmlElementForColumnHeader(e){var t;return((t=this.getHeaderCtrlForColumn(e))==null?void 0:t.eGui)??null}getRowType(e){var t;return(t=this.getAllCtrls()[e])==null?void 0:t.type}focusHeader(e,t,r){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,r):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const r=e==null?void 0:e.createBodyDropTarget(this.pinned,t);r&&this.createManagedBean(r)}restoreFocusOnHeader(e,t){if(!t)return;const{column:r}=t;r.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){const t=!!(e!=null&&e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new QM(e=>this.comp.setCenterWidth(`${e}px`),!0))}},rFe=class extends ce{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const{enterpriseMenuFactory:t,filterMenuFactory:r}=this.beans,n=t&&vi(this.gos)?t:r;this.showColumnMenuCommon(n,e,e.containerType,!0)}showHeaderContextMenu(e,t,r){var n;(n=this.activeMenuFactory)==null||n.showMenuAfterContextMenuEvent(e,t,r)}hidePopupMenu(){var e,t;(e=this.beans.contextMenuSvc)==null||e.hideActiveMenu(),(t=this.activeMenuFactory)==null||t.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){var r;const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!((r=this.activeMenuFactory)!=null&&r.isMenuEnabled(e))&&(vi(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&ql(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(wc()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!vi(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))&&!vi(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return vi(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,r,n){const{positionBy:i}=t,o=t.column;if(i==="button"){const{buttonElement:a}=t;e==null||e.showMenuAfterButtonClick(o,a,r,n)}else if(i==="mouse"){const{mouseEvent:a}=t;e==null||e.showMenuAfterMouseEvent(o,a,r,n)}else if(o){const a=this.beans,s=a.ctrlsSvc;s.getScrollFeature().ensureColumnVisible(o,"auto"),ru(a,()=>{var u;const l=(u=s.getHeaderRowContainerCtrl(o.getPinned()))==null?void 0:u.getHeaderCtrlForColumn(o);l&&(e==null||e.showMenuAfterButtonClick(o,l.getAnchorElementForMenu(n),r,!0))})}}};function QW(e,t,r){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",r))}var EX=class extends Xt{constructor(){super()}},nFe=class extends EX{init(){var t;const e=ms((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const r=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("loadingOoo","Loading...")})}}},iFe=class extends EX{init(){var t;const e=ms((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const r=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("noRowsToShow","No Rows To Show")})}}};function oFe(e,t,r){const n=qi(e,t,r);if(n){const{className:o}=n;if(typeof o=="string"&&o.indexOf("ag-icon")>-1||typeof o=="object"&&o["ag-icon"])return n}const i=document.createElement("span");return i.appendChild(n),i}function qi(e,t,r){var o;let n=null;e==="smallDown"?be(262):e==="smallLeft"?be(263):e==="smallRight"&&be(264);const i=r&&r.getColDef().icons;if(i&&(n=i[e]),t.gos&&!n){const a=t.gos.get("icons");a&&(n=a[e])}if(n){let a;if(typeof n=="function")a=n();else if(typeof n=="string")a=n;else{be(38,{iconName:e});return}if(typeof a=="string")return Vv(a);if(GM(a))return a;be(133,{iconName:e});return}else{const a=document.createElement("span"),s=t.registry.getIcon(e);s||(o=t.validation)==null||o.validateIcon(e);const l=s??e;return a.setAttribute("class",`ag-icon ag-icon-${l}`),a.setAttribute("unselectable","on"),Go(a,"presentation"),a}}var aFe=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",sFe=class extends Xt{constructor(){super(),this.dragSource=null,this.eIcon=Ye,this.eLabel=Ye,this.registerCSS(aFe)}postConstruct(){const e=t=>oFe(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:r,dragSource:n,dropIconMap:i,gos:o}=this;Ri(r);let a=null;e||(e=n!=null&&n.getDefaultIconName?n.getDefaultIconName():"notAllowed"),a=i[e],r.classList.toggle("ag-shake-left-to-right",t),!(a===i.hide&&o.get("suppressDragLeaveHidesColumns"))&&a&&r.appendChild(a)}setLabel(e){this.eLabel.textContent=Ta(e)}},lFe=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",uFe=class extends Xt{constructor(e,t,r){super(t,r),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(lFe)}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:r,labelAlignment:n,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),r!=null&&this.setLabelWidth(r),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;Ri(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(rr(t,!1),Go(t,"presentation")):(rr(t,!0),Go(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const r=this.getGui().classList;return r.toggle("ag-label-align-left",e==="left"),r.toggle("ag-label-align-right",e==="right"),r.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(tb(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return zv(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},MX=class extends uFe{constructor(e,t,r,n){super(e,t,r),this.className=n}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:r}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),r!=null&&this.onValueChange(r),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),r=this.getLabel();r==null||r==""||fIe(e)!==null?KD(e,""):KD(e,t??"")}setAriaLabel(e){return bS(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Ra(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},hc=class extends MX{constructor(e,t,r="text",n="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${n} data-ref="eInput" class="ag-input-field-input"></${n}>
                </div>
            </div>`,[],t),this.inputType=r,this.displayFieldTag=n,this.eLabel=Ye,this.eWrapper=Ye,this.eInput=Ye}postConstruct(){super.postConstruct(),this.setInputType();const{eLabel:e,eWrapper:t,eInput:r,className:n}=this;e.classList.add(`${n}-label`),t.classList.add(`${n}-input-wrapper`),r.classList.add(`${n}-input`),this.addCssClass("ag-input-field"),r.id=r.id||`ag-${this.getCompId()}-input`;const{inputName:i,inputWidth:o}=this.config;i!=null&&this.setInputName(i),o!=null&&this.setInputWidth(o),this.addInputListeners(),this.activateTabIndex([r])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return tb(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return to(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return bS(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return zv(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)to(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";to(this.eInput,"autocomplete",t)}return this}},ik=class extends hc{constructor(e,t="ag-checkbox",r="checkbox"){super(e,t,r),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const r=this.eInput;r.checked=e,r.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,r){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:r});const n=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),r=this.selected=e.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},ok={selector:"AG-CHECKBOX",component:ik},cFe=".ag-checkbox-cell{height:100%}",dFe=class extends Xt{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[ok]),this.eCheckbox=Ye,this.registerCSS(cFe)}init(e){this.refresh(e);const{eCheckbox:t,beans:r}=this,n=t.getInputElement();n.setAttribute("tabindex","-1"),hK(n,"polite"),this.addManagedListeners(n,{click:i=>{if(rf(i),t.isDisabled())return;const o=t.getValue();this.onCheckboxChanged(o)},dblclick:i=>{rf(i)}}),this.addManagedElementListeners(e.eGridCell,{keydown:i=>{if(i.key===ue.SPACE&&!t.isDisabled()){e.eGridCell===or(r)&&t.toggle();const o=t.getValue();this.onCheckboxChanged(o),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,r=!0;const{value:n,column:i,node:o}=e;if(o.group&&i)if(typeof n=="boolean")t=n;else{const d=i.getColId();d.startsWith(SS)?t=n==null||n===""?void 0:n==="true":o.aggData&&o.aggData[d]!==void 0?t=n??void 0:r=!1}else t=n??void 0;const{eCheckbox:a}=this;if(!r){a.setDisplayed(!1);return}a.setValue(t);const s=e.disabled??!(i!=null&&i.isCellEditable(o));a.setDisabled(s);const l=this.getLocaleTextFunc(),u=NM(l,t),c=s?u:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${u})`;a.setInputAriaLabel(c)}onCheckboxChanged(e){const{eventSvc:t,params:r}=this,{column:n,node:i,value:o}=r,a={column:n,colDef:n.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:o};t.dispatchEvent({type:"cellEditingStarted",...a});const s=i.setDataValue(n,e,"edit");t.dispatchEvent({type:"cellEditingStopped",...a,oldValue:o,newValue:e,valueChanged:s}),s||this.updateCheckbox(r)}},hFe="ROOT_NODE_ID",fFe=class extends ce{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}get treeData(){return!1}getRowNode(e){return this.allNodesMap[e]}extractRowData(){var e,t;return(t=(e=this.rootNode)==null?void 0:e.allLeafChildren)==null?void 0:t.map(r=>r.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=hFe,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=(e==null?void 0:e.map((t,r)=>this.createRowNode(t,r)))??[]}setImmutableRowData(e,t){const r=this.createTransactionForRowData(t),n=this.updateRowData(r,e.changedRowNodes);let i=!1;this.gos.get("suppressMaintainUnsortedOrder")||(i=this.updateRowOrderFromRowData(t));const{rowNodeTransaction:o,rowsInserted:a}=n,{add:s,remove:l,update:u}=o;(a||i||s.length||l.length||u.length)&&(e.step="group",e.rowDataUpdated=!0,e.rowNodeTransactions=[o],e.rowNodesOrderChanged=a||i)}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const r={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},n=[],i=tf(this.gos);return this.executeRemove(i,e,r,n),this.executeUpdate(i,e,r,n),this.executeAdd(e,r),this.deselectNodes(n),r}createTransactionForRowData(e){const t=tf(this.gos),r={...this.allNodesMap},n=[],i=[],o=[];Te(e)&&e.forEach(a=>{const s=t({data:a,level:0}),l=r[s];l?(l.data!==a&&i.push(a),r[s]=void 0):o.push(a)});for(const a of Object.values(r))a&&n.push(a.data);return{remove:n,update:i,add:o}}updateRowOrderFromRowData(e){var a;const t=(a=this.rootNode)==null?void 0:a.allLeafChildren,r=(t==null?void 0:t.length)??0,n=new Map;let i=-1,o=-1;for(let s=0;s<r;++s){const l=t[s],u=l.data;u!==e[s]&&(o<0&&(i=s),o=s,n.set(u,l))}if(i<0)return!1;for(let s=i;s<=o;++s){const l=n.get(e[s]);l!==void 0&&(t[s]=l,l.sourceRowIndex=s)}return!0}executeAdd(e,t){const r=e.add;if(!(r!=null&&r.length))return;let n=this.rootNode.allLeafChildren,i=n.length;if(typeof e.addIndex=="number"&&(i=this.sanitizeAddIndex(e.addIndex),i>0&&this.gos.get("treeData")&&this.gos.get("getDataPath")))for(let d=0;d<n.length;d++){const h=n[d];if((h==null?void 0:h.rowIndex)==i-1){i=d+1;break}}const o=r.length,a=t.changedRowNodes,s=new Array(o);for(let c=0;c<o;c++){const d=this.createRowNode(r[c],i+c);a.add(d),s[c]=d}const l=this.rootNode;if(i<n.length){const c=n.slice(0,i),d=n.slice(i,n.length),h=c.length+s.length;for(let f=0,g=d.length;f<g;++f)d[f].sourceRowIndex=h+f;n=[...c,...s,...d],t.rowsInserted=!0}else n=n.concat(s);l.allLeafChildren=n;const u=l.sibling;u&&(u.allLeafChildren=n),t.rowNodeTransaction.add=s}executeRemove(e,t,{changedRowNodes:r,rowNodeTransaction:n},i){var u,c;const{remove:o}=t;if(!(o!=null&&o.length))return;const a={};o.forEach(d=>{const h=this.lookupRowNode(e,d);h&&(h.isSelected()&&i.push(h),h.clearRowTopAndRowIndex(),a[h.id]=!0,delete this.allNodesMap[h.id],n.remove.push(h),r.remove(h))});const s=this.rootNode;s.allLeafChildren=((u=s.allLeafChildren)==null?void 0:u.filter(d=>!a[d.id]))??null,(c=s.allLeafChildren)==null||c.forEach((d,h)=>{d.sourceRowIndex=h});const l=s.sibling;l&&(l.allLeafChildren=s.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:r,rowNodeTransaction:n},i){const{update:o}=t;o!=null&&o.length&&o.forEach(a=>{const s=this.lookupRowNode(e,a);s&&(s.updateData(a),!s.selectable&&s.isSelected()&&i.push(s),n.update.push(s),r.update(s))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}deselectNodes(e){var i;const t="rowDataChanged",r=this.beans.selectionSvc,n=e.length>0;n&&(r==null||r.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t})),(i=r==null?void 0:r.updateGroupsFromChildrenSelections)==null||i.call(r,t),n&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t})}sanitizeAddIndex(e){var r;const t=((r=this.rootNode.allLeafChildren)==null?void 0:r.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const r=new af(this.beans);return r.parent=this.rootNode,r.level=0,r.group=!1,r.expanded=!1,r.sourceRowIndex=t,r.setDataAndId(e,String(this.nextId)),this.allNodesMap[r.id]&&be(2,{nodeId:r.id}),this.allNodesMap[r.id]=r,this.nextId++,r}lookupRowNode(e,t){var n,i;let r;if(e){const o=e({data:t,level:0});if(r=this.allNodesMap[o],!r)return kt(4,{id:o}),null}else if(r=(i=(n=this.rootNode)==null?void 0:n.allLeafChildren)==null?void 0:i.find(o=>o.data===t),!r)return kt(5,{data:t}),null;return r||null}},pFe=class extends Xt{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[ok]),this.eCheckbox=Ye}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:r}=this,n=t.isSelected(),i=NM(e,n),[o,a]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],s=e(o,a);r.setValue(n,!0),r.setInputAriaLabel(`${s} (${i})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:rf,click:n=>{var i;rf(n),(i=this.beans.selectionSvc)==null||i.handleSelectionEvent(n,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:i})=>{const o=typeof n=="object"?yT(n):void 0,a=typeof i=="object"?yT(i):void 0;o!==a&&this.onSelectableChanged()}),aA(this.gos)||typeof this.getIsVisible()=="function"){const n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:r,gos:n}=this;let i=t.selectable;const o=this.getIsVisible();if(i)if(typeof o=="function"){const l=r==null?void 0:r.callbackParams;if(!e)i=o({...l,node:t,data:t.data});else{const u=e.createColumnFunctionCallbackParams(t);i=o({...l,...u})}}else i=o??!1;const a=n.get("rowSelection");if(a&&typeof a!="string"?!yT(a):e==null?void 0:e.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!i),this.setVisible(!0),this.setDisplayed(!0);return}if(r!=null&&r.removeHidden){this.setDisplayed(i);return}this.setVisible(i)}getIsVisible(){var r,n;const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Fh(t):(n=(r=this.column)==null?void 0:r.getColDef())==null?void 0:n.checkboxSelection}},gFe=class{constructor(e){this.rootId=null,this.endId=null,this.cachedRange=[],this.rowModel=e}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(){return this.rootId?this.rowModel.getRowNode(this.rootId)??null:null}getEnd(){return this.endId?this.rowModel.getRowNode(this.endId)??null:null}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const r=t[0].id===this.rootId,n=t.findIndex(i=>i.id===e.id);if(n>-1){const i=t.slice(0,n),o=t.slice(n+1);return this.setEndRange(e),r?{keep:i,discard:o}:{keep:o,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){const r=this.getRoot();if(r==null){const i=this.getRange().slice();return t&&e.depthFirstSearch(o=>!o.group&&i.push(o)),i.push(e),this.setRoot(e),{keep:i,discard:[]}}const n=this.rowModel.getNodesInRangeForSelection(r,e);if(!n)return this.setRoot(e),{keep:[e],discard:[]};if(n.find(i=>i.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const i=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:i}}}},vFe=class extends ce{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(or(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new ik);this.cbSelectAll=t,t.addCssClass("ag-header-select-all"),Go(t.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.showOrHideSelectAll.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){const e=this.isCheckboxSelection();this.cbSelectAllVisible=e,this.cbSelectAll.setDisplayed(e),e&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,r=this.cbSelectAll,n=t.getSelectAllState(e);r.setValue(n);const i=t.hasNodesToSelect(e);r.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.getLocaleTextFunc(),{headerCellCtrl:t,cbSelectAll:r,cbSelectAllVisible:n}=this,o=r.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),a=e("ariaRowSelectAll","Press Space to toggle all rows selection");t.setAriaDescriptionProperty("selectAll",n?`${a} (${o})`:null),r.setInputAriaLabel(e("ariaHeaderSelection","Column with Header Selection")),t.announceAriaDescription()}checkSelectionType(e){return UM(this.gos)?!0:(be(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:r}=this.beans;return vn(t)||Lf(t)?!0:(be(129,{feature:e,rowModel:r.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let r="uiSelectAll";t==="currentPage"?r="uiSelectAllCurrentPage":t==="filtered"&&(r="uiSelectAllFiltered");const n={source:r,selectAll:t},i=this.beans.selectionSvc;e?i.selectAllRowNodes(n):i.deselectAllRowNodes(n)}isCheckboxSelection(){var u;const{column:e,gos:t,beans:r}=this,n=t.get("rowSelection"),i=e.getColDef(),{headerCheckboxSelection:o}=i;let a=!1;const s=typeof n=="object";if(s){const c=_a(e),d=YM(e);(oA(n)==="autoGroupColumn"&&d||c&&((u=r.selectionColSvc)!=null&&u.isSelectionColumnEnabled()))&&(a=Lw(n))}else typeof o=="function"?a=o(t.addGridCommonParams({column:e,colDef:i})):a=!!o;const l=s?"headerCheckbox":"headerCheckboxSelection";return a&&this.checkRightRowModelType(l)&&this.checkSelectionType(l)}getSelectAllMode(){const e=OK(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:r}=this.column.getColDef();return t?"currentPage":r?"filtered":"all"}},mFe=class extends ce{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new gFe(t.rowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const r=aA(e);r!==this.isRowSelectable&&(this.isRowSelectable=r,this.updateSelectable())}),this.isRowSelectable=aA(e)}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new pFe}createSelectAllFeature(e){return new vFe(e)}isMultiSelect(){return UM(this.gos)}onRowCtrlSelected(e,t,r){const n=!!e.rowNode.isSelected();e.forEachGui(r,i=>{i.rowComp.addOrRemoveCssClass("ag-row-selected",n);const o=i.element;qD(o,n),o.contains(or(this.beans))&&t(i)})}announceAriaRowSelection(e){var i;if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(t&&!HW(this.gos))return;const n=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);(i=this.beans.ariaAnnounce)==null||i.announceValue(n,"rowSelection")}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e})}isRowSelectionBlocked(e){return!e.selectable||!!e.rowPinned||!Sc(this.gos)}updateRowSelectable(e,t){var n;const r=((n=this.isRowSelectable)==null?void 0:n.call(this,e))??!0;return this.setRowSelectable(e,r,t),r}setRowSelectable(e,t,r){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),r)return;if(Wv(this.gos)){const i=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:i??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){var n;let t=!1,r=!1;if(!((n=e.childrenAfterGroup)!=null&&n.length))return e.selectable?e.__selected:null;for(let i=0;i<e.childrenAfterGroup.length;i++){const o=e.childrenAfterGroup[i];let a=o.isSelected();if(!o.selectable){const s=this.calculateSelectedFromChildren(o);if(s===null)continue;a=s}switch(a){case!0:t=!0;break;case!1:r=!0;break;default:return}}if(!(t&&r))return t?!0:r?!1:e.selectable?e.__selected:null}selectRowNode(e,t,r,n="api"){const i=!e.selectable&&t,o=e.__selected===t;if(i||o)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const a=e.sibling;return a&&a.footer&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...dke(e,this.gos,"rowSelected"),event:r||null,source:n}),!0}isCellCheckboxSelection(e,t){const r=this.gos.get("rowSelection");if(r&&typeof r!="string"){const n=_a(e)&&Fh(r);return e.isColumnFunc(t,n)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,r,n){const{gos:i,selectionCtx:o}=this,a=e.isSelected(),s=Wv(i),l=QIe(i),u=HW(i),c=n==="rowClicked";if(c&&s&&e.group||c&&!(l||u))return null;if(t&&r&&this.isMultiSelect()){const d=o.getRoot();if(d)if(d.isSelected()){const h=o.isInRange(e)?o.truncate(e):o.extend(e,s);return{deselect:h.discard,select:h.keep,reset:!1}}else{const h=o.extend(e,s);return{select:[],deselect:h.keep,reset:!1}}else return null}else if(t&&this.isMultiSelect()){const d=o.getRoot(),h=o.isInRange(e)?o.truncate(e):o.extend(e,s);return{select:h.keep,deselect:h.discard,reset:!!(d&&!d.isSelected())}}else{if(r)return o.setRoot(e),c&&a&&!u?null:{node:e,newValue:!a,clearSelection:!this.isMultiSelect()};{o.setRoot(e);const d=JIe(i),h=ob(i)==="filteredDescendants",f=c&&(!d||!l);if(h&&a===void 0&&vn(i))return{node:e,newValue:!1,clearSelection:!this.isMultiSelect()||f};if(c){const g=a?!d:l;return g===a?null:{node:e,newValue:g,clearSelection:!this.isMultiSelect()||f}}return{node:e,newValue:!a,clearSelection:!this.isMultiSelect()||f}}}}},yFe=class extends ik{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},nd=class extends hc{constructor(e,t="ag-text-field",r="text"){super(e,t,r)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const r=this.eInput;return r.value!==e&&(r.value=Te(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=r=>{xX(r)&&r.key&&!e.test(r.key)&&r.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:r=>{var i;const n=(i=r.clipboardData)==null?void 0:i.getData("text");n&&n.split("").some(o=>!e.test(o))&&r.preventDefault()}})}},xS={selector:"AG-INPUT-TEXT-FIELD",component:nd},CFe=class extends hc{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const r=super.setValue(e,t);return this.eInput.value=e,r}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},wFe={selector:"AG-INPUT-TEXT-AREA",component:CFe},ak=class extends nd{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const o=parseFloat(e.value),a=isNaN(o)?"":this.normalizeValue(o.toString());this.value!==a&&this.setValue(a)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:r,max:n,step:i}=this.config;typeof t=="number"&&this.setPrecision(t),typeof r=="number"&&this.setMin(r),typeof n=="number"&&this.setMax(n),typeof i=="number"&&this.setStep(i)}onWheel(e){or(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e),{min:r,max:n}=this;return r!=null&&t<r?e=r.toString():n!=null&&t>n&&(e=n.toString()),e}adjustPrecision(e,t){const r=this.precision;if(r==null)return e;if(t){const i=parseFloat(e).toFixed(r);return parseFloat(i).toString()}const n=String(e).split(".");if(n.length>1){if(n[1].length<=r)return e;if(r>0)return`${n[0]}.${n[1].slice(0,r)}`}return n[0]}setMin(e){return this.min===e?this:(this.min=e,to(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,to(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,to(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(r=>super.setValue(r,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,r){if(Te(r)){let n=this.isScientificNotation(r);if(n&&this.eInput.validity.valid)return e(r);if(!n){r=this.adjustPrecision(r);const i=this.normalizeValue(r);n=r!=i}if(n)return t(r)}return e(r)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},bFe={selector:"AG-INPUT-NUMBER-FIELD",component:ak};function Zg(e,t){return e.toString().padStart(t,"0")}function ro(e,t=!0,r="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>Zg(i,2)).join(r);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>Zg(i,2)).join(":")),n}var xT=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Qg(e,t="YYYY-MM-DD"){const r=Zg(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>r.slice(r.length-4,r.length),YY:()=>r.slice(r.length-2,r.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>Zg(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${xT(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${xT(e.getDate())}`,DD:()=>Zg(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>i[e.getDay()],ddd:()=>i[e.getDay()].slice(0,3),dd:()=>i[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${xT(e.getDay())}`,d:()=>`${e.getDay()}`},a=new RegExp(Object.keys(o).join("|"),"g");return t.replace(a,s=>s in o?o[s]():s)}function ii(e){if(!e)return null;const[t,r]=e.split(" ");if(!t)return null;const n=t.split("-").map(d=>parseInt(d,10));if(n.filter(d=>!isNaN(d)).length!==3)return null;const[i,o,a]=n,s=new Date(i,o-1,a);if(s.getFullYear()!==i||s.getMonth()!==o-1||s.getDate()!==a)return null;if(!r||r==="00:00:00")return s;const[l,u,c]=r.split(":").map(d=>parseInt(d,10));return l>=0&&l<24&&s.setHours(l),u>=0&&u<60&&s.setMinutes(u),c>=0&&c<60&&s.setSeconds(c),s}var SFe=class extends nd{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=Jc();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){or(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?ro(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,to(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?ro(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,to(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,to(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return ii(this.getValue())??void 0}setDate(e,t){this.setValue(ro(e??null,!1),t)}},kX={selector:"AG-INPUT-DATE-FIELD",component:SFe},xFe=1e3,RFe=1e3,JW=100,e5,rw=!1,_Fe=class extends ce{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){var t,r,n,i;return e==="show"?((r=(t=this.tooltipCtrl).getTooltipShowDelayOverride)==null?void 0:r.call(t))??this.getGridOptionsTooltipDelay("tooltipShowDelay"):((i=(n=this.tooltipCtrl).getTooltipHideDelayOverride)==null?void 0:i.call(n))??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!wc()&&(rw?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},JW):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var i;const t=e.relatedTarget,r=this.tooltipCtrl.getGui(),n=(i=this.tooltipComp)==null?void 0:i.getGui();this.isInteractingWithTooltip||r.contains(t)||this.interactionEnabled&&(n!=null&&n.contains(t))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||rw)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return new Date().getTime()-e5<xFe}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){var a,s,l,u,c,d,h;const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!Te(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const r=(a=t.getRowNode)==null?void 0:a.call(t),n={location:((s=t.getLocation)==null?void 0:s.call(t))??"UNKNOWN",colDef:(l=t.getColDef)==null?void 0:l.call(t),column:(u=t.getColumn)==null?void 0:u.call(t),rowIndex:(c=t.getRowIndex)==null?void 0:c.call(t),node:r,data:r==null?void 0:r.data,value:e,valueFormatted:(d=t.getValueFormatted)==null?void 0:d.call(t),hideTooltipCallback:()=>this.hideTooltip(!0),...((h=t.getAdditionalParams)==null?void 0:h.call(t))??{}};this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),o=gMe(this.userCompFactory,n);o==null||o.newAgStackInstance().then(i)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),e5=new Date().getTime()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){var a;if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const n=t.getGui();this.tooltipComp=t,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&n.classList.add("ag-tooltip-animate"),this.interactionEnabled&&n.classList.add("ag-tooltip-interactive");const i=this.getLocaleTextFunc(),o=(a=this.popupSvc)==null?void 0:a.addPopup({eChild:n,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const s=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:s,columnMoved:s})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(n,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(dr(this.beans),{keydown:s=>{n.contains(s==null?void 0:s.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(n,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:n,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var r;const e=(r=this.tooltipComp)==null?void 0:r.getGui(),t=or(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){var t,r;const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?(t=this.popupSvc)==null||t.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):(r=this.popupSvc)==null||r.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,r=this.tooltipTrigger===0?RFe:0;window.setTimeout(()=>{e(),this.destroyBean(t)},r),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){rw=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},JW)}unlockService(){rw=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function RT(e){return e.get("tooltipShowMode")==="whenTruncated"}function Vw(e){return()=>{const t=e();return t?t.scrollWidth>t.clientWidth:!0}}var TFe=class extends ce{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e){const t="title",r=this.ctrl.getGui();r&&(e!=null&&e!=""?r.setAttribute(t,e):r.removeAttribute(t))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new _Fe(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},PFe=class extends Xt{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case ue.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const r=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(r)}break;case ue.DOWN:case ue.UP:e.preventDefault(),this.navigate(t);break;case ue.PAGE_DOWN:case ue.PAGE_UP:case ue.PAGE_HOME:case ue.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===ue.DOWN;let r;const{itemEls:n,highlightedEl:i}=this;if(!i)r=n[t?0:n.length-1];else{let a=n.indexOf(i)+(t?1:-1);a=Math.min(Math.max(a,0),n.length-1),r=n[a]}this.highlightItem(r)}navigateToPage(e){const{itemEls:t,highlightedEl:r}=this;if(!r||t.length===0)return;const n=t.indexOf(r),i=this.options.length-1,o=t[0].clientHeight,a=Math.floor(this.getGui().clientHeight/o);let s=-1;e===ue.PAGE_HOME?s=0:e===ue.PAGE_END?s=i:e===ue.PAGE_DOWN?s=Math.min(n+a,i):e===ue.PAGE_UP&&(s=Math.max(n-a,0)),s!==-1&&this.highlightItem(t[s])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:r}=e,n=r||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Nc(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,r)=>{yIe(t,r+1),mIe(t,e.length)})}renderOption(e,t){const r=dr(this.beans),n=r.createElement("div");Go(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const i=r.createElement("span");n.appendChild(i),i.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:o=>{o.preventDefault(),o.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const r=this.options.findIndex(n=>n.value===e);if(r!==-1){const n=this.options[r];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[r]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Ma(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),qD(e,!0);const t=this.getGui(),{scrollTop:r,clientHeight:n}=t,{offsetTop:i,offsetHeight:o}=e;(i+o>r+n||i<r)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!Ma(e)||(e.classList.remove(this.activeClass),qD(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},DFe=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{border:var(--ag-input-focus-border);box-shadow:var(--ag-focus-shadow)}}.ag-picker-field-button{background-color:var(--ag-background-color)}",AFe=class extends MX{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Ye,this.eWrapper=Ye,this.eDisplayField=Ye,this.eIcon=Ye,this.registerCSS(DFe),this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:r,variableWidth:n,minPickerWidth:i,maxPickerWidth:o}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,r!=null&&this.setPickerMaxHeight(r),i!=null&&this.setPickerMinWidth(i),o!=null&&this.setPickerMaxWidth(o)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:r,inputWidth:n}=this.config;if(r){const i=qi(r,this.beans);i&&this.eIcon.appendChild(i)}n!=null&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),XD(e,!1),this.ariaRole&&Go(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case ue.UP:case ue.DOWN:case ue.ENTER:case ue.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ue.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:r,pickerAriaLabelValue:n,modalPicker:i=!0},maxPickerHeight:o,minPickerWidth:a,maxPickerWidth:s,variableWidth:l,beans:u,eWrapper:c}=this,d={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const m=kK(u);this.beforeHidePicker(),m&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(r,n),anchorToElement:c};e.style.position="absolute";const h=u.popupSvc,f=h.addPopup(d);l?(a&&(e.style.minWidth=a),e.style.width=VM(Z0(c)),s&&(e.style.maxWidth=s)):tb(e,s??Z0(c));const g=o??`${BM(h.getPopupParent())}px`;return e.style.setProperty("max-height",g),this.alignPickerToComponent(),f.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:r,gos:n},eWrapper:i,pickerComponent:o}=this,a=n.get("enableRtl")?"right":"left";r.positionPopupByComponent({type:t,eventSource:i,ePopup:o.getGui(),position:"under",alignSide:a,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();XD(t,e);const r=this.eWrapper.classList;r.toggle("ag-picker-expanded",e),r.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){var e;(e=this.hideCurrentPicker)==null||e.call(this)}setInputWidth(e){return tb(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},IFe=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",sk=class extends AFe{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(IFe)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:Vw(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:r}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),r&&t==null&&(this.eDisplayField.textContent=r),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new PFe("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),r=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",r),_Ie(this.getAriaElement(),t),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),e.addManagedListeners(e,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var r;const{key:t}=e;switch(t===ue.TAB&&this.hidePicker(),t){case ue.ENTER:case ue.UP:case ue.DOWN:case ue.PAGE_UP:case ue.PAGE_DOWN:case ue.PAGE_HOME:case ue.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(r=this.listComponent)==null||r.handleKeyDown(e):super.onKeyDown(e);break;case ue.ESCAPE:super.onKeyDown(e);break;case ue.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,t,r){const{listComponent:n,config:{placeholder:i},eDisplayField:o,tooltipFeature:a}=this;if(this.value===e||!n)return this;if(r||n.setValue(e,!0),n.getValue()===this.getValue())return this;let l=n.getDisplayValue();return l==null&&i&&(l=i),o.textContent=l,a==null||a.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},EFe={selector:"AG-SELECT",component:sk},zh={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},FX=class extends ce{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:r,eBottomGuard:n,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:o,isFocusableContainer:a,focusInnerElement:s,onFocusIn:l,onFocusOut:u,shouldStopEventPropagation:c,onTabKeyDown:d,handleKeyDown:h,eFocusableElement:f}=e;this.comp=t,this.eTopGuard=r,this.eBottomGuard=n,this.providedFocusInnerElement=s,this.eFocusableElement=f,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.isFocusableContainer=!!a,this.providedFocusIn=l,this.providedFocusOut=u,this.providedShouldStopEventPropagation=c,this.providedOnTabKeyDown=d,this.providedHandleKeyDown=h}postConstruct(){this.createManagedBean(new Nf(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&Oh(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){var l;const t=dr(this.beans),r=Oh(t.body,null,!0),n=r.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let i,o;e?(i=0,o=n):(i=n+1,o=r.length);const a=r.slice(i,o),s=this.gos.get("tabIndex");a.sort((u,c)=>{const d=parseInt(u.getAttribute("tabindex")||"0"),h=parseInt(c.getAttribute("tabindex")||"0");return h===s?1:d===s?-1:d===0?1:h===0?-1:d-h}),(l=a[e?a.length-1:0])==null||l.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const r=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),r&&(r.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=Oh(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return rd(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},MFe=class extends ce{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:r,eFocusableElement:n}=this,i=[t,r],o={setTabIndex:m=>{i.forEach(y=>m!=null?y.setAttribute("tabindex",m):y.removeAttribute("tabindex"))}};this.addTabGuards(t,r);const{focusTrapActive:a=!1,onFocusIn:s,onFocusOut:l,focusInnerElement:u,handleKeyDown:c,onTabKeyDown:d,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:f,isFocusableContainer:g}=e;this.tabGuardCtrl=this.createManagedBean(new FX({comp:o,focusTrapActive:a,eTopGuard:t,eBottomGuard:r,eFocusableElement:n,onFocusIn:s,onFocusOut:l,focusInnerElement:u,handleKeyDown:c,onTabKeyDown:d,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:f,isFocusableContainer:g}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=dr(this.beans).createElement("div"),r=e==="top"?zh.TAB_GUARD_TOP:zh.TAB_GUARD_BOTTOM;return t.classList.add(zh.TAB_GUARD,r),Go(t,"presentation"),t}addTabGuards(e,t){const r=this.eFocusableElement;r.insertAdjacentElement("afterbegin",e),r.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Ri(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,r){GM(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,r)}},kFe=class extends Xt{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new MFe(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,r){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,r)}},zf=class extends Xt{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},dh=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Ff,this.preventMouseClick=t;const r=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);e.addEventListener("touchstart",r,{passive:!0}),e.addEventListener("touchmove",n,{passive:!0}),e.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",r,{passive:!0}),e.removeEventListener("touchmove",n,{passive:!0}),e.removeEventListener("touchend",i,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const r=this.touchStart===t;if(this.touching&&r&&!this.moved){this.moved=!0;const n={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!vX(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const r={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(r),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},LX=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${_K}/${this.frameworkName}-data-grid`,NIe(this.baseDocLink)}setInterval(e,t){return new nr(r=>{r(window.setInterval(e,t))})}addEventListener(e,t,r,n){let i={};if(typeof n=="object"?i=n:typeof n=="boolean"&&(i={capture:n}),i.passive==null){const o=GK(t);o!=null&&(i.passive=o)}e.addEventListener(t,r,i)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function FFe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var LFe=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],t5=Object.fromEntries(LFe.map((e,t)=>[e,t]));function OFe(e,t){const r=(e.beanName?t5[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(t.beanName?t5[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return r-n}function NFe(e,t){return(e==null?void 0:e.beanName)==="gridDestroySvc"?-1:0}var zFe=class extends ce{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,r){this.view=e,this.eGridHostDiv=t,this.eGui=r,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:n,ctrlsSvc:i}=this.beans;n==null||n.registerGridDropTarget(()=>this.eGui,this),pX(this.gos,t),this.createManagedBean(new ZM(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const o=Os(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>o()),i.register("gridCtrl",this)}isDetailGrid(){var t;const e=cX(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,r,n,i;const e=this.beans;return{paginationSelector:(t=e.pagination)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:(r=e.sideBar)==null?void 0:r.getSelector(),statusBarSelector:(n=e.registry)==null?void 0:n.getSelector("AG-STATUS-BAR"),watermarkSelector:(i=e.licenseManager)==null?void 0:i.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:r,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(n===0){if(r>0){const{visibleCols:i,focusSvc:o}=this.beans,a=i.allCols,s=xt(a);if(o.focusGridView(s,!0))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const r=this.getFocusableContainers(),{focusSvc:n,visibleCols:i}=this.beans,o=i.allCols;if(e){if(r.length>1)return this.focusContainer(xt(r),!0);const a=xt(o);if(n.focusGridView(a,!0))return!0}if(this.gos.get("headerHeight")===0||Nh(this.beans)){if(n.focusGridView(o[0]))return!0;for(let a=1;a<r.length;a++)if(Gc(r[a].getGui()))return!0;return!1}return n.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var o;const t=this.view.getFocusableContainers(),{nextIndex:r,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(n===-1||r<0||r>=t.length)return;const i=t[r];(o=i.setAllowFocus)==null||o.call(i,!0),setTimeout(()=>{var a;(a=i.setAllowFocus)==null||a.call(i,!1)})}getNextFocusableIndex(e,t){const r=or(this.beans),n=e.findIndex(o=>o.getGui().contains(r)),i=n+(t?-1:1);return{indexWithFocus:n,nextIndex:i}}focusContainer(e,t){var n,i;(n=e.setAllowFocus)==null||n.call(e,!0);const r=Gc(e.getGui(),t);return(i=e.setAllowFocus)==null||i.call(e,!1),r}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},ot=(e,t)=>{for(const r of Object.keys(t))t[r]=e;return t},r5={dispatchEvent:"CommunityCore",...ot("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0}),...ot("GridState",{getState:0}),...ot("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...ot("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...ot("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...ot("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...ot("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...ot("ValueCache",{expireValueCache:0}),...ot("CellApi",{getCellValue:0}),...ot("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...ot("Sort",{onSortChanged:0}),...ot("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0}),...ot("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...ot("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...ot("HighlightChanges",{flashCells:0}),...ot("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0}),...ot("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...ot("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...ot("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...ot("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...ot("ColumnResize",{setColumnWidths:0}),...ot("ColumnHover",{isColumnHovered:0}),...ot("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0}),...ot("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...ot("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...ot("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0}),...ot("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...ot("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...ot("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...ot("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...ot("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...ot("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...ot("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...ot("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...ot("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...ot("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...ot("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...ot("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...ot("ContextMenu",{showContextMenu:0}),...ot("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...ot("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...ot("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...ot("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...ot("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...ot("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...ot("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...ot("StatusBar",{getStatusPanel:0})},_T={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},BFe=(e,t)=>e.eventSvc.dispatchEvent(t),OX=class{};Reflect.defineProperty(OX,"name",{value:"GridApi"});var VFe=class extends ce{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new OX,this.fns={..._T,dispatchEvent:BFe},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(r5))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var i;const{fns:r,beans:n}=this;r!==_T&&(r[e]=((i=n==null?void 0:n.validation)==null?void 0:i.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:r,fns:{[e]:n}}=this;return n?n(r,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:r,preDestroyLink:n}=this;if(!t)be(26,{fnName:e,preDestroyLink:n});else{const i=r5[e];r.assertModuleRegistered(i,`api.${e}`)&&be(27,{fnName:e,module:i})}}destroy(){super.destroy(),this.fns=_T,this.beans=null}};function GFe(e){return e.context.getGridId()}function HFe(e){e.gridDestroySvc.destroy()}function WFe(e){return e.gridDestroySvc.destroyCalled}function $Fe(e,t){return e.gos.get(t)}function UFe(e,t,r){NX(e,{[t]:r})}function NX(e,t){e.gos.updateGridOptions({options:t})}var jFe=class extends Xt{constructor(e,t,r){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=r}postConstruct(){this.getGui().appendChild(qi("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:r,eCell:n,gos:i}=this,o=r.getColDef().dndSourceOnRowDrag,a=e.dataTransfer;if(a.setDragImage(n,0,0),o){const s=i.addGridCommonParams({rowNode:t,dragEvent:e});o(s)}else try{const s=JSON.stringify(t.data);a.setData("application/json",s),a.setData("text/plain",s)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function YFe(e,t){var r,n;(n=(r=e.rowDragSvc)==null?void 0:r.rowDragFeature)==null||n.addRowDropZone(t)}function KFe(e,t){var n,i;const r=(n=e.dragAndDrop)==null?void 0:n.findExternalZone(t);r&&((i=e.dragAndDrop)==null||i.removeDropTarget(r))}function XFe(e,t){var r,n;return(n=(r=e.rowDragSvc)==null?void 0:r.rowDragFeature)==null?void 0:n.getRowDropZone(t)}var qFe=class extends ce{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:r}=this.beans;return r.addDragSource(t),()=>r.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const r=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(r)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},ZFe=class extends Xt{constructor(e,t,r,n,i,o){super(),this.cellValueFn=e,this.rowNode=t,this.column=r,this.customGui=n,this.dragStartPixels=i,this.suppressVisibilityChange=o,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:r,gos:n}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(qi("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const i=n.get("rowDragManaged")?new JFe(this,t,r):new QFe(this,t,r);this.createManagedBean(i,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){var n;const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const r=((n=this.beans.selectionSvc)==null?void 0:n.getSelectedNodes())??[];return r.indexOf(e)!==-1?r:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n==null||n.preventDefault()}})[0]);const r=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var a;const n=this.getDragItem(),i=((a=n.rowNodes)==null?void 0:a.length)||1,o=this.getRowDragText(this.column);return o?o(n,i):i===1?this.cellValueFn():`${i} ${r("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},zX=class extends ce{constructor(e,t,r){super(),this.parent=e,this.rowNode=t,this.column=r}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let r=!0,n=!1;const{column:i,rowNode:o,parent:a}=this;i&&(r=i.isRowDrag(o)||a.isCustomGui(),n=typeof i.getColDef().rowDrag=="function"),n?(a.setDisplayed(!0,t),a.setVisible(r,t)):(a.setDisplayed(r,t),a.setVisible(!0,t))}}},QFe=class extends zX{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},JFe=class extends zX{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:r}=this.beans,n=e.rowDragFeature,i=n&&n.shouldPreventRowMove(),o=r.get("suppressRowDrag"),a=t.hasExternalDropZones(),s=i&&!a||o;this.setDisplayedOrVisible(s)}},eLe=class extends ce{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const r=t.createManagedBean(new lke(e)),n=this.beans.dragAndDrop;n.addDropTarget(r),t.addDestroyFunc(()=>n.removeDropTarget(r)),this.rowDragFeature=r}createRowDragComp(e,t,r,n,i,o){return new ZFe(e,t,r,n,i,o)}createRowDragCompForRow(e,t){if(Xl(this.gos))return;const r=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${r("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,r,n,i,o){const a=this.gos;return a.get("rowDragManaged")&&(!vn(a)||a.get("pagination"))?void 0:this.createRowDragComp(r,e,t,n,i,o)}},BX={moduleName:"Drag",version:De,beans:[uke]},tLe={moduleName:"DragAndDrop",version:De,dynamicBeans:{dndSourceComp:jFe},icons:{rowDrag:"grip"}},VX={moduleName:"SharedDragAndDrop",version:De,beans:[tke],dependsOn:[BX],userComponents:{agDragAndDropImage:sFe},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},rLe={moduleName:"RowDrag",version:De,beans:[eLe],apiFunctions:{addRowDropZone:YFe,removeRowDropZone:KFe,getRowDropZoneParams:XFe},dependsOn:[VX]},nLe={moduleName:"HorizontalResize",version:De,beans:[qFe],dependsOn:[BX]},iLe=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",oLe=class extends ce{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:r,executeLaterFuncs:n}=this;if(r.length===0&&n.length===0){e(),t();return}const i=o=>{for(;o.length;){const a=o.pop();a&&a()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(r)},0),window.setTimeout(()=>{t(),i(n)},200)})}};function aLe(e,t,r){var n;(n=e.colMoves)==null||n.moveColumnByIndex(t,r,"api")}function sLe(e,t,r){var n;(n=e.colMoves)==null||n.moveColumns(t,r,"api")}var lLe=class extends ce{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(r=>{r.isPrimary()&&(r.isAnyFunctionActive()||(r.isAllowValue()?this.columnsToAggregate.push(r):r.isAllowRowGroup()?this.columnsToGroup.push(r):r.isAllowPivot()&&this.columnsToPivot.push(r)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:r,pivotColsSvc:n}=this.beans;this.columnsToAggregate.length>0&&(t==null||t.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop")),this.columnsToGroup.length>0&&(r==null||r.addColumns(this.columnsToGroup,"toolPanelDragAndDrop")),this.columnsToPivot.length>0&&(n==null||n.addColumns(this.columnsToPivot,"toolPanelDragAndDrop"))}onDragCancel(){this.clearColumnsList()}};function uLe(e,t){!t||t.length<=1||t.filter(n=>e.indexOf(n)<0).length>0||t.sort((n,i)=>{const o=e.indexOf(n),a=e.indexOf(i);return o-a})}function GX(e){const{isFromHeader:t,fromLeft:r,xPosition:n,fromEnter:i,fakeEvent:o,pinned:a,gos:s,colModel:l,colMoves:u,visibleCols:c}=e;let{allMovingColumns:d}=e;if(t){const R=[];d.forEach(T=>{var I;let P=null,D=T.getParent();for(;D!=null&&D.getDisplayedLeafColumns().length===1;)P=D,D=D.getParent();P!=null?(!!((I=P.getColGroupDef())!=null&&I.marryChildren)?P.getProvidedColumnGroup().getLeafColumns():P.getLeafColumns()).forEach(L=>{R.includes(L)||R.push(L)}):R.includes(T)||R.push(T)}),d=R}const h=d.slice();uLe(l.getCols(),h);const f=fLe({movingCols:h,draggingRight:r,xPosition:n,pinned:a,gos:s,colModel:l,visibleCols:c}),g=cLe(h,l);if(f.length===0)return;const m=f[0];let y=g!==null&&!i;if(t&&(y=g!==null),y&&!o&&(!r&&m>=g||r&&m<=g))return;const C=c.allCols,w=[];let S=null;for(let R=0;R<f.length;R++){const T=f[R],P=u.getProposedColumnOrder(h,T);if(!u.doesOrderPassRules(P))continue;const D=P.filter(E=>C.includes(E));if(S===null)S=D;else if(!td(D,S))break;const I=dLe(P);w.push({move:T,fragCount:I})}if(w.length===0)return;w.sort((R,T)=>R.fragCount-T.fragCount);const x=w[0].move;if(!(x>l.getCols().length-d.length))return{columns:d,toIndex:x}}function HX(e){const{columns:t,toIndex:r}=GX(e)||{},{finished:n,colMoves:i}=e;return!t||r==null?null:(i.moveColumns(t,r,"uiColumnMoved",n),n?null:{columns:t,toIndex:r})}function cLe(e,t){const r=t.getCols(),n=pEe(e.map(l=>r.indexOf(l))),i=n[0];return xt(n)-i!==n.length-1?null:i}function dLe(e){function t(n){const i=[];let o=n.getOriginalParent();for(;o!=null;)i.push(o),o=o.getOriginalParent();return i}let r=0;for(let n=0;n<e.length-1;n++){let i=t(e[n]),o=t(e[n+1]);[i,o]=i.length>o.length?[i,o]:[o,i],i.forEach(a=>{o.indexOf(a)===-1&&r++})}return r}function hLe(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function fLe(e){const{movingCols:t,draggingRight:r,xPosition:n,pinned:i,gos:o,colModel:a,visibleCols:s}=e;if(o.get("suppressMovableColumns")||t.some(S=>S.getColDef().suppressMovable))return[];const u=hLe(s,i),c=a.getCols(),d=u.filter(S=>t.includes(S)),h=u.filter(S=>!t.includes(S)),f=c.filter(S=>!t.includes(S));let g=0,m=n;if(r){let S=0;d.forEach(x=>S+=x.getActualWidth()),m-=S}if(m>0){for(let S=0;S<h.length;S++){const x=h[S];if(m-=x.getActualWidth(),m<0)break;g++}r&&g++}let y;if(g>0){const S=h[g-1];y=f.indexOf(S)+1}else y=f.indexOf(h[0]),y===-1&&(y=0);const C=[y],w=(S,x)=>S-x;if(r){let S=y+1;const x=c.length-1;for(;S<=x;)C.push(S),S++;C.sort(w)}else{let S=y;const x=c.length-1;let R=c[S];for(;S<=x&&u.indexOf(R)<0;)S++,C.push(S),R=c[S];S=y-1;const T=0;for(;S>=T;)C.push(S),S--;C.sort(w).reverse()}return C}function pA(e){var u;const{pinned:t,fromKeyboard:r,gos:n,ctrlsSvc:i,useHeaderRow:o,skipScrollPadding:a}=e;let s=(u=i.getHeaderRowContainerCtrl(t))==null?void 0:u.eViewport,{x:l}=e;return s?(r&&(l-=s.getBoundingClientRect().left),n.get("enableRtl")&&(o&&(s=s.querySelector(".ag-header-row")),l=s.clientWidth-l),t==null&&!a&&(l+=i.get("center").getCenterViewportScrollLeft()),l):0}function TT(e,t){for(const r of e)r.moving=t,r.dispatchColEvent("movingChanged","uiColumnMoved")}var n5=7,gA=100,nw=gA/2,pLe=5,gLe=100,vLe=class extends ce{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!Te(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,r=(t==null?void 0:t.dragItem.columns)??[];for(const n of r){const i=n.getPinned();if(n.getColDef().lockPinned){if(i==e)return"move";continue}if(i===e||!e)return"move";if(!i&&e)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,r=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(r,!0,"uiColumnDragged");else{const i=t.visibleState,o=(r||[]).filter(a=>i[a.getId()]);this.setColumnsVisible(o,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(r,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,r=!1,n=!1){const{gos:i,ctrlsSvc:o}=this.beans,a=i.get("suppressMoveWhenColumnDragging");if(n&&!a){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!n&&Yt(e.hDirection))return;const s=pA({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:o});t||this.checkCenterForScrolling(s),a?this.handleColumnDragWhileSuppressingMovement(e,t,r,s,n):this.handleColumnDragWhileAllowingMovement(e,t,r,s,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,r){if(!e)return;const n=e.filter(i=>!i.getColDef().lockVisible);this.beans.colModel.setColsVisible(n,t,r)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:r}=e;this.beans.colMoves.moveColumns(t,r,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,r,n,i){const o=this.getAllMovingColumns(e,!0);if(i){const a=this.isAttemptingToPin(o);a&&this.attemptToPinColumns(o,void 0,!0);const{fromLeft:s,xPosition:l}=this.getNormalisedXPositionInfo(o,a)||{};if(s==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:o,xPosition:l,fromEnter:t,fakeEvent:r,fromLeft:s})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(o,n)}}handleColumnDragWhileAllowingMovement(e,t,r,n,i){const o=this.getAllMovingColumns(e),a=this.normaliseDirection(e.hDirection)==="right",s=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:o,isFromHeader:s,xPosition:n,fromLeft:a,fromEnter:t,fakeEvent:r}),u=HX({...l,finished:i});u&&(this.lastMovedInfo=u)}getAllMovingColumns(e,t=!1){const r=e.dragSource.getDragItem();let n=null;t?(n=r.columnsInSplit,n||(n=r.columns)):n=r.columns;const i=o=>o.getColDef().lockPinned?o.getPinned()==this.pinned:!0;return n?n.filter(i):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:r,xPosition:n,fromLeft:i,fromEnter:o,fakeEvent:a}=e,{gos:s,colModel:l,colMoves:u,visibleCols:c}=this.beans;return{allMovingColumns:t,isFromHeader:r,fromLeft:i,xPosition:n,pinned:this.pinned,fromEnter:o,fakeEvent:a,gos:s,colModel:l,colMoves:u,visibleCols:c}}highlightHoveredColumn(e,t){var c;const{gos:r,colModel:n}=this.beans,i=r.get("enableRtl"),o=n.getCols().filter(d=>d.isVisible()&&d.getPinned()===this.pinned);let a=null,s=null,l=null;for(const d of o){if(s=d.getActualWidth(),a=this.getNormalisedColumnLeft(d,0,i),a!=null){const h=a+s;if(a<=t&&h>=t){l=d;break}}a=null,s=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let d=o.length-1;d>=0;d--){const h=o[d],f=o[d].getParent();if(!f){l=h;break}const g=f==null?void 0:f.getDisplayedLeafColumns();if(g.length){l=xt(g);break}}if(!l)return;a=this.getNormalisedColumnLeft(l,0,i),s=l.getActualWidth()}if(((c=this.lastHighlightedColumn)==null?void 0:c.column)!==l&&this.clearHighlighted(),l==null||a==null||s==null)return;let u;t-a<s/2!==i?u=0:u=1,i5(l,u),this.lastHighlightedColumn={column:l,position:u}}getNormalisedXPositionInfo(e,t){const{gos:r,visibleCols:n}=this.beans,i=r.get("enableRtl"),{firstMovingCol:o,column:a,position:s}=this.getColumnMoveAndTargetInfo(e,t,i);if(!o||!a||s==null)return;const l=n.allCols,u=l.indexOf(o),c=l.indexOf(a),d=s===0!==i,h=u<c||u===c&&!d;let f=0;if(d?h&&(f-=1):h||(f+=1),c+f===u)return;const g=l[c+f];if(!g)return;const m=this.getNormalisedColumnLeft(g,20,i);return{fromLeft:h,xPosition:m}}getColumnMoveAndTargetInfo(e,t,r){const n=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:o}=mLe(e);if(!i||!o||n.column||!t)return{firstMovingCol:i,...n};const s=this.getPinDirection()==="left";return{firstMovingCol:i,position:s?1:0,column:s!==r?i:o}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,r){const{gos:n,ctrlsSvc:i}=this.beans,o=e.getLeft();if(o==null)return null;const a=e.getActualWidth();return pA({x:r?o+a-t:o+t,pinned:e.getPinned(),useHeaderRow:r,skipScrollPadding:!0,gos:n,ctrlsSvc:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,r=this.failedMoveAttempts>n5;return t&&r||e.some(n=>n.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:r,fromEnter:n,fakeEvent:i,fromLeft:o}=e,a=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:r,fromLeft:o,fromEnter:n,fakeEvent:i}),{columns:s,toIndex:l}=GX(a)||{};s&&l!=null&&(this.lastMovedInfo={columns:s,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(i5(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),r=t.getCenterViewportScrollLeft(),n=r+t.getCenterWidth();let i,o;this.gos.get("enableRtl")?(i=e<r+nw,o=e>n-nw):(o=e<r+nw,i=e>n-nw),this.needToMoveRight=i,this.needToMoveLeft=o,o||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),gLe),(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName(),!1))}moveInterval(){var n,i;let e;this.intervalCount++,e=10+this.intervalCount*pLe,e>gA&&(e=gA);let t=null;const r=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=r.scrollHorizontally(-e):this.needToMoveRight&&(t=r.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:o,dragAndDrop:a,gos:s}=this.beans;if(this.failedMoveAttempts<=n5+1||!o)return;if((n=a.getDragAndDropImageComponent())==null||n.setIcon("pinned",!1),!s.get("suppressMoveWhenColumnDragging")){const l=(i=this.lastDraggingEvent)==null?void 0:i.dragItem.columns;this.attemptToPinColumns(l,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,r=!1){const n=(e||[]).filter(a=>!a.getColDef().lockPinned);if(!n.length)return 0;r&&(t=this.getPinDirection());const{pinnedCols:i,dragAndDrop:o}=this.beans;return i==null||i.setColsPinned(n,t,"uiColumnDragged"),r&&o.nudge(),n.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function i5(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function mLe(e){const t=e.length;let r,n;for(let i=0;i<=t;i++){if(!r){const o=e[i];o.getLeft()!=null&&(r=o)}if(!n){const o=e[t-1-i];o.getLeft()!=null&&(n=o)}if(r&&n)break}return{firstMovingCol:r,lastMovingCol:n}}var yLe=class extends ce{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,r=this.pinned;e.whenReady(this,n=>{let i;const o=n.gridBodyCtrl.eBodyViewport;switch(r){case"left":i=[[o,n.left.eContainer],[n.bottomLeft.eContainer],[n.topLeft.eContainer]];break;case"right":i=[[o,n.right.eContainer],[n.bottomRight.eContainer],[n.topRight.eContainer]];break;default:i=[[o,n.center.eViewport],[n.bottomCenter.eViewport],[n.topCenter.eViewport]];break}this.eSecondaryContainers=i}),this.moveColumnFeature=this.createManagedBean(new vLe(r)),this.bodyDropPivotTarget=this.createManagedBean(new lLe(r)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},CLe=class extends ce{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,r){const n=this.beans.colModel.getCols();if(!n)return;const i=n[e];this.moveColumns([i],t,r)}moveColumns(e,t,r,n=!0){const{colModel:i,colAnimation:o,visibleCols:a,eventSvc:s}=this.beans,l=i.getCols();if(!l)return;if(t>l.length-e.length){be(30,{toIndex:t});return}o==null||o.start();const u=i.getColsForKeys(e);this.doesMovePassRules(u,t)&&(UW(i.getCols(),u,t),a.refresh(r),s.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,toIndex:t,finished:n,source:r})),o==null||o.finish()}doesMovePassRules(e,t){const r=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(r)}doesOrderPassRules(e){const{colModel:t,gos:r}=this.beans;return!(!UK(e,t.getColTree())||!(i=>{const o=u=>u?u==="left"||u===!0?-1:1:0,a=r.get("enableRtl");let s=a?1:-1,l=!0;return i.forEach(u=>{const c=o(u.getColDef().lockPosition);a?c>s&&(l=!1):c<s&&(l=!1),s=c}),l})(e))}getProposedColumnOrder(e,t){const n=this.beans.colModel.getCols().slice();return UW(n,e,t),n}createBodyDropTarget(e,t){return new yLe(e,t)}moveHeader(e,t,r,n,i){const{ctrlsSvc:o,gos:a,colModel:s,visibleCols:l,focusSvc:u}=this.beans,c=t.getBoundingClientRect(),d=c.left,h=tr(r),f=h?c.width:r.getActualWidth(),g=e==="left"!==a.get("enableRtl"),m=pA({x:g?d-20:d+f+20,pinned:n,fromKeyboard:!0,gos:a,ctrlsSvc:o}),y=u.focusedHeader;HX({allMovingColumns:h?r.getLeafColumns():[r],isFromHeader:!0,fromLeft:e==="right",xPosition:m,pinned:n,fromEnter:!1,fakeEvent:!1,gos:a,colModel:s,colMoves:this,visibleCols:l,finished:!0});let C;if(h){const w=r.getDisplayedLeafColumns();C=g?w[0]:xt(w)}else C=r;if(o.getScrollFeature().ensureColumnVisible(C,"auto"),(!i.isAlive()||a.get("ensureDomOrder"))&&y){let w;if(h){const S=r.getGroupId(),x=r.getLeafColumns();if(!x.length)return;const R=x[0].getParent();if(!R)return;w=wLe(R,S)}else w=r;w&&u.focusHeaderPosition({headerPosition:{...y,column:w}})}}setDragSourceForHeader(e,t,r){const{gos:n,colModel:i,dragAndDrop:o,visibleCols:a}=this.beans;let s=!n.get("suppressDragLeaveHidesColumns");const l=tr(t),u=l?t.getProvidedColumnGroup().getLeafColumns():[t],d={type:1,eElement:e,getDefaultIconName:()=>s?"hide":"notAllowed",getDragItem:l?()=>SLe(t,a.allCols):()=>bLe(t),dragItemName:r,onDragStarted:()=>{s=!n.get("suppressDragLeaveHidesColumns"),TT(u,!0)},onDragStopped:()=>TT(u,!1),onDragCancelled:()=>TT(u,!1),onGridEnter:h=>{if(s){const{columns:f=[],visibleState:g}=h??{},m=l?C=>!g||g[C.getColId()]:()=>!0,y=f.filter(C=>!C.getColDef().lockVisible&&m(C));i.setColsVisible(y,!0,"uiColumnMoved")}},onGridExit:h=>{var f;if(s){const g=((f=h==null?void 0:h.columns)==null?void 0:f.filter(m=>!m.getColDef().lockVisible))||[];i.setColsVisible(g,!1,"uiColumnMoved")}}};return o.addDragSource(d,!0),d}};function wLe(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function bLe(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}function SLe(e,t){const r=e.getProvidedColumnGroup().getLeafColumns(),n={};r.forEach(s=>n[s.getId()]=s.isVisible());const i=[];t.forEach(s=>{r.indexOf(s)>=0&&(i.push(s),Ho(r,s))}),r.forEach(s=>i.push(s));const o=[],a=e.getLeafColumns();for(const s of i)a.indexOf(s)!==-1&&o.push(s);return{columns:i,columnsInSplit:o,visibleState:n}}var xLe={moduleName:"ColumnMove",version:De,beans:[CLe,oLe],apiFunctions:{moveColumnByIndex:aLe,moveColumns:sLe},dependsOn:[VX],css:[iLe]},RLe=class extends ce{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const r=this.getHeaderCellForColumn(e);if(!r)return-1;const n=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||n.push(r),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const r=this.centerRowContainerCtrl.eContainer;e.forEach(o=>this.cloneItemIntoDummy(o,t)),r.appendChild(t);const n=t.offsetWidth;r.removeChild(t);const i=this.gos.get("autoSizePadding");return n+i}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(r=>{const n=r.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}),t}cloneItemIntoDummy(e,t){const r=e.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";const n=document.createElement("div"),i=n.classList;["ag-header-cell","ag-header-group-cell"].some(s=>r.classList.contains(s))?(i.add("ag-header","ag-header-row"),n.style.position="static"):i.add("ag-row");let a=e.parentElement;for(;a;){if(["ag-header-row","ag-row"].some(l=>a.classList.contains(l))){for(let l=0;l<a.classList.length;l++){const u=a.classList[l];u!="ag-row-position-absolute"&&i.add(u)}break}a=a.parentElement}n.appendChild(r),t.appendChild(n)}},WX={moduleName:"AutoWidth",version:De,beans:[RLe]};function _Le(e,t,r=!0,n="api"){var i;(i=e.colResize)==null||i.setColumnWidths(t,!1,r,n)}var TLe=class extends ce{constructor(e,t,r,n){super(),this.comp=e,this.eResize=t,this.pinned=r,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:r}=this.beans,n=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(n),!t.get("suppressAutoSize")&&r&&this.addDestroyFunc(r.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:r,resizeRatios:n,groupAfterColumns:i,groupAfterStartWidth:o,groupAfterRatios:a}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=r,this.resizeRatios=n,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=a,this.toggleColumnResizing(!0)}onResizing(e,t,r="uiColumnResized"){const n=this.normaliseDragChange(t),i=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(i,r,e)}getInitialValues(e){var l;const t=u=>u.reduce((c,d)=>c+d.getActualWidth(),0),r=(u,c)=>u.map(d=>d.getActualWidth()/c),n=this.getColumnsToResize(),i=t(n),o=r(n,i),a={columnsToResize:n,resizeStartWidth:i,resizeRatios:o};let s=null;if(e&&(s=((l=this.beans.colGroupSvc)==null?void 0:l.getGroupAtDirection(this.columnGroup,"After"))??null),s){const u=s.getDisplayedLeafColumns(),c=a.groupAfterColumns=u.filter(h=>h.isResizable()),d=a.groupAfterStartWidth=t(c);a.groupAfterRatios=r(c,d)}else a.groupAfterColumns=void 0,a.groupAfterStartWidth=void 0,a.groupAfterRatios=void 0;return a}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),r=this.getInitialValues();t>r.resizeStartWidth&&this.resizeColumns(r,t,e,!0)}resizeColumnsFromLocalValues(e,t,r=!0){if(!this.resizeCols||!this.resizeRatios)return;const n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(n,e,t,r)}resizeColumns(e,t,r,n=!0){var d;const{columnsToResize:i,resizeStartWidth:o,resizeRatios:a,groupAfterColumns:s,groupAfterStartWidth:l,groupAfterRatios:u}=e,c=[];if(c.push({columns:i,ratios:a,width:t}),s){const h=t-o;c.push({columns:s,ratios:u,width:l-h})}(d=this.beans.colResize)==null||d.resizeColumnSets({resizeSets:c,finished:n,source:r}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},PLe=class extends ce{constructor(e,t,r,n,i){super(),this.pinned=e,this.column=t,this.eResize=r,this.comp=n,this.ctrl=i}postConstruct(){const e=[];let t,r;const n=()=>{if(rr(this.eResize,t),!t)return;const{horizontalResizeSvc:a,colAutosize:s}=this.beans,l=a.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),r&&s&&e.push(s.addColumnAutosize(this.eResize,this.column))},i=()=>{e.forEach(a=>a()),e.length=0},o=()=>{const a=this.column.isResizable(),s=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(a!==t||s!==r)&&(t=a,r=s,i(),n())};o(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",o)}onResizing(e,t){const{column:r,lastResizeAmount:n,resizeStartWidth:i,beans:o}=this,a=this.normaliseResizeAmount(t),s=i+a,l=[{key:r,newWidth:s}],{pinnedCols:u,ctrlsSvc:c,colResize:d}=o;if(this.column.getPinned()){const h=(u==null?void 0:u.leftWidth)??0,f=(u==null?void 0:u.rightWidth)??0,g=Bv(c.getGridBodyCtrl().eBodyViewport)-50;if(h+f+(a-n)>g)return}this.lastResizeAmount=a,d==null||d.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const r=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?r&&(t*=-1):n&&(t*=-1),t}},DLe=class extends ce{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,r,n){const i=[],{colModel:o,gos:a,visibleCols:s}=this.beans;e.forEach(l=>{const u=o.getColDefCol(l.key)||o.getCol(l.key);if(!u)return;if(i.push({width:l.newWidth,ratios:[1],columns:[u]}),a.get("colResizeDefault")==="shift"&&(t=!t),t){const d=s.getColAfter(u);if(!d)return;const h=u.getActualWidth()-l.newWidth,f=d.getActualWidth()+h;i.push({width:f,ratios:[1],columns:[d]})}}),i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:r,source:n})}resizeColumnSets(e){const{resizeSets:t,finished:r,source:n}=e;if(!(!t||t.every(c=>ALe(c)))){if(r){const c=t&&t.length>0?t[0].columns:null;nf(this.eventSvc,c,r,n)}return}const o=[],a=[];t.forEach(c=>{const{width:d,columns:h,ratios:f}=c,g={},m={};h.forEach(w=>a.push(w));let y=!0,C=0;for(;y;){if(C++,C>1e3){kt(31);break}y=!1;const w=[];let S=0,x=d;h.forEach((T,P)=>{if(m[T.getId()])x-=g[T.getId()];else{w.push(T);const I=f[P];S+=I}});const R=1/S;w.forEach((T,P)=>{const D=P===w.length-1;let I;D?I=x:(I=Math.round(f[P]*d*R),x-=I);const E=T.getMinWidth(),k=T.getMaxWidth();I<E?(I=E,m[T.getId()]=!0,y=!0):k>0&&I>k&&(I=k,m[T.getId()]=!0,y=!0),g[T.getId()]=I})}h.forEach(w=>{const S=g[w.getId()];w.getActualWidth()!==S&&(w.setActualWidth(S,n),o.push(w))})});const s=o.length>0;let l=[];if(s){const{colFlex:c,visibleCols:d,colViewport:h}=this.beans;l=(c==null?void 0:c.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0}))??[],d.setLeftValues(n),d.updateBodyWidths(),h.checkViewportColumns()}const u=a.concat(l);(s||r)&&nf(this.eventSvc,u,r,n,l)}resizeHeader(e,t,r){if(!e.isResizable())return;const n=e.getActualWidth(),i=e.getMinWidth(),o=e.getMaxWidth(),a=Math.min(Math.max(n+t,i),o);this.setColumnWidths([{key:e,newWidth:a}],r,!0,"uiColumnResized")}createResizeFeature(e,t,r,n,i){return new PLe(e,t,r,n,i)}createGroupResizeFeature(e,t,r,n){return new TLe(e,t,r,n)}};function ALe(e){const{columns:t,width:r}=e;let n=0,i=0,o=!0;t.forEach(l=>{const u=l.getMinWidth();n+=u||0;const c=l.getMaxWidth();c>0?i+=c:o=!1});const a=r>=n,s=!o||r<=i;return a&&s}var ILe={moduleName:"ColumnResize",version:De,beans:[DLe],apiFunctions:{setColumnWidths:_Le},dependsOn:[nLe,WX]},ELe=class extends ce{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},MLe=class extends nk{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,r,n,i){const{column:o,beans:a}=this,{context:s,colNames:l,colHover:u,colResize:c}=a;this.comp=e,i=_m(this,s,i),this.setGui(t,i),this.displayName=l.getDisplayNameForColumnGroup(o,"header"),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.setupAutoHeight({wrapperElement:n,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const d=this.rowCtrl.pinned,h=o.getProvidedColumnGroup().getLeafColumns();u==null||u.createHoverFeature(i,h,t),i.createManagedBean(new rk(o,t,a)),i.createManagedBean(new ELe(e,o)),c?this.resizeFeature=i.createManagedBean(c.createGroupResizeFeature(e,r,d,o)):e.setResizableDisplayed(!1),i.createManagedBean(new Nf(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,h),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,r=e.get("groupHeaderHeight");r!=null?r===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(r):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const r of t)e.addManagedListeners(r,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,r)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),r=t[0]===e,n=xt(t)===e;if(!r&&!n)return;const i=e.getHighlighted(),o=!!this.rowCtrl.findHeaderCellCtrl(l=>l.column.isMoving());let a=!1,s=!1;if(o){const l=this.beans.gos.get("enableRtl"),u=i===1,c=i===0;r&&(l?s=u:a=c),n&&(l?a=c:s=u)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",a),this.comp.addOrRemoveCssClass("ag-header-highlight-after",s)}resizeHeader(e,t){const{resizeFeature:r}=this;if(!r)return;const n=r.getInitialValues(t);r.resizeColumns(n,n.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){var t;(t=this.resizeFeature)==null||t.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:r}=this.beans,n=r.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:o=>{e.setColumnGroupOpened(this.column.getProvidedColumnGroup(),o,"gridInitializing")},setTooltip:(o,a)=>{r.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,a)}}),i=nMe(t,n);i&&this.comp.setUserCompDetails(i)}addHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),r=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),n=i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:r,contextmenu:n})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){var r;this.tooltipFeature=(r=this.beans.tooltipSvc)==null?void 0:r.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const r=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:r,expandableChanged:r})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}addClasses(){const{column:e}=this,t=e.getColGroupDef(),r=lX(t,this.gos,null,e);e.isPadding()?(r.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&r.push("ag-header-span-height")):(r.push("ag-header-group-cell-with-group"),t!=null&&t.wrapHeaderText&&r.push("ag-header-cell-wrap-text")),r.forEach(n=>this.comp.addOrRemoveCssClass(n,!0))}setupMovingCss(e){const{column:t}=this,n=t.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",t.isMoving());n.forEach(o=>{e.addManagedListeners(o,{movingChanged:i})}),i()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===ue.ENTER){const r=this.column,n=!r.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(r.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){var t;!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function kLe(e,t,r){var n;(n=e.colGroupSvc)==null||n.setColumnGroupOpened(t,r,"api")}function FLe(e,t,r){var n;return((n=e.colGroupSvc)==null?void 0:n.getColumnGroup(t,r))??null}function LLe(e,t){var r;return((r=e.colGroupSvc)==null?void 0:r.getProvidedColGroup(t))??null}function OLe(e,t,r){return e.colNames.getDisplayNameForColumnGroup(t,r)||""}function NLe(e){var t;return((t=e.colGroupSvc)==null?void 0:t.getColumnGroupState())??[]}function zLe(e,t){var r;(r=e.colGroupSvc)==null||r.setColumnGroupState(t,"api")}function BLe(e){var t;(t=e.colGroupSvc)==null||t.resetColumnGroupState("api")}function VLe(e){return e.visibleCols.treeLeft}function GLe(e){return e.visibleCols.treeCenter}function HLe(e){return e.visibleCols.treeRight}function WLe(e){return e.visibleCols.getAllTrees()}function $Le(e,t){for(let r=0;r<t.length;r++){const n=e.indexOf(t[r]);n>=0&&(e[n]=e[e.length-1],e.pop())}}var ULe=class extends ce{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){var s;const{colModel:r,colGroupSvc:n,colViewport:i}=this.beans;t||this.buildTrees(r,n),n==null||n.updateOpenClosedVisibility();const o=PT(this.treeLeft);this.leftCols=o,this.centerCols=PT(this.treeCenter);const a=PT(this.treeRight);this.rightCols=a,this.joinColsAriaOrder(r),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(l=>l.isAutoHeight()),(s=this.beans.colFlex)==null||s.refreshFlexedColumns(),this.updateBodyWidths(),i.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(r,o,a,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){const e=ss(this.centerCols),t=ss(this.leftCols),r=ss(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==r)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=r,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,r,n){let i,o;this.gos.get("enableRtl")?(i=t?t[0]:null,o=r?xt(r):null):(i=t?xt(t):null,o=r?r[0]:null),e.getCols().forEach(a=>{a.setLastLeftPinned(a===i,n),a.setFirstRightPinned(a===o,n)})}buildTrees(e,t){const r=e.getColsToShow(),n=r.filter(l=>l.getPinned()=="left"),i=r.filter(l=>l.getPinned()=="right"),o=r.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),a=new nX,s=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=s({columns:n,idCreator:a,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=s({columns:i,idCreator:a,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=s({columns:o,idCreator:a,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),r=[],n=[],i=[];for(const o of t){const a=o.getPinned();a?a===!0||a==="left"?r.push(o):i.push(o):n.push(o)}this.ariaOrderColumns=r.concat(n).concat(i)}getAriaColIndex(e){let t;return tr(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{tr(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const n=t.getCols().slice(0),i=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(o=>{if(i){let a=ss(o);o.forEach(s=>{a-=s.getActualWidth(),s.setLeft(a,e)})}else{let a=0;o.forEach(s=>{s.setLeft(a,e),a+=s.getActualWidth()})}$Le(n,o)}),n.forEach(o=>{o.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:r}}=this;return r.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:r}}=this;return r.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,r,n){const i=[];let o=null;for(let a=0;a<t.length;a++){const s=t[a],l=t.length-a,u=Math.min(s.getColSpan(e),l),c=[s];if(u>1){const h=u-1;for(let f=1;f<=h;f++)c.push(t[a+f]);a+=h}let d;r?(d=!1,c.forEach(h=>{r(h)&&(d=!0)})):d=!0,d&&(i.length===0&&o&&(n&&n(s))&&i.push(o),i.push(s)),o=s}return i}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,r=t.indexOf(e);return r>0?t[r-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};_c(this.treeCenter,!1,e),_c(this.treeLeft,!1,e),_c(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let r=0;r<t.length;r++){const n=this[t[r]];if(n.length)return e?xt(n):n[0]}return null}getColAfter(e){const t=this.allCols,r=t.indexOf(e);return r<t.length-1?t[r+1]:null}getColsLeftWidth(){return ss(this.leftCols)}getDisplayedColumnsRightWidth(){return ss(this.rightCols)}isColAtEdge(e,t){const r=this.allCols;if(!r.length)return!1;const n=t==="first";let i;if(tr(e)){const o=e.getDisplayedLeafColumns();if(!o.length)return!1;i=n?o[0]:xt(o)}else i=e;return(n?r[0]:xt(r))===i}};function _c(e,t,r){if(e)for(let n=0;n<e.length;n++){const i=e[n];if(tr(i)){const o=t?i.getDisplayedChildren():i.getChildren();_c(o,t,r)}r(i)}}function PT(e){const t=[];return _c(e,!0,r=>{ql(r)&&t.push(r)}),t}var jLe=class extends ce{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return Cs(null,t,r=>{kn(r)&&e.push({groupId:r.getGroupId(),open:r.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const r=[];Cs(null,t,n=>{if(kn(n)){const i=n.getColGroupDef(),o={groupId:n.getGroupId(),open:i?i.openByDefault:void 0};r.push(o)}}),this.setColumnGroupState(r,e)}setColumnGroupState(e,t){const{colModel:r,colAnimation:n,visibleCols:i,eventSvc:o}=this.beans;if(!r.getColTree())return;n==null||n.start();const s=[];e.forEach(l=>{const u=l.groupId,c=l.open,d=this.getProvidedColGroup(u);d&&d.isExpanded()!==c&&(d.setExpanded(c),s.push(d))}),i.refresh(t,!0),s.length&&o.dispatchEvent({type:"columnGroupOpened",columnGroup:s.length===1?s[0]:void 0,columnGroups:s}),n==null||n.finish()}setColumnGroupOpened(e,t,r){let n;kn(e)?n=e.getId():n=e||"",this.setColumnGroupState([{groupId:n,open:t}],r)}getProvidedColGroup(e){let t=null;return Cs(null,this.beans.colModel.getColTree(),r=>{kn(r)&&r.getId()===e&&(t=r)}),t}getGroupAtDirection(e,t){const r=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),i=t==="After"?xt(n):n[0],o=`getCol${t}`;for(;;){const a=this.beans.visibleCols[o](i);if(!a)return null;const s=this.getColGroupAtLevel(a,r);if(s!==e)return s}}getColGroupAtLevel(e,t){let r=e.getParent(),n,i;for(;n=r.getProvidedColumnGroup().getLevel(),i=r.getPaddingLevel(),!(n+i<=t);)r=r.getParent();return r}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();_c(e,!1,t=>{tr(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(tr(e))return e;const r=this.beans.visibleCols.getAllTrees(),n=typeof t=="number";let i=null;return _c(r,!1,o=>{if(tr(o)){const a=o;let s;n?s=e===a.getGroupId()&&t===a.getPartId():s=e===a.getGroupId(),s&&(i=a)}}),i}createColumnGroups(e){const{columns:t,idCreator:r,pinned:n,oldDisplayedGroups:i,isStandaloneStructure:o}=e,a=this.mapOldGroupsById(i),s=[];let l=t;for(;l.length;){const u=l;l=[];let c=0;const d=h=>{const f=c;c=h;const g=u[f],y=(tr(g)?g.getProvidedColumnGroup():g).getOriginalParent();if(y==null){for(let w=f;w<h;w++)s.push(u[w]);return}const C=this.createColumnGroup(y,r,a,n,o);for(let w=f;w<h;w++)C.addChild(u[w]);l.push(C)};for(let h=1;h<u.length;h++){const f=u[h],m=(tr(f)?f.getProvidedColumnGroup():f).getOriginalParent(),y=u[c],w=(tr(y)?y.getProvidedColumnGroup():y).getOriginalParent();m!==w&&d(h)}c<u.length&&d(u.length)}return o||this.setupParentsIntoCols(s,null),s}createProvidedColumnGroup(e,t,r,n,i,o,a){const s=i.getUniqueKey(t.groupId||null,null),l=this.createMergedColGroupDef(t,s),u=new Ow(l,s,!1,r);this.createBean(u);const c=this.findExistingGroup(t,o);c&&o.splice(c.idx,1);const d=c==null?void 0:c.group;d&&u.setExpanded(d.isExpanded());const h=tX(this.beans,l.children,r+1,e,n,i,o,a);return u.setChildren(h),u}balanceColumnTree(e,t,r,n){const i=[];for(let o=0;o<e.length;o++){const a=e[o];if(kn(a)){const s=a,l=this.balanceColumnTree(s.getChildren(),t+1,r,n);s.setChildren(l),i.push(s)}else{let s,l;for(let u=r-1;u>=t;u--){const c=n.getUniqueKey(null,null),d=this.createMergedColGroupDef(null,c),h=new Ow(d,c,!0,t);this.createBean(h),l&&l.setChildren([h]),l=h,s||(s=l)}if(s&&l)if(i.push(s),e.some(c=>kn(c))){l.setChildren([a]);continue}else{l.setChildren(e);break}i.push(a)}}return i}findDepth(e){let t=0,r=e;for(;r&&r[0]&&kn(r[0]);)t++,r=r[0].getChildren();return t}findMaxDepth(e,t){let r=t;for(let n=0;n<e.length;n++){const i=e[n];if(kn(i)){const o=i,a=this.findMaxDepth(o.getChildren(),t+1);r<a&&(r=a)}}return r}balanceTreeForAutoCols(e,t){const r=[];return e.forEach(n=>{let i=n;for(let o=t-1;o>=0;o--){const a=new Ow(null,`FAKE_PATH_${n.getId()}}_${o}`,!0,o);this.createBean(a),a.setChildren([i]),i.originalParent=a,i=a}t===0&&(n.originalParent=null),r.push(i)}),r}createMergedColGroupDef(e,t){const r={},{gos:n,validation:i}=this.beans;return Object.assign(r,n.get("defaultColGroupDef")),Object.assign(r,e),i==null||i.validateColDef(r,t),r}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){const i=t[n];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:n,group:i}}}createColumnGroup(e,t,r,n,i){const o=e.getGroupId(),a=t.getInstanceIdForKey(o),s=mX(o,a);let l=r[s];return l&&l.getProvidedColumnGroup()!==e&&(l=null),Te(l)?l.reset():(l=new yX(e,o,a,n),i||this.createBean(l)),l}mapOldGroupsById(e){const t={},r=n=>{n.forEach(i=>{if(tr(i)){const o=i;t[i.getUniqueId()]=o,r(o.getChildren())}})};return e&&r(e),t}setupParentsIntoCols(e,t){e.forEach(r=>{if(r.parent=t,tr(r)){const n=r;this.setupParentsIntoCols(n.getChildren(),n)}})}},YLe={moduleName:"ColumnGroup",version:De,dynamicBeans:{headerGroupCellCtrl:MLe},beans:[jLe],apiFunctions:{getAllDisplayedColumnGroups:WLe,getCenterDisplayedColumnGroups:GLe,getColumnGroup:FLe,getColumnGroupState:NLe,getDisplayNameForColumnGroup:OLe,getLeftDisplayedColumnGroups:VLe,getProvidedColumnGroup:LLe,getRightDisplayedColumnGroups:HLe,resetColumnGroupState:BLe,setColumnGroupOpened:kLe,setColumnGroupState:zLe}},KLe={moduleName:"CheckboxCellRenderer",version:De,userComponents:{agCheckboxCellRenderer:dFe}};function XLe(e,t){const r=e.colModel.getColDefCol(t);return r?r.getColDef():null}function qLe(e){return e.colModel.getColumnDefs()}function ZLe(e,t,r){return e.colNames.getDisplayNameForColumn(t,r)||""}function QLe(e,t){return e.colModel.getColDefCol(t)}function JLe(e){return e.colModel.getColDefCols()}function eOe(e,t){return Fo(e,t,"api")}function tOe(e){return $v(e)}function rOe(e){mEe(e,"api")}function nOe(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function iOe(e){return e.visibleCols.isPinningLeft()}function oOe(e){return e.visibleCols.isPinningRight()}function aOe(e,t){return e.visibleCols.getColAfter(t)}function sOe(e,t){return e.visibleCols.getColBefore(t)}function lOe(e,t,r){e.colModel.setColsVisible(t,r,"api")}function uOe(e,t,r){var n;(n=e.pinnedCols)==null||n.setColsPinned(t,r,"api")}function cOe(e){return e.colModel.getCols()}function dOe(e){return e.visibleCols.leftCols}function hOe(e){return e.visibleCols.centerCols}function fOe(e){return e.visibleCols.rightCols}function pOe(e){return e.visibleCols.allCols}function gOe(e){return e.colViewport.getViewportColumns()}function vA(e,t){if(!e)return;const r=e,n={};return Object.keys(r).forEach(i=>{if(t&&t.indexOf(i)>=0||HK.has(i))return;const o=r[i];typeof o=="object"&&o!==null&&o.constructor===Object?n[i]=vA(o):n[i]=o}),n}var vOe=class extends ce{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,r,n){var s,l;const i=e.slice();t?i.sort((u,c)=>r.indexOf(u)-r.indexOf(c)):r&&i.sort((u,c)=>n.indexOf(u)-n.indexOf(c));const o=(s=this.rowGroupColsSvc)==null?void 0:s.columns,a=(l=this.pivotColsSvc)==null?void 0:l.columns;return this.buildColumnDefs(i,o,a)}buildColumnDefs(e,t=[],r=[]){const n=[],i={};return e.forEach(o=>{const a=this.createDefFromColumn(o,t,r);let s=!0,l=a,u=o.getOriginalParent(),c=null;for(;u;){let d=null;if(u.isPadding()){u=u.getOriginalParent();continue}const h=i[u.getGroupId()];if(h){h.children.push(l),s=!1;break}if(d=this.createDefFromGroup(u),d&&(d.children=[l],i[d.groupId]=d,l=d,u=u.getOriginalParent()),u!=null&&c===u){s=!1;break}c=u}s&&n.push(l)}),n}createDefFromGroup(e){const t=vA(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,r){const n=vA(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?r.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}},mOe=class extends ce{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const r=this.flexViewportWidth;if(!r)return[];const{visibleCols:n}=this.beans,i=n.centerCols;let o=-1;if(e.resizingCols){const g=new Set(e.resizingCols);for(let m=i.length-1;m>=0;m--)if(g.has(i[m])){o=m;break}}let a=!1;const s=i.map((g,m)=>{const y=g.getFlex(),C=y!=null&&y>0&&m>o;return a||(a=C),{col:g,isFlex:C,flex:Math.max(0,y??0),initialSize:g.getActualWidth(),min:g.getMinWidth(),max:g.getMaxWidth(),targetSize:0}});if(!a)return[];let l=s.length,u=s.reduce((g,m)=>g+m.flex,0),c=r;const d=(g,m)=>{g.frozenSize=m,g.col.setActualWidth(m,t),c-=m,u-=g.flex,l-=1},h=g=>g.frozenSize!=null;for(const g of s)g.isFlex||d(g,g.initialSize);for(;l>0;){const g=Math.round(u<1?c*u:c);let m,y=0,C=0;for(const x of s){if(h(x))continue;m=x,C+=g*(x.flex/u);const R=C-y,T=Math.round(R);x.targetSize=T,y+=T}m&&(m.targetSize+=g-y);let w=0;for(const x of s){if(h(x))continue;const R=x.targetSize,T=Math.min(Math.max(R,x.min),x.max);w+=T-R,x.violationType=T===R?void 0:T<R?"max":"min",x.targetSize=T}const S=w===0?"all":w>0?"min":"max";for(const x of s)h(x)||(S==="all"||x.violationType===S)&&d(x,x.targetSize)}e.skipSetLeft||n.setLeftValues(t),e.updateBodyWidths&&n.updateBodyWidths();const f=s.filter(g=>g.isFlex&&!g.violationType).map(g=>g.col);if(e.fireResizedEvent){const g=s.filter(y=>y.initialSize!==y.frozenSize).map(y=>y.col),m=s.filter(y=>y.flex).map(y=>y.col);nf(this.eventSvc,g,!0,t,m)}return f}initCol(e){const{flex:t,initialFlex:r}=e.colDef;t!==void 0?e.flex=t:r!==void 0&&(e.flex=r)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},yOe=class extends ce{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(Lh(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;const r={};this.formatValueFuncs=r;const n=a=>s=>{const{column:l,node:u,value:c}=s;let d=l.getColDef().valueFormatter;return d===a.groupSafeValueFormatter&&(d=a.valueFormatter),this.beans.valueSvc.formatValue(l,u,c,d)};Object.entries(e).forEach(([a,s])=>{const l={...s,groupSafeValueFormatter:s5(s,this.gos)};t[a]=l,r[a]=n(l)});const i=this.gos.get("dataTypeDefinitions")??{},o={};this.dataTypeMatchers=o,Object.entries(i).forEach(([a,s])=>{const l=this.processDataTypeDefinition(s,i,[a],e);l&&(t[a]=l,s.dataTypeMatcher&&(o[a]=s.dataTypeMatcher),r[a]=n(l))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(a=>{const s=o[a];s&&delete o[a],o[a]=s??e[a].dataTypeMatcher})}processDataTypeDefinition(e,t,r,n){let i;const o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let a=n[o];const s=t[o];if(a&&s&&(a=s),!a5(e,a,o))return;i=o5(a,e)}else{if(r.includes(o)){be(44);return}const a=t[o];if(!a5(e,a,o))return;const s=this.processDataTypeDefinition(a,t,[...r,o],n);if(!s)return;i=o5(s,e)}return{...i,groupSafeValueFormatter:s5(i,this.gos)}}updateColDefAndGetColumnType(e,t,r){let{cellDataType:n}=t;const{field:i}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(i,r):!1),!n){e.cellDataType=!1;return}const o=this.dataTypeDefinitions[n];if(!o){be(47,{cellDataType:n});return}return e.cellDataType=n,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,o,r),o.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const r=n=>{t.add(n.key)};e.addEventListener("columnStateUpdated",r),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",r))}canInferCellDataType(e,t){const{gos:r}=this;if(!vn(r))return!1;const n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(DT(t,n))return!1;const i=t.type===null?e.type:t.type;if(i){const o=r.get("columnTypes")??{};if(sb(i).some(s=>{const l=o[s.trim()];return l&&DT(l,n)}))return!1}return!DT(e,n)}inferCellDataType(e,t){if(!e)return;let r;const n=this.getInitialData();if(n){const o=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");r=qg(n,e,o)}else this.initWaitForRowData(t);if(r==null)return;const[i]=Object.entries(this.dataTypeMatchers).find(([o,a])=>a(r))??["object"];return i}getInitialData(){var t;const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const r=(t=this.beans.rowModel.rootNode)==null?void 0:t.allLeafChildren;if(r!=null&&r.length)return r[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:r,eventSvc:n}=this.beans;t&&r&&(r.shouldQueueResizeOperations=!0);const[i]=this.addManagedEventListeners({rowDataUpdateStarted:o=>{const{firstRowData:a}=o;a&&(i==null||i(),this.isPendingInference=!1,this.processColumnsPendingInference(a,t),this.columnStateUpdatesPendingInference={},t&&(r==null||r.processResizeOperations()),n.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const r=[];this.destroyColumnStateUpdateListeners();const n={},i={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([o,a])=>{const s=this.colModel.getCol(o);if(!s)return;const l=s.getColDef();if(!this.resetColDefIntoCol(s,"cellDataTypeInferred"))return;const u=s.getColDef();if(t&&u.type&&u.type!==l.type){const c=wOe(s,a);c.rowGroup&&c.rowGroupIndex==null&&(n[o]=c),c.pivot&&c.pivotIndex==null&&(i[o]=c),r.push(c)}}),t&&r.push(...this.generateColumnStateForRowGroupAndPivotIndexes(n,i)),r.length&&Fo(this.beans,{state:r},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const r={},{rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;return n==null||n.restoreColumnOrder(r,e),i==null||i.restoreColumnOrder(r,t),Object.values(r)}resetColDefIntoCol(e,t){const r=e.getUserProvidedColDef();if(!r)return!1;const n=sA(this.beans,r,e.getColId());return e.setColDef(n,r,t),!0}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,r=e.object;this.hasObjectValueParser=t.valueParser!==r.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==r.valueFormatter}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var n;if(t==null)return!0;const r=(n=this.getDataTypeDefinition(e))==null?void 0:n.dataTypeMatcher;return r?r(t):!0}validateColDef(e){const t=r=>be(48,{property:r});if(e.cellDataType==="object"){const{object:r}=this.dataTypeDefinitions;e.valueFormatter===r.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===r.valueParser&&!this.hasObjectValueParser&&t("Parser")}}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,r,n){var o;const i=this.formatValueFuncs[t];switch(r.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=a=>!!a.colDef.editable&&a.event.key===ue.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=i;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=i;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(a,s)=>{const l=this.colModel.getColDefCol(n),u=l==null?void 0:l.getColDef();if(!l||!u)return 0;const c=a==null?"":i({column:l,node:null,value:a}),d=s==null?"":i({column:l,node:null,value:s});return c===d?0:c>d?1:-1},e.keyCreator=i;break}}(o=this.beans.filterManager)==null||o.setColDefPropertiesForDataType(e,r,i)}getDefaultDataTypes(){const e=r=>!!r.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:r=>{var n,i;return((i=(n=r.newValue)==null?void 0:n.trim)==null?void 0:i.call(n))===""?null:Number(r.newValue)},valueFormatter:r=>r.value==null?"":typeof r.value!="number"||isNaN(r.value)?t("invalidNumber","Invalid Number"):String(r.value),dataTypeMatcher:r=>typeof r=="number"},text:{baseDataType:"text",valueParser:r=>r.newValue===""?null:eA(r.newValue),dataTypeMatcher:r=>typeof r=="string"},boolean:{baseDataType:"boolean",valueParser:r=>{var n,i;return r.newValue==null?r.newValue:((i=(n=r.newValue)==null?void 0:n.trim)==null?void 0:i.call(n))===""?null:String(r.newValue).toLowerCase()==="true"},valueFormatter:r=>r.value==null?"":String(r.value),dataTypeMatcher:r=>typeof r=="boolean"},date:{baseDataType:"date",valueParser:r=>ii(r.newValue==null?null:String(r.newValue)),valueFormatter:r=>r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?t("invalidDate","Invalid Date"):ro(r.value,!1)??"",dataTypeMatcher:r=>r instanceof Date},dateString:{baseDataType:"dateString",dateParser:r=>ii(r)??void 0,dateFormatter:r=>ro(r??null,!1)??void 0,valueParser:r=>e(String(r.newValue))?r.newValue:null,valueFormatter:r=>e(String(r.value))?r.value:"",dataTypeMatcher:r=>typeof r=="string"&&e(r)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:r=>eA(r.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function o5(e,t){const r={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(r.columnTypes=[...sb(e.columnTypes),...sb(t.columnTypes)]),r}function a5(e,t,r){return t?t.baseDataType!==e.baseDataType?(be(46),!1):!0:(be(45,{parentCellDataType:r}),!1)}function s5(e,t){if(e.valueFormatter)return r=>{var n,i;if((n=r.node)!=null&&n.group){const o=(r.colDef.pivotValueColumn??r.column).getAggFunc();if(o){if(o==="first"||o==="last")return e.valueFormatter(r);if(e.baseDataType==="number"&&o!=="count"){if(typeof r.value=="number")return e.valueFormatter(r);if(typeof r.value=="object"){if(!r.value)return;if("toNumber"in r.value)return e.valueFormatter({...r,value:r.value.toNumber()});if("value"in r.value)return e.valueFormatter({...r,value:r.value.value})}}return}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return}else if(t.get("groupHideOpenParents")&&r.column.isRowGroupActive()&&typeof r.value=="string"&&!((i=e.dataTypeMatcher)!=null&&i.call(e,r.value)))return;return e.valueFormatter(r)}}function COe(e,t,r,n){if(!t[r])return!1;const i=e[r];return i===null?(t[r]=!1,!1):n===void 0?!!i:i===n}function DT(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([r,n])=>COe(e,t,r,n))}function wOe(e,t){const r=XK(e);return t.forEach(n=>{delete r[n],n==="rowGroup"?delete r.rowGroupIndex:n==="pivot"&&delete r.pivotIndex}),r}var bOe={moduleName:"DataType",version:De,beans:[yOe],dependsOn:[KLe]},SOe={moduleName:"ColumnFlex",version:De,beans:[mOe]},xOe={moduleName:"ColumnApi",version:De,beans:[vOe],apiFunctions:{getColumnDef:XLe,getDisplayNameForColumn:ZLe,getColumn:QLe,getColumns:JLe,applyColumnState:eOe,getColumnState:tOe,resetColumnState:rOe,isPinning:nOe,isPinningLeft:iOe,isPinningRight:oOe,getDisplayedColAfter:aOe,getDisplayedColBefore:sOe,setColumnsVisible:lOe,setColumnsPinned:uOe,getAllGridColumns:cOe,getDisplayedLeftColumns:dOe,getDisplayedCenterColumns:hOe,getDisplayedRightColumns:fOe,getAllDisplayedColumns:pOe,getAllDisplayedVirtualColumns:gOe,getColumnDefs:qLe}};function ROe(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,r=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(r,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}var _Oe=class extends ce{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,r=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return r&&i?i.getHeaderName(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,r){const n=t==null?void 0:t.getColGroupDef();return n?this.getHeaderName(n,null,e,t,r):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,r,n,i){var a;const o=e.headerValueGetter;if(o){const s=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:r,providedColumnGroup:n,location:i});return typeof o=="function"?o(s):typeof o=="string"?((a=this.beans.expressionSvc)==null?void 0:a.evaluate(o,s))??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return ROe(e.field)}return""}},TOe=class extends ce{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,r=!1){const{visibleCols:n}=this,i=n.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,n.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const a=n.bodyWidth;this.viewportLeft=a-t-e,this.viewportRight=a-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(r)}}getHeadersToRender(e,t){let r;switch(e){case"left":r=this.rowsOfHeadersToRenderLeft[t];break;case"right":r=this.rowsOfHeadersToRenderRight[t];break;default:r=this.rowsOfHeadersToRenderCenter[t];break}return r||[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||POe(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,r=t+e.getActualWidth(),n=this.viewportLeft-200,i=this.viewportRight+200,o=t<n&&r<n,a=t>i&&r>i;return!o&&!a}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=o=>{const a=o.getLeft();return Te(a)&&a>this.viewportLeft},r=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:n}=this,i=n.centerCols;return n.getColsForRow(e,i,r,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);const e={},{leftCols:t,rightCols:r,treeLeft:n,treeRight:i,treeCenter:o}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(r).forEach(l=>e[l.getId()]=!0);const s=(l,u,c)=>{let d=!1;for(let h=0;h<l.length;h++){const f=l[h];let g=!1;if(ql(f))g=e[f.getId()]===!0;else{const y=f.getDisplayedChildren();y&&(g=s(y,u,c+1))}g&&(d=!0,u[c]||(u[c]=[]),u[c].push(f))}return d};s(n,this.rowsOfHeadersToRenderLeft,0),s(i,this.rowsOfHeadersToRenderRight,0),s(o,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),r=this.colsWithinViewportHash!==t;return r&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),r}};function POe(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var DOe=class extends ce{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class r{refresh(){return!1}getGui(){return this.eGui}init(i){const o=t(i),a=typeof o;if(a==="string"||a==="number"||a==="boolean"){this.eGui=Vv("<span>"+o+"</span>");return}if(o==null){this.eGui=Vv("<span></span>");return}this.eGui=o}}return r}},AOe={moduleName:"CellRendererFunction",version:De,beans:[DOe]},IOe=class extends ce{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");e!=null&&Object.entries(e).forEach(([t,r])=>{this.jsComps[t]=r})}registerModule(e){const{icons:t,userComponents:r,dynamicBeans:n,selectors:i}=e;if(r){const o=(a,s,l)=>{this.agGridDefaults[a]=s,l&&(this.agGridDefaultParams[a]=l)};for(const a of Object.keys(r)){const s=r[a];typeof s=="object"?o(a,s.classImp,s.params):o(a,s)}}if(n)for(const o of Object.keys(n))this.dynamicBeans[o]=n[o];if(i==null||i.forEach(o=>{this.selectors[o.selector]=o}),t)for(const o of Object.keys(t))this.icons[o]=t[o]}getUserComponent(e,t){var s;const r=(l,u,c)=>({componentFromFramework:u,component:l,params:c}),{frameworkOverrides:n}=this.beans,i=n.frameworkComponent(t,this.gos.get("components"));if(i!=null)return r(i,!0);const o=this.jsComps[t];if(o){const l=n.isFrameworkComponent(o);return r(o,l)}const a=this.agGridDefaults[t];return a?r(a,!1,this.agGridDefaultParams[t]):((s=this.beans.validation)==null||s.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null)}createDynamicBean(e,t,...r){const n=this.dynamicBeans[e];if(n==null){if(t)throw new Error(Bl(256));return}return new n(...r)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},EOe=23,MOe=class extends ce{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){var e,t;this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(r=>r(this.params)),this.readyCallbacks.length=0)},((t=(e=this.beans.frameworkOverrides).runWhenReadyAsync)==null?void 0:t.call(e))??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===EOe&&e.every(t=>(t==null?void 0:t.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const r=this.readyCallbacks.indexOf(t);r>=0&&this.readyCallbacks.splice(r,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:r}=this.params;return[e,r,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},kOe=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom,.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-floating-bottom{border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);height:var(--ag-row-height);white-space:nowrap;width:100%;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px))}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row-hover.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}:where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:var(--ag-border-radius);cursor:pointer;font-family:inherit;padding:var(--ag-spacing) calc(var(--ag-spacing)*2);&:hover{background-color:var(--ag-row-hover-color)}&:active{border-color:var(--ag-accent-color)}&:disabled{background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{&:hover{background-color:var(--ag-icon-button-hover-color);border-radius:1px;box-shadow:0 0 0 4px var(--ag-icon-button-hover-color)}}.ag-filter-active{--ag-icon-button-hover-color:color-mix(in srgb,transparent,var(--ag-accent-color) 28%);background-color:color-mix(in srgb,transparent,var(--ag-accent-color) 14%);border-radius:1px;outline:solid 4px color-mix(in srgb,transparent,var(--ag-accent-color) 14%);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z")}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}:where(.ag-ltr) :where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize}&.ag-resizer-topRight{cursor:nesw-resize}&.ag-resizer-bottomRight{cursor:nwse-resize}&.ag-resizer-bottomLeft{cursor:nesw-resize}}:where(.ag-rtl) :where(.ag-resizer){&.ag-resizer-topLeft{cursor:nesw-resize}&.ag-resizer-topRight{cursor:nwse-resize}&.ag-resizer-bottomRight{cursor:nesw-resize}&.ag-resizer-bottomLeft{cursor:nwse-resize}}',z3,B3,lk=typeof window!="object"||!((B3=(z3=window==null?void 0:window.document)==null?void 0:z3.fonts)!=null&&B3.forEach),mA=new WeakMap,sf=(e,t,r)=>{if(lk)return;const n=t.getRootNode()===document?document.head:t;let i=mA.get(n);if(i||(i={css:new Set},mA.set(n,i)),i.css.has(e))return;const o=document.createElement("style");o.dataset.agGlobalCss=r,o.textContent=e,i.last?i.last.insertAdjacentElement("afterend",o):n.insertBefore(o,n.querySelector(":not(title, meta)")),i.css.add(e),i.last=o},$X=e=>{sf(kOe,e,"core"),Array.from(xMe()).sort((t,r)=>t.moduleName.localeCompare(r.moduleName)).forEach(t=>{var r;return(r=t.css)==null?void 0:r.forEach(n=>sf(n,e,`module-${t.moduleName}`))})},yA=new Set,FOe=e=>{yA.add(e)},LOe=e=>{if(yA.delete(e),yA.size===0){mA=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},xn=e=>new UX(e),wl="$default",OOe=0,UX=class{constructor({feature:e,params:t,modeParams:r={},css:n,cssImports:i}){this.feature=e,this.css=n,this.cssImports=i,this.modeParams={[wl]:{...r[wl]??{},...t??{}},...r}}use(e){let t=this._inject;if(t==null){let{css:r}=this;if(r){const n=`ag-theme-${this.feature??"part"}-${++OOe}`;typeof r=="function"&&(r=r()),r=`:where(.${n}) {
${r}
}
`;for(const i of this.cssImports??[])r=`@import url(${JSON.stringify(i)});
${r}`;t={css:r,class:n}}else t=!1;this._inject=t}return t&&e&&sf(t.css,e,t.class),t?t.class:!1}},NOe=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),jX=e=>`--ag-${NOe(e)}`,Ms=e=>`var(${jX(e)})`,zOe=(e,t,r)=>Math.max(t,Math.min(r,e)),BOe=e=>{const t=new Map;return r=>{const n=r;return t.has(n)||t.set(n,e(r)),t.get(n)}},bl=e=>({ref:"accentColor",mix:e}),Jn=e=>({ref:"foregroundColor",mix:e}),Zi=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),VOe={ref:"foregroundColor"},ws={ref:"accentColor"},lf={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:Jn(.15),chromeBackgroundColor:Zi(.02),browserColorScheme:"light"},GOe={...lf,textColor:VOe,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:{ref:"backgroundColor"},sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:ws,rangeSelectionBackgroundColor:bl(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:bl(.5),rowHoverColor:bl(.08),columnHoverColor:bl(.05),selectedRowBackgroundColor:bl(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:{ref:"backgroundColor"},borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:{ref:"backgroundColor"},dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:Jn(.7),focusShadow:{spread:3,color:bl(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"iconSize + widgetVerticalSpacing"},iconSize:16,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:ws,toggleButtonOffBackgroundColor:Zi(.3),toggleButtonSwitchBackgroundColor:{ref:"backgroundColor"},toggleButtonSwitchInset:2,menuBorder:{color:Jn(.2)},menuBackgroundColor:Zi(.03),menuTextColor:Zi(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:Jn(.8),iconButtonHoverColor:Jn(.1),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:ws},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:Jn(.2)},panelBackgroundColor:{ref:"backgroundColor"},panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:Jn(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:Jn(.13)},selectCellBackgroundColor:Jn(.07),selectCellBorder:{color:Jn(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterToolPanelGroupIndent:{ref:"spacing"},iconButtonHoverBackgroundColor:Jn(.1),rowLoadingSkeletonEffectColor:Jn(.15)},HOe=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],WOe=BOe(e=>(e=e.toLowerCase(),HOe.find(t=>e.endsWith(t.toLowerCase()))??"length")),RS=e=>typeof e=="string"?e:typeof e=="number"?String(e):!1,uk=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=Ms(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Ms(e.onto):"transparent"}, ${t} ${zOe(e.mix*100,0,100)}%)`}return!1},$Oe=RS,Ch=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?[a-z][a-z0-9]*\b(?![-(])/gi,r=>r[0]==="-"?r:` ${Ms(r)} `)})`:e&&"ref"in e?Ms(e.ref):!1,UOe=RS,jOe=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?Ms(e.ref):YX(e.style??"solid")+" "+Ch(e.width??1)+" "+uk(e.color??{ref:"borderColor"}),YOe=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Ms(e.ref):[Ch(e.offsetX??0),Ch(e.offsetY??0),Ch(e.radius??0),Ch(e.spread??0),uk(e.color??{ref:"foregroundColor"})].join(" "),YX=RS,KX=e=>typeof e=="string"?e:e&&"googleFont"in e?KX(e.googleFont):e&&"ref"in e?Ms(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),KOe(t))).join(", "):!1,KOe=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),XOe=RS,XX=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?XX({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Ms(e.ref):!1,qOe=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&kt(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Ms(e.ref):!1,ZOe={color:uk,colorScheme:$Oe,length:Ch,scale:UOe,border:jOe,borderStyle:YX,shadow:YOe,image:XX,fontFamily:KX,fontWeight:XOe,duration:qOe},QOe=(e,t)=>{const r=WOe(e);return ZOe[r](t,e)},JOe=()=>new qX,qX=class ZX{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof UX?new ZX([...this.parts,t]):(rA(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(xn({feature:t}))}withParams(t,r=wl){return this.withPart(xn({modeParams:{[r]:t}}))}_startUse({container:t,loadThemeGoogleFonts:r}){if(lk)return;t2e(),$X(t);const n=e2e(this);if(n.length>0)for(const i of n)r&&n2e(i);for(const i of this.parts)i.use(t)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=l5(this.parts).map(t=>t.use()).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const r={[wl]:{...GOe}};for(const n of l5(this.parts))for(const[i,o]of Object.entries(n.modeParams))if(o){const a=r[i]??(r[i]={}),s=new Set;for(const[l,u]of Object.entries(o))u!==void 0&&(a[l]=u,s.add(l));if(i===wl){for(const[l,u]of Object.entries(r))if(l!==wl)for(const c of s)delete u[c]}}this._paramsCache=t=r}return t}_getPerGridCss(t){const r="##SELECTOR##";let n=this._paramsCssCache;if(!n){let i="",o="";for(const[s,l]of Object.entries(this._getModeParams())){if(s!==wl){const c=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(s):s}"]) & {
`;i+=c,o+=c}for(const[u,c]of Object.entries(l)){const d=QOe(u,c);if(d===!1)kt(107,{key:u,value:c});else{const h=jX(u),f=h.replace("--ag-","--ag-inherited-");i+=`	${h}: var(${f}, ${d});
`,o+=`	${f}: var(${h});
`}}s!==wl&&(i+=`}
`,o+=`}
`)}let a=`${r} {
${i}}
`;a+=`:has(> ${r}):not(${r}) {
${o}}
`,this._paramsCssCache=n=a}return n.replaceAll(r,`:where(.${t})`)}},l5=e=>{const t=new Map;for(const n of e)t.set(n.feature,n);const r=[];for(const n of e)(!n.feature||t.get(n.feature)===n)&&r.push(n);return r},e2e=e=>{const t=new Set,r=o=>{if(Array.isArray(o))o.forEach(r);else{const a=o==null?void 0:o.googleFont;typeof a=="string"&&t.add(a)}};return Object.values(e._getModeParams()).flatMap(o=>Object.values(o)).forEach(r),Array.from(t).sort()},u5=!1,t2e=()=>{if(!u5){u5=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},r2e=new Set,n2e=async e=>{r2e.add(e);const t=`@import url('https://${i2e}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;sf(t,document.head,`googleFont:${e}`)},i2e="fonts.googleapis.com",o2e='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',a2e=xn({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:{ref:"backgroundColor"},checkboxUncheckedBorderColor:Zi(.3),checkboxCheckedBackgroundColor:ws,checkboxCheckedBorderColor:ws,checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:{ref:"backgroundColor"},checkboxIndeterminateBackgroundColor:Zi(.3),checkboxIndeterminateBorderColor:Zi(.3),checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:{ref:"backgroundColor"},radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:o2e});({...lf});({...lf});var ck={...lf,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Zi(.05),rowHoverColor:bl(.15),selectedRowBackgroundColor:bl(.2),menuBackgroundColor:Zi(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",checkboxUncheckedBorderColor:Zi(.4),toggleButtonOffBackgroundColor:Zi(.4)},s2e=xn({feature:"colorScheme",params:ck}),l2e={...ck,backgroundColor:"#1f2836"},u2e=xn({feature:"colorScheme",params:lf,modeParams:{light:lf,dark:ck,"dark-blue":l2e}}),c2e=':where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}',QX={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},JX={"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>'},d2e=(e={})=>{let t=c2e;for(const r of[...Object.keys(QX),...Object.keys(JX)]){const n=h2e(r,e.strokeWidth);t+=`.ag-icon-${r}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(n)}'); }
`}return t},h2e=(e,t=1.5)=>{const r=JX[e];if(r)return r;const n=QX[e];if(!n)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+n+"</svg>"},f2e=(e={})=>xn({feature:"iconSet",css:()=>d2e(e)}),p2e=f2e(),dk=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}:where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',g2e=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){&:focus{box-shadow:var(--ag-focus-shadow)}}",v2e=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){border-left:none;border-right:none;border-top:none}",hk={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"}};xn({feature:"inputStyle",params:hk,css:dk});var m2e=xn({feature:"inputStyle",params:{...hk,inputBackgroundColor:{ref:"backgroundColor"},inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:ws},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Zi(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}}},css:()=>dk+g2e});({...hk,inputBorder:Jn(.3)});var Dm='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',y2e=".ag-tab{border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;border-top:var(--ag-tab-selected-border-width) solid transparent;flex:0;&.ag-tab-selected{border-left-color:var(--ag-tab-selected-border-color);border-right-color:var(--ag-tab-selected-border-color);border-top-color:var(--ag-tab-selected-border-color);margin-bottom:-1px;padding-bottom:calc(var(--ag-tab-bottom-padding) + 1px)}}",Am={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1};xn({feature:"tabStyle",params:Am,css:Dm});var C2e=xn({feature:"tabStyle",params:{...Am,tabBarBorder:!0,tabBarBackgroundColor:Jn(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:{ref:"backgroundColor"}},css:Dm});({...Am});({...Am});({...Am});var eq=JOe().withPart(a2e).withPart(u2e).withPart(p2e).withPart(C2e).withPart(()=>m2e).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),c5={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},d5={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},h5={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},AT={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},w2e=0,b2e=class extends ce{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++w2e}`,this.globalCSS=[]}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(c5),this.getSizeEl(d5),this.getSizeEl(h5),this.getSizeEl(AT),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>LOe(this))}getDefaultRowHeight(){return this.getCSSVariablePixelValue(c5)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(d5)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(h5)}getRowBorderWidth(){return this.getCSSVariablePixelValue(AT)}applyThemeClasses(e){const{gridTheme:t}=this;let r="";if(t)r=`${this.paramsClass} ${t._getCssClass()}`;else{let n=this.eGridDiv;for(;n;){for(const i of Array.from(n.classList))i.startsWith("ag-theme-")&&(r=r?`${r} ${i}`:i);n=n.parentElement}}for(const n of Array.from(e.classList))n.startsWith("ag-theme-")&&e.classList.remove(n);if(r){const n=e.className;e.className=n+(n?" ":"")+r}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),r=this.gos.get("rowHeight");if(r==null||isNaN(r)||!isFinite(r))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const n=`${r}px`;return t!=n?(e.style.setProperty("--ag-line-height",n),r):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?sf(e,this.eGridDiv,t):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const r=this.measureSizeEl(e);return r==="detached"||r==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,r),r)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const r=t.offsetWidth;return r===IT?"no-styles":(this.sizesMeasured=!0,r)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=document.createElement("div"),e.className="ag-measurement-container",this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const r=this.getMeasurementContainer();t=document.createElement("div");const{border:n}=e;n?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${IT}px`)):t.style.width=`var(${e.cssName}, ${IT}px)`,r.appendChild(t),this.sizeEls.set(e,t);let i=this.measureSizeEl(e);i==="no-styles"&&be(9,{variable:e});const o=Os(this.beans,t,()=>{const a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==i&&(i=a,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(AT);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:r,gridTheme:n}=this,i=e.get("theme");let o;if(i==="legacy")o=void 0;else{const a=i??eq;a instanceof qX?o=a:kt(240,{theme:a})}if(o!==n){if(o){FOe(this),$X(t);for(const[s,l]of r)sf(s,t,l);r.length=0}this.gridTheme=o,o==null||o._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:t});let a=this.eParamsStyle;a||(a=this.eParamsStyle=document.createElement("style"),t.appendChild(a)),lk||(a.textContent=(o==null?void 0:o._getPerGridCss(this.paramsClass))||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}o&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&kt(i?106:239)}},IT=15538,S2e=class extends ce{constructor(){super(...arguments),this.beanName="eventSvc",this.globalEventService=new Ff}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,r){this.globalEventService.addEventListener(e,t,r)}removeEventListener(e,t,r){this.globalEventService.removeEventListener(e,t,r)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}};function tq(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function CA(e,t){let r;if(tr(e)&&tq(e)&&e.isPadding()){const n=e;r=n.getLeafColumns()[0];let i=r;for(;i!==n;)t++,i=i.getParent()}return{column:r||e,headerRowIndex:t}}var x2e=class extends ce{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,r=>{this.gridBodyCon=r.gridBodyCtrl});const t=dr(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let r;const{colModel:n,colGroupSvc:i,ctrlsSvc:o}=this.beans;if(typeof e=="string"?(r=n.getCol(e),r||(r=(i==null?void 0:i.getColumnGroup(e))??null)):r=e,!r)return null;const a=o.getHeaderRowContainerCtrl(),s=a==null?void 0:a.getAllCtrls(),l=xt(s||[]).type==="filter",u=ps(this.beans)-1;let c=-1,d=r;for(;d;)c++,d=d.getParent();let h=c;return t&&l&&h===u-1&&h++,h===-1?null:{headerRowIndex:h,column:r}}navigateVertically(e,t,r){const n=this.beans.focusSvc;if(t||(t=n.focusedHeader),!t)return!1;const{headerRowIndex:i}=t,o=t.column,a=ps(this.beans),s=e==="UP",l=this.getHeaderRowType(i);let{headerRowIndex:u,column:c,headerRowIndexWithoutSpan:d}=s?R2e(l,o,i):_2e(l,o,i),h=!1;return u<0&&(u=0,c=o,h=!0),u>=a?(u=-1,this.currentHeaderRowWithoutSpan=-1):d!==void 0&&(this.currentHeaderRowWithoutSpan=d),!h&&!c?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:c},allowUserOverride:!0,event:r})}navigateHorizontally(e,t=!1,r){const{focusSvc:n,gos:i}=this.beans,o=n.focusedHeader;let a,s;if(this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,e==="LEFT"!==i.get("enableRtl")?(s="Before",a=this.findHeader(o,s)):(s="After",a=this.findHeader(o,s)),a||!t)return n.focusHeaderPosition({headerPosition:a,direction:s,fromTab:t,allowUserOverride:!0,event:r});if(t){const l=i.getCallback("tabToNextHeader");if(l)return n.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:a,direction:s})}return this.focusNextHeaderRow(o,s,r)}focusNextHeaderRow(e,t,r){const n=e.headerRowIndex;let i=null,o;const a=this.beans;if(t==="Before"?n>0&&(o=n-1,this.currentHeaderRowWithoutSpan-=1,i=this.findColAtEdgeForHeaderRow(o,"end")):(o=n+1,this.currentHeaderRowWithoutSpan<ps(a)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,i=this.findColAtEdgeForHeaderRow(o,"start")),!i)return!1;const{column:s,headerRowIndex:l}=CA(i.column,i==null?void 0:i.headerRowIndex);return a.focusSvc.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:l},direction:t,fromTab:!0,allowUserOverride:!0,event:r})}scrollToColumn(e,t="After"){if(e.getPinned())return;let r;if(tr(e)){const n=e.getDisplayedLeafColumns();r=t==="Before"?xt(n):n[0]}else r=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(r)}findHeader(e,t){let r,n;const{colGroupSvc:i,visibleCols:o}=this.beans;if(tr(e.column)?r=(i==null?void 0:i.getGroupAtDirection(e.column,t))??void 0:(n=`getCol${t}`,r=o[n](e.column)),!r)return;const{headerRowIndex:a}=e;if(this.getHeaderRowType(a)!=="filter"){const u=[r];for(;r.getParent();)r=r.getParent(),u.push(r);r=u[Math.max(0,u.length-1-a)]}const{column:s,headerRowIndex:l}=CA(r,a);return{column:s,headerRowIndex:l}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const{visibleCols:r,ctrlsSvc:n,colGroupSvc:i}=this.beans,o=r.allCols,a=o[t==="start"?0:o.length-1];if(!a)return;const s=n.getHeaderRowContainerCtrl(a.getPinned()),l=s==null?void 0:s.getRowType(e);if(l=="group"){const u=i==null?void 0:i.getColGroupAtLevel(a,e);return{headerRowIndex:e,column:u}}return{headerRowIndex:l==null?-1:e,column:a}}};function R2e(e,t,r){const n=e==="filter",i=e==="column";let o=n?t:t.getParent(),a=r-1,s=a;if(i&&tq(t.getParent())){for(;o&&o.isPadding();)o=o.getParent(),a--;s=a,a<0&&(o=t,a=r,s=void 0)}return{column:o,headerRowIndex:a,headerRowIndexWithoutSpan:s}}function _2e(e,t,r,n="After"){let i=t,o=r+1;const a=o;if(e==="group"){const s=t.getDisplayedLeafColumns(),l=n==="After"?s[0]:xt(s),u=[];let c=l;for(;c.getParent()!==t;)c=c.getParent(),u.push(c);if(i=l,l.isSpanHeaderHeight())for(let d=u.length-1;d>=0;d--){const h=u[d];if(!h.isPadding()){i=h;break}o++}else i=xt(u),i||(i=l)}return{column:i,headerRowIndex:o,headerRowIndexWithoutSpan:a}}var T2e=class extends ce{constructor(){super(...arguments),this.beanName="focusSvc"}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(LMe(this.beans))}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCell||this.isDomDataMissingInHierarchy(or(this.beans),Yv)?null:this.focusedCell}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||this.isDomDataMissingInHierarchy(or(this.beans),IX)?null:this.focusedHeader}isDomDataMissingInHierarchy(e,t){let r=e;for(;r;){if(nb(this.gos,r,t))return!1;r=r.parentNode}return!0}getFocusedCell(){return this.focusedCell}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCell=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCell=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(e,t){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(e),t())})}isCellRestoreFocused(e){return this.restoredFocusedCell==null?!1:uA(e,this.restoredFocusedCell)}setRestoreFocusedCell(e){this.beans.frameworkOverrides.renderingEngine==="react"&&(this.restoredFocusedCell=e)}getFocusEventParams(e){const{rowIndex:t,rowPinned:r,column:n}=e,i={rowIndex:t,rowPinned:r,column:n,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:r});return o&&(i.isFullWidthCell=o.isFullWidth()),i}clearFocusedCell(){if(this.restoredFocusedCell=null,this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){const{column:t,rowIndex:r,rowPinned:n,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:o=!1}=e,a=this.colModel.getCol(t);if(!a){this.focusedCell=null;return}this.focusedCell={rowIndex:r,rowPinned:ms(n),column:a},this.eventSvc.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCell),forceBrowserFocus:i,preventScrollOnBrowserFocus:o})}isCellFocused(e){return this.focusedCell==null?!1:uA(e,this.focusedCell)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:r,pinned:n}}=e,{column:i,headerRowIndex:o}=this.focusedHeader;return t===i&&r===o&&n==i.getPinned()}focusHeaderPosition(e){var l;if(Nh(this.beans))return!1;const{direction:t,fromTab:r,allowUserOverride:n,event:i,fromCell:o,rowWithoutSpanValue:a}=e;let{headerPosition:s}=e;if(o&&((l=this.filterManager)!=null&&l.isAdvFilterHeaderActive()))return this.focusAdvancedFilter(s);if(n){const u=this.focusedHeader,c=ps(this.beans);if(r){const d=this.gos.getCallback("tabToNextHeader");d&&(s=this.getHeaderPositionFromUserFunc({userFunc:d,direction:t,currentPosition:u,headerPosition:s,headerRowCount:c}))}else{const d=this.gos.getCallback("navigateToNextHeader");if(d&&i){const h={key:i.key,previousHeaderPosition:u,nextHeaderPosition:s,headerRowCount:c,event:i};s=d(h)}}}return s?this.focusProvidedHeaderPosition({headerPosition:s,direction:t,event:i,fromCell:o,rowWithoutSpanValue:a}):!1}focusHeaderPositionFromUserFunc(e){if(Nh(this.beans))return!1;const{userFunc:t,headerPosition:r,direction:n,event:i}=e,o=this.focusedHeader,a=ps(this.beans),s=this.getHeaderPositionFromUserFunc({userFunc:t,direction:n,currentPosition:o,headerPosition:r,headerRowCount:a});return!!s&&this.focusProvidedHeaderPosition({headerPosition:s,direction:n,event:i})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:r,currentPosition:n,headerPosition:i,headerRowCount:o}=e,s=t({backwards:r==="Before",previousHeaderPosition:n,nextHeaderPosition:i,headerRowCount:o});return s===!0?n:s===!1?null:s}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:r,fromCell:n,rowWithoutSpanValue:i,event:o}=e,{column:a,headerRowIndex:s}=t,{filterManager:l,ctrlsSvc:u,headerNavigation:c}=this.beans;if(s===-1)return l!=null&&l.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView(a);c==null||c.scrollToColumn(a,r);const d=u.getHeaderRowContainerCtrl(a.getPinned()),h=(d==null?void 0:d.focusHeader(t.headerRowIndex,a,o))||!1;return c&&h&&(i!=null||n)&&(c.currentHeaderRowWithoutSpan=i??-1),h}focusFirstHeader(){var n;if((n=this.overlays)!=null&&n.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;const{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));const r=CA(e,0);return this.focusHeaderPosition({headerPosition:r,rowWithoutSpanValue:0})}focusLastHeader(e){var n;if((n=this.overlays)!=null&&n.isExclusive()&&this.focusOverlay(!0))return!0;const t=ps(this.beans)-1,r=xt(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:r},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return(t=this.filterManager)!=null&&t.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===ms(t)}focusOverlay(e){var r,n;const t=((r=this.overlays)==null?void 0:r.isVisible())&&((n=this.overlays.eWrapper)==null?void 0:n.getGui());return!!t&&Gc(t,e)}focusGridView(e,t=!1,r=!0){var i,o,a,s,l;if((i=this.overlays)!=null&&i.isExclusive())return r&&this.focusOverlay(t);if(dX(this.beans))return t&&!Nh(this.beans)?this.focusLastHeader():r&&this.focusOverlay(t)?!0:of(this.beans,!1);const n=t?ske(this.beans):ake(this.beans);if(n){const{rowIndex:u,rowPinned:c}=n;if(e??(e=(o=this.focusedHeader)==null?void 0:o.column),e&&u!==void 0&&u!==null){if((a=this.navigation)==null||a.ensureCellVisible({rowIndex:u,column:e,rowPinned:c}),t){const d=this.rowRenderer.getRowByPosition(n);if(d!=null&&d.isFullWidth()&&((s=this.navigation)!=null&&s.tryToFocusFullWidthRow(n,t)))return!0}return this.setFocusedCell({rowIndex:u,column:e,rowPinned:ms(c),forceBrowserFocus:!0}),(l=this.beans.rangeSvc)==null||l.setRangeToCell({rowIndex:u,rowPinned:c,column:e}),!0}}return!!(r&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){var t;return this.advFilterFocusColumn=e==null?void 0:e.column,((t=this.beans.advancedFilter)==null?void 0:t.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,t){var n;const r=(t?void 0:this.advFilterFocusColumn)??((n=this.visibleCols.allCols)==null?void 0:n[0]);return e?this.focusHeaderPosition({headerPosition:{column:r,headerRowIndex:ps(this.beans)-1}}):this.focusGridView(r)}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},P2e=class extends ce{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e!=null&&e.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){var r;const e=this.ctrlsSvc.get("center");if(!e||(r=this.colAnimation)!=null&&r.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),r=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==r)&&(this.horizontalScrollGap=t,this.verticalScrollGap=r,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),r=typeof e=="number"&&e>=0?e:PIe();r!=null&&(this.scrollbarWidth=r,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},D2e=class extends ce{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){var n;if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:r}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:(e==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(n=t.get("gridCtrl"))==null||n.destroyGridUi(),r.destroy(),super.destroy()}},Gw=new Set(["gridPreDestroyed","fillStart","pasteStart"]),A2e={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},I2e=0,E2e=0,M2e=class extends ce{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=E2e++,this.propEventSvc=new Ff,this.globalEventHandlerFactory=e=>(t,r)=>{if(!this.isAlive())return;const n=Gw.has(t);if(n&&!e||!n&&e)return;const i=NK(t),o=this.gridOptions[i];typeof o=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{o(r)})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??A2e[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Te(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(r=>e(this.addGridCommonParams(r)))}updateGridOptions({options:e,force:t,source:r="api"}){const n={id:I2e++,properties:[]},i=[],{gridOptions:o,validation:a}=this;Object.entries(e).forEach(([s,l])=>{a==null||a.warnOnInitialPropertyUpdate(r,s);const u=t||typeof l=="object"&&r==="api",c=o[s];if(u||c!==l){o[s]=l;const d={type:s,currentValue:l,previousValue:c,changeSet:n,source:r};i.push(d)}}),a==null||a.processGridOptions(this.gridOptions),n.properties=i.map(s=>s.type),i.forEach(s=>{zc(this,`Updated property ${s.type} from`,s.previousValue," to ",s.currentValue),this.propEventSvc.dispatchEvent(s)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(e){const t=e;return t.api=this.api,t.context=this.gridOptionsContext,t}assertModuleRegistered(e,t){const r=Array.isArray(e)?e.some(n=>this.isModuleRegistered(n)):this.isModuleRegistered(e);return r||kt(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),r}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:XM(),rowModelType:this.get("rowModelType")}}isModuleRegistered(e){return sX(e,this.gridId,this.get("rowModelType"))}};function k2e(e){return`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            ${e?'<ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>':""}
        </div>
    </div>`}var F2e=class extends Xt{constructor(){super(...arguments),this.eFilter=Ye,this.eFilterButton=Ye,this.eSortIndicator=Ye,this.eMenu=Ye,this.eLabel=Ye,this.eText=Ye,this.eSortOrder=Ye,this.eSortAsc=Ye,this.eSortDesc=Ye,this.eSortMixed=Ye,this.eSortNone=Ye,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){const{params:e,beans:t}=this,r=e.template??k2e(!!t.sortSvc);return r!=null&&r.trim?r.trim():r}init(e){this.params=e;const{sortSvc:t,touchSvc:r,userCompFactory:n}=this.beans;this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,t?[t.getSortIndicatorSelector()]:void 0),r==null||r.setupForHeader(this),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(n,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const r=rMe(e,t,t);r&&(this.isLoadingInnerComponent=!0,r.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderComponent=n,this.eText.appendChild(n.getGui())):this.destroyBean(n))}))}setDisplayName(e){const{displayName:t}=e,r=this.currentDisplayName;if(this.currentDisplayName=t,r===t||this.innerHeaderComponent||this.isLoadingInnerComponent)return;const n=Ta(t,!0);this.eText.textContent=n}addInIcon(e,t,r){if(t==null)return;const n=qi(e,this.beans,r);n&&t.appendChild(n)}workOutShowMenu(){var e;return this.params.enableMenu&&!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonEnabled())}shouldSuppressMenuHide(){var e;return!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonAlwaysShowEnabled())}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Nc(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:r}=this,n=vi(e);this.addInIcon(n?"menu":"menuAlt",t,r.column),t.classList.toggle("ag-header-menu-icon",!n);const i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>r.showColumnMenu(t)}),t.classList.toggle("ag-header-menu-always-show",i)}onMenuKeyboardShortcut(e){var l;const{params:t,gos:r,beans:n,eMenu:i,eFilterButton:o}=this,a=t.column,s=vi(r);if(e&&!s){if((l=n.menuSvc)!=null&&l.isFilterMenuInHeaderEnabled(a))return t.showFilter(o??i??this.getGui()),!0}else if(t.enableMenu)return t.showColumnMenu(i??o??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:r}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:n,eSortOrder:i,eSortAsc:o,eSortDesc:a,eSortMixed:s,eSortNone:l}=this;n.attachCustomElements(i,o,a,s,l)}this.eSortIndicator.setupSort(r),this.currentSort&&e.setupHeader(this,r,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,this.onFilterChangedIcon.bind(this),"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,r,n){if(!e)return Nc(t),!1;const i=this.params.column;return this.addInIcon(n,t,i),this.addManagedListeners(i,{filterChanged:r}),r(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();rr(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:r}=this;return e?t??r??this.getGui():r??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},L2e=class extends Xt{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=Ye,this.agClosed=Ye,this.agLabel=Ye,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons()}checkWarnings(){this.params.template&&be(89)}workOutInnerHeaderGroupComponent(e,t){const r=iMe(e,t,t);r&&(this.isLoadingInnerComponent=!0,r.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderGroupComponent=n,this.agLabel.appendChild(n.getGui())):this.destroyBean(n))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:r},beans:n}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const i=l=>{if(ys(l))return;const u=!r.isExpanded();n.colGroupSvc.setColumnGroupOpened(r.getProvidedColumnGroup(),u,"uiColumnExpanded")};this.addTouchAndClickListeners(n,t,i),this.addTouchAndClickListeners(n,e,i);const o=l=>{rf(l)};this.addManagedElementListeners(t,{dblclick:o}),this.addManagedElementListeners(e,{dblclick:o}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();const a=r.getProvidedColumnGroup(),s=this.updateIconVisibility.bind(this);this.addManagedListeners(a,{expandedChanged:s,expandableChanged:s})}addTouchAndClickListeners(e,t,r){var n;(n=e.touchSvc)==null||n.setupForHeaderGroup(this,t,r),this.addManagedElementListeners(t,{click:r})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:r}}=this;if(r.isExpandable()){const n=r.isExpanded();rr(e,n),rr(t,!n)}else rr(e,!1),rr(t,!1)}addInIcon(e,t){const r=qi(e,this.beans,null);r&&t.appendChild(r)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:r}=this;rr(t,!1),rr(r,!1);return}}setupLabel(e){var i;const{displayName:t,columnGroup:r}=e,n=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(Te(t)&&!n){const o=Ta(t,!0);this.agLabel.textContent=o}this.addOrRemoveCssClass("ag-sticky-label",!((i=r.getColGroupDef())!=null&&i.suppressStickyLabel))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},O2e={moduleName:"ColumnHeaderComp",version:De,userComponents:{agColumnHeader:F2e},icons:{menu:"menu",menuAlt:"menu-alt"}},N2e={moduleName:"ColumnGroupHeaderComp",version:De,userComponents:{agColumnGroupHeader:L2e},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},z2e={moduleName:"AnimationFrame",version:De,beans:[MMe]},B2e=class extends ce{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!wc())return;const t=(r,n,i)=>{var s;const{rowCtrl:o,cellCtrl:a}=e.getControlsForEventTarget((i==null?void 0:i.target)??null);a!=null&&a.column&&a.dispatchCellContextMenuEvent(i??null),(s=this.beans.contextMenuSvc)==null||s.handleContextMenuMouseEvent(void 0,i,o,a)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!wc()||BK("dblclick"))return!1;const n=new Date().getTime(),i=n-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=n,i})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:r}=this.beans;if(t.get("suppressTouch"))return;const{params:n,eMenu:i,eFilterButton:o}=e,a=new dh(e.getGui(),!0),s=e.shouldSuppressMenuHide(),l=s&&Te(i),u=l?new dh(i,!0):a;if(n.enableMenu){const c=l?"tap":"longTap",d=h=>n.showColumnMenuAfterMouseClick(h.touchStart);e.addManagedListeners(u,{[c]:d})}if(n.enableSorting){const c=d=>{const h=d.touchStart.target;s&&(i!=null&&i.contains(h)||o!=null&&o.contains(h))||r==null||r.progressSort(n.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:c})}if(n.enableFilterButton&&o){const c=new dh(o,!0);e.addManagedListeners(c,{tap:()=>n.showFilter(o)}),e.addDestroyFunc(()=>c.destroy())}e.addDestroyFunc(()=>a.destroy()),l&&e.addDestroyFunc(()=>u.destroy())}setupForHeaderGroup(e,t,r){const n=new dh(t,!0);e.addManagedListeners(n,{tap:r}),e.addDestroyFunc(()=>n.destroy())}mockContextMenu(e,t,r){if(!wc())return;const n=new dh(t),i=o=>{r(void 0,o.touchStart,o.touchEvent)};e.addManagedListeners(n,{longTap:i}),e.addDestroyFunc(()=>n.destroy())}},V2e={moduleName:"Touch",version:De,beans:[B2e]},G2e=class extends ce{constructor(){super(...arguments),this.beanName="cellNavigation"}getNextCellToFocus(e,t,r=!1){return r?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const r=e===ue.UP,n=e===ue.DOWN,i=e===ue.LEFT;let o,a;const{pageBounds:s,gos:l,visibleCols:u}=this.beans;if(r||n)a=r?s.getFirstRow():s.getLastRow(),o=t.column;else{const c=u.allCols,d=l.get("enableRtl");a=t.rowIndex,o=i!==d?c[0]:xt(c)}return{rowIndex:a,rowPinned:null,column:o}}getNextCellToFocusWithoutCtrlPressed(e,t){let r=t,n=!1;for(;!n;){switch(e){case ue.UP:r=this.getCellAbove(r);break;case ue.DOWN:r=this.getCellBelow(r);break;case ue.RIGHT:r=this.gos.get("enableRtl")?this.getCellToLeft(r):this.getCellToRight(r);break;case ue.LEFT:r=this.gos.get("enableRtl")?this.getCellToRight(r):this.getCellToLeft(r);break;default:r=null,be(8,{key:e});break}r?n=this.isCellGoodToFocusOn(r):n=!0}return r}isCellGoodToFocusOn(e){const t=e.column;let r;const{pinnedRowModel:n,rowModel:i}=this.beans;switch(e.rowPinned){case"top":r=n==null?void 0:n.getPinnedTopRow(e.rowIndex);break;case"bottom":r=n==null?void 0:n.getPinnedBottomRow(e.rowIndex);break;default:r=i.getRow(e.rowIndex);break}return r?!this.isSuppressNavigable(t,r):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,r=e.rowPinned;let n=!1;const{pageBounds:i,pinnedRowModel:o,rowModel:a}=this.beans;if(this.isLastRowInContainer(e))switch(r){case"bottom":return null;case"top":return a.isRowsToRender()?{rowIndex:i.getFirstRow(),rowPinned:null}:o!=null&&o.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return o!=null&&o.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else r&&(n=!0);const s=a.getRow(e.rowIndex),l=n?void 0:this.getNextStickyPosition(s);return l||{rowIndex:t+1,rowPinned:r}}getNextStickyPosition(e,t){const{gos:r,rowRenderer:n}=this.beans;if(!FK(r)||!e||!e.sticky)return;const i=n.getStickyTopRowCtrls().some(u=>u.rowNode.rowIndex===e.rowIndex);let o=[];i?o=[...n.getStickyTopRowCtrls()].sort((u,c)=>u.rowNode.rowIndex-c.rowNode.rowIndex):o=[...n.getStickyBottomRowCtrls()].sort((u,c)=>c.rowNode.rowIndex-u.rowNode.rowIndex);const a=t?-1:1,s=o.findIndex(u=>u.rowNode.rowIndex===e.rowIndex),l=o[s+a];if(l)return{rowIndex:l.rowNode.rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,r=e.rowIndex,{pinnedRowModel:n,pageBounds:i}=this.beans;return t==="top"?((n==null?void 0:n.getPinnedTopRowCount())??-1)<=r:t==="bottom"?((n==null?void 0:n.getPinnedBottomRowCount())??-1)<=r:i.getLastRow()<=r}getRowAbove(e){const t=e.rowIndex,r=e.rowPinned,{pageBounds:n,pinnedRowModel:i,rowModel:o}=this.beans,a=r?t===0:t===n.getFirstRow();let s=!1;const l=()=>({rowIndex:(i==null?void 0:i.getPinnedTopRowCount())??-1,rowPinned:"top"});if(a)return r==="top"?null:r&&o.isRowsToRender()?{rowIndex:n.getLastRow(),rowPinned:null}:i!=null&&i.isRowsToRender("top")?l():null;r&&(s=!0);const u=o.getRow(e.rowIndex),c=s?void 0:this.getNextStickyPosition(u,!0);return c||{rowIndex:t-1,rowPinned:r}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:r}=this.beans,n=t.allCols;let i=e.rowIndex,o=e.rowPinned,a=t.getColAfter(e.column);if(!a){a=n[0];const s=this.getRowBelow(e);if(Yt(s)||!s.rowPinned&&!((r==null?void 0:r.isRowInPage(s))??!0))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:a,rowPinned:o}}getNextTabbedCellBackwards(e){const{visibleCols:t,pagination:r}=this.beans,n=t.allCols;let i=e.rowIndex,o=e.rowPinned,a=t.getColBefore(e.column);if(!a){a=xt(n);const s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Yt(s)||!s.rowPinned&&!((r==null?void 0:r.isRowInPage(s))??!0))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:a,rowPinned:o}}isSuppressNavigable(e,t){const{suppressNavigable:r}=e.colDef;if(typeof r=="boolean")return r;if(typeof r=="function"){const n=e.createColumnFunctionCallbackParams(t);return r(n)}return!1}};function H2e(e){return e.focusSvc.getFocusedCell()}function W2e(e){return e.focusSvc.clearFocusedCell()}function $2e(e,t,r,n){e.focusSvc.setFocusedCell({rowIndex:t,column:r,rowPinned:n,forceBrowserFocus:!0})}function U2e(e,t){var r;return((r=e.navigation)==null?void 0:r.tabToNextCell(!1,t))??!1}function j2e(e,t){var r;return((r=e.navigation)==null?void 0:r.tabToNextCell(!0,t))??!1}function Y2e(e,t,r=!1){var i;const n=(i=e.headerNavigation)==null?void 0:i.getHeaderPositionForColumn(t,r);n&&e.focusSvc.focusHeaderPosition({headerPosition:n})}var K2e=class extends ce{constructor(){super(),this.beanName="navigation",this.onPageDown=BW(this.onPageDown,100),this.onPageUp=BW(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const r=e.key,n=e.altKey,i=e.ctrlKey||e.metaKey,o=!!this.beans.rangeSvc&&e.shiftKey,a=eke(this.gos,e);let s=!1;switch(r){case ue.PAGE_HOME:case ue.PAGE_END:!i&&!n&&(this.onHomeOrEndKey(r),s=!0);break;case ue.LEFT:case ue.RIGHT:case ue.UP:case ue.DOWN:if(!a)return!1;i&&!n&&!o&&(this.onCtrlUpDownLeftRight(r,a),s=!0);break;case ue.PAGE_DOWN:case ue.PAGE_UP:!i&&!n&&(s=this.handlePageUpDown(r,a,t));break}return s&&e.preventDefault(),s}handlePageUpDown(e,t,r){return r&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===ue.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:r,scrollColumn:n,focusIndex:i,focusColumn:o}=e,{scrollFeature:a}=this.gridBodyCon;Te(n)&&!n.isPinned()&&a.ensureColumnVisible(n),Te(t)&&a.ensureIndexVisible(t,r),e.isAsync||a.ensureIndexVisible(i);const{focusSvc:s,rangeSvc:l}=this.beans;s.setFocusedCell({rowIndex:i,column:o,rowPinned:null,forceBrowserFocus:!0}),l==null||l.setRangeToCell({rowIndex:i,rowPinned:null,column:o})}onPageDown(e){const t=this.beans,r=ET(t),n=this.getViewportHeight(),{pageBounds:i,rowModel:o,rowAutoHeight:a}=t,s=i.getPixelOffset(),l=r.top+n,u=o.getRowIndexAtPixel(l+s);a!=null&&a.active?this.navigateToNextPageWithAutoHeight(e,u):this.navigateToNextPage(e,u)}onPageUp(e){const t=this.beans,r=ET(t),{pageBounds:n,rowModel:i,rowAutoHeight:o}=t,a=n.getPixelOffset(),s=r.top,l=i.getRowIndexAtPixel(s+a);o!=null&&o.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,r=!1){const{pageBounds:n,rowModel:i}=this.beans,o=this.getViewportHeight(),a=n.getFirstRow(),s=n.getLastRow(),l=n.getPixelOffset(),u=i.getRow(e.rowIndex),c=r?(u==null?void 0:u.rowHeight)-o-l:o-l,d=(u==null?void 0:u.rowTop)+c;let h=i.getRowIndexAtPixel(d+l);if(h===e.rowIndex){const g=r?-1:1;t=h=e.rowIndex+g}let f;r?(f="bottom",h<a&&(h=a),t<a&&(t=a)):(f="top",h>s&&(h=s),t>s&&(t=s)),this.isRowTallerThanView(i.getRow(h))&&(t=h,f="top"),this.navigateTo({scrollIndex:t,scrollType:f,scrollColumn:null,focusIndex:h,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,r=!1){this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,r);this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const r=t?-1:1,n=this.getViewportHeight(),{pageBounds:i,rowModel:o}=this.beans,a=i.getLastRow();let s=0,l=e.rowIndex;for(;l>=0&&l<=a;){const u=o.getRow(l);if(u){const c=u.rowHeight??0;if(s+c>n)break;s+=c}l+=r}return Math.max(0,Math.min(l,a))}getViewportHeight(){const e=this.beans,t=ET(e),r=this.beans.scrollVisibleSvc.getScrollbarWidth();let n=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(n-=r),n}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const r=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:n}=r,i=r.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:i,focusIndex:n,focusColumn:i})}onHomeOrEndKey(e){const t=e===ue.PAGE_HOME,{visibleCols:r,pageBounds:n}=this.beans,i=r.allCols,o=t?i[0]:xt(i),a=t?n.getFirstRow():n.getLastRow();this.navigateTo({scrollIndex:a,scrollType:null,scrollColumn:o,focusIndex:a,focusColumn:o})}onTabKeyDown(e,t){const r=t.shiftKey,n=this.tabToNextCellCommon(e,r,t),i=this.beans,{ctrlsSvc:o,pageBounds:a,focusSvc:s,gos:l}=i;if(n!==!1){n?t.preventDefault():n===null&&o.get("gridCtrl").allowFocusForNextCoreContainer(r);return}if(r){const{rowIndex:u,rowPinned:c}=e.getRowPosition();(c?u===0:u===a.getFirstRow())&&(l.get("headerHeight")===0||Nh(i)?of(i,!0,!0):(t.preventDefault(),s.focusPreviousFromFirstCell(t)))}else e instanceof zw&&e.focusCell(!0),(!r&&s.focusOverlay(!1)||of(i,r))&&t.preventDefault()}tabToNextCell(e,t){const r=this.beans,{focusSvc:n,rowRenderer:i}=r,o=n.getFocusedCell();if(!o)return!1;let a=mh(r,o);return!a&&(a=i.getRowByPosition(o),!a||!a.isFullWidth())?!1:!!this.tabToNextCellCommon(a,e,t)}tabToNextCellCommon(e,t,r){let n=e.editing;if(!n&&e instanceof zw){const a=e.rowCtrl;a&&(n=a.editing)}let i;return n?this.gos.get("editType")==="fullRow"?i=this.moveToNextEditingRow(e,t,r):i=this.moveToNextEditingCell(e,t,r):i=this.moveToNextCellNotEditing(e,t),i===null?i:i||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(e,t,r=null){var o;const n=e.cellPosition;e.eGui.focus(),e.stopEditing();const i=this.findNextCellToFocusOn(n,t,!0);return i===!1?null:i==null?!1:((o=this.beans.editSvc)==null||o.startEditing(i,null,!0,r),i.focusCell(!1),!0)}moveToNextEditingRow(e,t,r=null){const n=e.cellPosition,i=this.findNextCellToFocusOn(n,t,!0);if(i===!1)return null;if(i==null)return!1;const o=i.cellPosition,a=this.isCellEditable(n),s=this.isCellEditable(o),l=o&&n.rowIndex===o.rowIndex&&n.rowPinned===o.rowPinned,{editSvc:u,rowEditSvc:c}=this.beans;if(a&&(u==null||u.setFocusOutOnEditor(e)),!l){const d=e.rowCtrl;u==null||u.stopRowEditing(d);const h=i.rowCtrl;c==null||c.startEditing(h,void 0,void 0,r)}return s?(u==null||u.setFocusInOnEditor(i),i.focusCell()):i.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const r=this.beans.visibleCols.allCols;let n;e instanceof hA?n={...e.getRowPosition(),column:t?r[0]:xt(r)}:n=e.cellPosition;const i=this.findNextCellToFocusOn(n,t,!1);if(i===!1)return null;if(i instanceof zw)i.focusCell(!0);else if(i)return this.tryToFocusFullWidthRow(i.getRowPosition(),t);return Te(i)}findNextCellToFocusOn(e,t,r){let n=e;const i=this.beans,{cellNavigation:o,gos:a,focusSvc:s,rowRenderer:l,rangeSvc:u}=i;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=o.getNextTabbedCell(n,t);const c=a.getCallback("tabToNextCell");if(Te(c)){const g=c({backwards:t,editing:r,previousCellPosition:e,nextCellPosition:n||null});if(g===!0)n=e;else{if(g===!1)return!1;n={rowIndex:g.rowIndex,column:g.column,rowPinned:g.rowPinned}}}if(!n)return null;if(n.rowIndex<0){const f=ps(i);return s.focusHeaderPosition({headerPosition:{headerRowIndex:f+n.rowIndex,column:n.column},fromCell:!0}),null}const d=a.get("editType")==="fullRow";if(r&&!d&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const h=mh(i,n);if(!h){const f=l.getRowByPosition(n);if(!f||!f.isFullWidth()||r)continue;return f}if(!o.isSuppressNavigable(h.column,h.rowNode))return u==null||u.setRangeToCell(n),h}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:r,rowModel:n}=this.beans;return t==="top"?r==null?void 0:r.getPinnedTopRow(e):t==="bottom"?r==null?void 0:r.getPinnedBottomRow(e):n.getRow(e)}navigateToNextCell(e,t,r,n){let i=r,o=!1;const a=this.beans,{cellNavigation:s,focusSvc:l,gos:u}=a;for(;i&&(i===r||!this.isValidNavigateCell(i));)u.get("enableRtl")?t===ue.LEFT&&(i=this.getLastCellOfColSpan(i)):t===ue.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=s.getNextCellToFocus(t,i),o=Yt(i);if(o&&e&&e.key===ue.UP&&(i={rowIndex:-1,rowPinned:null,column:r.column}),n){const d=u.getCallback("navigateToNextCell");if(Te(d)){const f=d({key:t,previousCellPosition:r,nextCellPosition:i||null,event:e});Te(f)?i={rowPinned:f.rowPinned,rowIndex:f.rowIndex,column:f.column}:i=null}}if(!i)return;if(i.rowIndex<0){const d=ps(a);l.focusHeaderPosition({headerPosition:{headerRowIndex:d+i.rowIndex,column:r.column},event:e||void 0,fromCell:!0});return}const c=this.getNormalisedPosition(i);c?this.focusPosition(c):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=mh(this.beans,e);return t?(e=t.cellPosition,this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:r,rowRenderer:n,focusSvc:i,eventSvc:o}=this.beans,a=r.allCols,s=n.getRowByPosition(e);if(!s||!s.isFullWidth())return!1;const l=i.getFocusedCell(),u={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?xt(a):a[0])};this.focusPosition(u);const c=t??(l!=null&&ike(u,l));return o.dispatchEvent({type:"fullWidthRowFocused",rowIndex:u.rowIndex,rowPinned:u.rowPinned,column:u.column,isFullWidthCell:!0,fromBelow:c}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:r}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),r==null||r.setRangeToCell(e)}isValidNavigateCell(e){return!!cA(this.beans,e)}getLastCellOfColSpan(e){const t=mh(this.beans,e);if(!t)return e;const r=t.getColSpanningList();return r.length===1?e:{rowIndex:e.rowIndex,column:xt(r),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=FK(this.gos),r=this.beans.rowModel.getRow(e.rowIndex),n=t&&(r==null?void 0:r.sticky),{scrollFeature:i}=this.gridBodyCon;!n&&Yt(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}};function ET(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var X2e={moduleName:"KeyboardNavigation",version:De,beans:[K2e,G2e,x2e],apiFunctions:{getFocusedCell:H2e,clearFocusedCell:W2e,setFocusedCell:$2e,setFocusedHeader:Y2e,tabToNextCell:U2e,tabToPreviousCell:j2e}},q2e=class extends ce{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:r}=this.beans;t?t.calculatePages():e.calculateBounds(0,r.getRowCount()-1)}},Z2e=class extends ce{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){var e;return((e=this.topRowBounds)==null?void 0:e.rowIndex)??-1}getLastRow(){var e;return((e=this.bottomRowBounds)==null?void 0:e.rowIndex)??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,r=(e==null?void 0:e.rowTop)??0,n=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:r,pageLastPixel:n}}calculateBounds(e,t){const{rowModel:r}=this.beans,n=r.getRowBounds(e);n&&(n.rowIndex=e),this.topRowBounds=n;const i=r.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){var t;const e=((t=this.topRowBounds)==null?void 0:t.rowTop)??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},Q2e=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{display:inline-block;min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",J2e=class extends ce{constructor(e,t){super(),this.element=e,this.isLeft=t,this.getWidth=t?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;rr(this.element,t),Ra(this.element,e)}},eNe=class extends ce{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:r}=this.beans,n=Xr(e,"print"),i=n?0:t.getColsLeftWidth(),o=n?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,r.dispatchEvent({type:"leftPinnedWidthChanged"})),o!=this.rightWidth&&(this.rightWidth=o,r.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Bv(e);if(t<=50)return;let r=this.getPinnedColumnsOverflowingViewport(t-50);const n=this.gos.getCallback("processUnpinnedColumns");r.length&&(n&&(r=n({columns:r,viewportWidth:t})),this.setColsPinned(r,null,"viewportSizeFeature"))}createPinnedWidthFeature(e,t){return new J2e(e,t)}setColsPinned(e,t,r){const{colModel:n,colAnimation:i,visibleCols:o,gos:a}=this.beans;if(!n.cols||!(e!=null&&e.length))return;if(Xr(a,"print")){be(37);return}i==null||i.start();let s;t===!0||t==="left"?s="left":t==="right"?s="right":s=null;const l=[];e.forEach(u=>{if(!u)return;const c=n.getCol(u);c&&c.getPinned()!==s&&(this.setColPinned(c,s),l.push(c))}),l.length&&(o.refresh(r),YK(this.eventSvc,l,r)),i==null||i.finish()}initCol(e){const{pinned:t,initialPinned:r}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,r)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const r=e.pinned==="left",n=e.pinned==="right";e.hidden=!0;const i=()=>{const o=r?this.leftWidth:this.rightWidth;if(o==null)return;const a=o==0,s=e.hidden!==a,l=this.gos.get("enableRtl"),u=t.getScrollbarWidth(),d=t.verticalScrollShowing&&(l&&r||!l&&n)?o+u:o;e.comp.setPinnedContainerWidth(`${d}px`),e.comp.setDisplayed(!a),s&&(e.hidden=a,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:n,rightWidth:i}=this,o=Bv(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(n+i+e>o)if(o>n+i)e=o-n-i;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,r=this.leftWidth??0,n=t+r;if(n<e)return[];const{visibleCols:i}=this.beans,o=[...i.leftCols],a=[...i.rightCols];let s=0,l=0;const u=0,c=[];let d=n-u-e;for(;(l<o.length||s<a.length)&&d>0;){if(s<a.length){const h=a[s++];d-=h.getActualWidth(),c.push(h)}if(l<o.length&&d>0){const h=o[l++];d-=h.getActualWidth(),c.push(h)}}return c}},tNe={moduleName:"PinnedColumn",version:De,beans:[eNe],css:[Q2e]},rNe=class extends ce{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=Fn(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=dr(e),r=this.descriptionContainer=t.createElement("div");r.classList.add("ag-aria-description-container"),hK(r,"polite"),gIe(r,"additions text"),pIe(r,!0),e.eGridDiv.appendChild(r)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}},50)}destroy(){var t;super.destroy();const{descriptionContainer:e}=this;e&&(Ri(e),(t=e.parentElement)==null||t.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},nNe={moduleName:"Aria",version:De,beans:[rNe]};function iNe(e){var t;(t=e.overlays)==null||t.showLoadingOverlay()}function oNe(e){var t;(t=e.overlays)==null||t.showNoRowsOverlay()}function aNe(e){var t;(t=e.overlays)==null||t.hideOverlay()}var sNe=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",rq=class extends Xt{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=Ye,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(sNe)}handleKeyDown(e){if(e.key!==ue.TAB||e.defaultPrevented||ys(e))return;const t=this.beans;if(rd(t,this.eOverlayWrapper,!1,e.shiftKey))return;let n=!1;e.shiftKey?n=t.focusSvc.focusGridView(xt(t.visibleCols.allCols),!0,!1):n=of(t,!1),n&&e.preventDefault()}updateLayoutClasses(e,t){const r=this.eOverlayWrapper.classList,{AUTO_HEIGHT:n,NORMAL:i,PRINT:o}=Bw;r.toggle(n,t.autoHeight),r.toggle(i,t.normal),r.toggle(o,t.print)}postConstruct(){this.createManagedBean(new ZM(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,r,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),r&&this.isGridFocused()){const i=or(this.beans);i&&!kK(this.beans)&&(this.elToFocusAfter=i)}e.then(i=>{if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}if(this.activePromise=null,!!i){if(this.activeOverlay!==i&&(this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,n)){const o=i;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:a})=>{var s;(s=o.refresh)==null||s.call(o,this.gos.addGridCommonParams({...a??{}}))})}r&&this.isGridFocused()&&Gc(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var n;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const r=this.updateListenerDestroyFunc;r&&(r(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Ri(this.eOverlayWrapper),(n=t==null?void 0:t.focus)==null||n.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=or(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},lNe={selector:"AG-OVERLAY-WRAPPER",component:rq},uNe=class extends ce{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=vn(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){be(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return lNe}getOverlayWrapperCompClass(){return rq}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,beans:{gos:r,colModel:n,rowModel:i}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!r.get("suppressLoadingOverlay")&&(o=!r.get("columnDefs")||!n.ready||!r.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,i.isEmpty()&&!r.get("suppressNoRowsOverlay")&&t?e!==2&&this.doShowNoRowsOverlay():e!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(fMe(this.beans.userCompFactory,{}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(pMe(this.beans.userCompFactory,{}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,r){var i;const n=(e==null?void 0:e.newAgStackInstance())??null;(i=this.eWrapper)==null||i.showOverlay(n,t,this.isExclusive(),r),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;if(this.state===2){const r=this.beans.ctrlsSvc.get("gridHeaderCtrl");t=(r==null?void 0:r.headerHeight)||0}else this.wrapperPadding!==0&&(t=0);this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},cNe={moduleName:"Overlay",version:De,userComponents:{agLoadingOverlay:nFe,agNoRowsOverlay:iFe},apiFunctions:{showLoadingOverlay:iNe,showNoRowsOverlay:oNe,hideOverlay:aNe},beans:[uNe]},dNe=class extends ce{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=TIe(),zc(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;zc(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),r=e/t;return this.maxScrollY*r}},hNe=400,fNe=class extends ce{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(o=>o.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(o=>o.updateRangeBordersIfRangeCount())},r=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},n=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Xl(this.gos)?r():n()}),Xl(this.gos)&&r()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",r=>this.onSuppressCellFocusChanged(r.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:r,previousValue:n})=>{(!n&&r||n&&!r)&&this.redrawRows()});const{stickyRowSvc:e,gos:t}=this.beans;if(e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const r=this.gridBodyCtrl;r.setStickyTopHeight(0),r.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Xr(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new pNe(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyTopRowCtrls)??[]}getStickyBottomRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyBottomRowCtrls)??[]}updateAllRowCtrls(){var n;const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),r=((n=this.cachedRowCtrls)==null?void 0:n.getEntries())??[];t.length>0||r.length>0?this.allRowCtrls=[...e,...t,...r]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(r=>t.onFlashCells(r,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const r=l=>{this.getAllCellCtrls().forEach(u=>{u.column===t&&l(u)})},n=()=>{r(l=>l.onLeftChanged())},i=()=>{r(l=>l.onWidthChanged())},o=()=>{r(l=>l.onFirstRightPinnedChanged())},a=()=>{r(l=>l.onLastLeftPinnedChanged())},s=()=>{r(l=>l.onColDefChanged())};t.addEventListener("leftChanged",n),t.addEventListener("widthChanged",i),t.addEventListener("firstRightPinnedChanged",o),t.addEventListener("lastLeftPinnedChanged",a),t.addEventListener("colDefChanged",s),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",n),t.removeEventListener("widthChanged",i),t.removeEventListener("firstRightPinnedChanged",o),t.removeEventListener("lastLeftPinnedChanged",a),t.removeEventListener("colDefChanged",s)})})}onDomLayoutChanged(){const e=Xr(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),r=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(r=>{var i;const n=(i=r.getCellCtrl(e,!0))==null?void 0:i.eGui;n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}refreshFloatingRows(e,t){const{pinnedRowModel:r,beans:n,printLayout:i}=this,o=Object.fromEntries(e.map(s=>[s.rowNode.id,s]));r==null||r.forEachPinnedRow(t,(s,l)=>{const u=e[l];u&&r.getPinnedRowById(u.rowNode.id,t)===void 0&&(u.destroyFirstPass(),u.destroySecondPass()),s.id in o?(e[l]=o[s.id],delete o[s.id]):e[l]=new hA(s,n,!1,!1,i)});const a=(t==="top"?r==null?void 0:r.getPinnedTopRowCount():r==null?void 0:r.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var r,n;if(e.sticky)(r=this.stickyRowFeature)==null||r.refreshStickyNode(e);else if((n=this.cachedRowCtrls)!=null&&n.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const i=o=>{const a=o[e.rowIndex];a&&a.rowNode===e&&(a.destroyFirstPass(),a.destroySecondPass(),o[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(r=>this.redrawRow(r,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusSvc.getFocusCellToUseAfterRefresh();if(t==null)return null;const r=or(this.beans),n=nb(this.gos,r,db),i=nb(this.gos,r,Yv);return n||i?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const r=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&kh(this.gos),i=r?this.getRowsToRecycle():null;r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:o}=this;if(o){o.checkStickyRows();const a=o.extraTopHeight+o.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(i,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var n;const t=e.newData||e.newPage,r=this.gos.get("suppressScrollOnNewData");t&&!r&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),(n=this.stickyRowFeature)==null||n.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let r=this.pageBounds.getCurrentPageHeight();r===0&&(r=1),t.setModelHeight(r+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error(Bl(252));this.refreshInProgress=!0,(t=(e=this.beans.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.beans.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusSvc.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),r=t.length;for(let n=0;n<r;n++){const i=t[n].getAllCellCtrls(),o=i.length;for(let a=0;a<o;a++)e.push(i[a])}return e}getAllRowCtrls(){const e=this.getStickyTopRowCtrls(),t=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t,...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,r){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,r)}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const r of this.getCellCtrls(e.rowNodes,e.columns))r.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const r of this.getRowCtrls(e)){if(!r.isFullWidth())continue;r.refreshFullWidth()||this.redrawRow(r.rowNode,!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getRowCtrls(e){const t=wA(e),r=this.getAllRowCtrls();return!e||!t?r:r.filter(n=>{const i=n.rowNode;return bA(i,t)})}getCellCtrls(e,t){let r;Te(t)&&(r={},t.forEach(i=>{const o=this.colModel.getCol(i);Te(o)&&(r[o.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(i=>{i.getAllCellCtrls().forEach(o=>{const a=o.column.getId();r&&!r[a]||n.push(o)})}),n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){var r;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),(r=this.stickyRowFeature)==null||r.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const[r,n]of Object.entries(this.rowCtrlsByRowIndex))n.rowNode.id==null&&e.push(r);this.removeRowCtrls(e);const t={};for(const r of Object.values(this.rowCtrlsByRowIndex)){const n=r.rowNode;t[n.id]=r}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(r=>{const n=this.rowCtrlsByRowIndex[r];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[r]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){var l;const{afterScroll:t}=e;let r;const n=this.stickyRowFeature;n&&(r=this.getCellToRestoreFocusToAfterRefresh()||void 0);const i=this.firstRenderedRow,o=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let a=!1;if(n){a=n.checkStickyRows();const u=n.extraTopHeight+n.extraBottomHeight;u&&this.updateContainerHeights(u)}const s=this.firstRenderedRow!==i||this.lastRenderedRow!==o;if(!(t&&!a&&!s)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!a),r!=null)){const u=this.getCellToRestoreFocusToAfterRefresh();r!=null&&u==null&&((l=this.beans.animationFrameSvc)==null||l.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,t){const r={};e.forEach(o=>r[o]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!r[o]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){const t=[];for(let i=this.firstRenderedRow;i<=this.lastRenderedRow;i++)t.push(i);const r=i=>{const o=i.rowNode.rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(i)&&t.push(o)};for(const i of Object.values(this.rowCtrlsByRowIndex))r(i);if(e)for(const i of Object.values(e))r(i);t.sort((i,o)=>i-o);const n=[];for(let i=0;i<t.length;i++){const o=t[i],a=this.rowModel.getRow(o);a&&!a.sticky&&n.push(o)}return n}recycleRows(e,t=!1,r=!1){const n=this.calculateIndexesToDraw(e);if((this.printLayout||r)&&(t=!1),this.removeRowCompsNotToDraw(n,!t),n.forEach(i=>{this.createOrUpdateRowCtrl(i,e,t,r)}),e){const{animationFrameSvc:i}=this.beans;i&&r&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?i.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),r=e.isPinningRight();(this.pinningLeft!==t||r!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=r,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const r=t.rowNode.rowIndex;e.push(r.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=wA(e);return this.getAllRowCtrls().filter(r=>{if(!r.isFullWidth())return!1;const n=r.rowNode;return!(t!=null&&!bA(n,t))})}createOrUpdateRowCtrl(e,t,r,n){let i,o=this.rowCtrlsByRowIndex[e];if(o||(i=this.rowModel.getRow(e),Te(i)&&Te(t)&&t[i.id]&&i.alreadyRendered&&(o=t[i.id],t[i.id]=null)),!o)if(i||(i=this.rowModel.getRow(e)),Te(i))o=this.createRowCon(i,r,n);else return;return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,t){const r=[];if(e){for(const n of Object.values(e))if(n){if(this.cachedRowCtrls&&n.isCacheable()){this.cachedRowCtrls.addRow(n);continue}if(n.destroyFirstPass(!t),t){const i=n.instanceId;this.zombieRowCtrls[i]=n,r.push(()=>{n.destroySecondPass(),delete this.zombieRowCtrls[i]})}else n.destroySecondPass()}}t&&(r.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>r.forEach(n=>n()),hNe))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=xc(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:r}=this;e.updateOffset();let n,i;if(!r.isRowsToRender())n=0,i=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),n=t.getFirstRow(),i=t.getLastRow();else{const c=this.getRowBufferInPixels(),d=this.ctrlsSvc.getScrollFeature(),h=this.gos.get("suppressRowVirtualisation");let f=!1,g,m;do{const x=t.getPixelOffset(),{pageFirstPixel:R,pageLastPixel:T}=t.getCurrentPagePixelRange(),P=e.divStretchOffset,D=d.getVScrollPosition(),I=D.top,E=D.bottom;h?(g=R+P,m=T+P):(g=Math.max(I+x-c,R)+P,m=Math.min(E+x+c,T)+P),this.firstVisibleVPixel=Math.max(I+x,R)+P,this.lastVisibleVPixel=Math.min(E+x,T)+P,f=this.ensureAllRowsInRangeHaveHeightsCalculated(g,m)}while(f);let y=r.getRowIndexAtPixel(g),C=r.getRowIndexAtPixel(m);const w=t.getFirstRow(),S=t.getLastRow();y<w&&(y=w),C>S&&(C=S),n=y,i=C}const o=Xr(this.gos,"normal"),a=this.gos.get("suppressMaxRenderedRowRestriction"),s=Math.max(this.getRowBuffer(),500);o&&!a&&i-n>s&&(i=n+s);const l=n!==this.firstRenderedRow,u=i!==this.lastRenderedRow;(l||u)&&(this.firstRenderedRow=n,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:n,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var s,l;const r=(s=this.pinnedRowModel)==null?void 0:s.ensureRowHeightsValid(),n=(l=this.stickyRowFeature)==null?void 0:l.ensureRowHeightsValid(),{pageBounds:i,rowModel:o}=this,a=o.ensureRowHeightsValid(e,t,i.getFirstRow(),i.getLastRow());return(a||n)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),n||a||r?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const n=e.rowNode,i=this.focusSvc.isRowNodeFocused(n),o=e.editing,a=n.detail;return i||o||a?!!this.isRowPresent(n):!1}isRowPresent(e){var t;return this.rowModel.isRowPresent(e)?((t=this.beans.pagination)==null?void 0:t.isRowPresent(e))??!0:!1}createRowCon(e,t,r){var s;const n=((s=this.cachedRowCtrls)==null?void 0:s.getRow(e))??null;if(n)return n;const i=this.gos.get("suppressAnimationFrame"),o=r&&!i&&!this.printLayout&&!!this.beans.animationFrameSvc;return new hA(e,this.beans,t,o,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.rowNode)}getRowByPosition(e){let t;const{rowIndex:r}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[r];break;case"bottom":t=this.bottomRowCtrls[r];break;default:t=this.rowCtrlsByRowIndex[r],t||(t=this.getStickyTopRowCtrls().find(n=>n.rowNode.rowIndex===r)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.rowNode.rowIndex===r)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},pNe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,r=this.entriesMap[t];delete this.entriesMap[t],Ho(this.entriesList,r)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],Ho(this.entriesList,e)}getEntries(){return this.entriesList}};function wA(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(r=>{const n=r.id;switch(r.rowPinned){case"top":t.top[n]=r;break;case"bottom":t.bottom[n]=r;break;default:t.normal[n]=r;break}}),t}function bA(e,t){const r=e.id;switch(e.rowPinned){case"top":return t.top[r]!=null;case"bottom":return t.bottom[r]!=null;default:return t.normal[r]!=null}}var gNe=class extends ce{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=fa(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=fa(e))}doFullSort(e,t){const r=e.map((n,i)=>({currentPos:i,rowNode:n}));return r.sort(this.compareRowNodes.bind(this,t)),r.map(n=>n.rowNode)}compareRowNodes(e,t,r){const n=t.rowNode,i=r.rowNode;for(let o=0,a=e.length;o<a;o++){const s=e[o],l=s.sort==="desc",u=this.getValue(n,s.column),c=this.getValue(i,s.column);let d;const h=this.getComparator(s,n);if(h?d=h(u,c,n,i,l):d=FIe(u,c,this.isAccentedSort),!isNaN(d)&&d!==0)return s.sort==="asc"?d:d*-1}return t.currentPos-r.currentPos}getComparator(e,t){const r=e.column,n=r.getColDef().comparator;if(n!=null)return n;if(!r.getColDef().showRowGroup)return;const i=!t.group&&r.getColDef().field;if(!i)return;const o=this.beans.colModel.getColDefCol(i);if(o)return o.getColDef().comparator}getValue(e,t){var s,l;const{valueSvc:r,colModel:n,showRowGroupCols:i,gos:o}=this.beans;if(!this.primaryColumnsSortGroups)return r.getValue(t,e,!1);if(e.rowGroupColumn===t){if($M(o,n.isPivotActive())){const d=(s=e.allLeafChildren)==null?void 0:s[0];return d?r.getValue(t,d,!1):void 0}const c=i==null?void 0:i.getShowRowGroupCol(t.getId());return c?(l=e.groupData)==null?void 0:l[c.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return r.getValue(t,e,!1)}};function vNe(e){var t;(t=e.sortSvc)==null||t.onSortChanged("api")}function ug(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var mNe=`<span class="ag-sort-indicator-container">
        ${ug("Order","order")}
        ${ug("Asc","ascending-icon")}
        ${ug("Desc","descending-icon")}
        ${ug("Mixed","mixed-icon")}
        ${ug("None","none-icon")}
    </span>`,fk=class extends Xt{constructor(e){super(),this.eSortOrder=Ye,this.eSortAsc=Ye,this.eSortDesc=Ye,this.eSortMixed=Ye,this.eSortNone=Ye,e||this.setTemplate(mNe)}attachCustomElements(e,t,r,n,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=r,this.eSortMixed=n,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const r=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",r),this.addManagedEventListeners({newColumnsLoaded:r,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,r){if(t==null)return;const n=qi(e,this.beans,r);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:r,column:n,gos:i,beans:o}=this,a=o.sortSvc.getDisplaySortForColumn(n);if(e&&rr(e,a==="asc",{skipAriaHidden:!0}),t&&rr(t,a==="desc",{skipAriaHidden:!0}),r){const s=!n.getColDef().unSortIcon&&!i.get("unSortIcon"),l=a==null;rr(r,!s&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:r}=this;this.addInIcon("sortUnSort",e,t);const n=t.getColDef().showRowGroup;fa(r)&&n&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:r}=this;if(e){const n=t.sortSvc.getDisplaySortForColumn(r)==="mixed";rr(e,n,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:r}}=this;if(!e)return;const n=r.getColumnsWithSortingOrdered(),i=r.getDisplaySortIndexForColumn(t)??-1,o=n.some(s=>r.getDisplaySortIndexForColumn(s)??!1),a=i>=0&&o;rr(e,a,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():Ri(e)}},yNe={selector:"AG-SORT-INDICATOR",component:fk},Kv=["asc","desc",null],CNe=class extends ce{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,r){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,r)}progressSortFromEvent(e,t){const n=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,n,"uiColumnSorted")}setSortForColumn(e,t,r,n){var c;t!=="asc"&&t!=="desc"&&(t=null);const{gos:i,showRowGroupCols:o}=this.beans,a=fa(i);let s=[e];if(a&&e.getColDef().showRowGroup){const d=(c=o==null?void 0:o.getSourceColumnsForGroupColumn)==null?void 0:c.call(o,e),h=d==null?void 0:d.filter(f=>f.isSortable());h&&(s=[e,...h])}s.forEach(d=>this.setColSort(d,t,n));const l=(r||i.get("alwaysMultiSort"))&&!i.get("suppressMultiSort"),u=[];if(!l){const d=this.clearSortBarTheseColumns(s,n);u.push(...d)}this.updateSortIndex(e),u.push(...s),this.dispatchSortChangedEvents(n,u)}updateSortIndex(e){const{gos:t,colModel:r,showRowGroupCols:n}=this.beans,i=fa(t),o=n==null?void 0:n.getShowRowGroupCol(e.getId()),a=i&&o||e,s=this.getColumnsWithSortingOrdered();r.getAllCols().forEach(c=>this.setColSortIndex(c,null));const l=s.filter(c=>i&&c.getColDef().showRowGroup?!1:c!==a);(a.getSort()?[...l,a]:l).forEach((c,d)=>this.setColSortIndex(c,d))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.beans.colModel.getAllCols().filter(r=>!!r.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const r={type:"sortChanged",source:e};t&&(r.columns=t),this.eventSvc.dispatchEvent(r)}clearSortBarTheseColumns(e,t){const r=[];return this.beans.colModel.getAllCols().forEach(n=>{e.includes(n)||(n.getSort()&&r.push(n),this.setColSort(n,void 0,t))}),r}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??Kv,r=t.indexOf(e.getSort()),n=r<0,i=r==t.length-1;return n||i?t[0]:t[r+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:r,rowGroupColsSvc:n}=this.beans;let i=t.getAllCols().filter(u=>!!u.getSort());if(t.isPivotMode()){const u=fa(e);i=i.filter(c=>{const d=!!c.getAggFunc(),h=!c.isPrimary(),f=u?r==null?void 0:r.getShowRowGroupCol(c.getId()):c.getColDef().showRowGroup;return d||h||f})}const o=(n==null?void 0:n.columns.filter(u=>!!u.getSort()))??[],a={};i.forEach((u,c)=>a[u.getId()]=c),i.sort((u,c)=>{const d=u.getSortIndex(),h=c.getSortIndex();if(d!=null&&h!=null)return d-h;if(d==null&&h==null){const f=a[u.getId()],g=a[c.getId()];return f>g?1:-1}else return h==null?-1:1});const s=fa(e)&&!!o.length;s&&(i=[...new Set(i.map(u=>(r==null?void 0:r.getShowRowGroupCol(u.getId()))??u))]);const l=new Map;return i.forEach((u,c)=>l.set(u,c)),s&&o.forEach(u=>{const c=r.getShowRowGroupCol(u.getId());l.set(u,l.get(c))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[r,n])=>t-n).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=fa(this.gos),r=!!e.getColDef().showRowGroup;return t&&r}getDisplaySortForColumn(e){var a;const t=(a=this.beans.showRowGroupCols)==null?void 0:a.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=n[0].getSort();return n.every(s=>s.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,r){let n=0;e.addManagedListeners(t,{movingChanged:()=>{n=new Date().getTime()}}),r&&e.addManagedElementListeners(r,{click:o=>{const a=t.isMoving(),l=new Date().getTime()-n<50;a||l||this.progressSortFromEvent(t,o)}});const i=()=>{var a;const o=t.getSort();if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",o==="asc"),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",o==="desc"),e.addOrRemoveCssClass("ag-header-cell-sorted-none",!o),t.getColDef().showRowGroup){const s=(a=this.beans.showRowGroupCols)==null?void 0:a.getSourceColumnsForGroupColumn(t),u=!(s==null?void 0:s.every(c=>t.getSort()==c.getSort()));e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",u)}};e.addManagedEventListeners({sortChanged:i,columnRowGroupChanged:i})}initCol(e){const{sort:t,initialSort:r,sortIndex:n,initialSortIndex:i}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(r==="asc"||r==="desc")&&(e.sort=r),n!==void 0?n!==null&&(e.sortIndex=n):i!==null&&(e.sortIndex=i)}updateColSort(e,t,r){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,r):this.setColSort(e,void 0,r))}setColSort(e,t,r){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",r)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new fk(e)}getSortIndicatorSelector(){return yNe}},nq={moduleName:"Sort",version:De,beans:[CNe,gNe],apiFunctions:{onSortChanged:vNe},userComponents:{agSortIndicator:fk},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},wNe=class extends ce{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:r}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),r.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),zc(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,Lh(e.source))}}};function bNe(e){var t;(t=e.valueCache)==null||t.expire()}function SNe(e,t){const{colKey:r,rowNode:n,useFormatter:i}=t,o=e.colModel.getColDefCol(r)??e.colModel.getCol(r);if(Yt(o))return null;const a=e.valueSvc.getValueForDisplay(o,n);return i?e.valueSvc.formatValue(o,n,a)??Ta(a,!0):a}var pb=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:r,children:n}=e;if(n)for(let i=0;i<n.length;++i)this.depthFirstSearchChangedPath(n[i],t);t(r)}depthFirstSearchEverything(e,t,r){const n=e.childrenAfterGroup;if(n)for(let i=0,o=n.length;i<o;++i){const a=n[i];a.childrenAfterGroup?this.depthFirstSearchEverything(a,t,r):r&&t(a)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,r=!1){this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,r=0;for(;!this.mapToItems[t.id];){const n={rowNode:t,children:null};this.mapToItems[t.id]=n,r++,t=t.parent}return r}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let r=e;for(;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),t.forEach(n=>this.nodeIdsToColumns[r.id][n.getId()]=!0),r=r.parent}linkPathItems(e,t){let r=e;for(let n=0;n<t;n++){const i=this.mapToItems[r.id],o=this.mapToItems[r.parent.id];o.children||(o.children=[]),o.children.push(i),r=r.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const r=this.createPathItems(e);this.linkPathItems(e,r),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const r=this.nodeIdsToColumns[e.id];return t.filter(i=>r[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const r=this.nodeIdsToColumns[e.id];return t.filter(i=>!r[i.getId()])}},xNe="paste",RNe=class extends ce{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;vn(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:r}=this.beans;if(e.source===xNe||t.get("suppressChangeDetection"))return;const n=e.node,i=[n],o=this.clientSideRowModel,a=o==null?void 0:o.rootNode;if(a&&!n.isRowPinned()){const s=t.get("aggregateOnlyChangedColumns"),l=new pb(s,a);l.addParentNode(n.parent,[e.column]),o.doAggregate(l),l.forEachChangedNodeDepthFirst(u=>{i.push(u)})}r.refreshCells({rowNodes:i})}},_Ne=class extends ce{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);kt(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(r){return kt(16,{expression:e,params:t,e:r}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const r=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",r);return t[e]=n,n}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},TNe=class extends ce{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,r){if(this.active){const n=this.cacheVersion;e.__cacheVersion!==n&&(e.__cacheVersion=n,e.__cacheData={}),e.__cacheData[t]=r}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},PNe={moduleName:"ValueCache",version:De,beans:[TNe],apiFunctions:{expireValueCache:bNe}},DNe={moduleName:"Expression",version:De,beans:[_Ne]},ANe={moduleName:"ChangeDetection",version:De,beans:[RNe]},INe={moduleName:"CellApi",version:De,apiFunctions:{getCellValue:SNe}},ENe=class extends ce{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Lf(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t){const r=t.leafGroup&&this.colModel.isPivotMode(),n=t.group&&t.expanded&&!t.footer&&!r,i=this.gos.get("groupSuppressBlankHeader");if(!n||i)return this.getValue(e,t);let o=!1;const a=this.gos.get("groupTotalRow");typeof a!="function"?o=!!a:o=!!this.gos.getCallback("groupTotalRow")({node:this});const s=n&&o;return this.getValue(e,t,s)}getValue(e,t,r=!1){if(this.initialised||this.init(),!t)return;const n=e.getColDef(),i=n.field,o=e.getColId(),a=t.data;let s;const l=t.groupData&&t.groupData[o]!==void 0,u=!r&&t.aggData&&t.aggData[o]!==void 0,c=this.isSsrm&&r&&!!e.getColDef().aggFunc,d=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&u?s=t.aggData[o]:this.isTreeData&&n.valueGetter?s=this.executeValueGetter(n.valueGetter,a,e,t):this.isTreeData&&i&&a?s=qg(a,i,e.isFieldContainsDots()):l?s=t.groupData[o]:u?s=t.aggData[o]:n.valueGetter?s=this.executeValueGetter(n.valueGetter,a,e,t):d?s=qg(a,t.field,e.isFieldContainsDots()):i&&a&&!c&&(s=qg(a,i,e.isFieldContainsDots())),this.cellExpressions&&typeof s=="string"&&s.indexOf("=")===0){const h=s.substring(1);s=this.executeValueGetter(h,a,e,t)}if(s==null){const h=this.getOpenedGroup(t,e);if(h!=null)return h}return s}parseValue(e,t,r,n){var a;const i=e.getColDef(),o=i.valueParser;if(Te(o)){const s=this.gos.addGridCommonParams({node:t,data:t==null?void 0:t.data,oldValue:n,newValue:r,colDef:i,column:e});return typeof o=="function"?o(s):(a=this.expressionSvc)==null?void 0:a.evaluate(o,s)}return r}getDeleteValue(e,t){return Te(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,r,n,i=!0){let o=null,a;const s=e.getColDef();if(n?a=n:i&&(a=s.valueFormatter),a){const l=this.gos.addGridCommonParams({value:r,node:t,data:t?t.data:null,colDef:s,column:e});typeof a=="function"?o=a(l):o=this.expressionSvc?this.expressionSvc.evaluate(a,l):null}else if(s.refData)return s.refData[r]||"";return o==null&&Array.isArray(r)&&(o=r.join(", ")),o}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const n=t.getColDef().showRowGroup;let i=e.parent;for(;i!=null;){if(i.rowGroupColumn&&(n===!0||n===i.rowGroupColumn.getColId()))return i.key;i=i.parent}}setValue(e,t,r,n){var c,d;const i=this.colModel.getColDefCol(t);if(!e||!i)return!1;Yt(e.data)&&(e.data={});const{field:o,valueSetter:a}=i.getColDef();if(Yt(o)&&Yt(a))return be(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(i,r))return be(135),!1;const s=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(i,e),newValue:r,colDef:i.getColDef(),column:i});s.newValue=r;let l;if(Te(a)?typeof a=="function"?l=a(s):l=(c=this.expressionSvc)==null?void 0:c.evaluate(a,s):l=this.setValueUsingField(e.data,o,r,i.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),(d=this.valueCache)==null||d.onDataChanged();const u=this.getValue(i,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:s.column,colDef:s.colDef,data:e.data,node:e,oldValue:s.oldValue,newValue:u,value:u,source:n}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,r,n){if(!t)return!1;let i=!1;if(!n)i=e[t]===r,i||(e[t]=r);else{const o=t.split(".");let a=e;for(;o.length>0&&a;){const s=o.shift();o.length===0?(i=a[s]===r,i||(a[s]=r)):a=a[s]}}return!i}executeValueGetterWithValueCache(e,t,r,n){const i=r.getColId(),o=this.valueCache.getValue(n,i);if(o!==void 0)return o;const a=this.executeValueGetterWithoutValueCache(e,t,r,n);return this.valueCache.setValue(n,i,a),a}executeValueGetterWithoutValueCache(e,t,r,n){var a;const i=this.gos.addGridCommonParams({data:t,node:n,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,n)});let o;return typeof e=="function"?o=e(i):o=(a=this.expressionSvc)==null?void 0:a.evaluate(e,i),o}getValueCallback(e,t){const r=this.colModel.getColDefCol(t);return r?this.getValue(r,e):null}getKeyForNode(e,t){const r=this.getValue(e,t),n=e.getColDef().keyCreator;let i=r;if(n){const o=this.gos.addGridCommonParams({value:r,colDef:e.getColDef(),column:e,node:t,data:t.data});i=n(o)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&be(121)),i}},MNe={moduleName:"CommunityCore",version:De,beans:[D2e,VFe,IOe,OEe,dNe,ULe,S2e,M2e,kEe,Z2e,q2e,fNe,ENe,T2e,b2e,P2e,MOe,wNe,_Oe,TOe],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:GFe,destroy:HFe,isDestroyed:WFe,getGridOption:$Fe,setGridOption:UFe,updateGridOptions:NX},dependsOn:[bOe,xLe,ILe,nq,O2e,YLe,N2e,cNe,ANe,z2e,X2e,tNe,nNe,V2e,AOe,SOe,DNe]},pk=class Xu{static applyGlobalGridOptions(t){if(!Xu.gridOptions)return{...t};let r={};return mn(r,Xu.gridOptions,!0,!0),Xu.mergeStrategy==="deep"?mn(r,t,!0,!0):r={...r,...t},Xu.gridOptions.context&&(r.context=Xu.gridOptions.context),t.context&&(Xu.mergeStrategy==="deep"&&r.context&&mn(t.context,r.context,!0,!0),r.context=t.context),r}};pk.gridOptions=void 0;pk.mergeStrategy="shallow";var iq=pk;function kNe(e){var t;return(t=iq.gridOptions)==null?void 0:t[e]}var FNe=1,LNe=class{create(e,t,r,n,i,o){const a=iq.applyGlobalGridOptions(t),s=a.gridId??String(FNe++),l=a.rowModelType??"clientSide",u=this.getRegisteredModules(i,s,l),c=this.createBeansList(l,u,s),d=this.createProvidedBeans(e,a,i);if(!c)return;const h={providedBeanInstances:d,beanClasses:c,gridId:s,beanInitComparator:OFe,beanDestroyComparator:NFe,derivedBeans:[FFe],destroyCallback:o},f=new PMe(h);return this.registerModuleFeatures(f,u),r(f),f.getBean("syncSvc").start(),n&&n(f),f.getBean("gridApi")}getRegisteredModules(e,t,r){var n;return jv(MNe,void 0),(n=e==null?void 0:e.modules)==null||n.forEach(i=>jv(i,t)),SMe(t,r)}registerModuleFeatures(e,t){const r=e.getBean("registry"),n=e.getBean("apiFunctionSvc");t.forEach(i=>{r.registerModule(i);const o=i.apiFunctions;o&&Object.keys(o).forEach(s=>{n==null||n.addFunction(s,o[s])})})}createProvidedBeans(e,t,r){let n=r?r.frameworkOverrides:null;Yt(n)&&(n=new LX);const i={gridOptions:t,eGridDiv:e,globalListener:r?r.globalListener:null,globalSyncListener:r?r.globalSyncListener:null,frameworkOverrides:n};return r&&r.providedBeanInstances&&Object.assign(i,r.providedBeanInstances),i}createBeansList(e,t,r){const i={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"}[e];if(!i){rA(201,{rowModelType:e},`Unknown rowModelType ${e}.`);return}if(!sX(i,r,e)){rA(200,{reasonOrId:`rowModelType = '${e}'`,moduleName:i,gridScoped:XM(),gridId:r,rowModelType:e},`Missing module ${i}Module for rowModelType ${e}. 
If upgrading from before v33, see ${ef}/upgrading-to-ag-grid-33/#changes-to-modules/`);return}const o=new Set;return t.forEach(a=>{var s;return(s=a.beans)==null?void 0:s.forEach(l=>o.add(l))}),Array.from(o)}};function Va(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function _S(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function oq(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var ONe=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],NNe=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged","beforeRefreshModel"],zNe=[...ONe,...NNe],BNe=class extends ce{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(n,i,o)=>t({key:n,defaultValue:i,variableValues:o});const r=e.get("localeText");return(n,i,o)=>{let a=r&&r[n];if(a&&o&&o.length){let s=0;for(;!(s>=o.length||a.indexOf("${variable}")===-1);)a=a.replace("${variable}",o[s++])}return a??i}}},VNe=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"],GNe=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef"],HNe=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],aq=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],WNe=["theme","rowSelection"],$Ne=["cellSelection","sideBar","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild"],sq=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],UNe=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter"],jNe=[...HNe,...GNe,...VNe,...aq,...UNe,...sq,...$Ne,...WNe],YNe=class{wrap(e,t,r,n){const i=this.createWrapper(e,n);return t==null||t.forEach(o=>{this.createMethod(i,o,!0)}),r==null||r.forEach(o=>{this.createMethod(i,o,!1)}),i}createMethod(e,t,r){e.addMethod(t,this.createMethodProxy(e,t,r))}createMethodProxy(e,t,r){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(r&&be(49,{methodName:t}),null)}}},KNe=class extends zf{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=Ta(t,!0)}};function lq(e){const{inputValue:t,allSuggestions:r,hideIrrelevant:n,filterByPercentageOfBestMatch:i,addSequentialWeight:o}=e;let a=r.map((u,c)=>({value:u,relevance:qNe(t.toLowerCase(),u.toLocaleLowerCase(),o),idx:c}));if(a.sort((u,c)=>c.relevance-u.relevance),n&&(a=a.filter(u=>u.relevance!==0)),a.length>0&&i&&i>0){const c=a[0].relevance*i;a=a.filter(d=>c-d.relevance<0)}const s=[],l=[];for(const u of a)s.push(u.value),l.push(u.idx);return{values:s,indices:l}}function XNe(e){const t=[],r=e.length;for(let n=1;n<=r;n++)for(let i=0;i<=r-n;i++){const o=i+n-1;t.push(e.slice(i,o+1))}return t}function qNe(e,t,r=!1){const n=e.replace(/\s/g,""),i=t.replace(/\s/g,""),o=n.length,a=i.length,s=new Array(o+1).fill(null).map(()=>new Array(a+1).fill(0));for(let d=0;d<=o;d+=1)s[d][0]=d;for(let d=0;d<=a;d+=1)s[0][d]=d;for(let d=1;d<=o;d++)for(let h=1;h<=a;h++)n[d-1]===i[h-1]?s[d][h]=s[d-1][h-1]:s[d][h]=1+Math.min(s[d][h-1],Math.min(s[d-1][h],s[d-1][h-1]));const l=s[o][a];let c=Math.max(o,a)-l;if(r){const d=XNe(n);for(let h=0;h<d.length;h++){const f=d[h];i.indexOf(f)!==-1&&(c+=1,c*=f.length)}}return c}function ZNe(e,t){if(typeof e!="number")return"";const r=t(),n=r("thousandSeparator",","),i=r("decimalSeparator",".");return e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${n}`)}var QNe=class extends ce{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},JNe=class{constructor(e){this.groupColumns=[];const{colModel:t,rowGroupColsSvc:r,colNames:n,valueSvc:i,gos:o,processCellCallback:a,processHeaderCallback:s,processGroupHeaderCallback:l,processRowGroupCallback:u}=e;this.colModel=t,this.rowGroupColsSvc=r,this.colNames=n,this.valueSvc=i,this.gos=o,this.processCellCallback=a,this.processHeaderCallback=s,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,r,n,i){const a=(!this.gos.get("groupHideOpenParents")||i.footer)&&this.shouldRenderGroupSummaryCell(i,e,t)?this.createValueForGroupNode(e,i):this.valueSvc.getValue(e,i);return this.processCell({accumulatedRowIndex:r,rowNode:i,column:e,value:a,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,r){var a,s;if(!(e.group&&!this.gos.get("treeData")))return!1;if(this.groupColumns.indexOf(t)!==-1){if(((a=e.groupData)==null?void 0:a[t.getId()])!==void 0||Lf(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const l=t.getColDef();return l==null||l.showRowGroup===!0||l.showRowGroup===((s=this.rowGroupColsSvc)==null?void 0:s.columns[0].getId())}}const o=$M(this.gos,this.colModel.isPivotMode());return r===0&&o}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const r=this.gos.get("treeData"),n=s=>{var u;if(r)return s.key;const l=(u=s.groupData)==null?void 0:u[e.getId()];return!l||!s.rowGroupColumn||s.rowGroupColumn.getColDef().useValueFormatterForExport===!1?l:this.valueSvc.formatValue(s.rowGroupColumn,s,l)??l},i=t.footer,o=[n(t)];if(!KIe(this.gos))for(;t.parent;)t=t.parent,o.push(n(t));const a=o.reverse().join(" -> ");return i?`Total ${a}`:a}processCell(e){const{accumulatedRowIndex:t,rowNode:r,column:n,value:i,processCellCallback:o,type:a}=e;return o?{value:o(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:n,node:r,value:i,type:a,parseValue:s=>this.valueSvc.parseValue(n,r,s,this.valueSvc.getValue(n,r)),formatValue:s=>this.valueSvc.formatValue(n,r,s)??s}))??""}:n.getColDef().useValueFormatterForExport!==!1?{value:i??"",valueFormatted:this.valueSvc.formatValue(n,r,i)}:{value:i??""}}};function eze(e,t){const r=document.defaultView||window;if(!r){be(52);return}const n=document.createElement("a"),i=r.URL.createObjectURL(t);n.setAttribute("href",i),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(n),r.setTimeout(()=>{r.URL.revokeObjectURL(i)},0)}var tze={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0},Qn="clientSide",An="serverSide",oh="infinite",rze={onGroupExpandedOrCollapsed:[Qn],refreshClientSideRowModel:[Qn],isRowDataEmpty:[Qn],forEachLeafNode:[Qn],forEachNodeAfterFilter:[Qn],forEachNodeAfterFilterAndSort:[Qn],resetRowHeights:[Qn],applyTransaction:[Qn],applyTransactionAsync:[Qn],flushAsyncTransactions:[Qn],getBestCostNodeSelection:[Qn],getServerSideSelectionState:[An],setServerSideSelectionState:[An],applyServerSideTransaction:[An],applyServerSideTransactionAsync:[An],applyServerSideRowData:[An],retryServerSideLoads:[An],flushServerSideAsyncTransactions:[An],refreshServerSide:[An],getServerSideGroupLevelState:[An],refreshInfiniteCache:[oh],purgeInfiniteCache:[oh],getInfiniteRowCount:[oh],isLastRowIndexKnown:[oh,An],expandAll:[Qn,An],collapseAll:[Qn,An],onRowHeightChanged:[Qn,An],setRowCount:[oh,An],getCacheBlockState:[oh,An]},nze={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function ize(e,t,r){const n=nze[e];if(n){const{version:o,new:a,old:s,message:l}=n,u=s??e;return(...c)=>{const d=a?`Please use ${a} instead. `:"";return Xg(`Since ${o} api.${u} is deprecated. ${d}${l??""}`),t.apply(t,c)}}const i=rze[e];return i?(...o)=>{const a=r.rowModel.getType();if(!i.includes(a)){Mh(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`);return}return t.apply(t,o)}:t}var oze={AdvancedFilter:1,AllEnterprise:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,Pivot:1,RangeSelection:1,RichSelect:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},MT=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],aze={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:MT,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...MT,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...MT,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},sze={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function lze(e,t){const r=[];return(Array.isArray(e)?e:[e]).forEach(n=>{const i=aze[n];i?i.forEach(o=>{const a=sze[o];(!a||a===t)&&r.push(o)}):r.push(n)}),r}var Bh={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar"},uze=e=>`import { ModuleRegistry } from 'ag-grid-community'; 
${e.map(r=>`import { ${gb(r)} } from '${oze[r]?"ag-grid-enterprise":"ag-grid-community"}';`).join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(gb).join(", ")} ]); 

For more info see: ${ef}/modules/`;function gb(e){return`${e}Module`}var f5=({reasonOrId:e,moduleName:t,gridScoped:r,gridId:n,rowModelType:i,additionalText:o})=>{const a=lze(t,i);return`Unable to use ${typeof e=="string"?e:fze[e]} as ${a.length>1?"one of "+a.map(gb).join(", "):gb(a[0])} is not registered${r?" for gridId: "+n:""}. Check if you have registered the module:
${uze(a)}`+(o?` 

${o}`:"")},p5=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,cze=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,dze={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:r})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",r],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${cze(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:({methodName:e})=>`AnimationFrameService.${e} called but animation frames are off`,93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:r,pageSizeOptions:n})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${r?"":" the default"} paginationPageSizeSelector=[${n.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",100:({rowModelType:e})=>`selectAll only available when rowModelType='clientSide', ie not ${e}`,101:({propertyName:e,componentName:t,agGridDefaults:r,jsComps:n})=>{const i=[],o=[...Object.keys(r).filter(s=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)),...Object.keys(n)],a=lq({inputValue:t,allSuggestions:o,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return i.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),a.length>0&&i.push(`         Did you mean: [${a.slice(0,3)}]?
`),i.push("If using a custom component check it has been registered correctly."),i},102:()=>"selecting just filtered only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${ef}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelectsChildren` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,115:()=>"The provided selection state should be an object.",116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',131:()=>"cannot range select while selecting multiple rows",132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:r})=>["duplicate group keys for row data, keys should be unique",e,t,...r],187:({rowId:e,firstData:t,secondData:r})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",r],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],191:()=>"cannot multi select unless selection mode is 'multiRow'",192:()=>"cannot use range selection when multi selecting rows",193:()=>"cannot multi select unless selection mode is 'multiRow'",194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",198:()=>"cannot multi select unless selection mode is 'multiRow'",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:f5,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${ef}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,241:()=>"cannot select multiple rows when rowSelection.mode is set to 'singleRow'",242:()=>"cannot select multiple rows when using rangeSelect",243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>p5("IntegratedChartsModule"),258:()=>p5("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:r,gridId:n,rowModelType:i})=>f5({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:Bh[t],gridId:n,gridScoped:r,rowModelType:i}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus'};function hze(e,t){const r=dze[e];if(!r)return[`Missing error text for error id ${e}!`];const n=r(t),o=`
See ${AK(e,t)}`;return Array.isArray(n)?n.concat(o):[n,o]}var fze={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},pze=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),gze=()=>({aggFunc:{module:"SharedAggregation"},autoHeight:{supportedRowModels:["clientSide","serverSide"],module:"RowAutoHeight"},cellClass:{module:"CellStyle"},cellClassRules:{module:"CellStyle"},cellEditor:({cellEditor:e,editable:t})=>{if(!t)return null;if(typeof e=="string"){const r=Bh[e];if(r)return{module:r}}return{module:"CustomEditor"}},cellRenderer:({cellRenderer:e})=>{if(typeof e!="string")return null;const t=Bh[e];return t?{module:t}:null},cellRendererParams:{validate:e=>(e.rowGroup!=null||e.rowGroupIndex!=null||e.cellRenderer==="agGroupCellRenderer")&&"checkbox"in e.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},cellStyle:{module:"CellStyle"},children:()=>uq(),columnChooserParams:{module:"ColumnMenu"},contextMenuItems:{module:"ContextMenu"},dndSource:{module:"DragAndDrop"},dndSourceOnRowDrag:{module:"DragAndDrop"},editable:({editable:e,cellEditor:t})=>e&&!t?{module:"TextEditor"}:null,enableCellChangeFlash:{module:"HighlightChanges"},enablePivot:{module:"SharedPivot"},enableRowGroup:{module:"SharedRowGrouping"},enableValue:{module:"SharedAggregation"},filter:({filter:e})=>{if(e&&typeof e!="string"&&typeof e!="boolean")return{module:"CustomFilter"};if(typeof e=="string"){const t=Bh[e];if(t)return{module:t}}return{module:"ColumnFilter"}},floatingFilter:{module:"ColumnFilter"},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerTooltip:{module:"Tooltip"},headerValueGetter:{validate:e=>{const t=e.headerValueGetter;return typeof t=="function"||typeof t=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:e})=>{if(e){if(e.smallDown)return Bl(262);if(e.smallLeft)return Bl(263);if(e.smallRight)return Bl(264)}return null}},mainMenuItems:{module:"ColumnMenu"},menuTabs:e=>{var r;const t=["columnsMenuTab","generalMenuTab"];return(r=e.menuTabs)!=null&&r.some(n=>t.includes(n))?{module:"ColumnMenu"}:null},pivot:{module:"SharedPivot"},pivotIndex:{module:"SharedPivot"},rowDrag:{module:"RowDrag"},rowGroup:{module:"SharedRowGrouping"},rowGroupIndex:{module:"SharedRowGrouping"},sortingOrder:{validate:e=>{const t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){const r=t.filter(n=>!Kv.includes(n));if(r.length>0)return`sortingOrder must be an array with elements from [${Kv.map(rb).join()}], currently it includes [${r.map(rb).join()}]`}else if(!Array.isArray(t)||t.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${t}`;return null}},tooltipField:{module:"Tooltip"},tooltipValueGetter:{module:"Tooltip"},type:{validate:e=>{const t=e.type;return t instanceof Array?t.some(n=>typeof n!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof t=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(e,{suppressRowTransform:t})=>t?null:"colDef.rowSpan requires suppressRowTransform to be enabled."}}),vze={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},mze=()=>Object.keys(vze),uq=()=>({objectName:"colDef",allProperties:mze(),docsUrl:"column-properties/",deprecations:pze(),validations:gze()}),yze=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."}});function ia(e,t,r,n=Number.MAX_VALUE){return typeof t=="number"||t==null?t==null||t>=r&&t<=n?null:n===Number.MAX_VALUE?`${e}: value should be greater than or equal to ${r}`:`${e}: value should be between ${r} and ${n}`:`${e}: value should be a number`}var Cze=()=>{const e={alignedGrids:{module:"AlignedGrids"},allowContextMenuWithControlKey:{module:"ContextMenu"},autoSizePadding:{validate({autoSizePadding:r}){return ia("autoSizePadding",r,0)}},autoSizeStrategy:{module:"ColumnAutoSize"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:r}){return ia("cacheBlockSize",r,1)}},cacheOverflowSize:{validate({cacheOverflowSize:r}){return ia("cacheOverflowSize",r,1)}},cellSelection:{module:"CellSelection"},columnHoverHighlight:{module:"ColumnHover"},datasource:{supportedRowModels:["infinite"],module:"InfiniteRowModel"},doesExternalFilterPass:{module:"ExternalFilter"},domLayout:{validate:r=>{const n=r.domLayout,i=["autoHeight","normal","print"];return n&&!i.includes(n)?`domLayout must be one of [${i.join()}], currently it's ${n}`:null}},editType:{module:"EditCore"},enableAdvancedFilter:{module:"AdvancedFilter"},enableCharts:{module:"IntegratedCharts"},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{module:"CellSelection",dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},getContextMenuItems:{module:"ContextMenu"},getLocaleText:{module:"Locale"},getMainMenuItems:{module:"ColumnMenu"},getRowClass:{module:"RowStyle"},getRowStyle:{module:"RowStyle"},grandTotalRow:{module:"SharedRowGrouping"},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:r})=>{if(r){if(r.smallDown)return Bl(262);if(r.smallLeft)return Bl(263);if(r.smallRight)return Bl(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:r}){return ia("infiniteInitialRowCount",r,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},initialState:{module:"GridState"},isExternalFilterPresent:{module:"ExternalFilter"},keepDetailRowsCount:{validate({keepDetailRowsCount:r}){return ia("keepDetailRowsCount",r,1)}},localeText:{module:"Locale"},masterDetail:{module:"SharedMasterDetail"},pagination:{module:"Pagination"},paginationPageSize:{validate({paginationPageSize:r}){return ia("paginationPageSize",r,1)}},paginationPageSizeSelector:{validate:r=>{const n=r.paginationPageSizeSelector;return typeof n=="boolean"||n==null||n.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pinnedTopRowData:{module:"PinnedRow"},pinnedBottomRowData:{module:"PinnedRow"},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}},module:"SharedPivot"},pivotPanelShow:{module:"RowGroupingPanel"},quickFilterText:{supportedRowModels:["clientSide"],module:"QuickFilter"},rowBuffer:{validate({rowBuffer:r}){return ia("rowBuffer",r,0)}},rowClass:{validate:r=>typeof r.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null,module:"RowStyle"},rowClassRules:{module:"RowStyle"},rowData:{supportedRowModels:["clientSide"],module:"ClientSideRowModel"},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{treeData:{required:[!1,void 0]},pagination:{required:[!1,void 0]}},module:"RowDrag"},rowGroupPanelShow:{module:"RowGroupingPanel"},rowSelection:{validate({rowSelection:r}){return r&&typeof r=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':r&&typeof r!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":r&&r.mode!=="multiRow"&&r.mode!=="singleRow"?`Selection mode "${r.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null},module:"SharedRowSelection"},rowStyle:{validate:r=>{const n=r.rowStyle;return n&&typeof n=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null},module:"RowStyle"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"ServerSideRowModel"},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:r}){return ia("serverSideInitialRowCount",r,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sideBar:{module:"SideBar"},sortingOrder:{validate:r=>{const n=r.sortingOrder;if(Array.isArray(n)&&n.length>0){const i=n.filter(o=>!Kv.includes(o));if(i.length>0)return`sortingOrder must be an array with elements from [${Kv.map(rb).join()}], currently it includes [${i.map(rb).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},statusBar:{module:"StatusBar"},tooltipHideDelay:{validate:r=>r.tooltipHideDelay&&r.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:r=>r.tooltipShowDelay&&r.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],module:"SharedTreeData",validate:r=>{const n=r.rowModelType??"clientSide";switch(n){case"clientSide":{const i=`treeData requires 'getDataPath' in the ${n} row model.`;return r.treeDataChildrenField||r.getDataPath?null:i}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${n} row model.`;return r.isServerSideGroup&&r.getServerSideGroupKey?null:i}}return null}},treeDataChildrenField:{module:"SharedTreeData"},undoRedoCellEditing:{module:"UndoRedoEdit"},valueCache:{module:"ValueCache"},viewportDatasource:{supportedRowModels:["viewport"],module:"ViewportRowModel"},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:r}){return ia("viewportRowModelBufferSize",r,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:r}){return ia("viewportRowModelPageSize",r,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}}},t={};return sq.forEach(r=>{t[r]={expectedType:"boolean"}}),aq.forEach(r=>{t[r]={expectedType:"number"}}),mn(t,e),t},wze=()=>({objectName:"gridOptions",allProperties:[...jNe,...zNe.map(e=>NK(e))],propertyExceptions:["api","treeDataChildrenField"],docsUrl:"grid-options/",deprecations:yze(),validations:Cze()}),bze={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1},Sze={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore"},xze=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),Rze={pinSubMenu:"PinnedColumn",pinLeft:"PinnedColumn",pinRight:"PinnedColumn",clearPinned:"PinnedColumn",valueAggSubMenu:"SharedAggregation",autoSizeThis:"ColumnAutoSize",autoSizeAll:"ColumnAutoSize",rowGroup:"SharedRowGrouping",rowUnGroup:"SharedRowGrouping",resetColumns:"CommunityCore",expandAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],contractAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],copy:"Clipboard",copyWithHeaders:"Clipboard",copyWithGroupHeaders:"Clipboard",cut:"Clipboard",paste:"Clipboard",export:["CsvExport","ExcelExport"],csvExport:"CsvExport",excelExport:"ExcelExport",separator:"CommunityCore",pivotChart:"IntegratedCharts",chartRange:"IntegratedCharts",columnFilter:"ColumnFilter",columnChooser:"ColumnMenu",sortAscending:"Sort",sortDescending:"Sort",sortUnSort:"Sort"},_ze=class extends ce{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,OIe(this)}postConstruct(){this.processGridOptions(this.gridOptions)}warnOnInitialPropertyUpdate(e,t){e==="api"&&tze[t]&&be(22,{key:t})}processGridOptions(e){this.processOptions(e,wze())}validateApiFunction(e,t){return ize(e,t,this.beans)}missingUserComponent(e,t,r,n){const i=Bh[t];i?this.gos.assertModuleRegistered(i,`AG Grid '${e}' component: ${t}`):be(101,{propertyName:e,componentName:t,agGridDefaults:r,jsComps:n})}checkRowEvents(e){Pze.has(e)&&be(10,{eventType:e})}validateIcon(e){if(xze.has(e)&&be(43,{iconName:e}),bze[e])return;const t=Sze[e];if(t){kt(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:XM(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}be(134,{iconName:e})}validateMenuItem(e){const t=Rze[e];t&&this.gos.assertModuleRegistered(t,`menu item '${e}'`)}isProvidedUserComp(e){return!!Bh[e]}validateColDef(e,t,r){var n;(r||!((n=this.beans.dataTypeSvc)!=null&&n.isColPendingInference(t)))&&this.processOptions(e,uq())}processOptions(e,t){const{validations:r,deprecations:n,allProperties:i,propertyExceptions:o,objectName:a,docsUrl:s}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...o??[],...Object.keys(n)],i,a,s);const l=new Set,u=d=>{const h=r[d];if(h)if(typeof h=="function"){const f=h(e,this.gridOptions,this.beans);if(!f)return;if("objectName"in f){const g=e[d];if(Array.isArray(g)){g.forEach(m=>{this.processOptions(m,f)});return}this.processOptions(e[d],f);return}return f}else return h;else return};Object.keys(e).forEach(d=>{const h=n[d];if(h){const{message:x,version:R}=h;l.add(`As of v${R}, ${String(d)} is deprecated. ${x??""}`)}const f=e[d];if(f==null||f===!1)return;const g=u(d);if(!g)return;const{module:m,dependencies:y,validate:C,supportedRowModels:w,expectedType:S}=g;if(S){const x=typeof f;if(x!==S){l.add(`${String(d)} should be of type '${S}' but received '${x}' (${f}).`);return}}if(w){const x=this.gridOptions.rowModelType??"clientSide";if(!w.includes(x)){l.add(`${String(d)} is not supported with the '${x}' row model. It is only valid with: ${w.join(", ")}.`);return}}if(m){const x=Array.isArray(m)?m:[m];let R=!0;if(x.forEach(T=>{this.gos.assertModuleRegistered(T,String(d))||(R=!1)}),!R)return}if(y){const x=this.checkForRequiredDependencies(d,y,e);if(x){l.add(x);return}}if(C){const x=C(e,this.gridOptions,this.beans);if(x){l.add(x);return}}}),l.size>0&&l.forEach(d=>{Xg(d)})}checkForRequiredDependencies(e,t,r){const i=Object.entries(t).filter(([o,a])=>{const s=r[o];return!a.required.includes(s)});return i.length===0?null:i.map(([o,a])=>`'${String(e)}' requires '${o}' to be one of [${a.required.map(s=>s===null?"null":s===void 0?"undefined":s).join(", ")}]. ${a.reason??""}`).join(`
           `)}checkProperties(e,t,r,n,i){const o=["__ob__","__v_skip","__metadata__"],a=Tze(Object.getOwnPropertyNames(e),[...o,...t,...r],r);if(Object.entries(a).forEach(([s,l])=>{let u=`invalid ${n} property '${s}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;r.includes("context")&&(u+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),Xg(u)}),Object.keys(a).length>0&&i){const s=this.beans.frameworkOverrides.getDocLink(i);Xg(`to see all the valid ${n} properties please check: ${s}`)}}getConsoleMessage(e,t){return hze(e,t)}};function Tze(e,t,r){const n={},i=e.filter(o=>!t.some(a=>a===o));return i.length>0&&i.forEach(o=>n[o]=lq({inputValue:o,allSuggestions:r}).values),n}var Pze=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),Dze={moduleName:"Validation",version:De,beans:[_ze]};function cq(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var Aze=class extends ce{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var r;const t=!!((r=this.filterManager)!=null&&r.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const r=(n,i)=>{n.hasChildren()&&e&&!i?n.childrenAfterFilter=n.childrenAfterGroup.filter(o=>{const a=o.childrenAfterFilter&&o.childrenAfterFilter.length>0,s=o.data&&this.filterManager.doesRowPassFilter({rowNode:o});return a||s}):n.childrenAfterFilter=n.childrenAfterGroup,cq(n)};if(this.doingTreeDataFiltering()){const n=(o,a)=>{if(o.childrenAfterGroup)for(let s=0;s<o.childrenAfterGroup.length;s++){const l=o.childrenAfterGroup[s],u=a||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?n(o.childrenAfterGroup[s],u):r(l,u)}r(o,a)},i=o=>n(o,!1);t.executeFromRootNode(i)}else{const n=i=>r(i,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},Ize=class extends nk{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,r,n,i){this.comp=e;const o=_m(this,this.beans.context,i);this.eButtonShowMainFilter=r,this.eFloatingFilterBody=n,this.setGui(t,o),this.setupActive(),this.setupWidth(o),this.setupLeft(o),this.setupHover(o),this.setupFocus(o),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(o),this.setupUi(),o.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(o),o.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(o)}),o.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,r=!!e.floatingFilter;this.active=t&&r}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=qi("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Nf(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();bS(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){var a;const{beans:t}=this;if(or(t)===this.eGui)return;const i=rd(t,this.eGui,null,e.shiftKey);if(i){(a=t.headerNavigation)==null||a.scrollToColumn(this.column),e.preventDefault(),i.focus();return}const o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let r=this.column;do if(r=e?t.getColBefore(r):t.getColAfter(r),!r)break;while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case ue.UP:case ue.DOWN:t||e.preventDefault();case ue.LEFT:case ue.RIGHT:if(t)return;e.stopPropagation();case ue.ENTER:t&&Gc(this.eGui)&&e.preventDefault();break;case ue.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const r=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&bc(e.relatedTarget,"ag-floating-filter");if(r&&n&&e.target===this.eGui){const i=this.lastFocusEvent,o=!!(i&&i.key===ue.TAB);if(i&&o){const a=i.shiftKey;Gc(this.eGui,a)}}this.focusThis()}setupHover(e){var t;(t=this.beans.colHover)==null||t.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new rk(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){var e;this.suppressFilterButton=!((e=this.beans.menuSvc)!=null&&e.isFloatingFilterButtonEnabled(this.column)),this.highlightFilterButtonWhenActive=!vi(this.gos)}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){var t;const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;(t=this.beans.menuSvc)==null||t.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,r=n=>{if((n==null?void 0:n.source)==="filterDestroyed"&&!this.isAlive())return;const i=this.comp.getFloatingFilterComp();i&&i.then(o=>{if(o){const a=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),s=n?{...n,columns:n.columns??[],source:n.source==="api"?"api":"columnFilter"}:null;o.onParentModelChanged(a,s)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:r}),t!=null&&t.isFilterActive(this.column)&&r(null)}setupWidth(e){const t=()=>{const r=`${this.column.getActualWidth()}px`;this.comp.setWidth(r)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var o;const t=this.active;this.setupActive();const r=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const n=this.active?(o=this.beans.filterManager)==null?void 0:o.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,i=this.comp.getFloatingFilterComp();!i||!n?this.updateCompDetails(e,n,r):i.then(a=>{var s;!a||(s=this.beans.filterManager)!=null&&s.areFilterCompsDifferent(this.userCompDetails??null,n)?this.updateCompDetails(e,n,r):this.updateFloatingFilterParams(n)})}updateCompDetails(e,t,r){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),r&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var r;if(!e)return;const t=e.params;(r=this.comp.getFloatingFilterComp())==null||r.then(n=>{n!=null&&n.refresh&&typeof n.refresh=="function"&&n.refresh(t)})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function Eze(e,t){var n;const r=e.colModel.getCol(t);if(!r){kt(12,{colKey:t});return}(n=e.menuSvc)==null||n.showColumnMenu({column:r,positionBy:"auto"})}function Mze(e){var t;(t=e.menuSvc)==null||t.hidePopupMenu()}var kze={moduleName:"SharedMenu",version:De,beans:[rFe],apiFunctions:{showColumnMenu:Eze,hidePopupMenu:Mze}},Fze=0,Lze=200,Oze=class extends ce{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:r}=e,n=this.getPopupIndex(r);if(n!==-1){const f=this.popupList[n];f.alignedToElement=t}const i=t.getBoundingClientRect(),o=this.getParentRect(),a=this.keepXYWithinBounds(r,i.top-o.top,0),s=r.clientWidth>0?r.clientWidth:200;r.style.minWidth=`${s}px`;const u=o.right-o.left-s;let c;this.gos.get("enableRtl")?(c=h(),c<0&&(c=d(),this.setAlignedStyles(r,"left")),c>u&&(c=0,this.setAlignedStyles(r,"right"))):(c=d(),c>u&&(c=h(),this.setAlignedStyles(r,"right")),c<0&&(c=0,this.setAlignedStyles(r,"left"))),r.style.left=`${c}px`,r.style.top=`${a}px`;function d(){return i.right-o.left-2}function h(){return i.left-o.left-s}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:r,nudgeY:n,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:i,eventSource:o,alignSide:a="left",position:s="over",column:l,rowNode:u,type:c}=e,d=o.getBoundingClientRect(),h=this.getParentRect(),f=this.getPopupIndex(t);if(f!==-1){const m=this.popupList[f];m.alignedToElement=o}const g=()=>{let m=d.left-h.left;a==="right"&&(m-=t.offsetWidth-d.width);let y;return s==="over"?(y=d.top-h.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,d,h,e.nudgeY||0)==="under"?y=d.top-h.top+d.height:y=d.top-t.offsetHeight-(n||0)*2-h.top),{x:m,y}};this.positionPopup({ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:i,updatePosition:g,postProcessCallback:()=>this.callPostProcessPopup(c,t,o,null,l,u)})}shouldRenderUnderOrAbove(e,t,r,n){const i=r.bottom-t.bottom,o=t.top-r.top,a=e.offsetHeight+n;return i>a?"under":o>a||o>i?"above":"under"}setAlignedStyles(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r],{alignedToElement:i}=n;!i||(["right","left","over","above","under"].forEach(a=>{i.classList.remove(`ag-has-popup-positioned-${a}`),e.classList.remove(`ag-popup-positioned-${a}`)}),!t)||(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,r,n,i,o){const a=this.gos.getCallback("postProcessPopup");a&&a({column:i,rowNode:o,ePopup:t,type:e,eventSource:r,mouseEvent:n})}positionPopup(e){const{ePopup:t,keepWithinBounds:r,nudgeX:n,nudgeY:i,skipObserver:o,updatePosition:a}=e,s={width:0,height:0},l=(u=!1)=>{let{x:c,y:d}=a();u&&t.clientWidth===s.width&&t.clientHeight===s.height||(s.width=t.clientWidth,s.height=t.clientHeight,n&&(c+=n),i&&(d+=i),r&&(c=this.keepXYWithinBounds(t,c,1),d=this.keepXYWithinBounds(t,d,0)),t.style.left=`${c}px`,t.style.top=`${d}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!o){const u=Os(this.beans,t,()=>l(!0));setTimeout(()=>u(),Lze)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=dr(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),SK(t)}keepXYWithinBounds(e,t,r){const n=r===0,i=n?"clientHeight":"clientWidth",o=n?"top":"left",a=n?"height":"width",s=n?"scrollTop":"scrollLeft",l=dr(this.beans),u=l.documentElement,c=this.getPopupParent(),d=e.getBoundingClientRect(),h=c.getBoundingClientRect(),f=l.documentElement.getBoundingClientRect(),g=c===l.body,m=Math.ceil(d[a]);let C=g?(n?bK:Z0)(u)+u[s]:c[i];g&&(C-=Math.abs(f[o]-h[o]));const w=C-m;return Math.min(Math.max(t,0),Math.abs(w))}addPopup(e){const t=dr(this.beans),{eChild:r,ariaLabel:n,alwaysOnTop:i,positionCallback:o,anchorToElement:a}=e;if(!t)return be(122),{hideFunc:()=>{}};const s=this.getPopupIndex(r);if(s!==-1)return{hideFunc:this.popupList[s].hideFunc};this.initialisePopupPosition(r);const l=this.createPopupWrapper(r,n,!!i),u=this.addEventListenersToPopup({...e,wrapperEl:l});return o&&o(),this.addPopupToPopupList(r,l,u,a),{hideFunc:u}}initialisePopupPosition(e){const r=this.getPopupParent().getBoundingClientRect();Te(e.style.top)||(e.style.top=`${r.top*-1}px`),Te(e.style.left)||(e.style.left=`${r.left*-1}px`)}createPopupWrapper(e,t,r){const n=this.getPopupParent(),i=document.createElement("div"),{environment:o,gos:a}=this.beans;return o.applyThemeClasses(i),i.classList.add("ag-popup"),e.classList.add(a.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Go(e,"dialog"),bS(e,t),i.appendChild(e),n.appendChild(i),r?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),i}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const r of this.popupList)t.applyThemeClasses(r.wrapper)}}addEventListenersToPopup(e){const t=this.beans,r=dr(t),n=this.getPopupParent(),{wrapperEl:i,eChild:o,closedCallback:a,afterGuiAttached:s,closeOnEsc:l,modal:u}=e;let c=!1;const d=m=>{if(!i.contains(or(t)))return;m.key===ue.ESCAPE&&!ys(m)&&g({keyboardEvent:m})},h=m=>g({mouseEvent:m}),f=m=>g({touchEvent:m}),g=(m={})=>{const{mouseEvent:y,touchEvent:C,keyboardEvent:w,forceHide:S}=m;!S&&(this.isEventFromCurrentPopup({mouseEvent:y,touchEvent:C},o)||c)||(c=!0,n.removeChild(i),r.removeEventListener("keydown",d),r.removeEventListener("mousedown",h),r.removeEventListener("touchstart",f),r.removeEventListener("contextmenu",h),this.eventSvc.removeEventListener("dragStarted",h),a&&a(y||C||w),this.removePopupFromPopupList(o))};return s&&s({hidePopup:g}),window.setTimeout(()=>{l&&r.addEventListener("keydown",d),u&&(r.addEventListener("mousedown",h),this.eventSvc.addEventListener("dragStarted",h),r.addEventListener("touchstart",f),r.addEventListener("contextmenu",h))},0),g}addPopupToPopupList(e,t,r,n){this.popupList.push({element:e,wrapper:t,hideFunc:r,instanceId:Fze++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(o=>o&&o()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=i,n.isAnchored=!0,i}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),r=t.getBoundingClientRect(),{element:n,ePopup:i}=e,o=n.getBoundingClientRect(),a=d=>parseInt(d.substring(0,d.length-1),10),s=(d,h)=>{const f=r[d]-o[d],g=a(i.style[d]);return{initialDiff:f,lastDiff:f,initial:g,last:g,direction:h}},l=s("top",0),u=s("left",1),c=this.beans.frameworkOverrides;return new nr(d=>{c.wrapIncoming(()=>{c.setInterval(()=>{const h=t.getBoundingClientRect(),f=n.getBoundingClientRect();if(f.top==0&&f.left==0&&f.height==0&&f.width==0){e.hidePopup();return}const m=(y,C)=>{const w=a(i.style[C]);y.last!==w&&(y.initial=w,y.last=w);const S=h[C]-f[C];if(S!=y.lastDiff){const x=this.keepXYWithinBounds(i,y.initial+y.initialDiff-S,y.direction);i.style[C]=`${x}px`,y.last=x}y.lastDiff=S};m(l,"top"),m(u,"left")},200).then(h=>{d(()=>{h!=null&&window.clearInterval(h)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:r,touchEvent:n}=e,i=r||n;if(!i)return!1;const o=this.getPopupIndex(t);if(o===-1)return!1;for(let a=o;a<this.popupList.length;a++){const s=this.popupList[a];if(oEe(s.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=dr(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const r=this.getWrapper(e);r&&(r.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(r))}bringPopupToFront(e){const t=this.getPopupParent(),r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=r.length,i=this.getWrapper(e);if(!i||n<=1||!t.contains(e))return;const o=[],a=[];for(const h of r)h!==i&&(h.classList.contains("ag-always-on-top")?a.push(h):o.push(h));const s=[],l=a.length,d=i.classList.contains("ag-always-on-top")||!l?[...o,...a,i]:[...o,i,...a];for(let h=0;h<=n;h++){const f=d[h];if(r[h]===d[h]||f===i)continue;f.querySelectorAll("div").forEach(m=>{m.scrollTop!==0&&s.push([m,m.scrollTop])}),h===0?t.insertAdjacentElement("afterbegin",f):d[h-1].insertAdjacentElement("afterend",f)}for(;s.length;){const h=s.pop();h[0].scrollTop=h[1]}}},TS={moduleName:"Popup",version:De,beans:[Oze]},Nze=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-set-floating-filter-input [disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function zze(e){const t=e.filterManager;return!!(t!=null&&t.isColumnFilterPresent())||!!(t!=null&&t.isAggregateFilterPresent())}function Bze(e,t){var r;return((r=e.filterManager)==null?void 0:r.getColumnFilterInstance(t))??Promise.resolve(void 0)}function Vze(e,t){var n;const r=e.colModel.getColDefCol(t);if(r)return(n=e.filterManager)==null?void 0:n.destroyFilter(r,"api")}function Gze(e,t){e.frameworkOverrides.wrapIncoming(()=>{var r;return(r=e.filterManager)==null?void 0:r.setFilterModel(t)})}function Hze(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function Wze(e,t){var r;return((r=e.filterManager)==null?void 0:r.getColumnFilterModel(t))??null}function $ze(e,t,r){var n;return((n=e.filterManager)==null?void 0:n.setColumnFilterModel(t,r))??Promise.resolve()}function Uze(e,t){var n;const r=e.colModel.getCol(t);if(!r){kt(12,{colKey:t});return}(n=e.menuSvc)==null||n.showFilterMenu({column:r,containerType:"columnFilter",positionBy:"auto"})}var g5={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},v5=["january","february","march","april","may","june","july","august","september","october","november","december"];function jze(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}var Yze=class extends ce{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:r})=>{var n;(r.rowDataUpdated||(n=r.changedProps)!=null&&n.has("treeData"))&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){const{colModel:r,dataTypeSvc:n,filterManager:i}=this.beans;if(n!=null&&n.isPendingInference){this.filterModelUpdateQueue.push({model:e,source:t});return}const o=[],a=this.getFilterModel(!0);if(e){const s=new Set(Object.keys(e));this.allColumnFilters.forEach((l,u)=>{const c=e[u];o.push(iw(l.filterPromise,c)),s.delete(u)}),s.forEach(l=>{const u=r.getColDefCol(l)||r.getCol(l);if(!u){be(62,{colId:l});return}if(!u.isFilterAllowed()){be(63,{colId:l});return}const c=this.getOrCreateFilterWrapper(u);if(!c){be(64,{colId:l});return}o.push(iw(c.filterPromise,e[l]))})}else this.allColumnFilters.forEach(s=>{o.push(iw(s.filterPromise,null))});nr.all(o).then(()=>{const s=this.getFilterModel(!0),l=[];this.allColumnFilters.forEach((u,c)=>{const d=a?a[c]:null,h=s?s[c]:null;Gv(d,h)||l.push(u.column)}),l.length>0&&(i==null||i.onFilterChanged({columns:l,source:t}))})}getFilterModel(e){const t={},{allColumnFilters:r,initialFilterModel:n,beans:{colModel:i}}=this;return r.forEach((o,a)=>{const s=this.getModelFromFilterWrapper(o);Te(s)&&(t[a]=s)}),e||Object.entries(n).forEach(([o,a])=>{var s;Te(a)&&!r.has(o)&&((s=i.getCol(o))!=null&&s.isFilterAllowed())&&(t[o]=a)}),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(be(66),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=s=>s?s.isFilterActive?s.isFilterActive():(be(67),!1):!1,{colModel:t,gos:r}=this.beans,n=!!iA(r),i=s=>{if(!s.isPrimary())return!0;const u=!t.isPivotActive();return!s.isValueActive()||!u?!1:t.isPivotMode()?!0:n},o=[],a=[];return this.forEachColumnFilter((s,l)=>{e(s)&&(i(l.column)?o.push(s):a.push(s))}).then(()=>{this.activeAggregateFilters=o,this.activeColumnFilters=a})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((r,n)=>this.setColFilterActive(n.column,r.isFilterActive(),e,t))}forEachColumnFilter(e){const t=[];return this.allColumnFilters.forEach(r=>{const n=r.filterPromise;n&&t.push(n.then(i=>e(i,r)))}),nr.all(t)}doColumnFiltersPass(e,t,r){const{data:n,aggData:i}=e,o=r?this.activeAggregateFilters:this.activeColumnFilters,a=r?i:n;for(let s=0;s<o.length;s++){const l=o[s];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function"){kt(91);continue}if(!l.doesFilterPass({node:e,data:a}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:r}=this.beans,n=()=>{this.isAlive()&&(r==null||r.onFilterChanged(e))};t.isRefreshInProgress()?setTimeout(n,0):n()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:r}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",r).then(()=>{this.allColumnFilters.forEach(n=>{n.filterPromise&&n.filterPromise.then(i=>{i&&i!==t&&i.onAnyFilterChanged&&i.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{var r;(r=t.onNewRowsLoaded)==null||r.call(t)}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e){const{filterValueSvc:t,colModel:r}=this.beans;return(n,i)=>{const o=i?r.getCol(i):e;return o?t.getValue(o,n):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;const{gos:r,dataTypeSvc:n}=this.beans;if(CT(r))t="agSetColumnFilter";else{const i=n==null?void 0:n.getBaseDataType(e);i==="number"?t="agNumberColumnFilter":i==="date"||i==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;const{gos:r,dataTypeSvc:n}=this.beans;if(CT(r))t="agSetColumnFloatingFilter";else{const i=n==null?void 0:n.getBaseDataType(e);i==="number"?t="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const r=this.getDefaultFilter(e),n=e.getColDef();let i;const o={...this.createFilterParams(e,n),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(i,e)(),filterChangedCallback:s=>this.filterChangedCallbackFactory(i,e)(s),doesRowPassOtherFilter:s=>{var l;return((l=this.beans.filterManager)==null?void 0:l.doesRowPassOtherFilters(i,s))??!0}},a=dMe(this.beans.userCompFactory,n,o,r);return a?{filterPromise:()=>{const s=a.newAgStackInstance();return s.then(l=>{i=l,t&&(t.filter=l??void 0)}),s},compDetails:a}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:t,rowModel:this.beans.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compDetails:null},{filterPromise:r,compDetails:n}=this.createFilterInstance(e,t);return t.filterPromise=(r==null?void 0:r())??null,t.compDetails=n,t}onColumnsChanged(){const e=[],{colModel:t,filterManager:r}=this.beans;this.allColumnFilters.forEach((i,o)=>{let a;i.column.isPrimary()?a=t.getColDefCol(o):a=t.getCol(o),!(a&&a===i.column)&&(e.push(i.column),this.disposeFilterWrapper(i,"columnChanged"),this.disposeColumnListener(o))});const n=e.every(i=>i.getColDef().filter==="agGroupColumnFilter");e.length>0&&!n?r==null||r.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){var e,t;(t=(e=this.beans.autoColSvc)==null?void 0:e.getAutoCols())==null||t.forEach(r=>{r.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(r)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:r}=this.allColumnFilters.get(e.getColId())??{};return r&&typeof(r==null?void 0:r.isFilterAllowed)=="function"?r.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const r=c=>{var h;const d=(h=this.getOrCreateFilterWrapper(e))==null?void 0:h.filterPromise;d!=null&&d.then(f=>{c(Uv(f))})},n=e.getColDef(),i={...this.createFilterParams(e,n),filterChangedCallback:()=>r(c=>this.filterChangedCallbackFactory(c,e)())},{userCompFactory:o,frameworkOverrides:a}=this.beans,s=yMe(o,n,i);let l=mke(a,n,()=>this.getDefaultFloatingFilter(e));return l==null&&(l="agReadOnlyFloatingFilter"),vMe(o,n,{column:e,filterParams:s,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:r,showParentFilter:t},l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){var i;const r=e.getColId(),n=this.allColumnFilters.get(r);this.disposeColumnListener(r),delete this.initialFilterModel[r],n&&(this.disposeFilterWrapper(n,t),(i=this.beans.filterManager)==null||i.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){var r;(r=e.filterPromise)==null||r.then(n=>{this.destroyBean(n),this.setColFilterActive(e.column,!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventSvc.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return r=>{const n=(r==null?void 0:r.source)??"columnFilter",i={filter:e,additionalEventAttributes:r,columns:[t],source:n};this.callOnFilterChangedOutsideRenderCycle(i)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const r=t.column,{compDetails:n}=r.isFilterAllowed()?this.createFilterInstance(r):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n)){this.destroyFilter(r,"paramsUpdated");return}const i=r.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(r,"paramsUpdated");return}t.filterPromise.then(o=>{(o!=null&&o.refresh?o.refresh({...this.createFilterParams(r,r.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(o,r),filterChangedCallback:this.filterChangedCallbackFactory(o,r),doesRowPassOtherFilter:s=>{var l;return((l=this.beans.filterManager)==null?void 0:l.doesRowPassOtherFilters(o,s))??!0},...i}):!0)===!1&&this.destroyFilter(r,"paramsUpdated")})}setColumnFilterWrapper(e,t){const r=e.getColId();this.allColumnFilters.set(r,t),this.allColumnListeners.set(r,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(r)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:r}=e,{componentClass:n}=t;return!(r===n||(r==null?void 0:r.render)&&(n==null?void 0:n.render)&&r.render===n.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(r=>{t(Uv(r))})})}getFilterInstanceImpl(e){var n;const t=this.beans.colModel.getColDefCol(e);return t?((n=this.getOrCreateFilterWrapper(t))==null?void 0:n.filterPromise)??nr.resolve(null):nr.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:r})=>{this.setColumnFilterModel(e,t).then(()=>r())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){const{colModel:r,dataTypeSvc:n}=this.beans;if(n!=null&&n.isPendingInference){let s=()=>{};const l=new Promise(u=>{s=u});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:s}),l}const i=r.getColDefCol(e),o=i?this.getOrCreateFilterWrapper(i):null;return o?(s=>new Promise(l=>{s.then(u=>l(u))}))(iw(o.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.beans.colModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,r){const n=CT(this.gos),i=this.getLocaleTextFunc(),o=a=>{const{filterParams:s}=e;e.filterParams=typeof s=="object"?{...s,...a}:a};switch(t.baseDataType){case"number":{n&&o({comparator:jze});break}case"boolean":{o(n?{valueFormatter:a=>Te(a.value)?i(String(a.value),a.value?"True":"False"):i("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(a,s)=>s,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(a,s)=>s===!1,numberOfInputs:0}]});break}case"date":{n&&o({valueFormatter:a=>{const s=r(a);return Te(s)?s:i("blanks","(Blanks)")},treeList:!0,treeListFormatter:(a,s)=>{if(s===1&&a!=null){const l=v5[Number(a)-1];return i(l,g5[l])}return a??i("blanks","(Blanks)")}});break}case"dateString":{const a=t.dateParser;o(n?{valueFormatter:s=>{const l=r(s);return Te(l)?l:i("blanks","(Blanks)")},treeList:!0,treeListPathGetter:s=>{const l=a(s??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(s,l)=>{if(l===1&&s!=null){const u=v5[Number(s)-1];return i(u,g5[u])}return s??i("blanks","(Blanks)")}}:{comparator:(s,l)=>{const u=a(l);return l==null||u<s?-1:u>s?1:0}});break}case"object":{n?o({valueFormatter:a=>{const s=r(a);return Te(s)?s:i("blanks","(Blanks)")}}):e.filterValueGetter=a=>r({column:a.column,node:a.node,value:this.beans.valueSvc.getValue(a.column,a.node)});break}}}setColFilterActive(e,t,r,n){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",r)),e.dispatchColEvent("filterChanged",r,n)}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function iw(e,t){return e?new nr(r=>{e.then(n=>{typeof n.setModel!="function"&&(be(65),r()),(n.setModel(t)||nr.resolve()).then(()=>r())})}):nr.resolve()}function Kze(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function Xze(e,t="api"){var r;(r=e.filterManager)==null||r.onFilterChanged({source:t})}var qze=class extends ce{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:n})=>this.onAdvFilterEnabledChanged(n),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:r}=this;this.alwaysPassFilter=r.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=r.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterModel(e,t="api"){var r;if(this.isAdvFilterEnabled()){this.warnAdvFilters();return}(r=this.colFilter)==null||r.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.colFilter)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isAggregateFilterPresent())}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){var t,r;e?(t=this.colFilter)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(r=this.advancedFilter)!=null&&r.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){var e;return!!((e=this.advancedFilter)!=null&&e.isEnabled())}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}resetQuickFilterCache(){var e;(e=this.quickFilter)==null||e.resetCache()}refreshFiltersForAggregations(){iA(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:r,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):nr.resolve()).then(()=>{var o;const i={source:t,type:"filterChanged",columns:n};r&&mn(i,r),this.eventSvc.dispatchEvent(i),(o=this.colFilter)==null||o.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.colFilter)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilter)!=null&&e.isFilterPresent())}updateAggFiltering(){this.aggFiltering=!!iA(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){var r;const{rowNode:t}=e;return(r=this.alwaysPassFilter)!=null&&r.call(this,t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doAggregateFiltersPass(t,e.filterInstanceToSkip))}doesRowPassFilter(e){var r;const{rowNode:t}=e;return(r=this.alwaysPassFilter)!=null&&r.call(this,t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doColumnFiltersPass(t,e.filterInstanceToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterActive(e){var t;return!!((t=this.colFilter)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.colFilter)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.colFilter.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.colFilter.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvFilterEnabled()?!1:!!((t=this.colFilter)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var r;return(r=this.colFilter)==null?void 0:r.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.colFilter)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var r;(r=this.colFilter)==null||r.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var r;return!!((r=this.colFilter)!=null&&r.areFilterCompsDifferent(e,t))}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e){var t;if(this.isAdvFilterEnabled()){if((t=this.beans.dataTypeSvc)!=null&&t.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvFilterEnabled()?!1:!!((e=this.colFilter)!=null&&e.hasFloatingFilters())}getColumnFilterInstance(e){var t;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):((t=this.colFilter)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvFilters(){be(68)}setupAdvFilterHeaderComp(e){var t;(t=this.advancedFilter)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.colFilter)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var r;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):((r=this.colFilter)==null?void 0:r.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,r){var n;(n=this.colFilter)==null||n.setColDefPropertiesForDataType(e,t,r)}},Zze=class extends ce{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){var e;(e=this.hidePopup)==null||e.call(this)}showMenuAfterMouseEvent(e,t,r){this.showPopup(e,n=>{var i;(i=this.popupSvc)==null||i.positionPopupUnderMouseEvent({column:e,type:r,mouseEvent:t,ePopup:n})},r,t.target,vi(this.gos))}showMenuAfterButtonClick(e,t,r){let n=-1,i="left";const o=vi(this.gos);!o&&this.gos.get("enableRtl")&&(n=1,i="right");const a=o?void 0:4*n,s=o?void 0:4;this.showPopup(e,l=>{var u;(u=this.popupSvc)==null||u.positionPopupByComponent({type:r,eventSource:t,ePopup:l,nudgeX:a,nudgeY:s,alignSide:i,keepWithinBounds:!0,position:"under",column:e})},r,t,o)}showPopup(e,t,r,n,i){var g;const o=e?this.createBean(new hke(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!(o!=null&&o.hasFilter())||!e){kt(57);return}const a=document.createElement("div");Go(a,"presentation"),a.classList.add("ag-menu"),i||a.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(a,{keydown:m=>this.trapFocusWithin(m,a)}),a.appendChild(o==null?void 0:o.getGui());let s;const l=()=>o==null?void 0:o.afterGuiDetached(),u=eEe(this.gos)?n??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,c=m=>{QW(e,!1,"contextMenu");const y=m instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),y&&n&&Ma(n)){const C=cX(n);C==null||C.focus({preventScroll:!0})}l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,r,e)},d=this.getLocaleTextFunc(),h=i&&r!=="columnFilter"?d("ariaLabelColumnMenu","Column Menu"):d("ariaLabelColumnFilter","Column Filter"),f=(g=this.popupSvc)==null?void 0:g.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:c,positionCallback:()=>t(a),anchorToElement:u,ariaLabel:h});f&&(this.hidePopup=s=f.hideFunc),o.afterInit().then(()=>{t(a),o.afterGuiAttached({container:r,hidePopup:s})}),QW(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,r,e)}trapFocusWithin(e,t){e.key!==ue.TAB||e.defaultPrevented||rd(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),Gc(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,r){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:r??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},Qze=class extends ce{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t){if(!t)return;const r=e.getColDef(),{filterValueGetter:n}=r;return n?this.executeFilterValueGetter(n,t.data,e,t,r):this.beans.valueSvc.getValue(e,t)}executeFilterValueGetter(e,t,r,n,i){const{expressionSvc:o,valueSvc:a}=this.beans,s=this.gos.addGridCommonParams({data:t,node:n,column:r,colDef:i,getValue:a.getValueCallback.bind(a,n)});return typeof e=="function"?e(s):o==null?void 0:o.evaluate(e,s)}},Jze=class extends Xt{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[xS]),this.eFloatingFilterText=Ye}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const r=t.getModelAsString(e);this.eFloatingFilterText.setValue(r)}})}refresh(e){this.init(e)}},dq=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const r=[["displayKey"],["displayName"],["predicate","test"]],n=i=>i.some(o=>t[o]!=null)?!0:(be(72,{keys:i}),!1);if(!r.every(n)){this.filterOptions=e.filter(i=>i===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(e){const{filterOptions:t}=this;if(e.defaultOption)this.defaultOption=e.defaultOption;else if(t.length>=1){const r=t[0];typeof r=="string"?this.defaultOption=r:r.displayKey?this.defaultOption=r.displayKey:be(73)}else be(74)}getCustomOption(e){return this.customFilterOptions[e]}};function Jg(e,t,r){return r==null?e.splice(t):e.splice(t,r)}function vb(e){return e==null||typeof e=="string"&&e.trim().length===0}function eBe(e){return e==="AND"||e==="OR"?e:"AND"}function tBe(e,t,r){if(e==null)return;const{predicate:n}=e;if(n!=null&&!t.some(i=>i==null))return n(t,r)}function rBe(e,t){let r=e.length;return r>t&&(e.splice(t),be(78),r=t),r}var hq=class extends vke{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:n}=t;return n??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,r)=>{const n=r===0?e:this.optionsFactory.defaultOption;t.setValue(n,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOperatorsOr:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const r=!e.operator,n=!t.operator;if(!r&&n||r&&!n)return!1;let o;if(r){const a=e,s=t;o=this.areSimpleModelsEqual(a,s)}else{const a=e,s=t;o=a.operator===s.operator&&td(a.conditions,s.conditions,(l,u)=>this.areSimpleModelsEqual(l,u))}return o}shouldRefresh(e){var o;const t=this.getModel(),r=t?t.conditions??[t]:null,n=((o=e.filterOptions)==null?void 0:o.map(a=>typeof a=="string"?a:a.displayKey))??this.getDefaultFilterOptions();return!(!(!r||r.every(a=>n.find(s=>s===a.type)!==void 0))||typeof e.maxNumConditions=="number"&&r&&r.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const r=e;let n=r.conditions;n==null&&(n=[],be(77));const i=rBe(n,this.maxNumConditions),o=this.getNumConditions();if(i<o)this.removeConditionsAndOperators(i);else if(i>o)for(let s=o;s<i;s++)this.createJoinOperatorPanel(),this.createOption();const a=r.operator==="OR";this.eJoinOperatorsAnd.forEach(s=>s.setValue(!a,!0)),this.eJoinOperatorsOr.forEach(s=>s.setValue(a,!0)),n.forEach((s,l)=>{this.eTypes[l].setValue(s.type,!0),this.setConditionIntoUi(s,l)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),nr.resolve()}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:r}=t,n=[];if(r){const o=t;n.push(...o.conditions??[])}else n.push(t);return n[r&&r==="OR"?"some":"every"](o=>this.individualConditionPasses(e,o))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=eBe(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new dq,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(be(79),t=1),this.maxNumConditions=t;let r=e.numAlwaysVisibleConditions??1;r<1&&(be(80),r=1),r>t&&(be(81),r=t),this.numAlwaysVisibleConditions=r}createOption(){const e=this.createManagedBean(new sk);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const r=this.getNumConditions()-1;this.forEachPositionInput(r,n=>this.resetInput(n)),this.addChangedListeners(e,r)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),r=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,i),this.resetJoinOperatorOr(r,n,i),this.isReadOnly()||(t.onValueChange(this.listener),r.onValueChange(this.listener))}createJoinOperator(e,t,r){const n=this.createManagedBean(new yFe);e.push(n);const i="ag-filter-condition-operator";return n.addCssClass(i),n.addCssClass(`${i}-${r}`),t.appendChild(n.getGui()),n}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(r=>{e.addOption(r)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,r=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:r?this.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)?e=r:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const r=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<r){this.removeConditionsAndOperators(r+1);const n=e+1,i=r-n;i>0&&this.removeConditionsAndOperators(n,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,i)=>{const o=this.isConditionDisabled(i,e);n.setDisabled(o||this.filterListOptions.length<=1),i===1&&(zv(this.eJoinOperatorPanels[0],o),this.eJoinOperatorsAnd[0].setDisabled(o),this.eJoinOperatorsOr[0].setDisabled(o))}),this.eConditionBodies.forEach((n,i)=>{rr(n,this.isConditionBodyVisible(i))});const r=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(n=>{n.setValue(!r,!0)}),this.eJoinOperatorsOr.forEach(n=>{n.setValue(r,!0)}),this.forEachInput((n,i,o,a)=>{this.setElementDisplayed(n,i<a),this.setElementDisabled(n,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:r,eConditionBodies:n,eJoinOperatorPanels:i,eJoinOperatorsAnd:o,eJoinOperatorsOr:a}=this;this.removeComponents(r,e,t),this.removeElements(n,e,t),this.removeValueElements(e,t);const s=Math.max(e-1,0);this.removeElements(i,s,t),this.removeComponents(o,s,t),this.removeComponents(a,s,t)}removeElements(e,t,r){Jg(e,t,r).forEach(i=>Nc(i))}removeComponents(e,t,r){Jg(e,t,r).forEach(i=>{Nc(i.getGui()),this.destroyBean(i)})}afterGuiAttached(e){var t;if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus)){const{eFilterBody:r,eTypes:n}=this;let i;if(!this.isReadOnly()){const o=this.getInputs(0)[0];o instanceof hc&&this.isConditionBodyVisible(0)?i=o.getInputElement():i=(t=n[0])==null?void 0:t.getFocusableElement()}(i??r).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,r=-1,n=!1;const i=this.getJoinOperator();for(let a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))t===-1&&(t=a,r=a);else{const s=a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1),l=a<t;(s||l)&&(this.removeConditionsAndOperators(a,1),n=!0,l&&r--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(r,i),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r}getPlaceholderText(e,t){let r=this.translate(e);if(typeof this.filterPlaceholder=="function"){const n=this.eTypes[t].getValue(),i=this.translate(n);r=this.filterPlaceholder({filterOptionKey:n,filterOption:i,placeholder:r})}else typeof this.filterPlaceholder=="string"&&(r=this.filterPlaceholder);return r}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,r,n,i)=>{if(!(t instanceof hc))return;const o=r===0&&i>1?"inRangeStart":r===0?"filterOoo":"inRangeEnd",a=r===0&&i>1?e("ariaFilterFromValue","Filter from value"):r===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(o,n)),t.setInputAriaLabel(a)})}setElementValue(e,t,r){e instanceof hc&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Xt&&rr(e.getGui(),t)}setElementDisabled(e,t){e instanceof Xt&&zv(e.getGui(),t)}attachElementOnChange(e,t){e instanceof hc&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,r)=>{this.forEachPositionTypeInput(r,t,e)})}forEachPositionInput(e,t){const r=this.getConditionType(e);this.forEachPositionTypeInput(e,r,t)}forEachPositionTypeInput(e,t,r){const n=this.getNumberOfInputs(t),i=this.getInputs(e);for(let o=0;o<i.length;o++){const a=i[o];a!=null&&r(a,o,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(r=>r==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,r)=>this.resetJoinOperatorAnd(t,r,this.joinOperatorId+r)),this.eJoinOperatorsOr.forEach((t,r)=>this.resetJoinOperatorOr(t,r,this.joinOperatorId+r)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),nr.resolve()}resetType(e){const r=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,r){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),r)}resetJoinOperatorOr(e,t,r){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),r)}resetJoinOperator(e,t,r,n,i){this.updateJoinOperatorDisabled(e.setValue(r,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(n),t)}updateJoinOperatorsDisabled(){const e=(t,r)=>this.updateJoinOperatorDisabled(t,r);this.eJoinOperatorsAnd.forEach(e),this.eJoinOperatorsOr.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const r=this.mapValuesFromModel(e);this.forEachInput((n,i,o)=>{o===t&&this.setElementValue(n,r[i]!=null?r[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,r,n)=>{this.setElementValue(t,r===0&&n===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,r=>{this.attachElementOnChange(r,this.listener)}))}individualConditionPasses(e,t){const r=this.getCellValue(e.node),n=this.mapValuesFromModel(t),i=this.optionsFactory.getCustomOption(t.type),o=tBe(i,n,r);return o??(r==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,r,t,e))}hasInvalidInputs(){return!1}},fq=class extends hq{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:r,includeBlanksInGreaterThan:n,includeBlanksInLessThan:i,includeBlanksInRange:o}=this.scalarFilterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(r)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(n)return!0;break;case"lessThan":case"lessThanOrEqual":if(i)return!0;break;case"inRange":if(o)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,r){const n=this.comparator(),i=e[0]!=null?n(e[0],t):0;switch(r.type){case"equals":return i===0;case"notEqual":return i!==0;case"greaterThan":return i>0;case"greaterThanOrEqual":return i>=0;case"lessThan":return i<0;case"lessThanOrEqual":return i<=0;case"inRange":{const o=n(e[1],t);return this.scalarFilterParams.inRangeInclusive?i>=0&&o<=0:i>0&&o<0}case"blank":return vb(t);case"notBlank":return!vb(t);default:return be(76,{filterModelType:r.type}),!0}}},pq=class{constructor(e,t,r,n,i){this.alive=!0,this.context=e,this.eParent=n;const o=hMe(t,r);o&&o.newAgStackInstance().then(a=>{var u,c;if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;n.appendChild(a.getGui()),(u=a==null?void 0:a.afterGuiAttached)==null||u.call(a);const{tempValue:s,disabled:l}=this;s&&a.setDate(s),l!=null&&((c=a.setDisabled)==null||c.call(a,l)),i==null||i(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){var r;const t=this.dateComp;t?(r=t.setDisabled)==null||r.call(t,e):this.disabled=e}setDisplayed(e){rr(this.eParent,e)}setInputPlaceholder(e){var t,r;(r=(t=this.dateComp)==null?void 0:t.setInputPlaceholder)==null||r.call(t,e)}setInputAriaLabel(e){var t,r;(r=(t=this.dateComp)==null?void 0:t.setInputAriaLabel)==null||r.call(t,e)}afterGuiAttached(e){var t,r;(r=(t=this.dateComp)==null?void 0:t.afterGuiAttached)==null||r.call(t,e)}updateParams(e){var t,r;(r=(t=this.dateComp)==null?void 0:t.refresh)==null||r.call(t,e)}},gq=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],gk=class{constructor(e,t,r){this.getLocaleTextFunc=e,this.optionsFactory=t,this.valueFormatter=r}getModelAsString(e){if(!e)return null;const t=e.operator!=null,r=this.getLocaleTextFunc();if(t){const n=e,o=(n.conditions??[]).map(s=>this.getModelAsString(s)),a=n.operator==="AND"?"andCondition":"orCondition";return o.join(` ${r(a,SX[a])} `)}else{if(e.type==="blank"||e.type==="notBlank")return r(e.type,e.type);{const n=e,i=this.optionsFactory.getCustomOption(n.type),{displayKey:o,displayName:a,numberOfInputs:s}=i||{};return o&&a&&s===0?(r(o,a),a):this.conditionToString(n,i)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},vq=class extends gk{constructor(e,t,r){super(t,r),this.dateFilterParams=e}conditionToString(e,t){const{type:r}=e,{numberOfInputs:n}=t||{},i=r=="inRange"||n===2,o=ii(e.dateFrom),a=ii(e.dateTo),s=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(i){const l=o!==null?Qg(o,s):"null",u=a!==null?Qg(a,s):"null";return`${l}-${u}`}return o!=null?Qg(o,s):`${r}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},m5=1e3,y5=1/0,nBe=class extends fq{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=m5,this.maxValidYear=y5,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:r,type:n}=e||{};return[t&&ii(t)||null,r&&ii(r)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator??iBe}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(r,n)=>{if(e[r]!=null)if(isNaN(e[r]))be(82,{param:r});else return e[r]==null?n:Number(e[r]);return n};this.minValidYear=t("minValidYear",m5),this.maxValidYear=t("maxValidYear",y5),this.minValidYear>this.maxValidYear&&be(83),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:ii(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:ii(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&be(84),this.filterModelFormatter=new vq(this.dateFilterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory)}createDateCompWrapper(e){const{userCompFactory:t,context:r}=this.beans,n=new pq(r,t,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams,location:"filter"},e);return this.addDestroyFunc(()=>n.destroy()),n}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return gq}createValueElement(){const t=dr(this.beans).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,r,n){const o=dr(this.beans).createElement("div");o.classList.add(`ag-filter-${n}`),o.classList.add(`ag-filter-date-${n}`),t.push(o),e.appendChild(o),r.push(this.createDateCompWrapper(o))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),Jg(this.eConditionPanelsFrom,e,t),Jg(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,r){Jg(e,t,r).forEach(i=>i.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:r,minValidYear:n,maxValidYear:i}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<n)return!1;if(r){if(e>r)return!1}else if(e.getUTCFullYear()>i)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((r,n,i,o)=>{i!==e||!t||n>=o||(t=t&&this.isValidDateValue(r.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),r={},n=this.getValues(e);return n.length>0&&(r.dateFrom=ro(n[0])),n.length>1&&(r.dateTo=ro(n[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...r}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),r=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(r)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:r}=this;return e>=t.length?[null,null]:[t[e],r[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(r,n,i,o)=>{n<o&&t.push(r.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function iBe(e,t){const r=t;return t==null||r<e?-1:r>e?1:0}var mq=class extends Xt{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let r;t?r=e.conditions[0]:r=e,this.lastType=r.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const r=e;return this.isTypeEditable(r.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const r=new dq;this.optionsFactory=r,r.init(e.filterParams,this.getDefaultOptions());const n=r.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(n);this.setEditable(i)}refresh(e){this.setSimpleParams(e)}hasSingleInput(e){var r;const t=(r=this.optionsFactory.getCustomOption(e))==null?void 0:r.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},oBe=class extends mq{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[xS]),this.eReadOnlyText=Ye,this.eDateWrapper=Ye}getDefaultOptions(){return gq}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new vq(this.filterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory);const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams;const t=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const r=e?ii(e.dateFrom):null;this.dateComp.setDate(r),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){rr(this.eDateWrapper,e),rr(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=ro(e);this.params.parentFilterInstance(r=>{if(r){const n=ii(t);r.onFloatingFilterChanged(this.lastType||null,n)}})}getDateComponentParams(){const{filterParams:e,column:t}=this.params,r=qM(e,this.defaultDebounceMs);return{onDateChanged:Fn(this,this.onDateChanged.bind(this),r),filterParams:t.getColDef().filterParams,location:"floatingFilter"}}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:r}=this;this.dateComp=new pq(e,t,this.getDateComponentParams(),r,n=>{n.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},aBe=class extends Xt{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[xS]),this.eDateInput=Ye,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e,t){if(t.target===or(this.beans)&&!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=r&&Jc(),t.type=r?"date":"text";const{minValidYear:n,maxValidYear:i,minValidDate:o,maxValidDate:a,buttons:s}=e.filterParams||{};if(o&&n&&be(85),a&&i&&be(86),o&&a){const[l,u]=[o,a].map(c=>c instanceof Date?c:ii(c));l&&u&&l.getTime()>u.getTime()&&be(87)}o?o instanceof Date?t.min=Qg(o):t.min=o:n&&(t.min=`${n}-01-01`),a?a instanceof Date?t.max=Qg(a):t.max=a:i&&(t.max=`${i}-12-31`),this.isApply=e.location==="floatingFilter"&&!!(s!=null&&s.includes("apply"))}refresh(e){this.params=e,this.setParams(e)}getDate(){return ii(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(ro(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){var t;return((t=e==null?void 0:e.filterParams)==null?void 0:t.browserDatePicker)??!0}},yq=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],Cq=class extends gk{conditionToString(e,t){const{numberOfInputs:r}=t||{},{filter:n,filterTo:i,type:o}=e,a=o=="inRange"||r===2,s=this.formatValue.bind(this);return a?`${s(n)}-${s(i)}`:n!=null?s(n):`${o}`}};function SA(e){const{allowedCharPattern:t}=e??{};return t??null}var sBe=class extends fq{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:r,type:n}=e||{};return[this.processValue(t),this.processValue(r)].slice(0,this.getNumberOfInputs(n))}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new Cq(this.getLocaleTextFunc.bind(this),this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return yq}setElementValue(e,t,r){const{numberFormatter:n}=this.numberFilterParams,i=!r&&n?n(t??null):t;super.setElementValue(e,i)}createValueElement(){const e=SA(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Go(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,r,n){const i=this.createManagedBean(n?new nd({allowedCharPattern:n}):new ak);i.addCssClass(`ag-filter-${r}`),i.addCssClass("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeValueElements(e,t){const r=n=>this.removeComponents(n,e,t);r(this.eValuesFrom),r(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(r,n,i,o)=>{n<o&&t.push(this.processValue(this.stringToFloat(r.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=ms(e);t!=null&&t.trim()===""&&(t=null);const r=this.numberFilterParams.numberParser;return r?r(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),r={filterType:this.filterType,type:t},n=this.getValues(e);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getInputs(e){const{eValuesFrom:t,eValuesTo:r}=this;return e>=t.length?[null,null]:[t[e],r[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},wq=class extends ce{constructor(e){super(),this.params=e,this.eInput=Ye,this.onValueChanged=()=>{}}setupGui(e){var n;this.eInput=this.createManagedBean(new nd((n=this.params)==null?void 0:n.config));const t=this.eInput.getGui();e.appendChild(t);const r=i=>this.onValueChanged(i);this.addManagedListeners(t,{input:r,keydown:r})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:r}=this;r.setInputAriaLabel(e),t!==void 0&&r.setAutoComplete(t)}};function bq(e){const t=e==null?void 0:e.trim();return t===""?e:t}var Sq=class extends mq{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Ye,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1,{inputSvc:r,defaultDebounceMs:n,readOnly:i}=this;if(r.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=fb(e.filterParams),!i){const o=qM(e.filterParams,n),a=Fn(this,this.syncUpWithParentFilter.bind(this),o);r.setValueChangedListener(a)}}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,r=t.getValue();Ri(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(r,!0)}syncUpWithParentFilter(e){const t=e.key===ue.ENTER;if(this.applyActive&&!t)return;const{inputSvc:r,params:n}=this;let i=r.getValue();n.filterParams.trimInput&&(i=bq(i),r.setValue(i,!0)),n.parentFilterInstance(o=>{o==null||o.onFloatingFilterChanged(this.lastType||null,i||null)})}setEditable(e){this.inputSvc.setEditable(e)}},lBe=class extends ce{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new ak),this.eTextInput=this.createManagedBean(new nd),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),r=this.eTextInput.getGui();e.appendChild(t),e.appendChild(r),this.setupListeners(t,n=>this.onValueChanged(n)),this.setupListeners(r,n=>this.onValueChanged(n))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},uBe=class extends Sq{init(e){var t;super.init(e),this.filterModelFormatter=new Cq(this.getLocaleTextFunc.bind(this),this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}refresh(e){SA(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return yq}createFloatingFilterInputService(e){return this.allowedCharPattern=SA(e.filterParams),this.allowedCharPattern?this.createManagedBean(new wq({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new lBe)}},xq=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],Rq=class extends gk{conditionToString(e,t){const{numberOfInputs:r}=t||{},{filter:n,filterTo:i,type:o}=e;return o=="inRange"||r===2?`${n}-${i}`:n!=null?`${n}`:`${o}`}},cBe=class extends hq{constructor(){super("textFilter"),this.filterType="text",this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:r})=>{if(r==null)return!1;switch(e){case"contains":return t.indexOf(r)>=0;case"notContains":return t.indexOf(r)<0;case"equals":return t===r;case"notEqual":return t!=r;case"startsWith":return t.indexOf(r)===0;case"endsWith":{const n=t.lastIndexOf(r);return n>=0&&n===t.length-r.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=e.textMatcher||this.defaultMatcher,this.formatter=e.textFormatter||(e.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new Rq(this.getLocaleTextFunc.bind(this),this.optionsFactory)}createCondition(e){const t=this.getConditionType(e),r={filterType:this.filterType,type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:r}=this;return e>=t.length?[null,null]:[t[e],r[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const r=[];return this.forEachPositionInput(e,(n,i,o,a)=>{if(i<a){let s=ms(n.getValue());t&&this.textFilterParams.trimInput&&(s=bq(s)??null,n.setValue(s,!0)),r.push(s)}}),r}getDefaultFilterOptions(){return xq}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),Go(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,r){const n=this.createManagedBean(new nd);n.addCssClass(`ag-filter-${r}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){const r=n=>this.removeComponents(n,e,t);r(this.eValuesFrom),r(this.eValuesTo)}mapValuesFromModel(e){const{filter:t,filterTo:r,type:n}=e||{};return[t||null,r||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,r,n){const i=e.map(h=>this.formatter(h))||[],o=this.formatter(t),{api:a,colDef:s,column:l,context:u,textFormatter:c}=this.textFilterParams;if(r.type==="blank")return vb(t);if(r.type==="notBlank")return!vb(t);const d={api:a,colDef:s,column:l,context:u,node:n.node,data:n.data,filterOption:r.type,value:o,textFormatter:c};return i.some(h=>this.matcher({...d,filterText:h}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},dBe=class extends Sq{init(e){super.init(e),this.filterModelFormatter=new Rq(this.getLocaleTextFunc.bind(this),this.optionsFactory)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return xq}createFloatingFilterInputService(){return this.createManagedBean(new wq)}};function hBe(e){var t;return!!((t=e.filterManager)!=null&&t.isQuickFilterPresent())}function fBe(e){return e.gos.get("quickFilterText")}function pBe(e){var t;(t=e.filterManager)==null||t.resetQuickFilterCache()}var gBe=class extends ce{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",r=>this.setFilter(r.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){var l;const{autoColSvc:e,colModel:t,gos:r,pivotResultCols:n}=this.beans,i=t.isPivotMode(),o=e==null?void 0:e.getAutoCols(),a=t.getColDefCols();let s=(i&&!r.get("applyQuickFilterBeforePivotOrAgg")?(l=n==null?void 0:n.getPivotResultCols())==null?void 0:l.list:a)??[];o&&(s=s.concat(o)),this.colsToUse=r.get("includeHiddenColumnsInQuickFilter")?s:s.filter(u=>u.isVisible()||u.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(r=>t?this.doesRowPassCache(e,r):this.doesRowPassNoCache(e,r))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return Te(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){be(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),r=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,r&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(r=>{const n=this.getTextForColumn(r,e);return Te(n)&&n.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let r;e?(this.checkGenerateAggText(t),r=t.quickFilterAggregateText):r=this.getAggText(t);const{quickFilterParts:n,matcher:i}=this;return i(n,r)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let r=this.beans.filterValueSvc.getValue(e,t);const n=e.getColDef();if(n.getQuickFilterText){const i=this.gos.addGridCommonParams({value:r,node:t,data:t.data,column:e,colDef:n});r=n.getQuickFilterText(i)}return Te(r)?r.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(r=>{const n=this.getTextForColumn(r,e);Te(n)&&t.push(n)}),t.join(`
`)}},vBe={moduleName:"ClientSideRowModelFilter",version:De,rowModels:["clientSide"],beans:[Aze]},vk={moduleName:"FilterCore",version:De,beans:[qze],apiFunctions:{isAnyFilterPresent:Kze,onFilterChanged:Xze},css:[Nze],dependsOn:[vBe]},_q={moduleName:"FilterValue",version:De,beans:[Qze]},PS={moduleName:"ColumnFilter",version:De,beans:[Yze,Zze],dynamicBeans:{headerFilterCellCtrl:Ize},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:zze,getColumnFilterInstance:Bze,destroyFilter:Vze,setFilterModel:Gze,getFilterModel:Hze,getColumnFilterModel:Wze,setColumnFilterModel:$ze,showColumnFilter:Uze},dependsOn:[vk,TS,_q,kze]},mBe={moduleName:"CustomFilter",version:De,userComponents:{agReadOnlyFloatingFilter:Jze},dependsOn:[PS]},yBe={moduleName:"TextFilter",version:De,dependsOn:[PS],userComponents:{agTextColumnFilter:cBe,agTextColumnFloatingFilter:dBe}},CBe={moduleName:"NumberFilter",version:De,dependsOn:[PS],userComponents:{agNumberColumnFilter:sBe,agNumberColumnFloatingFilter:uBe}},wBe={moduleName:"DateFilter",version:De,dependsOn:[PS],userComponents:{agDateColumnFilter:nBe,agDateInput:aBe,agDateColumnFloatingFilter:oBe}},bBe={moduleName:"QuickFilter",version:De,rowModels:["clientSide"],beans:[gBe],apiFunctions:{isQuickFilterPresent:hBe,getQuickFilter:fBe,resetQuickFilter:pBe},dependsOn:[vk,_q]},SBe={moduleName:"ExternalFilter",version:De,dependsOn:[vk]},Pg=class{constructor(e){this.cellValueChanges=e}},kT=class extends Pg{constructor(e,t,r,n){super(e),this.initialRange=t,this.finalRange=r,this.ranges=n}},xBe=10,C5=class{constructor(e){this.actionStack=[],this.maxStackSize=e||xBe,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},RBe=class extends ce{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},r=this.activeCellEdit!==null&&uA(this.activeCellEdit,t),n=this.activeRowEdit!==null&&oke(this.activeRowEdit,t);if(!(r||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:o,rowIndex:a,column:s,oldValue:l,value:u}=e,c={rowPinned:o,rowIndex:a,columnId:s.getColId(),newValue:u,oldValue:l};this.cellValueChanges.push(c)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const r=e.get("undoRedoCellEditingLimit");if(r<=0)return;this.undoStack=new C5(r),this.redoStack=new C5(r),this.addListeners();const n=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:n,newColumnsLoaded:n,columnGroupOpened:n,columnRowGroupChanged:n,columnMoved:n,columnPinned:n,columnVisible:n,rowDragEnd:n}),t.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){var e;return((e=this.undoStack)==null?void 0:e.getCurrentStackSize())??0}getCurrentRedoStackSize(){var e;return((e=this.redoStack)==null?void 0:e.getCurrentStackSize())??0}undo(e){const{eventSvc:t,undoStack:r,redoStack:n}=this;t.dispatchEvent({type:"undoStarted",source:e});const i=this.undoRedo(r,n,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:i})}redo(e){const{eventSvc:t,undoStack:r,redoStack:n}=this;t.dispatchEvent({type:"redoStarted",source:e});const i=this.undoRedo(n,r,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:i})}undoRedo(e,t,r,n,i){if(!e)return!1;const o=e.pop();return!o||!o.cellValueChanges?!1:(this.processAction(o,a=>a[n],i),o instanceof kT?this.processRange(o.ranges||[o[r]]):this.processCell(o.cellValueChanges),t.push(o),!0)}processAction(e,t,r){e.cellValueChanges.forEach(n=>{const{rowIndex:i,rowPinned:o,columnId:a}=n,s={rowIndex:i,rowPinned:o},l=cA(this.beans,s);l.displayed&&l.setDataValue(a,t(n),r)})}processRange(e){let t;const r=this.beans.rangeSvc;r.removeAllCellRanges(!0),e.forEach((n,i)=>{if(!n)return;const o=n.startRow,a=n.endRow;i===e.length-1&&(t={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(t));const s={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:a.rowIndex,rowEndPinned:a.rowPinned,columnStart:n.startColumn,columns:n.columns};r.addCellRange(s)})}processCell(e){const t=e[0],{rowIndex:r,rowPinned:n}=t,i={rowIndex:r,rowPinned:n},o=cA(this.beans,i),a={rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId};this.setLastFocusedCell(a)}setLastFocusedCell(e){const{rowIndex:t,columnId:r,rowPinned:n}=e,{colModel:i,focusSvc:o,rangeSvc:a}=this.beans,s=i.getCol(r);if(!s)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(s);const u={rowIndex:t,column:s,rowPinned:n};o.setFocusedCell({...u,forceBrowserFocus:!0}),a==null||a.setRangeToCell(u)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Pg(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const r=new Pg(this.cellValueChanges);this.pushActionsToUndoStack(r)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Pg(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new kT(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:r}=this.beans;t&&Xl(r)?e=new kT(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Pg(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},_Be=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;width:100%}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}",TBe=class extends zf{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[ok]),this.eCheckbox=Ye}init(e){this.params=e;const t=e.value??void 0,r=this.eCheckbox;r.setValue(t),r.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(r,{fieldValueChanged:i=>this.setAriaLabel(i.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),r=NM(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${r})`)}},DS=class extends zf{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=Ye}init(e){this.params=e;const{cellStartedEdit:t,eventKey:r,suppressPreventDefault:n}=e,i=this.eInput;this.cellEditorInput.init(i,e);let o,a=!0;t?(this.focusAfterAttached=!0,r===ue.BACKSPACE||r===ue.DELETE?o="":r&&r.length===1?n?a=!1:o=r:(o=this.cellEditorInput.getStartValue(),r!==ue.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=this.cellEditorInput.getStartValue()),a&&o!=null&&i.setStartValue(o),this.addManagedElementListeners(i.getGui(),{keydown:s=>{const{key:l}=s;(l===ue.PAGE_UP||l===ue.PAGE_DOWN)&&s.preventDefault()}})}afterGuiAttached(){var n,i;const e=this.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Jc()||t.getFocusableElement().focus();const r=t.getInputElement();this.highlightAllOnFocus?r.select():(i=(n=this.cellEditorInput).setCaret)==null||i.call(n)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),r=e.getInputElement();t.focus(),r.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},PBe=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[kX]}init(e,t){this.eInput=e,this.params=t;const{min:r,max:n,step:i}=t;r!=null&&e.setMin(r),n!=null&&e.setMax(n),i!=null&&e.setStep(i)}getValue(){const{eInput:e,params:t}=this,r=e.getDate();return!Te(r)&&!Te(t.value)?t.value:r??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return ro(e,!1)}},DBe=class extends DS{constructor(){super(new PBe)}},ABe=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[kX]}init(e,t){this.eInput=e,this.params=t;const{min:r,max:n,step:i}=t;r!=null&&e.setMin(r),n!=null&&e.setMax(n),i!=null&&e.setStep(i)}getValue(){const{params:e,eInput:t}=this,r=this.formatDate(t.getDate());return!Te(r)&&!Te(e.value)?e.value:e.parseValue(r??"")}getStartValue(){return ro(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):ii(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):ro(e??null,!1)??void 0}},IBe=class extends DS{constructor(){super(new ABe(()=>this.beans.dataTypeSvc))}},EBe=class extends zf{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[wFe]),this.eTextArea=Ye}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),e.value!=null&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===ue.LEFT||t===ue.UP||t===ue.RIGHT||t===ue.DOWN||e.shiftKey&&t===ue.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue(),t=this.params;return!Te(e)&&!Te(t.value)?t.value:t.parseValue(e)}},MBe=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[bFe]}init(e,t){this.eInput=e,this.params=t;const{max:r,min:n,precision:i,step:o}=t;r!=null&&e.setMax(r),n!=null&&e.setMin(n),i!=null&&e.setPrecision(i),o!=null&&e.setStep(o);const a=e.getInputElement();t.preventStepping?e.addManagedElementListeners(a,{keydown:this.preventStepping}):t.showStepperButtons&&a.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===ue.UP||e.key===ue.DOWN)&&e.preventDefault()}getValue(){const{eInput:e,params:t}=this,r=e.getValue();if(!Te(r)&&!Te(t.value))return t.value;let n=t.parseValue(r);if(n==null)return n;if(typeof n=="string"){if(n==="")return null;n=Number(n)}return isNaN(n)?null:n}getStartValue(){return this.params.value}setCaret(){Jc()&&this.eInput.getInputElement().focus({preventScroll:!0})}},kBe=class extends DS{constructor(){super(new MBe)}},FBe=class extends zf{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[EFe]),this.eSelect=Ye,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueSvc:r,gos:n}=this,{values:i,value:o,eventKey:a}=e;if(Yt(i)){be(58);return}this.startedByEnter=a!=null?a===ue.ENTER:!1;let s=!1;i.forEach(d=>{const h={value:d},f=r.formatValue(e.column,null,d),g=f!=null;h.text=g?f:d,t.addOption(h),s=s||o===d}),s?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:c}=e;l!=null&&t.setPickerGap(l),c!=null&&t.setPickerMaxHeight(c),u!=null&&t.setPickerMaxWidth(u),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},LBe=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[xS]}init(e,t){this.eInput=e,this.params=t;const r=t.maxLength;r!=null&&e.setMaxLength(r)}getValue(){const{eInput:e,params:t}=this,r=e.getValue();return!Te(r)&&!Te(t.value)?t.value:t.parseValue(r)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eInput,t=e.getValue(),r=Te(t)&&t.length||0;r&&e.getInputElement().setSelectionRange(r,r)}},w5=class extends DS{constructor(){super(new LBe)}};function OBe(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function NBe(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function Tq(e,t,r="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,r),"ensureVisible")}function Pq(e,t,r){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,r),"ensureVisible")}function zBe(e,t,r=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,r),"ensureVisible")}function BBe(e){var t;(t=e.undoRedo)==null||t.undo("api")}function VBe(e){var t;(t=e.undoRedo)==null||t.redo("api")}function GBe(e,t={}){const r=[];return e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(n=>{var o;const i=(o=n.comp)==null?void 0:o.getCellEditor();i&&r.push(Uv(i))}),r}function HBe(e){const t=[];return e.rowRenderer.getAllCellCtrls().forEach(r=>{if(r.editing){const{cellPosition:n}=r;t.push(n)}}),t}function WBe(e,t=!1){var r;(r=e.editSvc)==null||r.stopAllEditing(t)}function $Be(e,t){const r=e.colModel.getCol(t.colKey);if(!r){be(12,{colKey:t.colKey});return}const n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:r};t.rowPinned==null&&Pq(e,t.rowIndex),Tq(e,t.colKey);const o=mh(e,n);if(!o)return;const{focusSvc:a,gos:s,editSvc:l}=e,u=()=>{const d=or(e),h=o.eGui;return d!==h&&!!(h!=null&&h.contains(d))},c=s.get("stopEditingWhenCellsLoseFocus")&&u();(c||!a.isCellFocused(n))&&a.setFocusedCell({...n,forceBrowserFocus:c,preventScrollOnBrowserFocus:!0}),l==null||l.startRowOrCellEdit(o,t.key)}function UBe(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentUndoStackSize())??0}function jBe(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentRedoStackSize())??0}var YBe=class extends zf{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){Vc(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,r=n=>{fA(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedElementListeners(e,{keydown:r})}},KBe=class extends ce{constructor(){super(...arguments),this.beanName="editSvc"}startEditing(e,t=null,r=!1,n=null){var u;if(!e.isCellEditable()||e.editing)return!0;if(!e.comp)return e.onCompAttachedFuncs.push(()=>{this.startEditing(e,t,r,n)}),!0;const i=this.createCellEditorParams(e,t,r),o=e.column.getColDef(),a=YW(this.beans.userCompFactory,o,i),s=(a==null?void 0:a.popupFromSelector)!=null?a.popupFromSelector:!!o.cellEditorPopup,l=(a==null?void 0:a.popupPositionFromSelector)!=null?a.popupPositionFromSelector:o.cellEditorPopupPosition;return b5(e,!0,a),e.comp.setEditDetails(a,s,l,this.gos.get("reactiveCustomComponents")),this.eventSvc.dispatchEvent(e.createEvent(n,"cellEditingStarted")),!((u=a==null?void 0:a.params)!=null&&u.suppressPreventDefault)}stopEditing(e,t=!1){if(e.onEditorAttachedFuncs=[],!e.editing)return!1;const{comp:r,column:n,rowNode:i}=e,{newValue:o,newValueExists:a}=XBe(t,r),s=this.beans.valueSvc.getValueForDisplay(n,i);let l=!1;return a&&(l=qBe(e,s,o,i,n)),b5(e,!1,void 0),r.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventSvc.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:s,newValue:o,valueChanged:l}),l}handleColDefChanged(e){var r;const t=(r=e.comp)==null?void 0:r.getCellEditor();if(t!=null&&t.refresh){const{eventKey:n,cellStartedEdit:i}=e.editCompDetails.params,o=this.createCellEditorParams(e,n,i),a=e.column.getColDef(),s=YW(this.beans.userCompFactory,a,o);t.refresh(s.params)}}setFocusOutOnEditor(e){if(!e.editing)return;const t=e.comp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){if(!e.editing)return;const t=e.comp,r=t.getCellEditor();r!=null&&r.focusIn?r.focusIn():(e.focusCell(!0),e.onEditorAttachedFuncs.push(()=>{var n,i;return(i=(n=t.getCellEditor())==null?void 0:n.focusIn)==null?void 0:i.call(n)}))}stopEditingAndFocus(e,t=!1,r=!1){this.stopRowOrCellEdit(e),e.focusCell(!0),t||this.navigateAfterEdit(r,e.cellPosition)}createPopupEditorWrapper(e){return new YBe(e)}stopAllEditing(e=!1){this.beans.rowRenderer.getAllRowCtrls().forEach(t=>this.stopRowEditing(t,e))}stopRowEditing(e,t=!1){var o;if(e.stoppingRowEdit)return;const r=e.getAllCellCtrls(),n=e.editing;e.stoppingRowEdit=!0;let i=!1;for(const a of r){const s=a.stopEditing(t);n&&!t&&!i&&s&&(i=!0)}i&&this.eventSvc.dispatchEvent(e.createRowEvent("rowValueChanged")),n&&((o=this.beans.rowEditSvc)==null||o.setEditing(e,!1)),e.stoppingRowEdit=!1}addStopEditingWhenGridLosesFocus(e){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const t=r=>{const n=r.relatedTarget;if(JD(n)===null){this.stopAllEditing();return}let i=e.some(o=>o.contains(n))&&gX(this.gos,n);if(!i){const o=this.beans.popupSvc;i=!!o&&(o.getActivePopups().some(a=>a.contains(n))||o.isElementWithinCustomPopup(n))}i||this.stopAllEditing()};e.forEach(r=>this.addManagedElementListeners(r,{focusout:t}))}setInlineEditingCss(e){const t=e.editing||e.getAllCellCtrls().some(r=>r.editing);e.forEachGui(void 0,r=>{r.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),r.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}isCellEditable(e,t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return e.isColumnFunc(t,e.colDef.editable)}startRowOrCellEdit(e,t,r=null){var n;return e.comp?this.gos.get("editType")==="fullRow"?((n=this.beans.rowEditSvc)==null?void 0:n.startEditing(e.rowCtrl,t,e))??!0:this.startEditing(e,t,!0,r):(e.onCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,t,r)}),!0)}stopRowOrCellEdit(e,t=!1){this.gos.get("editType")==="fullRow"?this.stopRowEditing(e.rowCtrl,t):this.stopEditing(e,t)}createCellEditorParams(e,t,r){const{column:n,rowNode:i,eGui:o,cellPosition:{rowIndex:a}}=e,{valueSvc:s,gos:l}=this.beans;return l.addGridCommonParams({value:s.getValueForDisplay(n,i),eventKey:t,column:n,colDef:n.getColDef(),rowIndex:a,node:i,data:i.data,cellStartedEdit:r,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:o,parseValue:u=>s.parseValue(n,i,u,e.value),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){var n;if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const i=e?ue.UP:ue.DOWN;(n=this.beans.navigation)==null||n.navigateToNextCell(null,i,t,!1)}}};function b5(e,t,r){e.editCompDetails=r,e.editing!==t&&(e.editing=t)}function XBe(e,t){const r={newValueExists:!1};if(e)return r;const n=t.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?r:{newValue:n.getValue(),newValueExists:!0}}function qBe(e,t,r,n,i){if(r===t)return!1;e.suppressRefreshCell=!0;const o=n.setDataValue(i,r,"edit");return e.suppressRefreshCell=!1,o}var ZBe=class extends ce{constructor(){super(...arguments),this.beanName="rowEditSvc"}startEditing(e,t=null,r=null,n=null){if(e.editing)return!0;let i=!0,o=!1;const{editSvc:a}=this.beans;return e.getAllCellCtrls().forEach(s=>{const l=s===r;l?i=(a==null?void 0:a.startEditing(s,t,l,n))??!0:a==null||a.startEditing(s,null,l,n),o||(o=s.editing)}),o&&this.setEditing(e,!0),i}setEditing(e,t){e.editing=t,e.forEachGui(void 0,n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",t));const r=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventSvc.dispatchEvent(r)}},nu={moduleName:"EditCore",version:De,beans:[KBe,ZBe],apiFunctions:{getCellEditorInstances:GBe,getEditingCells:HBe,stopEditing:WBe,startEditingCell:$Be},dependsOn:[TS],css:[_Be]},QBe={moduleName:"UndoRedoEdit",version:De,beans:[RBe],apiFunctions:{undoCellEditing:BBe,redoCellEditing:VBe,getCurrentUndoSize:UBe,getCurrentRedoSize:jBe},dependsOn:[nu]},JBe={moduleName:"TextEditor",version:De,userComponents:{agCellEditor:w5,agTextCellEditor:w5},dependsOn:[nu]},eVe={moduleName:"NumberEditor",version:De,userComponents:{agNumberCellEditor:{classImp:kBe,params:{suppressPreventDefault:!0}}},dependsOn:[nu]},tVe={moduleName:"DateEditor",version:De,userComponents:{agDateCellEditor:DBe,agDateStringCellEditor:IBe},dependsOn:[nu]},rVe={moduleName:"CheckboxEditor",version:De,userComponents:{agCheckboxCellEditor:TBe},dependsOn:[nu]},nVe={moduleName:"SelectEditor",version:De,userComponents:{agSelectCellEditor:FBe},dependsOn:[nu]},iVe={moduleName:"LargeTextEditor",version:De,userComponents:{agLargeTextCellEditor:EBe},dependsOn:[nu]},oVe={moduleName:"CustomEditor",version:De,dependsOn:[nu]};function aVe(e,t){var s;if(!t.nodes.every(l=>l.rowPinned?(be(59),!1):l.id===void 0?(be(60),!1):!0))return;const{nodes:n,source:i,newValue:o}=t,a=n;(s=e.selectionSvc)==null||s.setNodesSelected({nodes:a,source:i??"api",newValue:o})}function sVe(e,t,r="apiSelectAll"){var n;(n=e.selectionSvc)==null||n.selectAllRowNodes({source:r,selectAll:t})}function lVe(e,t,r="apiSelectAll"){var n;(n=e.selectionSvc)==null||n.deselectAllRowNodes({source:r,selectAll:t})}function uVe(e,t="apiSelectAllFiltered"){var r;(r=e.selectionSvc)==null||r.selectAllRowNodes({source:t,selectAll:"filtered"})}function cVe(e,t="apiSelectAllFiltered"){var r;(r=e.selectionSvc)==null||r.deselectAllRowNodes({source:t,selectAll:"filtered"})}function dVe(e,t="apiSelectAllCurrentPage"){var r;(r=e.selectionSvc)==null||r.selectAllRowNodes({source:t,selectAll:"currentPage"})}function hVe(e,t="apiSelectAllCurrentPage"){var r;(r=e.selectionSvc)==null||r.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function fVe(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedNodes())??[]}function pVe(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedRows())??[]}var gVe=class extends mFe{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=ib(e),this.groupSelectsDescendants=Wv(e),this.groupSelectsFiltered=ob(e)==="filteredDescendants",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Wv(e),r=ib(e),n=ob(e)==="filteredDescendants";(t!==this.groupSelectsDescendants||n!==this.groupSelectsFiltered||r!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=n,this.mode=r)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,r){if(this.isRowSelectionBlocked(t))return 0;const n=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,r);return n==null?0:"select"in n?(n.reset?this.resetNodes():this.selectRange(n.deselect,!1,r),this.selectRange(n.select,!0,r)):this.setNodesSelected({nodes:[n.node],newValue:n.newValue,clearSelection:n.clearSelection,event:e,source:r})}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:r,nodes:n,event:i,source:o}){var s;if(!Sc(this.gos)&&e)return be(132),0;if(n.length===0)return 0;if(n.length>1&&!this.isMultiSelect())return be(130),0;let a=0;for(let l=0;l<n.length;l++){const u=n[l],c=u.footer?u.sibling:u,d=this.groupSelectsFiltered&&c.group;if(c.rowPinned){be(59);continue}if(c.id===void 0){be(60);continue}d||this.selectRowNode(c,e,i,o)&&a++,this.groupSelectsDescendants&&((s=c.childrenAfterGroup)!=null&&s.length)&&(a+=this.selectChildren(c,e,o))}return r||(e&&(t||!this.isMultiSelect())&&(a+=this.clearOtherNodes(n[0],o)),a>0&&(this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o))),a}selectRange(e,t,r){let n=0;return e.forEach(i=>{if(i.group&&this.groupSelectsDescendants)return;this.selectRowNode(i,t,void 0,r)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(r),this.dispatchSelectionChanged(r)),n}selectChildren(e,t,r){const n=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return n?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:r,nodes:n}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((r,n)=>{e(r)&&t.set(n,r)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:r,rowModel:n}=this.beans;if(!vn(r))return!1;const i=n.rootNode;if(!i)return!1;t||(t=new pb(!0,i),t.active=!1);let o=!1;return t.forEachChangedNodeDepthFirst(a=>{if(a!==i){const s=this.calculateSelectedFromChildren(a);o=this.selectRowNode(a,s===null?!1:s,void 0,e)||o}}),o}clearOtherNodes(e,t){const r=new Map;let n=0;return this.selectedNodes.forEach(i=>{if(i&&i.id!==e.id){const o=this.selectedNodes.get(i.id);n+=this.setNodesSelected({nodes:[o],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsDescendants&&i.parent&&r.set(i.parent.id,i.parent)}}),r.forEach(i=>{const o=this.calculateSelectedFromChildren(i);this.selectRowNode(i,o===null?!1:o,void 0,t)}),n}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new af(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!vn(e))return;const r=t.getTopLevelNodes();if(r===null)return;const n=[];function i(o){for(let a=0,s=o.length;a<s;a++){const l=o[a];l.isSelected()?n.push(l):l.group&&l.childrenAfterGroup&&i(l.childrenAfterGroup)}}return i(r),n}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes(e){const t=o=>this.selectRowNode(o.footer?o.sibling:o,!1,void 0,n),r=vn(this.gos),{source:n,selectAll:i}=e;if(i==="currentPage"||i==="filtered"){if(!r){kt(102);return}this.getNodesToSelect(i).forEach(t)}else this.selectedNodes.forEach(t),this.reset(n);r&&this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)}getSelectedCounts(e){let t=0,r=0;const n=i=>{this.groupSelectsDescendants&&i.group||(i.isSelected()?t++:i.selectable&&r++)};return this.getNodesToSelect(e).forEach(n),{selectedCount:t,notSelectedCount:r}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:r}=this.getSelectedCounts(e);return t===0&&r===0?!1:t>0&&r>0?null:t>0}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[];if(e==="currentPage")return this.forEachNodeOnPage(n=>{if(!n.group){t.push(n);return}if(!n.expanded&&!n.footer){const i=o=>{var a;t.push(o),(a=o.childrenAfterFilter)!=null&&a.length&&o.childrenAfterFilter.forEach(i)};i(n);return}this.groupSelectsDescendants||t.push(n)}),t;const r=this.beans.rowModel;return e==="filtered"?(r.forEachNodeAfterFilter(n=>{t.push(n)}),t):(r.forEachNode(n=>{t.push(n)}),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:r}=this.beans,n=t.getFirstRow(),i=t.getLastRow();for(let o=n;o<=i;o++){const a=r.getRow(o);a&&e(a)}}selectAllRowNodes(e){const{gos:t}=this;if(!Sc(t)){be(132);return}if(ZIe(t)&&!UM(t)){be(130);return}if(!this.canSelectAll())return;const{source:r,selectAll:n}=e;this.getNodesToSelect(n).forEach(i=>{this.selectRowNode(i.footer?i.sibling:i,!0,void 0,r)}),vn(t)&&this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections(r),this.dispatchSelectionChanged(r)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e)){kt(103);return}const r=new Set(e),n=[];this.beans.rowModel.forEachNode(i=>{r.has(i.id)&&n.push(i)}),this.setNodesSelected({newValue:!0,nodes:n,source:t})}canSelectAll(){const{gos:e,rowModel:t}=this.beans;return vn(e)?!0:(kt(100,{rowModelType:t.getType()}),!1)}updateSelectable(e){var l;const{gos:t,rowModel:r}=this.beans;if(!Sc(t))return;const n="selectableChanged",i=e!==void 0,o=vn(t)&&this.groupSelectsDescendants,a=[],s=u=>{var d;if(i&&!u.group)return;if(o&&u.group){const h=((d=u.childrenAfterGroup)==null?void 0:d.some(f=>f.selectable))??!1;this.setRowSelectable(u,h,!0);return}!this.updateRowSelectable(u,!0)&&u.isSelected()&&a.push(u)};if(o){if(e===void 0){const u=r.rootNode;e=u?new pb(!1,u):void 0}e==null||e.forEachChangedNodeDepthFirst(s,!i,!i)}else r.forEachNode(s);a.length&&this.setNodesSelected({nodes:a,newValue:!1,source:n}),!i&&o&&((l=this.updateGroupsFromChildrenSelections)==null||l.call(this,n))}updateSelectableAfterGrouping(e){var t;this.updateSelectable(e),this.groupSelectsDescendants&&((t=this.updateGroupsFromChildrenSelections)!=null&&t.call(this,"rowGroupChanged",e))&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"})}},vVe={moduleName:"SharedRowSelection",version:De,beans:[bEe],apiFunctions:{setNodesSelected:aVe,selectAll:sVe,deselectAll:lVe,selectAllFiltered:uVe,deselectAllFiltered:cVe,selectAllOnCurrentPage:dVe,deselectAllOnCurrentPage:hVe,getSelectedNodes:fVe,getSelectedRows:pVe}},mVe={moduleName:"RowSelection",version:De,rowModels:["clientSide","infinite","viewport"],beans:[gVe],dependsOn:[vVe]};function yVe(e){var t;(t=e.expansionSvc)==null||t.expandAll(!0)}function CVe(e){var t;(t=e.expansionSvc)==null||t.expandAll(!1)}function wVe(e){const t=Va(e),r=oq(e);t?t.onRowHeightChanged():r&&r.onRowHeightChanged()}function bVe(e,t,r){var o;const n=oq(e);if(n){if(((o=e.rowGroupColsSvc)==null?void 0:o.columns.length)===0){if(t<0){kt(238);return}n.setRowCount(t,r);return}kt(28);return}const i=_S(e);if(i){i.setRowCount(t,r);return}}function SVe(e){var t;return Lf(e.gos)?e.rowModel.getBlockStates():((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function xVe(e){return e.rowModel.isLastRowIndexKnown()}var RVe={moduleName:"CsrmSsrmSharedApi",version:De,apiFunctions:{expandAll:yVe,collapseAll:CVe,onRowHeightChanged:wVe}},_Ve={moduleName:"SsrmInfiniteSharedApi",version:De,apiFunctions:{setRowCount:bVe,getCacheBlockState:SVe,isLastRowIndexKnown:xVe}},TVe=class extends ce{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(n=>{var o;if(!n){kt(18),t||kt(20);return}if(this.isGridApi(n))return n;const i=n;return"current"in i?(o=i.current)==null?void 0:o.api:(i.api||kt(19),i.api)}).filter(n=>!!n&&!n.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const r=[];return e.columns?e.columns.forEach(n=>{r.push(t(n))}):e.column&&r.push(t(e.column)),r}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":be(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(r=>{let n=null;r&&(n=t.getProvidedColGroup(r.getGroupId())),!(r&&!n)&&t.setColumnGroupOpened(n,r.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var c;const t=e.column;let r=null;const n=this.beans,{colResize:i,ctrlsSvc:o,colModel:a}=n;if(t&&(r=a.getColDefCol(t.getColId())),t&&!r)return;const s=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const h=e.api.getColumnState().map(f=>({colId:f.colId}));Fo(n,{state:h,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const h=e.api.getColumnState().map(f=>({colId:f.colId,hide:f.hide}));Fo(n,{state:h},"alignedGridChanged")}break;case"columnPinned":{const h=e.api.getColumnState().map(f=>({colId:f.colId,pinned:f.pinned}));Fo(n,{state:h},"alignedGridChanged")}break;case"columnResized":{const d=e,h={};s.forEach(f=>{h[f.getId()]={key:f.getColId(),newWidth:f.getActualWidth()}}),(c=d.flexColumns)==null||c.forEach(f=>{h[f.getId()]&&delete h[f.getId()]}),i==null||i.setColumnWidths(Object.values(h),!1,d.finished,"alignedGridChanged");break}}const u=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(d=>{d.setGridOption("alwaysShowVerticalScroll",u)})}},PVe={moduleName:"AlignedGrids",version:De,beans:[TVe]},DVe=class extends fFe{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},FT=class{constructor(){this.removals=new Set,this.updates=new Map}remove(e){this.removals.add(e),this.updates.delete(e)}update(e){this.updates.has(e)||(this.removals.delete(e),this.updates.set(e,!1))}add(e){this.removals.delete(e),this.updates.set(e,!0)}};function AVe(e){if(Yt(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let r=0;r<t.length;r++){const n=t[r],i=r===0,o=r===e.childrenAfterSort.length-1;n.setFirstChild(i),n.lastChild!==o&&(n.lastChild=o,n.dispatchRowEvent("lastChildChanged")),n.childIndex!==r&&(n.childIndex=r,n.dispatchRowEvent("childIndexChanged"))}}function Dq(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),AVe(e)}var IVe=class extends ce{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,r=t.sortSvc.getSortOptions(),n=Te(r)&&r.length>0,i=n&&!!e.changedRowNodes&&this.gos.get("deltaSort"),o=r.some(({column:a})=>fa(t.gos)?a.isPrimary()&&a.isRowGroupActive():!!a.getColDef().showRowGroup);this.sort(t,r,n,i,e.changedRowNodes,e.changedPath,o)}sort(e,t,r,n,i,o,a){const{gos:s,colModel:l,rowGroupColsSvc:u,groupHideOpenParentsSvc:c,rowNodeSorter:d}=e,h=s.get("groupMaintainOrder"),f=l.getCols().some(C=>C.isRowGroupActive()),g=l.isPivotMode(),m=s.getCallback("postSortRows"),y=C=>{var R;c==null||c.pullDownGroupDataForHideOpenParents(C.childrenAfterAggFilter,!0);const w=g&&C.leafGroup,S=h&&f&&!C.leafGroup&&!a;let x;if(S){const T=(R=u==null?void 0:u.columns)==null?void 0:R[C.level+1],P=(T==null?void 0:T.getSort())===null,D=C.childrenAfterAggFilter.slice(0);if(C.childrenAfterSort&&!P){const I={};C.childrenAfterSort.forEach((E,k)=>{I[E.id]=k}),D.sort((E,k)=>(I[E.id]??0)-(I[k.id]??0))}x=D}else!r||w?x=C.childrenAfterAggFilter.slice(0):n&&i?x=EVe(d,C,i,o,t):x=d.doFullSort(C.childrenAfterAggFilter,t);if(C.childrenAfterSort=x,Dq(C),m){const T={nodes:C.childrenAfterSort};m(T)}};o==null||o.forEachChangedNodeDepthFirst(y)}};function EVe(e,t,r,n,i){const o=t.childrenAfterAggFilter,a=t.childrenAfterSort;if(!a)return e.doFullSort(o,i);const s=new Set,l=[],u=r.updates;for(let d=0,h=o.length;d<h;++d){const f=o[d];u.has(f)||n&&!n.canSkip(f)?l.push({currentPos:l.length,rowNode:f}):s.add(f.id)}const c=a.filter(d=>s.has(d.id)).map((d,h)=>({currentPos:h,rowNode:d}));return l.sort((d,h)=>e.compareRowNodes(i,d,h)),MVe(e,i,l,c)}function MVe(e,t,r,n){const i=[];let o=0,a=0;const s=r.length,l=n.length;for(;o<s&&a<l;){const u=r[o],c=n[a],d=e.compareRowNodes(t,u,c);let h;d<0?(h=u,++o):(h=c,++a),i.push(h.rowNode)}for(;o<s;)i.push(r[o++].rowNode);for(;a<l;)i.push(n[a++].rowNode);return i}var kVe=class extends ce{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=Fn(this,this.onRowHeightChanged.bind(this),100),this.rootNode=null,this.rowsToDisplay=[],this.started=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(r=>!!r);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new af(this.beans),this.initRowManager()}initRowManager(){const{gos:e,beans:t,nodeManager:r}=this,n=e.get("treeData"),i=e.get("treeDataChildrenField"),o=i||n;let a;o&&(a=i?t.csrmChildrenTreeNodeSvc:t.csrmPathTreeNodeSvc),a||(a=t.csrmNodeSvc),r!==a&&(r==null||r.deactivate(),this.nodeManager=a),a.activate(this.rootNode)}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{var n;const r=(n=t.changeSet)==null?void 0:n.properties;r&&this.onPropChange(r)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.shouldSkipSettingDataOnStart?this.refreshModel({step:"group",newData:!0,rowDataUpdated:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&(this.shouldSkipSettingDataOnStart=!0,this.onPropChange(["rowData"]))}ensureRowHeightsValid(e,t,r,n){let i,o=!1;do{i=!1;const a=this.getRowIndexAtPixel(e),s=this.getRowIndexAtPixel(t),l=Math.max(a,r),u=Math.min(s,n);for(let c=l;c<=u;c++){const d=this.getRow(c);if(d.rowHeightEstimated){const h=Bc(this.beans,d);d.setRowHeight(h.height),i=!0,o=!0}}i&&this.setRowTopAndRowIndex()}while(i);return o}onPropChange(e){var u,c;if(!this.rootNode)return;const t=this.gos,r=new Set(e),n={step:"nothing",changedProps:r},i=r.has("rowData"),o=r.has("treeData"),s=r.has("treeDataChildrenField")||o&&!t.get("treeDataChildrenField");let l;if(o&&(n.step="group"),(s||i)&&(l=t.get("rowData"),l!=null&&!Array.isArray(l)&&(l=null,be(1))),s&&(i||(l=((u=this.nodeManager)==null?void 0:u.extractRowData())??l),this.initRowManager()),l&&(!s&&this.started&&!this.isEmpty()&&l.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate")?(n.keepRenderedRows=!0,n.animate=!this.gos.get("suppressAnimationFrame"),n.changedRowNodes=new FT,this.nodeManager.setImmutableRowData(n,l)):(n.step="group",n.rowDataUpdated=!0,n.newData=!0,(c=this.beans.selectionSvc)==null||c.reset("rowDataChanged"),this.rowNodesCountReady=!0,this.nodeManager.setNewRowData(l))),n.step==="nothing"){for(const{refreshProps:d,step:h}of this.orderedStages)if(e.some(f=>d.has(f))){n.step=h;break}}n.step!=="nothing"&&this.refreshModel(n)}setRowTopAndRowIndex(){const{beans:e}=this,t=e.environment.getDefaultRowHeight();let r=0;const n=new Set,i=Xr(this.gos,"normal"),o=this.rowsToDisplay;for(let a=0,s=o.length;a<s;++a){const l=o[a];if(l.id!=null&&n.add(l.id),l.rowHeight==null){const u=Bc(e,l,i,t);l.setRowHeight(u.height,u.estimated)}l.setRowTop(r),l.setRowIndex(a),r+=l.rowHeight}return n}clearRowTopAndRowIndex(e,t){const r=e.active,n=o=>{o&&o.id!=null&&!t.has(o.id)&&o.clearRowTopAndRowIndex()},i=o=>{if(o!==null&&(n(o),n(o.detailNode),n(o.sibling),o.hasChildren()&&o.childrenAfterGroup)){const a=o.level==-1;r&&!a&&!o.expanded||o.childrenAfterGroup.forEach(i)}};i(this.rootNode)}ensureRowsAtPixel(e,t,r=0){var s;const n=this.getRowIndexAtPixel(t),i=this.getRow(n),o=!this.gos.get("suppressAnimationFrame");if(i===e[0])return!1;const a=(s=this.rootNode)==null?void 0:s.allLeafChildren;return a?(e.forEach(l=>{Ho(a,l)}),e.forEach((l,u)=>{a.splice(Math.max(n+r,0)+u,0,l)}),e.forEach((l,u)=>{l.sourceRowIndex=u}),this.refreshModel({step:"group",keepRenderedRows:!0,animate:o,rowNodesOrderChanged:!0}),!0):!1}highlightRowAtPixel(e,t){const r=t!=null?this.getRowIndexAtPixel(t):null,n=r!=null?this.getRow(r):null;if(!n||!e||t==null){this.clearHighlightedRow();return}const i=this.getHighlightPosition(t,n),o=this.isHighlightingCurrentPosition(e,n,i),a=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==n;(o||a)&&(this.clearHighlightedRow(),o)||(this.setRowNodeHighlighted(n,i),this.lastHighlightedRow=n)}setRowNodeHighlighted(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchRowEvent("rowHighlightChanged"))}getHighlightPosition(e,t){if(!t){const i=this.getRowIndexAtPixel(e);if(t=this.getRow(i||0),!t)return"Below"}const{rowTop:r,rowHeight:n}=t;return e-r<n/2?"Above":"Below"}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,r){if(e===t)return!0;const n=r==="Above"?-1:1;return this.getRow(t.rowIndex+n)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.setRowNodeHighlighted(this.lastHighlightedRow,null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const r=e.childrenAfterAggFilter,n=e.sibling?1:0;return(r?r.length:0)+n}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:r}=this;if(!t||!r.length||r[0]===t)return e;const{childrenAfterSort:i}=t,o=s=>{let l=i[s];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:a}=this.beans;return a?a.getTopDisplayIndex(r,e,i,o):o(e)}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=kh(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=kh(this.gos),n=e.columns.length===0||e.columns.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=kh(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=!(e!=null&&e.length),r=new pb(!1,this.rootNode);return t&&(r.active=!1),r}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const t=e.rowNodeTransactions;return t?!t.some(i=>i.add!=null&&i.add.length>0||i.remove!=null&&i.remove.length>0):!1}refreshModel(e){var i,o;if(!this.rootNode)return;const t=e.rowNodeTransactions,r=e.changedPath??(e.changedPath=this.createChangePath(t));if((o=(i=this.nodeManager).refreshModel)==null||o.call(i,e),this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e}),!this.started||(e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)))return;switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.rowNodeTransactions,e.changedRowNodes,r,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(r);case"pivot":this.doPivot(r);case"aggregate":this.doAggregate(r);case"filter_aggregates":this.doFilterAggregates(r);case"sort":this.doSort(e.changedRowNodes,r);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,n),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){var e,t,r;return!((t=(e=this.rootNode)==null?void 0:e.allLeafChildren)!=null&&t.length)||!((r=this.colModel)!=null&&r.ready)}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let r=!1,n=!1;const i=[],o=Wv(this.gos);return this.forEachNodeAfterFilterAndSort(a=>{if(n)return;if(r&&(a===t||a===e)&&(n=!0,a.group&&o)){i.push(...a.allLeafChildren);return}if(!r){if(a!==t&&a!==e)return;r=!0}if(!a.group||!o){i.push(a);return}}),i}getTopLevelNodes(){var e;return((e=this.rootNode)==null?void 0:e.childrenAfterGroup)??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let r=0,n=t.length-1;if(e<=0)return 0;if(xt(t).rowTop<=e)return t.length-1;let o=-1,a=-1;for(;;){const s=Math.floor((r+n)/2),l=t[s];if(this.isRowInPixel(l,e)||(l.rowTop<e?r=s+1:l.rowTop>e&&(n=s-1),o===r&&a===n))return s;o=r,a=n}}isRowInPixel(e,t){const r=e.rowTop,n=e.rowTop+e.rowHeight;return r<=t&&n>t}forEachLeafNode(e){var t,r;(r=(t=this.rootNode)==null?void 0:t.allLeafChildren)==null||r.forEach((n,i)=>e(n,i))}forEachNode(e,t=!1){var r;this.recursivelyWalkNodesAndCallback({nodes:[...((r=this.rootNode)==null?void 0:r.childrenAfterGroup)||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){var r;this.recursivelyWalkNodesAndCallback({nodes:[...((r=this.rootNode)==null?void 0:r.childrenAfterAggFilter)||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){var r;this.recursivelyWalkNodesAndCallback({nodes:[...((r=this.rootNode)==null?void 0:r.childrenAfterSort)||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){const r=this.rootNode;r&&this.recursivelyWalkNodesAndCallback({nodes:[r],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:r,recursionType:n,includeFooterNodes:i}=e;let{index:o}=e;const{footerSvc:a}=this.beans;a==null||a.addNodes(e,t,r,i,this.rootNode,"top");for(let s=0;s<t.length;s++){const l=t[s];if(r(l,o++),l.hasChildren()&&!l.footer){let u=null;switch(n){case 0:u=l.childrenAfterGroup;break;case 1:u=l.childrenAfterAggFilter;break;case 2:u=l.childrenAfterSort;break;case 3:u=l.leafGroup?null:l.childrenAfterSort;break}u&&(o=this.recursivelyWalkNodesAndCallback({nodes:[...u],callback:r,recursionType:n,index:o,includeFooterNodes:i}))}}return a==null||a.addNodes(e,t,r,i,this.rootNode,"bottom"),o}doAggregate(e){var r;const t=this.rootNode;t&&((r=this.aggStage)==null||r.execute({rowNode:t,changedPath:e}))}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){const{groupHideOpenParentsSvc:r}=this.beans;this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(n=>{r==null||r.pullDownGroupDataForHideOpenParents(n.childrenAfterAggFilter,!0),n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),Dq(n)}),r==null||r.updateGroupDataForHideOpenParents(t)}doRowGrouping(e,t,r,n,i){const o=this.nodeManager.treeData,a=this.rootNode;if(!o){const s=this.groupStage;if(s)s.execute({rowNode:a,changedPath:r,changedRowNodes:t,rowNodeTransactions:e,rowNodesOrderChanged:n,afterColumnsChanged:i});else{const l=a.sibling;a.childrenAfterGroup=a.allLeafChildren,l&&(l.childrenAfterGroup=a.childrenAfterGroup),a.updateHasChildren()}}this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,cq(t)},!0)}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){if(typeof e=="string"&&e.indexOf(dA)==0){let r;return this.forEachNode(n=>{n.id===e&&(r=n)}),r}return this.nodeManager.getRowNode(e)}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const r=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},r)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var i,o;(i=this.valueCache)==null||i.onDataChanged();const e=[],t=[],r=new FT;let n=!1;(o=this.rowDataTransactionBatch)==null||o.forEach(a=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:s,rowsInserted:l}=this.nodeManager.updateRowData(a.rowDataTransaction,r);l&&(n=!0),t.push(s),a.callback&&e.push(a.callback.bind(null,s))}),this.commitTransactions(t,n,r),e.length>0&&window.setTimeout(()=>{e.forEach(a=>a())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){var i;(i=this.valueCache)==null||i.onDataChanged(),this.rowNodesCountReady=!0;const t=new FT,{rowNodeTransaction:r,rowsInserted:n}=this.nodeManager.updateRowData(e,t);return this.commitTransactions([r],n,t),r}commitTransactions(e,t,r){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:r,changedPath:this.createChangePath(e)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let r;if(e)r=e.execute({rowNode:t});else{r=(t==null?void 0:t.childrenAfterSort)??[];for(const n of r)n.setUiLevel(0)}this.rowsToDisplay=r}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const r=t.detailNode;r&&r.setRowHeight(r.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){var t;if(e.rowHeightChanged){if((t=this.beans.rowAutoHeight)!=null&&t.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.lastHighlightedRow=null,this.orderedStages=$W,this.rowsToDisplay=$W}};function FVe(e){var t;(t=e.expansionSvc)==null||t.onGroupExpandedOrCollapsed()}function LVe(e,t){const r=Va(e);r&&((!t||t==="everything")&&(t="group"),r.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function OVe(e){var t;return((t=Va(e))==null?void 0:t.isEmpty())??!0}function NVe(e,t){var r;(r=Va(e))==null||r.forEachLeafNode(t)}function zVe(e,t){var r;(r=Va(e))==null||r.forEachNodeAfterFilter(t)}function BVe(e,t){var r;(r=Va(e))==null||r.forEachNodeAfterFilterAndSort(t)}function VVe(e){var t,r;if((t=e.rowAutoHeight)!=null&&t.active){be(3);return}(r=Va(e))==null||r.resetRowHeights()}function GVe(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var r;return(r=Va(e))==null?void 0:r.updateRowData(t)})}function HVe(e,t,r){e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=Va(e))==null?void 0:n.batchUpdateRowData(t,r)})}function WVe(e){e.frameworkOverrides.wrapIncoming(()=>{var t;return(t=Va(e))==null?void 0:t.flushAsyncTransactions()})}function $Ve(e){var t;return(t=e.selectionSvc)==null?void 0:t.getBestCostNodeSelection()}var UVe={moduleName:"ClientSideRowModel",version:De,rowModels:["clientSide"],beans:[DVe,kVe,IVe],dependsOn:[nq]},jVe={moduleName:"ClientSideRowModelApi",version:De,rowModels:["clientSide"],apiFunctions:{onGroupExpandedOrCollapsed:FVe,refreshClientSideRowModel:LVe,isRowDataEmpty:OVe,forEachLeafNode:NVe,forEachNodeAfterFilter:zVe,forEachNodeAfterFilterAndSort:BVe,resetRowHeights:VVe,applyTransaction:GVe,applyTransactionAsync:HVe,flushAsyncTransactions:WVe,getBestCostNodeSelection:$Ve},dependsOn:[RVe]},YVe=class extends ce{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:r,columnKeys:n,skipRowGroups:i}=t,o=this.getColumnsToExport(r,i,n);return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((a,s)=>s(a),e).parse()}processRow(e,t,r,n){var g;const i=t.shouldRowBeSkipped||(()=>!1),a=t.rowPositions!=null||!!t.onlySelected,s=this.gos.get("groupHideOpenParents")&&!a,l=this.colModel.isPivotMode()?n.leafGroup:!n.group,u=!!n.footer,c=n.allChildrenCount===1&&((g=n.childrenAfterGroup)==null?void 0:g.length)===1&&XIe(this.gos,n);if(!l&&!u&&(t.skipRowGroups||c||s)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.level===-1&&!l&&!u||i(this.gos.addGridCommonParams({node:n})))return;const f=e.onNewBodyRow(n);if(r.forEach((m,y)=>{f.onColumn(m,y,n)}),t.getCustomContentBelowRow){const m=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:n}));m&&e.addCustomContent(m)}}appendContent(e){return t=>{const r=e.appendContent;return r&&t.addCustomContent(r),t}}prependContent(e){return t=>{const r=e.prependContent;return r&&t.addCustomContent(r),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return r=>{if(!e.skipColumnGroupHeaders){const n=new nX,{colGroupSvc:i}=this.beans,o=i?i.createColumnGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(o,r,e.processGroupHeaderCallback)}return r}}exportHeaders(e,t){return r=>{if(!e.skipColumnHeaders){const n=r.onNewHeaderRow();t.forEach((i,o)=>{n.onColumn(i,o,void 0)})}return r}}processPinnedTopRows(e,t){return r=>{var i;const n=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="top").sort((o,a)=>o.rowIndex-a.rowIndex).map(o=>{var a;return(a=this.pinnedRowModel)==null?void 0:a.getPinnedTopRow(o.rowIndex)}).forEach(n):(i=this.pinnedRowModel)==null||i.forEachPinnedRow("top",n),r}}processRows(e,t){return r=>{var u;const n=this.rowModel,i=vn(this.gos),o=Lf(this.gos),a=!i&&e.onlySelected,s=this.processRow.bind(this,r,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(c=>c.rowPinned==null).sort((c,d)=>c.rowIndex-d.rowIndex).map(c=>n.getRow(c.rowIndex)).forEach(s),r;if(this.colModel.isPivotMode())return i?n.forEachPivotNode(s,!0):o?n.forEachNodeAfterFilterAndSort(s,!0):n.forEachNode(s),r;if(e.onlySelectedAllPages||a){const c=((u=this.beans.selectionSvc)==null?void 0:u.getSelectedNodes())??[];this.replicateSortedOrder(c),c.forEach(s)}else l==="all"?n.forEachNode(s):i||o?n.forEachNodeAfterFilterAndSort(s,!0):n.forEachNode(s);return r}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:r}=this.beans;if(!t||!r)return;const n=t.getSortOptions(),i=(o,a)=>{var s,l;return o.rowIndex!=null&&a.rowIndex!=null?o.rowIndex-a.rowIndex:o.level===a.level?((s=o.parent)==null?void 0:s.id)===((l=a.parent)==null?void 0:l.id)?r.compareRowNodes(n,{rowNode:o,currentPos:o.rowIndex??-1},{rowNode:a,currentPos:a.rowIndex??-1}):i(o.parent,a.parent):o.level>a.level?i(o.parent,a):i(o,a.parent)};e.sort(i)}processPinnedBottomRows(e,t){return r=>{var i;const n=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="bottom").sort((o,a)=>o.rowIndex-a.rowIndex).map(o=>{var a;return(a=this.pinnedRowModel)==null?void 0:a.getPinnedBottomRow(o.rowIndex)}).forEach(n):(i=this.pinnedRowModel)==null||i.forEachPinnedRow("bottom",n),r}}getColumnsToExport(e=!1,t=!1,r){const{colModel:n,gos:i,visibleCols:o}=this,a=n.isPivotMode();if(r&&r.length)return n.getColsForKeys(r);const s=i.get("treeData");let l=[];return e&&!a?l=n.getCols():l=o.allCols,l=l.filter(u=>!_a(u)&&(t&&!s?!YM(u):!0)),l}recursivelyAddHeaderGroups(e,t,r){const n=[];e.forEach(i=>{const o=i;o.getChildren&&o.getChildren().forEach(a=>n.push(a))}),e.length>0&&tr(e[0])&&this.doAddHeaderHeader(t,e,r),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,r)}doAddHeaderHeader(e,t,r){const n=e.onNewHeaderGroupingRow();let i=0;t.forEach(o=>{const a=o;let s;r?s=r(this.gos.addGridCommonParams({columnGroup:a})):s=this.beans.colNames.getDisplayNameForColumnGroup(a,"header");const l=a.getLeafColumns().reduce((u,c,d,h)=>{let f=xt(u);return c.getColumnGroupShow()==="open"?(!f||f[1]!=null)&&(f=[d],u.push(f)):f&&f[1]==null&&(f[1]=d-1),d===h.length-1&&f&&f[1]==null&&(f[1]=d),u},[]);n.onColumn(a,s||"",i++,a.getLeafColumns().length-1,l)})}},KVe={moduleName:"SharedExport",version:De,beans:[YVe]},S5=`\r
`,XVe=class extends JNe{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:r}=e;this.suppressQuotes=t,this.columnSeparator=r}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,S5),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((r,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r.data.value||""),r.mergeAcross&&this.appendEmptyCells(r.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,r,n){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,r){t!=0&&(this.result+=this.columnSeparator);const n=this.extractRowCellValue(e,t,t,"csv",r);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(be(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=S5),this.isFirstLine=!1}},qVe=class extends QNe{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){be(51);return}const t=this.getMergedParams(e),r=this.getData(t),n=new Blob(["\uFEFF",r],{type:"text/plain"}),i=typeof t.fileName=="function"?t.fileName(this.gos.getGridCommonParams()):t.fileName;eze(this.getFileName(i),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const r=t?Object.assign({},e):this.getMergedParams(e);return this.getData(r)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:r,rowGroupColsSvc:n,valueSvc:i,gos:o}=this,{processCellCallback:a,processHeaderCallback:s,processGroupHeaderCallback:l,processRowGroupCallback:u,suppressQuotes:c,columnSeparator:d}=e;return new XVe({colModel:t,colNames:r,valueSvc:i,gos:o,processCellCallback:a||void 0,processHeaderCallback:s||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:c||!1,columnSeparator:d||",",rowGroupColsSvc:n})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function ZVe(e,t){var r;return(r=e.csvCreator)==null?void 0:r.getDataAsCsv(t)}function QVe(e,t){var r;(r=e.csvCreator)==null||r.exportDataAsCsv(t)}var JVe={moduleName:"CsvExport",version:De,beans:[qVe],apiFunctions:{getDataAsCsv:ZVe,exportDataAsCsv:QVe},dependsOn:[KVe]},eGe=class extends ce{constructor(e,t,r){super(),this.id=e,this.parentCache=t,this.params=r,this.state="needsLoading",this.version=0,this.startRow=e*r.blockSize,this.endRow=this.startRow+r.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,r){this.successCommon(e,{rowData:t,rowCount:r})}isRequestMostRecentAndLive(e){const t=e===this.version,r=this.isAlive();return t&&r}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:r,beans:n,rowNodes:i}=this;for(let o=0;o<e;o++){const a=r+o,s=new af(n);s.setRowHeight(t),s.uiLevel=0,s.setRowIndex(a),s.setRowTop(t*a),i.push(s)}}getBlockStateJson(){const{id:e,startRow:t,endRow:r,state:n}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:r,pageStatus:n}}}setDataAndId(e,t,r){Te(t)?e.setDataAndId(t,r.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Yt(this.params.datasource.getRows)){be(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:r,params:{sortModel:n,filterModel:i},gos:o}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,r),failCallback:this.pageLoadFailed.bind(this,r),sortModel:n,filterModel:i,context:o.getGridCommonParams().context}}forEachNode(e,t,r){this.rowNodes.forEach((n,i)=>{this.startRow+i<r&&e(n,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const r=e-this.startRow;return this.rowNodes[r]}processServerResult(e){const{rowNodes:t,beans:r}=this;t.forEach((i,o)=>{const a=e.rowData?e.rowData[o]:void 0;!i.id&&i.alreadyRendered&&a&&(t[o]=new af(r),t[o].setRowIndex(i.rowIndex),t[o].setRowTop(i.rowTop),t[o].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(t[o],a,this.startRow+o)});const n=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,n)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},tGe=2,rGe=class extends ce{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const r=Math.floor(e/this.params.blockSize);let n=this.blocks[r];if(!n){if(t)return;n=this.createBlock(r)}return n.getRow(e)}createBlock(e){const t=this.params,r=this.createBean(new eGe(e,this,t));return this.blocks[r.id]=r,this.blockCount++,this.purgeBlocksIfNeeded(r),t.rowNodeBlockLoader.addBlock(r),r}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(zc(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(a=>a!=e),r=(a,s)=>s.lastAccessed-a.lastAccessed;t.sort(r);const n=this.params.maxBlocksInCache>0,i=n?this.params.maxBlocksInCache-1:null,o=tGe-1;t.forEach((a,s)=>{const l=a.state==="needsLoading"&&s>=o,u=n?s>=i:!1;if(l||u){if(this.isBlockCurrentlyDisplayed(a)||this.isBlockFocused(a))return;this.removeBlockFromCache(a)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:r,endRow:n}=e;return t.rowIndex>=r&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:r}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,r-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:r,overflowSize:n}=this.params,o=(e.id+1)*r+n;this.rowCount<o&&(this.rowCount=o)}}setRowCount(e,t){this.rowCount=e,Te(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(r=>r.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(r,n)=>r.id-n.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const r=[];let n=-1,i=!1;const o={value:0};let a=!1;return this.getBlocksInOrder().forEach(l=>{if(!a){if(i&&n+1!==l.id){a=!0;return}n=l.id,l.forEachNode(u=>{const c=u===e||u===t;(i||c)&&r.push(u),c&&(i=!i)},o,this.rowCount)}}),a||i?[]:r}},nGe=class extends ce{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=xc(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=xc(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){var t;let e;this.cacheParams?e=!Gv(this.cacheParams.sortModel,((t=this.beans.sortSvc)==null?void 0:t.getSortModel())??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){var r;return((r=this.infiniteCache)==null?void 0:r.getRowNodesInRange(e,t))??[]}reset(){var r;if(!this.datasource)return;tf(this.gos)!=null||(r=this.beans.selectionSvc)==null||r.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:r,rowNodeBlockLoader:n,eventSvc:i,gos:o}=e;this.cacheParams={datasource:this.datasource,filterModel:(t==null?void 0:t.getFilterModel())??{},sortModel:(r==null?void 0:r.getSortModel())??[],rowNodeBlockLoader:n,initialRowCount:o.get("infiniteInitialRowCount"),maxBlocksInCache:o.get("maxBlocksInCache"),rowHeight:xc(e),overflowSize:o.get("cacheOverflowSize"),blockSize:o.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new rGe(this.cacheParams)),i.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(r=>{r.id===e&&(t=r)}),t}forEachNode(e){var t;(t=this.infiniteCache)==null||t.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),r=this.getRowCount()-1;return t>r?r:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){var e;(e=this.infiniteCache)==null||e.refreshCache()}purgeCache(){var e;(e=this.infiniteCache)==null||e.purgeCache()}isLastRowIndexKnown(){var e;return((e=this.infiniteCache)==null?void 0:e.isLastRowIndexKnown())??!1}setRowCount(e,t){var r;(r=this.infiniteCache)==null||r.setRowCount(e,t)}};function iGe(e){var t;(t=_S(e))==null||t.refreshCache()}function oGe(e){var t;(t=_S(e))==null||t.purgeCache()}function aGe(e){var t;return(t=_S(e))==null?void 0:t.getRowCount()}var sGe=class extends ce{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=qIe(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Fn(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Ho(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){zc(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(r=>r.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(r=>r.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:r,state:n}=t.getBlockStateJson();e[r]=n}),e}printCacheStatus(){zc(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},lGe={moduleName:"InfiniteRowModel",version:De,rowModels:["infinite"],apiFunctions:{refreshInfiniteCache:iGe,purgeInfiniteCache:oGe,getInfiniteRowCount:aGe},beans:[nGe,sGe],dependsOn:[_Ve]},uGe="",cGe="",dGe=class extends Xt{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const r=document.createElement("span");r.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(r),this.setTemplateFromElement(e)}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const r=Math.abs(t),n=e.formatValue(r),i=Te(n)?n:r,o=t>=0,a=this.eDelta;o?a.textContent=uGe+i:a.textContent=cGe+i,a.classList.toggle("ag-value-change-delta-up",o),a.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Ri(this.eDelta)}refresh(e,t=!1){var s;const{value:r,valueFormatted:n}=e,{eValue:i,lastValue:o,beans:a}=this;if(r===o||(Te(n)?i.textContent=n:Te(r)?i.textContent=r:Ri(i),(s=a.filterManager)!=null&&s.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof r=="number"&&typeof o=="number"){const l=r-o;this.showDelta(e,l)}return o&&i.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=r,!0}},hGe=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",fGe=class extends Xt{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current"),this.registerCSS(hGe)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:r}=this,n=dr(t).createElement("span");n.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=n,n.textContent=r.textContent,this.getGui().insertBefore(n,r),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var i;let r=e.value;if(Yt(r)&&(r=""),r===this.lastValue||(i=this.beans.filterManager)!=null&&i.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=r;const n=this.eCurrent;return Te(e.valueFormatted)?n.textContent=e.valueFormatted:Te(e.value)?n.textContent=r:Ri(n),!0}},pGe=class extends ce{constructor(){super(...arguments),this.beanName="cellFlashSvc"}onFlashCells(e,t){if(!e.comp)return;const r=nke(e.cellPosition);t.cells[r]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t==null?void 0:t.flashDuration,t==null?void 0:t.fadeDuration)}animateCell(e,t,r,n){const i=e.comp;if(!i)return;const{gos:o}=this;if(r||(r=o.get("cellFlashDuration")),r===0)return;Te(n)||(n=o.get("cellFadeDuration"));const a=`ag-cell-${t}`,s=`ag-cell-${t}-animation`;i.addOrRemoveCssClass(a,!0),i.addOrRemoveCssClass(s,!1);const{eGui:l}=e;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e.isAlive()&&(i.addOrRemoveCssClass(a,!1),i.addOrRemoveCssClass(s,!0),l.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{e.isAlive()&&(i.addOrRemoveCssClass(s,!1),l.style.transition="")},n))},r)})}};function gGe(e,t={}){const{cellFlashSvc:r}=e;r&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(n=>r.flashCell(n,t))})}var vGe={moduleName:"HighlightChanges",version:De,beans:[pGe],userComponents:{agAnimateShowChangeCellRenderer:dGe,agAnimateSlideCellRenderer:fGe},apiFunctions:{flashCells:gGe}};function mGe(e){var t;return((t=e.stateSvc)==null?void 0:t.getState())??{}}function yGe(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=CGe(e)}return e}function CGe(e){return e.cellSelection=wGe(e,"rangeSelection"),e}function wGe(e,t){if(e&&typeof e=="object")return e[t]}var bGe=class extends ce{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Fn(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Fn(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=Fn(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=vn(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",De);const e=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>e(()=>this.setupStateOnGridReady()));const[t,r,n]=this.addManagedEventListeners({newColumnsLoaded:({source:i})=>{i==="gridInitializing"&&(t(),e(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{r==null||r(),e(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{n==null||n(),e(()=>this.setupStateOnFirstDataRendered())}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getInitialState(){return yGe(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){const e=()=>this.updateCachedState("sideBar",this.getSideBarState());e(),this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=r=>()=>this.updateColumnState([r]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:r,pagination:n}=this.getInitialState();e&&this.setFilterState(e),t&&this.setRowGroupExpansionState(t),r&&this.setRowSelectionState(r),n&&this.setPaginationState(n);const i=this.updateCachedState.bind(this);i("filter",this.getFilterState()),i("rowGroupExpansion",this.getRowGroupExpansionState()),i("rowSelection",this.getRowSelectionState()),i("pagination",this.getPaginationState());const o=()=>{this.updateRowGroupExpansionStateTimer=0,i("rowGroupExpansion",this.getRowGroupExpansionState())};this.addManagedEventListeners({filterChanged:()=>i("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:o,columnRowGroupChanged:o,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(o)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:a=>{(a.newPage||a.newPageSize)&&i("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:r,columnOrder:n}=this.getInitialState();r&&this.setFocusedCellState(r),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(n!=null&&n.orderedColIds));const i=this.updateCachedState.bind(this);i("sideBar",this.getSideBarState()),i("focusedCell",this.getFocusedCellState());const o=this.getRangeSelectionState();i("rangeSelection",o),i("cellSelection",o),i("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>i("focusedCell",this.getFocusedCellState()),cellSelectionChanged:a=>{if(a.finished){const s=this.getRangeSelectionState();i("rangeSelection",s),i("cellSelection",s)}},bodyScrollEnd:()=>i("scroll",this.getScrollState())})}getColumnState(){const e=this.beans,t=e.colModel.isPivotMode(),r=[],n=[],i=[],o=[],a=[],s=[],l=[],u=[],c=[];let d=0;const h=$v(e);for(let f=0;f<h.length;f++){const{colId:g,sort:m,sortIndex:y,rowGroup:C,rowGroupIndex:w,aggFunc:S,pivot:x,pivotIndex:R,pinned:T,hide:P,width:D,flex:I}=h[f];c.push(g),m&&(r[y??d++]={colId:g,sort:m}),C&&(n[w??0]=g),typeof S=="string"&&i.push({colId:g,aggFunc:S}),x&&(o[R??0]=g),T&&(T==="right"?s:a).push(g),P&&l.push(g),(I||D)&&u.push({colId:g,flex:I??void 0,width:D})}return{sort:r.length?{sortModel:r}:void 0,rowGroup:n.length?{groupColIds:n}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:o.length||t?{pivotMode:t,pivotColIds:o}:void 0,columnPinning:a.length||s.length?{leftColIds:a,rightColIds:s}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(e){const{sort:t,rowGroup:r,aggregation:n,pivot:i,columnPinning:o,columnVisibility:a,columnSizing:s,columnOrder:l,partialColumnState:u}=e,c={},d=y=>{let C=c[y];return C||(C={colId:y},c[y]=C,C)},h=u?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:y,sort:C},w)=>{const S=d(y);S.sort=C,S.sortIndex=w}),h.sort=null,h.sortIndex=null),r&&(r.groupColIds.forEach((y,C)=>{const w=d(y);w.rowGroup=!0,w.rowGroupIndex=C}),h.rowGroup=null,h.rowGroupIndex=null),n&&(n.aggregationModel.forEach(({colId:y,aggFunc:C})=>{d(y).aggFunc=C}),h.aggFunc=null),i&&(i.pivotColIds.forEach((y,C)=>{const w=d(y);w.pivot=!0,w.pivotIndex=C}),this.gos.updateGridOptions({options:{pivotMode:i.pivotMode},source:"gridInitializing"}),h.pivot=null,h.pivotIndex=null),o&&(o.leftColIds.forEach(y=>{d(y).pinned="left"}),o.rightColIds.forEach(y=>{d(y).pinned="right"}),h.pinned=null),a&&(a.hiddenColIds.forEach(y=>{d(y).hide=!0}),h.hide=null),s&&(s.columnSizingModel.forEach(({colId:y,flex:C,width:w})=>{const S=d(y);S.flex=C??null,S.width=w}),h.flex=null);const f=l==null?void 0:l.orderedColIds,g=!!(f!=null&&f.length),m=g?f.map(y=>d(y)):Object.values(c);m.length&&(this.columnStates=m,Fo(this.beans,{state:m,applyOrder:g,defaultState:h},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const r=this.columnGroupStates;this.columnGroupStates=void 0;const n=this.beans,{pivotResultCols:i,colGroupSvc:o}=n;if(i!=null&&i.isPivotResultColsPresent()){if(t){const a=[];for(const s of t)i.getPivotResultCol(s.colId)&&a.push(s);Fo(n,{state:a,applyOrder:e},"gridInitializing")}r&&(o==null||o.setColumnGroupState(r,"gridInitializing"))}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState(),r=[];return t.forEach(({groupId:n,open:i})=>{i&&r.push(n)}),r.length?{openColumnGroupIds:r}:void 0}setColumnGroupState(e){var o;const t=this.beans.colGroupSvc;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup")||!t)return;const r=new Set((o=e.columnGroup)==null?void 0:o.openColumnGroupIds),i=t.getColumnGroupState().map(({groupId:a})=>{const s=r.has(a);return s&&r.delete(a),{groupId:a,open:s}});r.forEach(a=>{i.push({groupId:a,open:!0})}),i.length&&(this.columnGroupStates=i),t.setColumnGroupState(i,"gridInitializing")}getFilterState(){const e=this.beans.filterManager;let t=e==null?void 0:e.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const r=(e==null?void 0:e.getAdvFilterModel())??void 0;return t||r?{filterModel:t,advancedFilterModel:r}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:r,advancedFilterModel:n}=e??{};r&&(t==null||t.setFilterModel(r,"columnFilter")),n&&(t==null||t.setAdvFilterModel(n))}getRangeSelectionState(){var t;const e=(t=this.beans.rangeSvc)==null?void 0:t.getCellRanges().map(r=>{const{id:n,type:i,startRow:o,endRow:a,columns:s,startColumn:l}=r;return{id:n,type:i,startRow:o,endRow:a,colIds:s.map(u=>u.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:r,colModel:n,visibleCols:i}=this.beans;if(!Xl(t)||!r)return;const o=[];e.cellRanges.forEach(a=>{const s=[];if(a.colIds.forEach(u=>{const c=n.getCol(u);c&&s.push(c)}),!s.length)return;let l=n.getCol(a.startColId);if(!l){const u=i.allCols,c=new Set(s);l=u.find(d=>c.has(d))}o.push({...a,columns:s,startColumn:l})}),r.setCellRanges(o)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:r}=(e==null?void 0:e.getVScrollPosition())??{top:0};return r||t?{top:r,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:r}=e,{frameworkOverrides:n,rowRenderer:i,animationFrameSvc:o,ctrlsSvc:a}=this.beans;n.wrapIncoming(()=>{var s;a.get("center").setCenterViewportScrollLeft(r),(s=a.getScrollFeature())==null||s.setVerticalScrollPosition(t),i.redraw({afterScroll:!0}),o==null||o.flushAllFrames()})}getSideBarState(){var e,t;return(t=(e=this.beans.sideBar)==null?void 0:e.comp)==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:r,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:r,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:r,rowPinned:n}=e,{focusSvc:i,colModel:o}=this.beans;i.setFocusedCell({column:o.getCol(t),rowIndex:r,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const r=e.getCurrentPage(),n=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!r&&!n))return{page:r,pageSize:n}}setPaginationState(e){const{pagination:t,gos:r}=this.beans;t&&(e.pageSize&&!r.get("paginationAutoPageSize")&&t.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&t.setPage(e.page))}getRowSelectionState(){var n;const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!((n=t==null?void 0:t.toggledNodes)!=null&&n.length)?void 0:t}setRowSelectionState(e){var t;(t=this.beans.selectionSvc)==null||t.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const r=[];return t.forEachNode(({expanded:n,id:i})=>{n&&i&&r.push(i)}),r.length?{expandedRowGroupIds:r}:void 0}setRowGroupExpansionState(e){var t;(t=this.beans.expansionSvc)==null||t.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let r=!1;const n=this.cachedState;Object.entries(t).forEach(([i,o])=>{Gv(o,n[i])||(r=!0)}),this.cachedState={...n,...t},r&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const r=this.cachedState[e];this.setCachedStateValue(e,t),Gv(t,r)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0;const t=this.beans.colAnimation;t==null||t.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(t==null||t.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},SGe={moduleName:"GridState",version:De,beans:[bGe],apiFunctions:{getState:mGe}};function xGe(e){return e.rowModel.isLastRowIndexKnown()}function RGe(e){var t;return((t=e.pagination)==null?void 0:t.getPageSize())??100}function _Ge(e){var t;return((t=e.pagination)==null?void 0:t.getCurrentPage())??0}function TGe(e){var t;return((t=e.pagination)==null?void 0:t.getTotalPages())??1}function PGe(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function DGe(e){var t;(t=e.pagination)==null||t.goToNextPage()}function AGe(e){var t;(t=e.pagination)==null||t.goToPreviousPage()}function IGe(e){var t;(t=e.pagination)==null||t.goToFirstPage()}function EGe(e){var t;(t=e.pagination)==null||t.goToLastPage()}function MGe(e,t){var r;(r=e.pagination)==null||r.goToPage(t)}var kGe=class extends ce{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,r=()=>{const n=Math.max(xc(t),1),i=Math.floor(e/n);t.pagination.setPageSize(i,"autoCalculated")};this.isBodyRendered?Fn(this,r,50)():(r(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},cg="paginationPageSizeSelector",FGe=class extends Xt{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(cg,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Ri(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(cg)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),r=!t||!e.includes(t);if(r){const i=this.gos.exists("paginationPageSize"),o=this.gos.get(cg)!==!0;be(94,{pageSizeSet:i,pageSizesSet:o,pageSizeOptions:e,paginationPageSizeOption:t}),o||be(95,{paginationPageSizeOption:t,paginationPageSizeSelector:cg}),e.unshift("")}const n=String(r?"":t);this.selectPageSizeComp?(td(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=r}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const r=this.getLocaleTextFunc(),n=r("pageSizeSelectorLabel","Page Size:"),i=r("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new sk).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(cg);return!Array.isArray(t)||!(t!=null&&t.length)?e:[...t].sort((r,n)=>r-n)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},LGe={selector:"AG-PAGE-SIZE-SELECTOR",component:FGe},OGe=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",NGe=class extends kFe{constructor(){super(),this.btFirst=Ye,this.btPrevious=Ye,this.btNext=Ye,this.btLast=Ye,this.lbRecordCount=Ye,this.lbFirstRowOnPage=Ye,this.lbLastRowOnPage=Ye,this.lbCurrent=Ye,this.lbTotal=Ye,this.pageSizeComp=Ye,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(OGe)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[LGe]);const{btFirst:t,btPrevious:r,btNext:n,btLast:i}=this;this.activateTabIndex([t,r,n,i]),t.insertAdjacentElement("afterbegin",qi(e?"last":"first",this.beans)),r.insertAdjacentElement("afterbegin",qi(e?"next":"previous",this.beans)),n.insertAdjacentElement("afterbegin",qi(e?"previous":"next",this.beans)),i.insertAdjacentElement("afterbegin",qi(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(o):zMe(this.beans,o)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:r}=e;this.addManagedListeners(t,{click:r,keydown:n=>{(n.key===ue.ENTER||n.key===ue.SPACE)&&(n.preventDefault(),r())}})}),NMe(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):ZNe(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=e("page","Page"),r=e("to","to"),n=e("of","of"),i=e("firstPage","First Page"),o=e("previousPage","Previous Page"),a=e("nextPage","Next Page"),s=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${r}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${n}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${i}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${n}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),r=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),i=e===r-1;this.nextButtonDisabled=i||n,this.lastButtonDisabled=!t||n||e===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){vIe(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),r=this.pagination.getMasterRowCount(),n=e?r:null;if(n===1){const w=this.rowModel.getRow(0);if(w&&w.group&&!(w.groupData||w.aggData)){this.setTotalLabelsToZero();return}}const i=this.pagination.getCurrentPage(),o=this.pagination.getPageSize();let a,s;this.isZeroPagesToDisplay()?a=s=0:(a=o*i+1,s=a+o-1,e&&s>n&&(s=n));const l=a+o-1,u=!e&&r<l,c=this.formatNumber(a);this.lbFirstRowOnPage.textContent=c;let d;const h=this.getLocaleTextFunc();u?d=h("pageLastRowUnknown","?"):d=this.formatNumber(s),this.lbLastRowOnPage.textContent=d;const g=t>0?i+1:0,m=this.formatNumber(g);this.lbCurrent.textContent=m;let y,C;if(e)y=this.formatNumber(t),C=this.formatNumber(n);else{const w=h("more","more");y=w,C=w}this.lbTotal.textContent=y,this.lbRecordCount.textContent=C,this.announceAriaStatus(c,d,C,m,y)}announceAriaStatus(e,t,r,n,i){var d,h;const o=this.getLocaleTextFunc(),a=o("page","Page"),s=o("to","to"),l=o("of","of"),u=`${e} ${s} ${t} ${l} ${r}`,c=`${a} ${n} ${l} ${i}`;u!==this.ariaRowStatus&&(this.ariaRowStatus=u,(d=this.ariaAnnounce)==null||d.announceValue(u,"paginationRow")),c!==this.ariaPageStatus&&(this.ariaPageStatus=c,(h=this.ariaAnnounce)==null||h.announceValue(c,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},zGe={selector:"AG-PAGINATION",component:NGe},BGe=class extends ce{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return zGe}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;!this.active||t===e||typeof t!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Te(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Te(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Te(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Te(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const r=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}r!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const r=this.pageSize,n=t-1;this.totalPages=Math.floor(n/r)+1,this.adjustCurrentPageIfInvalid();const i=this.currentPage,o=r*i;let a=r*(i+1)-1;if(a>n&&(a=n),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(o),a===n)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const s=e.getTopLevelRowDisplayedIndex(a+1);this.bottomDisplayedRowIndex=s-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:r}=this,n=e-1;this.totalPages=Math.floor(n/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*r,this.bottomDisplayedRowIndex=t*(r+1)-1,this.bottomDisplayedRowIndex>n&&(this.bottomDisplayedRowIndex=n)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:r=!1,newPageSize:n=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:r,newPageSize:n,keepRenderedRows:t})}},VGe={moduleName:"Pagination",version:De,beans:[BGe,kGe],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:xGe,paginationGetPageSize:RGe,paginationGetCurrentPage:_Ge,paginationGetTotalPages:TGe,paginationGetRowCount:PGe,paginationGoToNextPage:DGe,paginationGoToPreviousPage:AGe,paginationGoToFirstPage:IGe,paginationGoToLastPage:EGe,paginationGoToPage:MGe},dependsOn:[TS]};function GGe(e,t={}){const r=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(r))}function Aq(e,t,r,n,i){t&&(n&&t.parent&&t.parent.level!==-1&&Aq(e,t.parent,r,n,i),t.setExpanded(r,void 0,i))}function HGe(e,t){return e.rowModel.getRowNode(t)}function WGe(e,t,r,n){e.rowRenderer.addRenderedRowListener(t,r,n)}function $Ge(e){return e.rowRenderer.getRenderedNodes()}function UGe(e,t,r){e.rowModel.forEachNode(t,r)}function jGe(e){return e.rowRenderer.firstRenderedRow}function YGe(e){return e.rowRenderer.lastRenderedRow}function KGe(e,t){return e.rowModel.getRow(t)}function XGe(e){return e.rowModel.getRowCount()}var qGe={moduleName:"RowApi",version:De,apiFunctions:{redrawRows:GGe,setRowNodeExpanded:Aq,getRowNode:HGe,addRenderedRowListener:WGe,getRenderedNodes:$Ge,forEachNode:UGe,getFirstDisplayedRowIndex:jGe,getLastDisplayedRowIndex:YGe,getDisplayedRowAtIndex:KGe,getDisplayedRowCount:XGe}},ZGe={moduleName:"ScrollApi",version:De,apiFunctions:{getVerticalPixelRange:OBe,getHorizontalPixelRange:NBe,ensureColumnVisible:Tq,ensureIndexVisible:Pq,ensureNodeVisible:zBe}};function QGe(e,t,r){if(!t)return;const n=e.ctrlsSvc.getGridBodyCtrl().eGridBody,i=`aria-${t}`;r===null?n.removeAttribute(i):n.setAttribute(i,r)}function JGe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function eHe(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function tHe(e){var t;return((t=e.animationFrameSvc)==null?void 0:t.isQueueEmpty())??!0}function rHe(e){var t;(t=e.animationFrameSvc)==null||t.flushAllFrames()}function nHe(e){return{rowHeight:xc(e),headerHeight:Pm(e)}}function iHe(e,t={}){var o;const r=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(a=>{const s=a.getCellRenderer();s!=null&&r.push(Uv(s))}),(o=t.columns)!=null&&o.length)return r;const n=[],i=wA(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(a=>{if(i&&!bA(a.rowNode,i)||!a.isFullWidth())return;const s=a.getFullWidthCellRenderers();for(let l=0;l<s.length;l++){const u=s[l];u!=null&&n.push(Uv(u))}}),[...n,...r]}var oHe={moduleName:"RenderApi",version:De,apiFunctions:{setGridAriaProperty:QGe,refreshCells:JGe,refreshHeader:eHe,isAnimationFrameQueueEmpty:tHe,flushAllAnimationFrames:rHe,getSizesForCurrentTheme:nHe,getCellRendererInstances:iHe}};function aHe(e,t){var r,n;typeof t=="number"?(r=e.colAutosize)==null||r.sizeColumnsToFit(t,"api"):(n=e.colAutosize)==null||n.sizeColumnsToFitGridBody(t)}function sHe(e,t,r){var n;(n=e.colAutosize)==null||n.autoSizeCols({colKeys:t,skipHeader:r,source:"api"})}function lHe(e,t){var r;(r=e.colAutosize)==null||r.autoSizeAllColumns("api",t)}var uHe=class extends ce{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:r,skipHeaderGroups:n,stopAtGroup:i,source:o="api"}=e,{animationFrameSvc:a,renderStatus:s,colModel:l,autoWidthCalc:u,visibleCols:c}=this.beans;if(a==null||a.flushAllFrames(),this.timesDelayed<5&&s&&!s.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const d=[];let h=-1;const f=r??this.gos.get("skipHeaderOnAutoSize"),g=n??f;for(;h!==0;){h=0;const m=[];t.forEach(y=>{if(!y)return;const C=l.getCol(y);if(!C||d.indexOf(C)>=0)return;const w=u.getPreferredWidthForColumn(C,f);if(w>0){const S=cHe(C,w);C.setActualWidth(S,o),d.push(C),h++}m.push(C)}),m.length&&c.refresh(o)}g||this.autoSizeColumnGroupsByColumns(t,o,i),nf(this.eventSvc,d,!0,"autosizeColumns")}autoSizeColumn(e,t,r){e&&this.autoSizeCols({colKeys:[e],skipHeader:r,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,r){const{colModel:n,ctrlsSvc:i}=this.beans,o=new Set;n.getColsForKeys(e).forEach(u=>{let c=u.getParent();for(;c&&c!=r;)c.isPadding()||o.add(c),c=c.getParent()});let s;const l=[];for(const u of o){for(const c of i.getHeaderRowContainerCtrls())if(s=c.getHeaderCtrlForColumn(u),s)break;s&&s.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const r=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:r,skipHeader:t,source:e})}addColumnAutosize(e,t){const r=this.gos.get("skipHeaderOnAutoSize"),n=()=>{this.autoSizeColumn(t,"uiColumnResized",r)};e.addEventListener("dblclick",n);const i=new dh(e);return i.addEventListener("doubleTap",n),()=>{e.removeEventListener("dblclick",n),i.removeEventListener("doubleTap",n),i.destroy()}}addColumnGroupResize(e,t,r){const n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{const o=[];t.getDisplayedLeafColumns().forEach(s=>{s.getColDef().suppressAutoSize||o.push(s.getColId())}),o.length>0&&this.autoSizeCols({colKeys:o,skipHeader:n,stopAtGroup:t,source:"uiColumnResized"}),r()};return e.addEventListener("dblclick",i),()=>e.removeEventListener("dblclick",i)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:r,scrollVisibleSvc:n}=this.beans,i=r.getGridBodyCtrl(),a=i.isVerticalScrollShowing()?n.getScrollbarWidth():0,l=Bv(i.eGridBody)-a;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):be(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",r,n){var f;if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,r,n));return}const i={};n&&((f=n==null?void 0:n.columnLimits)==null||f.forEach(({key:g,...m})=>{i[typeof g=="string"?g:g.getColId()]=m}));const o=this.beans.visibleCols.allCols,a=e===ss(o);if(e<=0||!o.length||a)return;const s=[],l=[];o.forEach(g=>{g.getColDef().suppressSizeToFit===!0?l.push(g):s.push(g)});const u=s.slice(0);let c=!1;const d=g=>{Ho(s,g),l.push(g)};for(s.forEach(g=>{g.resetActualWidth(t);const m=i==null?void 0:i[g.getId()],y=(m==null?void 0:m.minWidth)??(n==null?void 0:n.defaultMinWidth),C=(m==null?void 0:m.maxWidth)??(n==null?void 0:n.defaultMaxWidth),w=g.getActualWidth();typeof y=="number"&&w<y?g.setActualWidth(y,t,!0):typeof C=="number"&&w>C&&g.setActualWidth(C,t,!0)});!c;){c=!0;const g=e-ss(l);if(g<=0)s.forEach(m=>{var C;const y=((C=i==null?void 0:i[m.getId()])==null?void 0:C.minWidth)??(n==null?void 0:n.defaultMinWidth);if(typeof y=="number"){m.setActualWidth(y,t,!0);return}m.setActualWidth(m.minWidth,t)});else{const m=g/ss(s);let y=g;for(let C=s.length-1;C>=0;C--){const w=s[C],S=i==null?void 0:i[w.getId()],x=(S==null?void 0:S.minWidth)??(n==null?void 0:n.defaultMinWidth),R=(S==null?void 0:S.maxWidth)??(n==null?void 0:n.defaultMaxWidth),T=w.getMinWidth(),P=w.getMaxWidth(),D=typeof x=="number"&&x>T?x:T,I=typeof R=="number"&&R<P?R:P;let E=Math.round(w.getActualWidth()*m);E<D?(E=D,d(w),c=!1):E>I?(E=I,d(w),c=!1):C===0&&(E=y),w.setActualWidth(E,t,!0),y-=E}}}u.forEach(g=>{g.fireColumnWidthChangedEvent(t)});const h=this.beans.visibleCols;h.setLeftValues(t),h.updateBodyWidths(),!r&&nf(this.eventSvc,u,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:r,defaultMinWidth:n,defaultMaxWidth:i}=e,o=r==null?void 0:r.map(({colId:a,minWidth:s,maxWidth:l})=>({key:a,minWidth:s,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:n,defaultMaxWidth:i,columnLimits:o})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:r}=e;setTimeout(()=>{t?this.autoSizeCols({colKeys:t,skipHeader:r,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",r)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function cHe(e,t){const r=e.getMinWidth();t<r&&(t=r);const n=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=n),t}var dHe={moduleName:"ColumnAutoSize",version:De,beans:[uHe],apiFunctions:{sizeColumnsToFit:aHe,autoSizeColumns:sHe,autoSizeAllColumns:lHe},dependsOn:[WX]};function hHe(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedTopRowCount())??0}function fHe(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedBottomRowCount())??0}function pHe(e,t){var r;return(r=e.pinnedRowModel)==null?void 0:r.getPinnedTopRow(t)}function gHe(e,t){var r;return(r=e.pinnedRowModel)==null?void 0:r.getPinnedBottomRow(t)}var vHe=class extends ce{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=r=>{r.setRowHeight(r.rowHeight,!0)};dg(this.pinnedBottomRows,t),dg(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const r=n=>{if(n.rowHeightEstimated){const i=Bc(this.beans,n);n.setRowTop(t),n.setRowHeight(i.height),t+=i.height,e=!0}};return dg(this.pinnedBottomRows,r),t=0,dg(this.pinnedTopRows,r),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const r=this.getCache(t);if(e===void 0){r.order.length=0,r.cache={};return}const n=tf(this.gos),i=t==="top"?CX:wX,o=new Set(r.order),a=[],s=new Set;let l=0,u=-1;for(const c of e){const d=(n==null?void 0:n({data:c,level:0,rowPinned:t}))??i+this.nextId++;if(s.has(d)){be(96,{id:d,data:c});continue}u++,s.add(d),a.push(d);const h=ev(r,d);if(h!==void 0)h.data!==c&&h.setData(c),l+=this.setRowTopAndRowIndex(h,l,u),o.delete(d);else{const f=new af(this.beans);f.id=d,f.data=c,f.rowPinned=t,l+=this.setRowTopAndRowIndex(f,l,u),r.cache[d]=f,r.order.push(d)}}o.forEach(c=>{var d;(d=ev(r,c))==null||d.clearRowTopAndRowIndex(),delete r.cache[c]}),r.order=a}setRowTopAndRowIndex(e,t,r){return e.setRowTop(t),e.setRowHeight(Bc(this.beans,e).height),e.setRowIndex(r),e.rowHeight}getPinnedTopTotalHeight(){return x5(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return x5(this.pinnedBottomRows)}getPinnedTopRowCount(){return RA(this.pinnedTopRows)}getPinnedBottomRowCount(){return RA(this.pinnedBottomRows)}getPinnedTopRow(e){return xA(this.pinnedTopRows,e)}getPinnedBottomRow(e){return xA(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return ev(this.getCache(t),e)}forEachPinnedRow(e,t){return dg(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}};function x5(e){const t=RA(e);if(t===0)return 0;const r=xA(e,t-1);return r===void 0?0:r.rowTop+r.rowHeight}function ev(e,t){return e.cache[t]}function xA(e,t){return ev(e,e.order[t])}function dg(e,t){e.order.forEach((r,n)=>{const i=ev(e,r);i&&t(i,n)})}function RA(e){return e.order.length}var mHe={moduleName:"PinnedRow",version:De,beans:[vHe],apiFunctions:{getPinnedTopRowCount:hHe,getPinnedBottomRowCount:fHe,getPinnedTopRow:pHe,getPinnedBottomRow:gHe}},yHe=class extends ce{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,r=e.colDef,n=r.cellClassRules,i=this.getCellClassParams(e,r);JM(this.beans.expressionSvc,n===this.cellClassRules?void 0:this.cellClassRules,n,i,o=>t.addOrRemoveCssClass(o,!0),o=>t.addOrRemoveCssClass(o,!1)),this.cellClassRules=n}applyUserStyles(){const e=this.column,t=e.colDef,r=t.cellStyle;if(!r)return;let n;if(typeof r=="function"){const i=this.getCellClassParams(e,t);n=r(i)}else n=r;n&&this.cellComp.setUserStyles(n)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,r=e.colDef,n=this.getCellClassParams(e,r);this.staticClasses.forEach(o=>t.addOrRemoveCssClass(o,!1));const i=this.beans.cellStyles.getStaticCellClasses(r,n);this.staticClasses=i,i.forEach(o=>t.addOrRemoveCssClass(o,!0))}getCellClassParams(e,t){const{value:r,rowNode:n}=this.cellCtrl;return this.beans.gos.addGridCommonParams({value:r,data:n.data,node:n,colDef:t,column:e,rowIndex:n.rowIndex})}},CHe=class extends ce{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,r,n){JM(this.beans.expressionSvc,void 0,e.cellClassRules,t,r,n),this.processStaticCellClasses(e,t,r)}getStaticCellClasses(e,t){const{cellClass:r}=e;if(!r)return[];let n;return typeof r=="function"?n=r(t):n=r,typeof n=="string"&&(n=[n]),n||[]}createCellCustomStyleFeature(e,t){return new yHe(e,t)}processStaticCellClasses(e,t,r){this.getStaticCellClasses(e,t).forEach(i=>{r(i)})}},wHe={moduleName:"CellStyle",version:De,beans:[CHe]},bHe={moduleName:"RowStyle",version:De,beans:[wke]};function SHe(e,t){var r;return!!((r=e.colHover)!=null&&r.isHovered(t))}var xHe=class extends ce{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){if(this.gos.get("columnHoverHighlight")){const e=this.beans.colHover;this.addManagedListeners(this.element,{mouseout:e.clearMouseOver.bind(e),mouseover:e.setMouseOver.bind(e,this.columns)})}}},RHe="ag-column-hover",_He=class extends ce{constructor(){super(...arguments),this.beanName="colHover"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,r){const n=()=>{if(!this.gos.get("columnHoverHighlight"))return;const i=this.isHovered(r);t.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:n}),n()}onCellColumnHover(e,t){if(!t||!this.gos.get("columnHoverHighlight"))return;const r=this.isHovered(e);t.addOrRemoveCssClass(RHe,r)}addHeaderFilterColumnHoverListener(e,t,r,n){this.createHoverFeature(e,[r],n);const i=()=>{if(!this.gos.get("columnHoverHighlight"))return;const o=this.isHovered(r);t.addOrRemoveCssClass("ag-column-hover",o)};e.addManagedEventListeners({columnHoverChanged:i}),i()}createHoverFeature(e,t,r){e.createManagedBean(new xHe(t,r))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},THe={moduleName:"ColumnHover",version:De,beans:[_He],apiFunctions:{isColumnHovered:SHe}},PHe=class extends ce{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){var e,t;this.wrapSvc=(t=(e=this.beans.frameworkOverrides).createGlobalEventListenerWrapper)==null?void 0:t.call(e)}addEventListener(e,t){var o;const r=((o=this.wrapSvc)==null?void 0:o.wrap(t))??t,n=!Gw.has(e),i=n?this.asyncListeners:this.syncListeners;i.has(e)||i.set(e,new Set),i.get(e).add(r),this.eventSvc.addEventListener(e,r,n)}removeEventListener(e,t){var o,a;const r=((o=this.wrapSvc)==null?void 0:o.unwrap(t))??t,n=this.asyncListeners.get(e),i=!!(n!=null&&n.delete(r));i||(a=this.syncListeners.get(e))==null||a.delete(r),this.eventSvc.removeEventListener(e,r,i)}addGlobalListener(e){var o;const t=((o=this.wrapSvc)==null?void 0:o.wrapGlobal(e))??e,r=(a,s)=>{Gw.has(a)&&t(a,s)},n=(a,s)=>{Gw.has(a)||t(a,s)};this.globalListenerPairs.set(e,{syncListener:r,asyncListener:n});const i=this.eventSvc;i.addGlobalListener(r,!1),i.addGlobalListener(n,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:r,globalListenerPairs:n}=this,i=(r==null?void 0:r.unwrapGlobal(e))??e;if(n.has(i)){const{syncListener:a,asyncListener:s}=n.get(i);t.removeGlobalListener(a,!1),t.removeGlobalListener(s,!0),n.delete(e)}else this.syncGlobalListeners.delete(i),t.removeGlobalListener(i,!1)}destroyEventListeners(e,t){e.forEach((r,n)=>{r.forEach(i=>this.eventSvc.removeEventListener(n,i,t)),r.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(r=>this.eventSvc.removeGlobalListener(r,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:r,asyncListener:n})=>{t.removeGlobalListener(r,!1),t.removeGlobalListener(n,!0)}),e.clear()}};function DHe(e,t,r){var n;(n=e.apiEventSvc)==null||n.addEventListener(t,r)}function AHe(e,t,r){var n;(n=e.apiEventSvc)==null||n.removeEventListener(t,r)}function IHe(e,t){var r;(r=e.apiEventSvc)==null||r.addGlobalListener(t)}function EHe(e,t){var r;(r=e.apiEventSvc)==null||r.removeGlobalListener(t)}var MHe={moduleName:"EventApi",version:De,apiFunctions:{addEventListener:DHe,addGlobalListener:IHe,removeEventListener:AHe,removeGlobalListener:EHe},beans:[PHe]},kHe=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",FHe=class extends ce{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,r,n){e&&t.destroyBean(e);const i=RT(this.gos),{column:o,eGui:a}=t,s=o.getColDef();!n&&i&&!s.headerComponent&&(n=Vw(()=>a.querySelector(".ag-header-cell-text")));const l={getColumn:()=>o,getColDef:()=>o.getColDef(),getGui:()=>a,getLocation:()=>"header",getTooltipValue:()=>r??o.getColDef().headerTooltip,shouldDisplayTooltip:n};let u=this.createTooltipFeature(l);return u&&(u=t.createBean(u),t.setRefreshFunction("tooltip",()=>u.refreshTooltip())),u}setupHeaderGroupTooltip(e,t,r,n){e&&t.destroyBean(e);const i=RT(this.gos),{column:o,eGui:a}=t,s=o.getColGroupDef();!n&&i&&!(s!=null&&s.headerGroupComponent)&&(n=Vw(()=>a.querySelector(".ag-header-group-text")));const l={getColumn:()=>o,getGui:()=>a,getLocation:()=>"headerGroup",getTooltipValue:()=>r??(s&&s.headerTooltip),shouldDisplayTooltip:n};s&&(l.getColDef=()=>s);const u=this.createTooltipFeature(l);return u&&t.createBean(u)}enableCellTooltipFeature(e,t,r){const{column:n,rowNode:i}=e,o=()=>{const l=n.getColDef(),u=i.data;if(l.tooltipField&&Te(u))return qg(u,l.tooltipField,n.isTooltipFieldContainsDots());const c=l.tooltipValueGetter;return c?c(this.gos.addGridCommonParams({location:"cell",colDef:n.getColDef(),column:n,rowIndex:e.cellPosition.rowIndex,node:i,data:i.data,value:e.value,valueFormatted:e.valueFormatted})):null},a=RT(this.gos);!r&&a&&!e.isCellRenderer()&&(r=Vw(()=>{const{eGui:l}=e;return l.children.length===0?l:l.querySelector(".ag-cell-value")}));const s={getColumn:()=>n,getColDef:()=>n.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>i,getGui:()=>e.eGui,getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:o,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:r};return this.createTooltipFeature(s,this.beans)}refreshRowTooltip(e,t,r,n){const i={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>r,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:n},o=this.beans,a=o.context;e&&t.destroyBean(e,a);const s=this.createTooltipFeature(i,o);return t.createBean(s,a)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=Te(t.tooltipField)||Te(t.tooltipValueGetter)||Te(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},LHe={moduleName:"Tooltip",version:De,beans:[FHe],dynamicBeans:{tooltipFeature:TFe},userComponents:{agTooltipComponent:KNe},dependsOn:[TS],css:[kHe]},OHe={moduleName:"Locale",version:De,beans:[BNe]},NHe=class extends ce{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1}setRowAutoHeight(e,t,r){e.__autoHeights||(e.__autoHeights={}),e.__autoHeights[r.getId()]=t,t!=null&&(e.__checkAutoHeightsDebounced==null&&(e.__checkAutoHeightsDebounced=Fn(this,this.doCheckAutoHeights.bind(this,e),1)),e.__checkAutoHeightsDebounced())}checkAutoHeights(e){this.wasEverActive&&this.doCheckAutoHeights(e)}doCheckAutoHeights(e){var c;const t=e.__autoHeights;if(t==null)return;let r=!1,n=!0,i=0;const{visibleCols:o,colModel:a,colViewport:s,rowModel:l}=this.beans;o.autoHeightCols.forEach(d=>{let h=t[d.getId()];if(h==null)if(a.colSpanActive){let f=[];switch(d.getPinned()){case"left":f=o.getLeftColsForRow(e);break;case"right":f=o.getRightColsForRow(e);break;case null:f=s.getColsWithinViewport(e);break}if(f.includes(d)){r=!0;return}h=-1}else{r=!0;return}else n=!1;h>i&&(i=h)}),!r&&((n||i<10)&&(i=Bc(this.beans,e).height),i!=e.rowHeight&&(e.setRowHeight(i),(c=l.onRowHeightChangedDebounced)==null||c.call(l)))}setupCellAutoHeight(e,t,r){const n=t.parentElement,{rowNode:i,column:o}=e,a=this.beans,s=Bc(a,i).height,l=d=>{if(e.editing||!e.isAlive()||!r.isAlive())return;const{paddingTop:h,paddingBottom:f,borderBottomWidth:g,borderTopWidth:m}=ed(n),y=h+f+g+m,w=t.offsetHeight+y;if(d<5){const x=dr(a),R=!x||!x.contains(t),T=w==0;if(R||T){window.setTimeout(()=>l(d+1),0);return}}const S=Math.max(w,s);this.setRowAutoHeight(i,S,o)},u=()=>l(0);u();const c=Os(a,t,u);r.addDestroyFunc(()=>{c(),this.setRowAutoHeight(i,void 0,o)})}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight()),this.active&&(this.wasEverActive=!0)}},zHe={moduleName:"RowAutoHeight",version:De,beans:[NHe]},BHe={moduleName:"AllCommunity",version:De,dependsOn:[UVe,JVe,lGe,Dze,JBe,eVe,tVe,rVe,nVe,iVe,oVe,QBe,yBe,CBe,wBe,mBe,bBe,SBe,SGe,PVe,VGe,xOe,qGe,ZGe,oHe,dHe,rLe,mHe,mVe,PNe,wHe,THe,bHe,MHe,INe,vGe,LHe,OHe,zHe,tLe,jVe]},_n=ge.createContext({}),Im=(e,t,r,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const o=e.newAgStackInstance();let a,s,l=!1;return o.then(u=>{if(l){t.destroyBean(u);return}a=u,s=a.getGui(),r.appendChild(s),R5(n,a)}),()=>{var u;l=!0,a&&((u=s==null?void 0:s.parentElement)==null||u.removeChild(s),t.destroyBean(a),n&&R5(n,void 0))}},R5=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},To=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),Qi=class Iq{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const i=new Iq;return i.classesMap={...this.classesMap},i.classesMap[t]=r,i}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},Bf=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},V3,_A=(V3=ge.version)==null?void 0:V3.split(".")[0],VHe=_A==="16"||_A==="17";function GHe(){return _A==="19"}var Hw=!1;function HHe(e){return Hw||setTimeout(()=>Hw=!1,0),Hw=!0,e()}var mk=(e,t)=>{!VHe&&e&&!Hw?qte.flushSync(t):t()};function yk(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const n=[],i=[],o=new Map,a=new Map;for(let s=0;s<t.length;s++){const l=t[s];a.set(l.instanceId,l)}for(let s=0;s<e.length;s++){const l=e[s];o.set(l.instanceId,l),a.has(l.instanceId)&&n.push(l)}for(let s=0;s<t.length;s++){const l=t[s],u=l.instanceId;o.has(u)||i.push(l)}return n.length===e.length&&i.length===0?e:n.length===0&&i.length===t.length?t:n.length===0?i:i.length===0?n:[...n,...i]}var Eq=O.forwardRef((e,t)=>{var j;const{registry:r,context:n}=O.useContext(_n),i=O.useRef(null),o=O.useRef(null),a=O.useRef(null),s=O.useRef(null),l=O.useRef(null),u=O.useRef(),[c,d]=O.useState(),[h,f]=O.useState(),[g,m]=O.useState(),[y,C]=O.useState(()=>new Qi),[w,S]=O.useState(()=>new Qi("ag-hidden")),[x,R]=O.useState(()=>new Qi("ag-hidden")),[T,P]=O.useState(()=>new Qi("ag-invisible"));O.useImperativeHandle(t,()=>({refresh(){return!1}})),O.useLayoutEffect(()=>Im(c,n,o.current),[c]);const D=O.useCallback(G=>{if(i.current=G,!G){u.current=n.destroyBean(u.current);return}const $={setInnerRenderer:(H,U)=>{d(H),m(U)},setChildCount:H=>f(H),addOrRemoveCssClass:(H,U)=>C(ne=>ne.setClass(H,U)),setContractedDisplayed:H=>R(U=>U.setClass("ag-hidden",!H)),setExpandedDisplayed:H=>S(U=>U.setClass("ag-hidden",!H)),setCheckboxVisible:H=>P(U=>U.setClass("ag-invisible",!H))},K=r.createDynamicBean("groupCellRendererCtrl",!0);K&&(u.current=n.createBean(K),u.current.init($,G,a.current,s.current,l.current,Eq,e))},[]),I=O.useMemo(()=>`ag-cell-wrapper ${y.toString()}`,[y]),E=O.useMemo(()=>`ag-group-expanded ${w.toString()}`,[w]),k=O.useMemo(()=>`ag-group-contracted ${x.toString()}`,[x]),L=O.useMemo(()=>`ag-group-checkbox ${T.toString()}`,[T]),N=c&&c.componentFromFramework,B=N?c.componentClass:void 0,V=c==null&&g!=null,W=Ta(g,!0);return ge.createElement("span",{className:I,ref:D,...e.colDef?{}:{role:(j=u.current)==null?void 0:j.getCellAriaRole()}},ge.createElement("span",{className:E,ref:s}),ge.createElement("span",{className:k,ref:l}),ge.createElement("span",{className:L,ref:a}),ge.createElement("span",{className:"ag-group-value",ref:o},V&&ge.createElement(ge.Fragment,null,W),N&&ge.createElement(B,{...c.params})),ge.createElement("span",{className:"ag-group-child-count"},h))}),_5=Eq,Ck=O.createContext({setMethods:()=>{}}),WHe=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:n,setMethods:i}=e,[{key:o,...a},s]=O.useState(t);return O.useEffect(()=>{r(l=>s(l))},[]),ge.createElement(Ck.Provider,{value:{setMethods:i}},ge.createElement(n,{key:o,...a}))},$He=O.memo(WHe),UHe=0;function T5(){return`agPortalKey_${++UHe}`}var Mq=class{constructor(e,t,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=T5(),this.portalKey=T5(),this.instanceCreated=this.isStatelessComponent()?nr.resolve(!1):new nr(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const n=r[e];if(n)return n.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new nr(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var r;this.componentInstance=t,(r=this.resolveInstanceCreated)==null||r.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=xb.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return O.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function wk(e,t,r){e.forEach(n=>{const i=t[n];i&&(r[n]=i)})}var Ga=class extends Mq{constructor(){super(...arguments),this.awaitUpdateCallback=new nr(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=$He}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new nr(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,wk(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new nr(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},jHe=class extends Ga{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},YHe=class extends Ga{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},KHe=class extends Ga{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:r,shake:n}=this;return e.label=t,e.icon=r,e.shake=n,e}},XHe=class extends Ga{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function kq(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||nr.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var qHe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){wk(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),kq(this.floatingFilterParams,e)}},ZHe=class extends Ga{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),kq(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},QHe=class extends Ga{refresh(e){this.sourceParams=e,this.refreshProps()}},JHe=class extends Ga{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},eWe=class extends Ga{refresh(e){this.sourceParams=e,this.refreshProps()}},tWe=class extends Ga{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},rWe=class extends Ga{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function bk(){be(231)}var nWe=1e3,iWe=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||nWe}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}},oWe=({ctrl:e})=>{const t=e.isAlive(),{context:r}=O.useContext(_n),n=t?e.column.getColId():void 0,[i,o]=O.useState(),a=O.useRef(),s=O.useRef(null),l=O.useRef(null),u=O.useRef(null),c=O.useRef(),d=O.useRef();t&&!d.current&&(d.current=new Tm(()=>s.current));const h=O.useCallback(y=>{var S;if(s.current=y,a.current=y?r.createBean(new Of):r.destroyBean(a.current),!y||!t)return;const C={setWidth:x=>{s.current&&(s.current.style.width=x)},addOrRemoveCssClass:(x,R)=>d.current.addOrRemoveCssClass(x,R),setAriaSort:x=>{s.current&&(x?xIe(s.current,x):RIe(s.current))},setUserCompDetails:x=>o(x),getUserCompInstance:()=>c.current||void 0};e.setComp(C,y,l.current,u.current,a.current);const w=e.getSelectAllGui();w&&((S=l.current)==null||S.insertAdjacentElement("afterend",w),a.current.addDestroyFunc(()=>w.remove()))},[]);O.useLayoutEffect(()=>Im(i,r,u.current,c),[i]),O.useEffect(()=>{e.setDragSource(s.current)},[i]);const f=O.useMemo(()=>!!((i==null?void 0:i.componentFromFramework)&&Bf(i.componentClass)),[i]),g=i&&i.componentFromFramework,m=i&&i.componentClass;return ge.createElement("div",{ref:h,className:"ag-header-cell","col-id":n,role:"columnheader"},ge.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),ge.createElement("div",{ref:u,className:"ag-header-cell-comp-wrapper",role:"presentation"},g&&f&&ge.createElement(m,{...i.params}),g&&!f&&ge.createElement(m,{...i.params,ref:c})))},aWe=O.memo(oWe),sWe=({ctrl:e})=>{const{context:t,gos:r}=O.useContext(_n),[n,i]=O.useState(()=>new Qi("ag-header-cell","ag-floating-filter")),[o,a]=O.useState(()=>new Qi),[s,l]=O.useState(()=>new Qi("ag-floating-filter-button","ag-hidden")),[u,c]=O.useState("false"),[d,h]=O.useState(),[,f]=O.useState(1),g=O.useRef(),m=O.useRef(null),y=O.useRef(null),C=O.useRef(null),w=O.useRef(null),S=O.useRef(),x=O.useRef(),R=W=>{W!=null&&S.current&&S.current(W)},T=O.useCallback(W=>{if(m.current=W,g.current=W?t.createBean(new Of):t.destroyBean(g.current),!W)return;x.current=new nr(G=>{S.current=G});const j={addOrRemoveCssClass:(G,$)=>i(K=>K.setClass(G,$)),addOrRemoveBodyCssClass:(G,$)=>a(K=>K.setClass(G,$)),setButtonWrapperDisplayed:G=>{l($=>$.setClass("ag-hidden",!G)),c(G?"false":"true")},setWidth:G=>{m.current&&(m.current.style.width=G)},setCompDetails:G=>h(G),getFloatingFilterComp:()=>x.current?x.current:null,setMenuIcon:G=>{var $;return($=w.current)==null?void 0:$.appendChild(G)}};e.setComp(j,W,w.current,y.current,g.current)},[]);O.useLayoutEffect(()=>Im(d,t,y.current,R),[d]);const P=O.useMemo(()=>n.toString(),[n]),D=O.useMemo(()=>o.toString(),[o]),I=O.useMemo(()=>s.toString(),[s]),E=O.useMemo(()=>!!(d&&d.componentFromFramework&&Bf(d.componentClass)),[d]),k=O.useMemo(()=>r.get("reactiveCustomComponents"),[]),L=O.useMemo(()=>{if(d)if(k){const W=new qHe(d.params,()=>f(j=>j+1));return R(W),W}else d.componentFromFramework&&bk()},[d]),N=L==null?void 0:L.getProps(),B=d&&d.componentFromFramework,V=d&&d.componentClass;return ge.createElement("div",{ref:T,className:P,role:"gridcell"},ge.createElement("div",{ref:y,className:D,role:"presentation"},B&&!k&&ge.createElement(V,{...d.params,ref:E?()=>{}:R}),B&&k&&ge.createElement(Ck.Provider,{value:{setMethods:W=>L.setMethods(W)}},ge.createElement(V,{...N}))),ge.createElement("div",{ref:C,"aria-hidden":u,className:I,role:"presentation"},ge.createElement("button",{ref:w,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},lWe=O.memo(sWe),uWe=({ctrl:e})=>{const{context:t}=O.useContext(_n),[r,n]=O.useState(()=>new Qi),[i,o]=O.useState(()=>new Qi),[a,s]=O.useState("false"),[l,u]=O.useState(),[c,d]=O.useState(),h=O.useMemo(()=>e.column.getUniqueId(),[]),f=O.useRef(),g=O.useRef(null),m=O.useRef(null),y=O.useRef(null),C=O.useRef(),w=O.useCallback(D=>{if(g.current=D,f.current=D?t.createBean(new Of):t.destroyBean(f.current),!D)return;const I={setWidth:E=>{g.current&&(g.current.style.width=E)},addOrRemoveCssClass:(E,k)=>n(L=>L.setClass(E,k)),setHeaderWrapperHidden:E=>{const k=y.current;k&&(E?k.style.setProperty("display","none"):k.style.removeProperty("display"))},setHeaderWrapperMaxHeight:E=>{const k=y.current;k&&(E!=null?k.style.setProperty("max-height",`${E}px`):k.style.removeProperty("max-height"),k.classList.toggle("ag-header-cell-comp-wrapper-limited-height",E!=null))},setUserCompDetails:E=>d(E),setResizableDisplayed:E=>{o(k=>k.setClass("ag-hidden",!E)),s(E?"false":"true")},setAriaExpanded:E=>u(E),getUserCompInstance:()=>C.current||void 0};e.setComp(I,D,m.current,y.current,f.current)},[]);O.useLayoutEffect(()=>Im(c,t,y.current),[c]),O.useEffect(()=>{g.current&&e.setDragSource(g.current)},[c]);const S=O.useMemo(()=>!!((c==null?void 0:c.componentFromFramework)&&Bf(c.componentClass)),[c]),x=O.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),R=O.useMemo(()=>"ag-header-cell-resize "+i.toString(),[i]),T=c&&c.componentFromFramework,P=c&&c.componentClass;return ge.createElement("div",{ref:w,className:x,"col-id":h,role:"columnheader","aria-expanded":l},ge.createElement("div",{ref:y,className:"ag-header-cell-comp-wrapper",role:"presentation"},T&&S&&ge.createElement(P,{...c.params}),T&&!S&&ge.createElement(P,{...c.params,ref:C})),ge.createElement("div",{ref:m,"aria-hidden":a,className:R}))},cWe=O.memo(uWe),dWe=({ctrl:e})=>{const{context:t}=O.useContext(_n),{topOffset:r,rowHeight:n}=O.useMemo(()=>e.getTopAndHeight(),[]),i=e.getAriaRowIndex(),o=e.headerRowClass,[a,s]=O.useState(()=>n+"px"),[l,u]=O.useState(()=>r+"px"),c=O.useRef(null),d=O.useRef(null),[h,f]=O.useState(()=>e.getHeaderCtrls()),g=O.useRef(),m=O.useRef(null),y=O.useCallback(S=>{if(m.current=S,g.current=S?t.createBean(new Of):t.destroyBean(g.current),!S)return;const x={setHeight:R=>s(R),setTop:R=>u(R),setHeaderCtrls:(R,T,P)=>{d.current=c.current,c.current=R;const D=yk(d.current,R,T);D!==d.current&&mk(P,()=>f(D))},setWidth:R=>{m.current&&(m.current.style.width=R)}};e.setComp(x,g.current,!1)},[]),C=O.useMemo(()=>({height:a,top:l}),[a,l]),w=O.useCallback(S=>{switch(e.type){case"group":return ge.createElement(cWe,{ctrl:S,key:S.instanceId});case"filter":return ge.createElement(lWe,{ctrl:S,key:S.instanceId});default:return ge.createElement(aWe,{ctrl:S,key:S.instanceId})}},[]);return ge.createElement("div",{ref:y,className:o,role:"row",style:C,"aria-rowindex":i},h.map(w))},hWe=O.memo(dWe),fWe=({pinned:e})=>{const[t,r]=O.useState(!0),[n,i]=O.useState([]),{context:o}=O.useContext(_n),a=O.useRef(null),s=O.useRef(null),l=O.useRef(),u=e==="left",c=e==="right",d=!u&&!c,h=O.useCallback(m=>{if(a.current=m,l.current=m?o.createBean(new tFe(e)):o.destroyBean(l.current),!m)return;const y={setDisplayed:r,setCtrls:C=>i(C),setCenterWidth:C=>{s.current&&(s.current.style.width=C)},setViewportScrollLeft:C=>{a.current&&(a.current.scrollLeft=C)},setPinnedContainerWidth:C=>{a.current&&(a.current.style.width=C,a.current.style.minWidth=C,a.current.style.maxWidth=C)}};l.current.setComp(y,a.current)},[]),f=t?"":"ag-hidden",g=()=>n.map(m=>ge.createElement(hWe,{ctrl:m,key:m.instanceId}));return ge.createElement(ge.Fragment,null,u&&ge.createElement("div",{ref:h,className:"ag-pinned-left-header "+f,"aria-hidden":!t,role:"rowgroup"},g()),c&&ge.createElement("div",{ref:h,className:"ag-pinned-right-header "+f,"aria-hidden":!t,role:"rowgroup"},g()),d&&ge.createElement("div",{ref:h,className:"ag-header-viewport "+f,role:"presentation"},ge.createElement("div",{ref:s,className:"ag-header-container",role:"rowgroup"},g())))},LT=O.memo(fWe),pWe=()=>{const[e,t]=O.useState(()=>new Qi),[r,n]=O.useState(),{context:i}=O.useContext(_n),o=O.useRef(null),a=O.useRef(),s=O.useCallback(c=>{if(o.current=c,a.current=c?i.createBean(new Zke):i.destroyBean(a.current),!c)return;const d={addOrRemoveCssClass:(h,f)=>t(g=>g.setClass(h,f)),setHeightAndMinHeight:h=>n(h)};a.current.setComp(d,c,c)},[]),l=O.useMemo(()=>"ag-header "+e.toString(),[e]),u=O.useMemo(()=>({height:r,minHeight:r}),[r]);return ge.createElement("div",{ref:s,className:l,style:u,role:"presentation"},ge.createElement(LT,{pinned:"left"}),ge.createElement(LT,{pinned:null}),ge.createElement(LT,{pinned:"right"}))},gWe=O.memo(pWe),vWe=(e,t)=>{O.useEffect(()=>{const r=t.current;if(r){const n=r.parentElement;if(n){const i=document.createComment(e);return n.insertBefore(i,r),()=>{n.removeChild(i)}}}},[e])},tc=vWe,mWe=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new nr(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){wk(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},yWe=e=>{const t=O.useRef(e),r=O.useRef(),n=O.useRef(!1),i=O.useRef(!1),[,o]=O.useState(0);n.current&&(i.current=!0),O.useEffect(()=>(n.current||(r.current=t.current(),n.current=!0),o(a=>a+1),()=>{var a;i.current&&((a=r.current)==null||a.call(r))}),[])},CWe=e=>{const[t,r]=O.useState(),{context:n,popupSvc:i,localeSvc:o,gos:a,editSvc:s}=O.useContext(_n);return yWe(()=>{var T,P;const{editDetails:l,cellCtrl:u,eParentCell:c}=e,{compDetails:d}=l,h=a.get("stopEditingWhenCellsLoseFocus"),f=n.createBean(s.createPopupEditorWrapper(d.params)),g=f.getGui();if(e.jsChildComp){const D=e.jsChildComp.getGui();D&&g.appendChild(D)}const{column:m,rowNode:y}=u,C={column:m,rowNode:y,type:"popupCellEditor",eventSource:c,ePopup:g,position:l.popupPosition,keepWithinBounds:!0},w=i==null?void 0:i.positionPopupByComponent.bind(i,C),S=uK(o),x=i==null?void 0:i.addPopup({modal:h,eChild:g,closeOnEsc:!0,closedCallback:()=>{u.onPopupEditorClosed()},anchorToElement:c,positionCallback:w,ariaLabel:S("ariaLabelCellEditor","Cell Editor")}),R=x?x.hideFunc:void 0;return r(f),(P=(T=e.jsChildComp)==null?void 0:T.afterGuiAttached)==null||P.call(T),()=>{R==null||R(),n.destroyBean(f)}}),ge.createElement(ge.Fragment,null,t&&e.wrappedContent&&xb.createPortal(e.wrappedContent,t.getGui()))},P5=O.memo(CWe),wWe=(e,t,r,n,i,o)=>{const{context:a}=O.useContext(_n),s=O.useCallback(()=>{const l=i.current;if(!l)return;const u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),a.destroyBean(l),i.current=void 0},[]);O.useEffect(()=>{const l=e!=null,u=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,c=t&&r==null;if(!(l&&u&&!c)){s();return}const h=e.compDetails;if(i.current){const g=i.current,y=g.refresh!=null&&e.force==!1?g.refresh(h.params):!1;if(y===!0||y===void 0)return;s()}h.newAgStackInstance().then(g=>{if(!g)return;const m=g.getGui();if(!m)return;(t?r:o.current).appendChild(m),i.current=g})},[e,t,n]),O.useEffect(()=>s,[])},bWe=wWe,SWe=(e,t,r)=>{const{compProxy:n}=e;r(n);const i=n.getProps(),o=Bf(t);return ge.createElement(Ck.Provider,{value:{setMethods:a=>n.setMethods(a)}},o?ge.createElement(t,{...i}):ge.createElement(t,{...i,ref:a=>n.setRef(a)}))},D5=(e,t,r)=>{const n=e.compProxy;return ge.createElement(ge.Fragment,null,n?SWe(e,t,r):ge.createElement(t,{...e.compDetails.params,ref:r}))},xWe=(e,t,r,n,i)=>{const o=e.compDetails,a=o.componentClass,s=o.componentFromFramework&&!e.popup,l=o.componentFromFramework&&e.popup,u=!o.componentFromFramework&&e.popup;return ge.createElement(ge.Fragment,null,s&&D5(e,a,t),l&&ge.createElement(P5,{editDetails:e,cellCtrl:n,eParentCell:r,wrappedContent:D5(e,a,t)}),u&&i&&ge.createElement(P5,{editDetails:e,cellCtrl:n,eParentCell:r,jsChildComp:i}))},RWe=(e,t,r,n,i,o,a)=>{const{compDetails:s,value:l}=e,u=!s,c=s&&s.componentFromFramework,d=s&&s.componentClass,h=l!=null&&l.toString?l.toString():l,f=()=>ge.createElement(ge.Fragment,null,u&&ge.createElement(ge.Fragment,null,h),c&&!o&&ge.createElement(d,{...s.params,key:t,ref:n}),c&&o&&ge.createElement(d,{...s.params,key:t}));return ge.createElement(ge.Fragment,null,i?ge.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:a},f()):f())},_We=({cellCtrl:e,printLayout:t,editingRow:r})=>{const{context:n}=O.useContext(_n),{colIdSanitised:i,instanceId:o}=e,a=O.useRef(),[s,l]=O.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[u,c]=O.useState(),[d,h]=O.useState(1),[f,g]=O.useState(),[m,y]=O.useState(!1),[C,w]=O.useState(!1),[S,x]=O.useState(!1),[R,T]=O.useState(),P=O.useMemo(()=>e.isForceWrapper(),[e]),D=O.useMemo(()=>e.getCellAriaRole(),[e]),I=O.useRef(null),E=O.useRef(null),k=O.useRef(),L=O.useRef(),N=O.useRef(),B=O.useRef([]),V=O.useRef(),[W,j]=O.useState(0),G=O.useCallback(Z=>{V.current=Z,j(fe=>fe+1)},[]),$=s!=null&&(m||S||C),K=P||$,H=O.useCallback(Z=>{if(L.current=Z,Z){const fe=Z.isCancelBeforeStart&&Z.isCancelBeforeStart();setTimeout(()=>{fe?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),U=O.useRef();U.current||(U.current=new Tm(()=>I.current)),bWe(s,K,V.current,W,k,I);const ne=O.useRef();O.useLayoutEffect(()=>{var Oe;const Z=ne.current,fe=s;if(ne.current=s,Z==null||Z.compDetails==null||fe==null||fe.compDetails==null)return;const de=Z.compDetails,pe=fe.compDetails;if(de.componentClass!=pe.componentClass||((Oe=E.current)==null?void 0:Oe.refresh)==null)return;E.current.refresh(pe.params)!=!0&&h(Ge=>Ge+1)},[s]),O.useLayoutEffect(()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const fe=u.compDetails,de=u.popup===!0,pe=fe.newAgStackInstance();return pe.then(Ae=>{if(!Ae)return;const Oe=Ae.getGui();if(H(Ae),!de){const Ge=(P?N:I).current;Ge==null||Ge.appendChild(Oe),Ae.afterGuiAttached&&Ae.afterGuiAttached()}T(Ae)}),()=>{pe.then(Ae=>{var Ge;const Oe=Ae.getGui();n.destroyBean(Ae),H(void 0),T(void 0),(Ge=Oe==null?void 0:Oe.parentElement)==null||Ge.removeChild(Oe)})}},[u]);const oe=O.useCallback(Z=>{if(N.current=Z,!Z){B.current.forEach(de=>de()),B.current=[];return}const fe=de=>{if(de){const pe=de.getGui();Z.insertAdjacentElement("afterbegin",pe),B.current.push(()=>{n.destroyBean(de),Nc(pe)})}return de};if(m){const de=e.createSelectionCheckbox();fe(de)}S&&fe(e.createDndSource()),C&&fe(e.createRowDragComp())},[e,n,S,C,m]),he=O.useCallback(Z=>{if(I.current=Z,a.current=Z?n.createBean(new Of):n.destroyBean(a.current),!Z||!e)return;const fe={addOrRemoveCssClass:(pe,Ae)=>U.current.addOrRemoveCssClass(pe,Ae),setUserStyles:pe=>g(pe),getFocusableElement:()=>I.current,setIncludeSelection:pe=>y(pe),setIncludeRowDrag:pe=>w(pe),setIncludeDndSource:pe=>x(pe),getCellEditor:()=>L.current||null,getCellRenderer:()=>E.current??k.current,getParentOfValue:()=>V.current??N.current??I.current,setRenderDetails:(pe,Ae,Oe)=>{l(Ge=>(Ge==null?void 0:Ge.compDetails)!==pe||(Ge==null?void 0:Ge.value)!==Ae||(Ge==null?void 0:Ge.force)!==Oe?{value:Ae,compDetails:pe,force:Oe}:Ge)},setEditDetails:(pe,Ae,Oe,Ge)=>{if(pe){let st;Ge?st=new mWe(pe.params,()=>h(Ft=>Ft+1)):pe.componentFromFramework&&bk(),c({compDetails:pe,popup:Ae,popupPosition:Oe,compProxy:st}),Ae||l(void 0)}else c(st=>{st!=null&&st.compProxy&&(L.current=void 0)})}},de=N.current||void 0;e.setComp(fe,Z,de,t,r,a.current)},[]),xe=O.useMemo(()=>{var fe;return!!(((fe=s==null?void 0:s.compDetails)==null?void 0:fe.componentFromFramework)&&Bf(s.compDetails.componentClass))},[s]);O.useLayoutEffect(()=>{I.current&&(U.current.addOrRemoveCssClass("ag-cell-value",!K),U.current.addOrRemoveCssClass("ag-cell-inline-editing",!!u&&!u.popup),U.current.addOrRemoveCssClass("ag-cell-popup-editing",!!u&&!!u.popup),U.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!u||!!u.popup),e.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.editing&&I.current.focus({preventScroll:!0}))});const Be=()=>ge.createElement(ge.Fragment,null,s!=null&&RWe(s,d,o,E,K,xe,G),u!=null&&xWe(u,H,I.current,e,R)),ee=O.useCallback(()=>e.onFocusOut(),[]);return ge.createElement("div",{ref:he,style:f,role:D,"col-id":i,onBlur:ee},K?ge.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:oe},Be()):Be())},TWe=O.memo(_We),PWe=({rowCtrl:e,containerType:t})=>{const{context:r,gos:n}=O.useContext(_n),i=O.useRef(),o=O.useRef(e.getDomOrder()),a=e.isFullWidth(),s=e.rowNode.displayed,[l,u]=O.useState(()=>s?e.rowNode.getRowIndexString():null),[c,d]=O.useState(()=>e.rowId),[h,f]=O.useState(()=>e.businessKey),[g,m]=O.useState(()=>e.rowStyles),y=O.useRef(null),C=O.useRef(null),[w,S]=O.useState(()=>null),[x,R]=O.useState(),[T,P]=O.useState(()=>s?e.getInitialRowTop(t):void 0),[D,I]=O.useState(()=>s?e.getInitialTransform(t):void 0),E=O.useRef(null),k=O.useRef(),L=O.useRef(!1),[N,B]=O.useState(0);O.useEffect(()=>{var he;if(L.current||!x||N>10)return;const oe=(he=E.current)==null?void 0:he.firstChild;oe?(e.setupDetailRowAutoHeight(oe),L.current=!0):B(xe=>xe+1)},[x,N]);const V=O.useRef();V.current||(V.current=new Tm(()=>E.current));const W=O.useCallback(oe=>{if(E.current=oe,i.current=oe?r.createBean(new Of):r.destroyBean(i.current),!oe){e.unsetComp(t);return}if(!e.isAlive())return;const he={setTop:P,setTransform:I,addOrRemoveCssClass:(xe,Be)=>V.current.addOrRemoveCssClass(xe,Be),setDomOrder:xe=>o.current=xe,setRowIndex:u,setRowId:d,setRowBusinessKey:f,setUserStyles:m,setCellCtrls:(xe,Be)=>{C.current=y.current,y.current=xe;const ee=yk(C.current,xe,o.current);ee!==C.current&&mk(Be,()=>S(ee))},showFullWidth:xe=>R(xe),getFullWidthCellRenderer:()=>k.current,refreshFullWidth:xe=>H.current?(R(Be=>({...Be,params:xe()})),!0):!k.current||!k.current.refresh?!1:k.current.refresh(xe())};e.setComp(he,oe,t,i.current)},[]);O.useLayoutEffect(()=>Im(x,r,E.current,k),[x]);const j=O.useMemo(()=>{const oe={top:T,transform:D};return Object.assign(oe,g),oe},[T,D,g]),G=a&&(x==null?void 0:x.componentFromFramework),$=!a&&w!=null,K=O.useMemo(()=>!!((x==null?void 0:x.componentFromFramework)&&Bf(x.componentClass)),[x]),H=O.useRef(!1);O.useEffect(()=>{H.current=K&&!!x&&!!n.get("reactiveCustomComponents")},[K,x]);const U=()=>w==null?void 0:w.map(oe=>ge.createElement(TWe,{cellCtrl:oe,editingRow:e.editing,printLayout:e.printLayout,key:oe.instanceId})),ne=()=>{const oe=x.componentClass;return ge.createElement(ge.Fragment,null,K?ge.createElement(oe,{...x.params}):ge.createElement(oe,{...x.params,ref:k}))};return ge.createElement("div",{ref:W,role:"row",style:j,"row-index":l,"row-id":c,"row-business-key":h},$&&U(),G&&ne())},DWe=O.memo(PWe),AWe=({name:e})=>{const{context:t}=O.useContext(_n),r=O.useMemo(()=>yh(e),[e]),n=O.useRef(null),i=O.useRef(null),o=O.useRef([]),a=O.useRef([]),[s,l]=O.useState(()=>[]),u=O.useRef(!1),c=O.useRef(),d=O.useMemo(()=>To(r.viewport),[r]),h=O.useMemo(()=>To(r.container),[r]),f=r.type==="center",g=f?n:i;tc(" AG Row Container "+e+" ",g);const m=O.useCallback(()=>f?n.current!=null&&i.current!=null:i.current!=null,[]),y=O.useCallback(()=>f?n.current==null&&i.current==null:i.current==null,[]),C=O.useCallback(()=>{if(y()&&(c.current=t.destroyBean(c.current)),m()){const R=P=>{const D=yk(a.current,o.current,u.current);D!==a.current&&(a.current=D,mk(P,()=>l(D)))},T={setHorizontalScroll:P=>{n.current&&(n.current.scrollLeft=P)},setViewportHeight:P=>{n.current&&(n.current.style.height=P)},setRowCtrls:({rowCtrls:P,useFlushSync:D})=>{const I=!!D&&o.current.length>0&&P.length>0;o.current=P,R(I)},setDomOrder:P=>{u.current!=P&&(u.current=P,R(!1))},setContainerWidth:P=>{i.current&&(i.current.style.width=P)},setOffsetTop:P=>{i.current&&(i.current.style.transform=`translateY(${P})`)}};c.current=t.createBean(new Vke(e)),c.current.setComp(T,i.current,n.current)}},[m,y]),w=O.useCallback(R=>{i.current=R,C()},[C]),S=O.useCallback(R=>{n.current=R,C()},[C]),x=()=>ge.createElement("div",{className:h,ref:w,role:"rowgroup"},s.map(R=>ge.createElement(DWe,{rowCtrl:R,containerType:r.type,key:R.instanceId})));return ge.createElement(ge.Fragment,null,f?ge.createElement("div",{className:d,ref:S,role:"presentation"},x()):x())},IWe=O.memo(AWe),EWe=()=>{const e=O.useContext(_n),{context:t,overlays:r}=e,[n,i]=O.useState(""),[o,a]=O.useState(0),[s,l]=O.useState(0),[u,c]=O.useState("0px"),[d,h]=O.useState("0px"),[f,g]=O.useState("100%"),[m,y]=O.useState("0px"),[C,w]=O.useState("0px"),[S,x]=O.useState("100%"),[R,T]=O.useState(""),[P,D]=O.useState(""),[I,E]=O.useState(null),[k,L]=O.useState(""),[N,B]=O.useState(null),[V,W]=O.useState("ag-layout-normal"),j=O.useRef();j.current||(j.current=new Tm(()=>G.current));const G=O.useRef(null),$=O.useRef(null),K=O.useRef(null),H=O.useRef(null),U=O.useRef(null),ne=O.useRef(null),oe=O.useRef(null),he=O.useRef([]),xe=O.useRef([]);tc(" AG Grid Body ",G),tc(" AG Pinned Top ",$),tc(" AG Sticky Top ",K),tc(" AG Middle ",ne),tc(" AG Pinned Bottom ",oe);const Be=O.useCallback(Lt=>{if(G.current=Lt,!Lt){he.current=t.destroyBeans(he.current),xe.current.forEach(Bt=>Bt()),xe.current=[];return}if(!t)return;const Vn=(Bt,tn)=>{Bt.appendChild(tn),xe.current.push(()=>Bt.removeChild(tn))},li=Bt=>{const tn=t.createBean(new Bt);return he.current.push(tn),tn},Ti=(Bt,tn,iu)=>{Vn(Bt,document.createComment(iu)),Vn(Bt,li(tn).getGui())};Ti(Lt,Uke," AG Fake Horizontal Scroll ");const Vf=r==null?void 0:r.getOverlayWrapperCompClass();Vf&&Ti(Lt,Vf," AG Overlay Wrapper "),U.current&&Ti(U.current,jke," AG Fake Vertical Scroll ");const Em={setRowAnimationCssOnBodyViewport:i,setColumnCount:Bt=>{G.current&&bIe(G.current,Bt)},setRowCount:Bt=>{G.current&&CIe(G.current,Bt)},setTopHeight:a,setBottomHeight:l,setStickyTopHeight:c,setStickyTopTop:h,setStickyTopWidth:g,setTopDisplay:T,setBottomDisplay:D,setColumnMovingCss:(Bt,tn)=>j.current.addOrRemoveCssClass(Bt,tn),updateLayoutClasses:W,setAlwaysVerticalScrollClass:E,setPinnedTopBottomOverflowY:L,setCellSelectableCss:(Bt,tn)=>B(tn?Bt:null),setBodyViewportWidth:Bt=>{ne.current&&(ne.current.style.width=Bt)},registerBodyViewportResizeListener:Bt=>{if(ne.current){const tn=Os(e,ne.current,Bt);xe.current.push(()=>tn())}},setStickyBottomHeight:y,setStickyBottomBottom:w,setStickyBottomWidth:x,setGridRootRole:Bt=>Lt.setAttribute("role",Bt)},id=t.createBean(new $ke);he.current.push(id),id.setComp(Em,Lt,ne.current,$.current,oe.current,K.current,H.current)},[]),ee=O.useMemo(()=>To("ag-root","ag-unselectable",V),[V]),Z=O.useMemo(()=>To("ag-body-viewport",n,V,I,N),[n,V,I,N]),fe=O.useMemo(()=>To("ag-body",V),[V]),de=O.useMemo(()=>To("ag-floating-top",N),[N]),pe=O.useMemo(()=>To("ag-sticky-top",N),[N]),Ae=O.useMemo(()=>To("ag-sticky-bottom",m==="0px"?"ag-hidden":null,N),[N,m]),Oe=O.useMemo(()=>To("ag-floating-bottom",N),[N]),Ge=O.useMemo(()=>({height:o,minHeight:o,display:R,overflowY:k}),[o,R,k]),st=O.useMemo(()=>({height:u,top:d,width:f}),[u,d,f]),Ft=O.useMemo(()=>({height:m,bottom:C,width:S}),[m,C,S]),fr=O.useMemo(()=>({height:s,minHeight:s,display:P,overflowY:k}),[s,P,k]),sr=Lt=>ge.createElement(IWe,{name:Lt,key:`${Lt}-container`}),lr=({section:Lt,children:Vn,className:li,style:Ti})=>ge.createElement("div",{ref:Lt,className:li,role:"presentation",style:Ti},Vn.map(sr));return ge.createElement("div",{ref:Be,className:ee},ge.createElement(gWe,null),lr({section:$,className:de,style:Ge,children:["topLeft","topCenter","topRight","topFullWidth"]}),ge.createElement("div",{className:fe,ref:U,role:"presentation"},lr({section:ne,className:Z,children:["left","center","right","fullWidth"]})),lr({section:K,className:pe,style:st,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),lr({section:H,className:Ae,style:Ft,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),lr({section:oe,className:Oe,style:fr,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},MWe=O.memo(EWe),kWe=(e,t)=>{const{children:r,eFocusableElement:n,onTabKeyDown:i,gridCtrl:o,forceFocusOutWhenTabGuardsAreEmpty:a}=e,{context:s}=O.useContext(_n),l=O.useRef(null),u=O.useRef(null),c=O.useRef(),d=y=>{const C=y==null?void 0:parseInt(y,10).toString();[l,u].forEach(w=>{var S,x;C===void 0?(S=w.current)==null||S.removeAttribute("tabindex"):(x=w.current)==null||x.setAttribute("tabindex",C)})};O.useImperativeHandle(t,()=>({forceFocusOutOfContainer(y){var C;(C=c.current)==null||C.forceFocusOutOfContainer(y)}}));const h=O.useCallback(()=>{const y=l.current,C=u.current;if(!y&&!C){c.current=s.destroyBean(c.current);return}if(y&&C){const w={setTabIndex:d};c.current=s.createBean(new FX({comp:w,eTopGuard:y,eBottomGuard:C,eFocusableElement:n,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:a,focusInnerElement:S=>o.focusInnerElement(S)}))}},[]),f=O.useCallback(y=>{l.current=y,h()},[h]),g=O.useCallback(y=>{u.current=y,h()},[h]),m=y=>{const C=y==="top"?zh.TAB_GUARD_TOP:zh.TAB_GUARD_BOTTOM;return ge.createElement("div",{className:`${zh.TAB_GUARD} ${C}`,role:"presentation",ref:y==="top"?f:g})};return ge.createElement(ge.Fragment,null,m("top"),r,m("bottom"))},FWe=O.forwardRef(kWe),LWe=O.memo(FWe),OWe=({context:e})=>{const[t,r]=O.useState(""),[n,i]=O.useState(""),[o,a]=O.useState(null),[s,l]=O.useState(null),[u,c]=O.useState(!1),[d,h]=O.useState(),f=O.useRef(),g=O.useRef(null),m=O.useRef(),[y,C]=O.useState(null),w=O.useRef(()=>{}),S=O.useRef(),x=O.useRef([]),R=O.useCallback(()=>{},[]),T=O.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);tc(" AG Grid ",g);const P=O.useCallback(L=>{if(g.current=L,f.current=L?e.createBean(new zFe):e.destroyBean(f.current),!L||e.isDestroyed())return;const N=f.current;w.current=N.focusInnerElement.bind(N);const B={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:V=>{var W,j;if(!V&&((W=S.current)!=null&&W.isDisplayed())){S.current.forceFocusOutOfContainer(V);return}(j=m.current)==null||j.forceFocusOutOfContainer(V)},updateLayoutClasses:i,getFocusableContainers:()=>{var j;const V=[],W=(j=g.current)==null?void 0:j.querySelector(".ag-root");return W&&V.push({getGui:()=>W}),x.current.forEach(G=>{G.isDisplayed()&&V.push(G)}),V},setCursor:a,setUserSelect:l};N.setComp(B,L,L),c(!0)},[]);O.useEffect(()=>{const L=f.current,N=g.current;if(!d||!T||!L||!y||!N)return;const B=[],{watermarkSelector:V,paginationSelector:W,sideBarSelector:j,statusBarSelector:G,gridHeaderDropZonesSelector:$}=L.getOptionalSelectors(),K=[];if($){const U=e.createBean(new $.component),ne=U.getGui();N.insertAdjacentElement("afterbegin",ne),K.push(ne),B.push(U)}if(j){const U=e.createBean(new j.component),ne=U.getGui(),oe=y.querySelector(".ag-tab-guard-bottom");oe&&(oe.insertAdjacentElement("beforebegin",ne),K.push(ne)),B.push(U),x.current.push(U)}const H=U=>{const ne=e.createBean(new U),oe=ne.getGui();return N.insertAdjacentElement("beforeend",oe),K.push(oe),B.push(ne),ne};if(G&&H(G.component),W){const U=H(W.component);S.current=U,x.current.push(U)}return V&&H(V.component),()=>{e.destroyBeans(B),K.forEach(U=>{var ne;(ne=U.parentElement)==null||ne.removeChild(U)})}},[d,y,T]);const D=O.useMemo(()=>To("ag-root-wrapper",t,n),[t,n]),I=O.useMemo(()=>To("ag-root-wrapper-body","ag-focus-managed",n),[n]),E=O.useMemo(()=>({userSelect:s??"",WebkitUserSelect:s??"",cursor:o??""}),[s,o]),k=O.useCallback(L=>{m.current=L,h(L!==null)},[]);return ge.createElement("div",{ref:P,className:D,style:E,role:"presentation"},ge.createElement("div",{className:I,ref:C,role:"presentation"},u&&y&&T&&ge.createElement(_n.Provider,{value:T},ge.createElement(LWe,{ref:k,eFocusableElement:y,onTabKeyDown:R,gridCtrl:f.current,forceFocusOutWhenTabGuardsAreEmpty:!0},ge.createElement(MWe,null)))))},NWe=O.memo(OWe),zWe=class extends ce{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},BWe={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0},Fq=new Set(Object.keys(BWe)),Lq=e=>{var y;const t=O.useRef(),r=O.useRef(null),n=O.useRef(null),i=O.useRef([]),o=O.useRef([]),a=O.useRef(e),s=O.useRef(),l=O.useRef(),u=O.useRef(!1),[c,d]=O.useState(void 0),[,h]=O.useState(0),f=O.useCallback(C=>{if(r.current=C,!C){i.current.forEach(k=>k()),i.current.length=0;return}const w=e.modules||[];n.current||(n.current=new iWe(()=>h(k=>k+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{var k;(k=n.current)==null||k.destroy(),n.current=null}));const S=tEe(e.gridOptions,e,Object.keys(e).filter(k=>!Fq.has(k))),x=()=>{if(u.current){const k=()=>{var N;return(N=s.current)!=null&&N.shouldQueueUpdates()?void 0:o.current.shift()};let L=k();for(;L;)L(),L=k()}},R=new WWe(x);s.current=R;const T=new zWe,P={providedBeanInstances:{frameworkCompWrapper:new GWe(n.current,S.reactiveCustomComponents??kNe("reactiveCustomComponents")??!0),renderStatus:T},modules:w,frameworkOverrides:R,setThemeOnGridDiv:!0},D=k=>{d(k),k.createBean(T),i.current.push(()=>{k.destroy()}),k.getBean("ctrlsSvc").whenReady({addDestroyFunc:L=>{i.current.push(L)}},()=>{var N;if(k.isDestroyed())return;const L=t.current;L&&((N=e.setGridApi)==null||N.call(e,L))})},I=k=>{k.getBean("ctrlsSvc").whenReady({addDestroyFunc:L=>{i.current.push(L)}},()=>{o.current.forEach(L=>L()),o.current.length=0,u.current=!0})},E=new LNe;S.gridId??(S.gridId=l.current),t.current=E.create(C,S,D,I,P),i.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),g=O.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),m=O.useCallback(C=>{var w;u.current&&!((w=s.current)!=null&&w.shouldQueueUpdates())?C():o.current.push(C)},[]);return O.useEffect(()=>{const C=VWe(a.current,e);a.current=e,m(()=>{t.current&&rEe(C,t.current)})},[e]),ge.createElement("div",{style:g,className:e.className,ref:f},c&&!c.isDestroyed()?ge.createElement(NWe,{context:c}):null,((y=n.current)==null?void 0:y.getPortals())??null)};function VWe(e,t){const r={};return Object.keys(t).forEach(n=>{if(Fq.has(n))return;const i=t[n];e[n]!==i&&(r[n]=i)}),r}var GWe=class extends YNe{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const i=(o=>{switch(o){case"filter":return XHe;case"floatingFilterComponent":return ZHe;case"dateComponent":return YHe;case"dragAndDropImageComponent":return KHe;case"loadingOverlayComponent":return QHe;case"noRowsOverlayComponent":return eWe;case"statusPanel":return tWe;case"toolPanel":return rWe;case"menuItem":return JHe;case"cellRenderer":return jHe}})(t.name);if(i)return new i(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":bk();break}const r=!t.cellRenderer&&t.name!=="toolPanel";return new Mq(e,this.parent,t,r)}},HWe=O.forwardRef((e,t)=>{const r=O.useContext(_n),{registry:n,context:i,gos:o,rowModel:a}=r,[s,l]=O.useState(()=>new Qi),[u,c]=O.useState(()=>new Qi),[d,h]=O.useState(),[f,g]=O.useState(),m=O.useRef(),y=O.useRef(null),C=O.useRef(),w=O.useMemo(()=>RMe(e.api.getGridId(),(d==null?void 0:d.rowModelType)??"clientSide"),[e]),S=O.useMemo(()=>s.toString()+" ag-details-row",[s]),x=O.useMemo(()=>u.toString()+" ag-details-grid",[u]);t&&O.useImperativeHandle(t,()=>({refresh(){var P;return((P=m.current)==null?void 0:P.refresh())??!1}})),e.template&&be(230);const R=O.useCallback(P=>{var E;if(y.current=P,!P){m.current=i.destroyBean(m.current),(E=C.current)==null||E.call(C);return}const D={addOrRemoveCssClass:(k,L)=>l(N=>N.setClass(k,L)),addOrRemoveDetailGridCssClass:(k,L)=>c(N=>N.setClass(k,L)),setDetailGrid:k=>h(k),setRowData:k=>g(k),getGui:()=>y.current},I=n.createDynamicBean("detailCellRendererCtrl",!0);if(I&&(i.createBean(I),I.init(D,e),m.current=I,o.get("detailRowAutoHeight"))){const k=()=>{if(y.current==null)return;const L=y.current.clientHeight;L!=null&&L>0&&setTimeout(()=>{e.node.setRowHeight(L),(vn(o)||Lf(o))&&a.onRowHeightChanged()},0)};C.current=Os(r,P,k),k()}},[]),T=O.useCallback(P=>{var D;(D=m.current)==null||D.registerDetailWithMaster(P)},[]);return ge.createElement("div",{className:S,ref:R},d&&ge.createElement(Lq,{className:x,...d,modules:w,rowData:f,setGridApi:T}))}),WWe=class extends LX{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:_5,agGroupRowRenderer:_5,agDetailCellRenderer:HWe},this.wrapIncoming=(t,r)=>r==="ensureVisible"?HHe(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return GHe()}},$We=class extends O.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return ge.createElement(Lq,{...this.props,setGridApi:this.setGridApi})}};_Me.registerModules([BHe]);const UWe=eq.withPart(s2e).withParams({backgroundColor:"black",foregroundColor:"white",browserColorScheme:"dark",rowHoverColor:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.1)",cellEditingBorderColor:"rgba(255, 255, 255, 0.1)",oddRowBackgroundColor:"rgba(255, 255, 255, 0.05)",accentColor:"white"}),jWe=()=>{const[e,t]=O.useState([{headerName:"User ID",field:"userId",sortable:!0,filter:!0,resizable:!0},{headerName:"Song",field:"song",sortable:!0,filter:!0,resizable:!0},{headerName:"Artist",field:"artist",sortable:!0,filter:!0,resizable:!0},{headerName:"Date",field:"date",sortable:!0,filter:!0,resizable:!0},{headerName:"Stream Count",field:"count",sortable:!0,filter:!0,resizable:!0}]),[r,n]=O.useState(Gi.recentStreams.map(i=>({userId:i.userId,song:i.song,artist:i.artist,date:i.date,count:i.count})));return J.jsx($i,{p:5,w:"100%",h:"500px",children:J.jsx($We,{animateRows:!0,pagination:!0,paginationAutoPageSize:!0,theme:UWe,rowData:r,columnDefs:e})})},YWe=()=>{const e=Gi.revenue.subscriptions+Gi.revenue.ads;return J.jsxs(Ab,{maxW:"container.xl",children:[J.jsxs(sa,{spacing:5,children:[J.jsxs(sa,{direction:{base:"column",md:"row"},spacing:5,children:[J.jsxs($i,{borderWidth:"1px",borderRadius:"md",flex:1,p:5,justifyItems:"center",children:[J.jsx(nc,{textAlign:"center",fontSize:"2xl",fontWeight:"bold",p:2,children:"Platform Metrics"}),J.jsxs(sa,{direction:{base:"column",sm:"row"},spacing:5,width:"100%",align:"center",children:[J.jsx(Ld,{label:"Total Users",value:Gi.totalUsers,info:"total number of registered users on the platform",indicator:"10%"}),J.jsx(Ld,{label:"Active Users",value:Gi.activeUsers,info:"number of users who have streamed at least one song in the last 30 days.",indicator:"5%"}),J.jsx(Ld,{label:"Total Streams",value:Gi.totalStreams,info:"total number of song streams on the platform.",indicator:"5%"})]})]}),J.jsxs($i,{borderWidth:"1px",borderRadius:"md",flex:1,p:5,justifyItems:"center",children:[J.jsx(nc,{textAlign:"center",fontSize:"2xl",fontWeight:"bold",p:2,children:"Monetization Metrics"}),J.jsxs(sa,{direction:{base:"column",sm:"row"},spacing:5,width:"100%",align:"center",children:[J.jsx(Ld,{label:"Revenue",value:e,info:"total revenue generated from subscriptions and advertisements",indicator:"12%"}),J.jsx(Ld,{label:"Subscriptions",value:Gi.revenue.subscriptions,info:"Revenue from subscriptions",indicator:"6%"}),J.jsx(Ld,{label:"Ads",value:Gi.revenue.ads,info:"Revenue from ads.",indicator:"8%"})]})]})]}),J.jsxs($i,{borderWidth:"1px",borderRadius:"md",p:5,children:[J.jsx(nc,{textAlign:"center",fontSize:"2xl",fontWeight:"bold",p:2,children:"Top Artists"}),J.jsx(sa,{direction:{base:"column",md:"row"},spacing:5,wrap:"wrap",justify:"space-between",children:Gi.topArtists.map((t,r)=>J.jsx(Fue,{src:t.albumCover,title:t.name,description:t.mostPopularSong,badges:t.genre},r))})]})]}),J.jsx(sa,{spacing:5,mt:5,children:J.jsxs(sa,{direction:{base:"column",md:"row"},spacing:5,children:[J.jsx($i,{flex:1,borderWidth:"1px",borderRadius:"md",p:5,children:J.jsx(lIe,{})}),J.jsx($i,{flex:1,borderWidth:"1px",borderRadius:"md",p:5,children:J.jsx(uIe,{})}),J.jsx($i,{flex:1,borderWidth:"1px",borderRadius:"md",p:5,children:J.jsx(cIe,{})})]})}),J.jsx(sa,{spacing:5,mt:5,children:J.jsxs($i,{borderWidth:"1px",borderRadius:"md",p:5,children:[J.jsx(nc,{textAlign:"center",fontSize:"2xl",fontWeight:"bold",p:2,children:"Recent Streams"}),J.jsx(jWe,{})]})})]})},KWe=()=>J.jsx(Ab,{py:"10",children:J.jsx(YWe,{})});function XWe(){return J.jsxs($i,{children:[J.jsx(Iue,{}),J.jsx(KWe,{}),J.jsx(Due,{})]})}VQ.createRoot(document.getElementById("root")).render(J.jsx(O.StrictMode,{children:J.jsx(_ue,{children:J.jsx(XWe,{})})}));
